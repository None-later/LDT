Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2018-03-22T20:42:48-04:00

====== Mail server ======
Created Thursday 22 March 2018

===== ROLE Practice answer =====
yum install postifx -y  # not needed, but good habit.
<System stuff>
<Firewall firewall>
<make backup of config file in case u mess it up>
vim /etc/postfix/main.cf
  myhostname = server1.example.com
  mydomain = example.com
  myorigin = desktop1.example.com
  inet_interfaces = loopback-only
  mydestination = 
  local_transport = error:local mail delivery id disabled  (1*)
  mynetworks = 127.0.0.0/8 [::1]/128
  relayhost = [smtp1.example.com]

(1) cd /usr/share/doc/postfix*/ && grep local_transport  <find line in output, copy & paste>

postfix check  #verify config.

mail <ADDRESSS>
> subject 
> msg
> .    #end of msg

postqueue -p  # print queue
# if this is empty, email was sent.
#postqueue -f   #if you had bad config, you can fix and try to flush queue

mutt -f imaps://imap1.example.com
  student/student
  <check that your message is in the mailbox>

lab smtp-nullclient grade  #on server & client.

===== Exam2 Answer: =====
############
System1 & system2:
[root@ system1 ~]# yum install postfix* -y
[root@ system1 ~]# firewall-cmd –permanent –add-service=smtp
[root@ system1 ~]# firewall-cmd –reload
[root@ system1 ~]# systemctl restart postfix.service
[root@ system1 ~]# systemctl enable postfix.service
[root@ system1 ~]# vim /etc/postfix/main.cf
					Line No 99  : (Remove # ) myorigin = district10.example.com
					Line No 116 : inet_interfaces = loopback-only
					Line No 164 : mydestination =
					Line No 317 : (Remove # ) relayhost = [station.network0.example.com]
[root@ system1 ~]# systemctl restart postfix.service
[root@ system1 ~]# mail -s “HAI” clarke
This is test mail
.
EOT

To Verify
Click the above Links


===== Exam 1 Raw Q & A: =====
Qsn14. MAIL service
- Configure mail on both system1 and system2
- the system do not accept incoming email from external resources 
- any mail send locally on these system is automatically routed to server1.groupx.example.com
- mail sent from these systems show up as coming from groupx.example.com
- you may test your configuration by sending eamil to the local user arthur
- the system server1.groupx.example.com has been configured drop email for this user into
http://server1.groupx.example.com/recieved_mail/11

Ans:- (Same thing on both systems SYSTEM1 and SYSTEM2)
#yum -y install postfix*
#vim /etc/postfix/mainf.cf
inet_interfaces = localhost
Mydestination =
Relayhost = [server1.groupX.example.com]
Mynetwork = 127.0.0.0/8
Myorigin = groupX.example.com
#systemctl restart postfix
#systemctl enable postfix
#firewall-cmd --permanent --add-service=smtp
#firewall-cmd --complete-reload
#mail arthur
(for checking mail click on this link
http://server1.groupX.example.com/recieved_mail/11)
