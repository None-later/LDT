Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2018-03-18T20:34:40-04:00

====== Questions for practice (adopted for lab) ======
Created Sunday 18 March 2018
src: http://shuvhashiscse06.blogspot.ca/2017/10/rhce-7-exam-preparation-and-question.html

====== Exam Info ======

==== Exam config ====
  Domain Name:
	System1: system1.district10.example.com use as Server
	System2: system2.district10.example.com use as Client
  IP Address:
	System1:172.24.10.110/24
	System1:172.24.10.120/24
  Name Server: 172.24.10.250
  Gateway:172.24.10.254
  Root password : zaldebro
  Your Domain: district10.example.com
  Your Subnet : 172.24.10.0/255.255.255.0    (means /24   *1)
  Yum path   http://station.district0.example.com/content/rhel7.0/x86_64/dvd
  my133ilt.org has  (172.25.70.0/255.255.0.0) (-> /16 ?)
  [1] Note:(for this subnetmask CIDR value is /24, as counted bits from left.

==== SSH into VM's from host ====
	On kiosk, virtual machines are slow as you connect to them via VNC.
	To speed things up, you can connect to the VM's via ssh:
	
	ssh -X root@system1.district10.example.com      #-X is for GUI apps to run over ssh.
	ssh -X root@system2.district10.example.com
	
	(The prep guide suggests to mask iptables.
	 But I don't think it's needed as you don't even have the services installed).


===== Advice and wisdom =====
'only district10.domain*' usually means 172.24.10.0/24

====== System config ======

===== (!85%) Add repository .. =====

For practice: (Options to practice)
a) On ROLE:
- rename existing repo
- Add repo http://content.example.com/rhel7.0/x86_64

b) (if not available) Cent os:
My Cent OS vm with 'Repo Practice snapshot' (need to enable network).
contains 'base.repoBACKUP' file in case you forget something.
http://mirror.centos.org/centos/$releasever/updates/$basearch/

(On Exam: System1 & System2)

Answ [[System Config:Adding repo]]


===== (90%) SELinux =====
@ VM
Enable SE linux
Answ: [[System Config:SE Linux]]


===== (85%) SSH Configuration =====
@ 2 VMs
-Clients within my133ilt.org should NOT have access to ssh on your systems
-Clients with domain district10.example.com should be able to access the systems
in my case  my133ilt.org has  (172.25.70.0/255.255.0.0)

Answ: [[System Config:SSH Configuration]]

===== (95%) Firewall & Port forwarding (Q4) =====
@ Host & a vm | 2 vms.
- Configure system1 to forward traffic incoming on port 80/tcp from source network 172.24.X.0/255.255.255.0  to port on 5243/tcp
@ to test self: setup httpd on 5243. Configure firewall. Test from another vm.
Answ: [[System Config:firewall (4)]]


===== (90%) User Environment (q5) =====
@ VM
- Create a command called qstat on both system1 and system2. 
- It should able to execute the following command(
   ps eo pid,tid,class,rtprio,ni,pri,psr,pcpu,stat,wchan:14,comm
- The command should be executable by all users..
Answ: [[System Config:User Environment]]

===== (96%) IPv6 Connection (q6) =====
@ VM
- Configure eth0 with a static ipv6 addresses as follows.
- Configure a static IPV6 address in system1 as fddb:fe2a:ab1e::c0a8:64/64
- Configure a static IPV6 address in system2 as fddb:fe2a:ab1e::c0a8:02/64
- Both machines are able to communicate within the network fddb:fe2a:able/64
- The changes should be permanent even after the reboot
Answ: [[System Config:ip6 config]]

===== (90%) Link aggregation (q7) =====
@ 2 VMs -> add 2 Network adapters with mode 'internal network'.
Configure your system1 and system2, which watches for link changes and selects an active port for data transfers. 
System1 should have the address as 172.24.10.10/255.255.255.0
System2 should have the address as 172.24.10.20/255.255.255.0

Answ: [[System Config:Link Aggregation]]

====== Topics ======

===== (90%) Mail Server - SMTP Configuration (q8) =====
Exam:
Configure the SMTP mail service on system1 and system2 
- which relay the mail only from local system through station.network0.example.com, 
- all outgoing mail have their sender domain as district10.example.com. 
- Verify the mail server is working by sending mail to a local user clarke.
- Check the mail on both system1 and system2 with the below URL
http://rhcert.district0.example.com

For practice:
server/desktop: lab smtp-nullclient setup
- Configure server1:
- relay via: smtpX.example.com
- Should have origin of desktop1.example.com
- Send mail student/student.
  To: student@desktop1.example.com
  Subject: server1 null client
  Content: null client test
- Verify mail received. imap1.example.com

Notes:
Answ: [[Topics:Mail server]]

===== (85%) NFS (q9/q10) =====
Exam objectives
**Server (q10):**
Configure system1 with the following requirements.  
-   Share the /nfsshare directory within the district10.example.com domain clients only, share must not be writable.

- Share the /nfssecure, enable krb5p security to secure access to the NFS share from URI
​​http://station.network0.example.com/pub/keytabs/system1.keytab 
- Create a directory named as protected under /nfssecure  
- The exported directory should have read/write access from all subdomains of the example.com domain.  
- Ensure the directory /nfssecure/protected should be owned by the user harry with read/write permission.

**mount (q11):**
- Mount /nfsshare directory on system2 under /public directory persistently at system boot time. 
- Mount /nfssecure 
- Mount /nfssecure/protected with krb5p secured share on system2 beneath /secure/protected provided with keytab 
http://station.network0.example.com/pub/keytabs/system2.keytab
- The user harry able to write files on /secure directory

ROLE details for practice:
- **lab nfskrb5 setup**  # setups kerberos servers for testing.
- Domain: example.com
- Keytabs:
	http://classroom.example.com/pub/keytabs/server1.keytab
	http://classroom.example.com/pub/keytabs/desktop1.keytab
- Instead of 'harry', use kerberos user: **ldapuser1**/kerberos  (for protected)

Answ: [[Topics:NFS]]

===== (90%) Samba (Q11 & Q12) =====
@ ROLE w/o lab setup.

11. **Smb access**
Share the /sambadir directory via SMB on system1  
Your SMB server must be a member of the STAFF workgroup  
The share name must be data.
The data share must be available to district10.example.com domain clients only  
The data share must be browseable.
Susan must have read access to the share, authenticating with the same password “password”, if necessary.

**12.SAMBA Mount**
- On System1, share folder /opstack with a share name 'cluster'.
- The ***Group***[typo] frankenstein has readable,writeable,accessible to the /opstack SMB share.  
- The user martin has read access to the /opstack SMB share.  Both users should have the SMB passwd "SaniTago".
- The share must be browseable
- Mount the samba share /opstack permanently beneath /mnt/smbspace on system2 as a **multiuser** mount.  
- The samba share should be mounted with the credentials of martin.

[[Topics:Samab]]
















===== Maria DB =====
 - Install Mariadb 
 - Create 'legacy' database
 - Restore dump http://classroom.example.com/materials/mariadb/mariadb.dump  (src: Lab)
 - The database should be accessible locally only.
 - other than the root user, the database only allow queries from the user raikon. 
 - this user should have the password zaldebro
 - the root user should have password zaldebro and must not be allowed to log in without using a password
 
Query: find out how many products are manufactured by Sony.
Question: Where is the data dir? (In case you need to re-install).

Answer: [[Topics:MariaDB]]


===== [] ISCSI Storage (q21) =====
[ ] try this on the vm again.
**ISCSI Target:**
-  Create a new 3GB target on your system1.district10.example.com.
-  The logical block name should be lvm The server should export an iscsi disk
   called iqn.2015-12.com.example.district10:system1
-  This target should only be allowed  only be allowed to system2

**ISCSI Initiator:**    
-The system1 provides an iscsi port(3260).
-connect the disk with system2.district10.example.com and configure filesystem with the following requirements.
-Create 2040 MB partition on ISCSI block device and assign the file system as ext3 (**fix**: ext4)
-Mount the volume under /mnt/initiator at the system boot time.

**For Practice:**
2015-12.com.example : server1    #no spaces
2015-12.com.example : desktop1  




Note:
- a 3GB logical volume will require a partition that is slightly bigger. (4G?)
type 8e
