**** BEGIN LOGGING AT Mon Jul 25 15:35:58 2016

Jul 25 15:35:58 *	Now talking on #gtk+
Jul 25 15:35:58 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 25 15:35:58 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 25 15:36:27 *	rendar has quit (Ping timeout: 188 seconds)
Jul 25 15:39:17 *	vampi-the-frog has quit (Quit: Leaving)
Jul 25 15:40:48 *	karlt (karl@2406:e007:6fa7:1:740d:7e7d:3ec1:3122) has joined
Jul 25 15:41:16 *	lufimtse has quit (Quit: Leaving)
Jul 25 15:42:05 *	tobias47n9e has quit (Ping timeout: 182 seconds)
Jul 25 15:44:18 <lufimtse_>	Hello, as I understand, the newer gtk versions support keybindings via css with: " -gtk-key-bindings". Do you know when this property was introduced? (3.20?), was there something similar before?
Jul 25 15:44:36 *	aday_ has quit (Input/output error)
Jul 25 15:45:07 *	aday_ (aday@host86-177-60-187.range86-177.btcentralplus.com) has joined
Jul 25 15:46:09 <baedert>	that's from 3.0 even afaik
**** ENDING LOGGING AT Mon Jul 25 15:57:11 2016

**** BEGIN LOGGING AT Mon Jul 25 15:57:11 2016

**** ENDING LOGGING AT Mon Jul 25 15:59:49 2016

**** BEGIN LOGGING AT Mon Jul 25 15:59:49 2016

**** ENDING LOGGING AT Mon Jul 25 16:00:38 2016

**** BEGIN LOGGING AT Mon Jul 25 16:00:38 2016

Jul 25 16:13:51 *	aday is now known as aday_
**** BEGIN LOGGING AT Mon Jul 25 16:51:53 2016

Jul 25 16:51:53 *	Now talking on #gtk+
Jul 25 16:51:53 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 25 16:51:53 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 25 19:19:37 *	skybon_ is now known as skybon
Jul 25 19:25:38 *	aday is now known as aday_
Jul 25 20:03:37 <Creak>	hi!
Jul 25 20:04:10 <Creak>	I'd like to do this kind of layout, but I don't know what's the best way to achieve this: https://www.reddit.com/r/GTK/comments/4ulncl/gtkdev_best_way_to_achieve_this_layout/
Jul 25 20:05:03 <Creak>	my main problem is the width of the cells. First the Grid has to take the whole window, which doesn't seem to work :/
Jul 25 20:05:16 <Creak>	then the two panes must be of the same width
**** ENDING LOGGING AT Mon Jul 25 20:05:21 2016

**** BEGIN LOGGING AT Mon Jul 25 20:05:21 2016

Jul 25 20:05:34 <Creak>	I simply don't know how to achieve that kind of layout
Jul 25 20:06:05 <Creak>	I figured that maybe someone may know better here ;)
Jul 25 20:17:10 *	abono___ is now known as abono__
Jul 25 20:22:19 *	abono___ is now known as abono__
Jul 25 20:29:31 *	ChanServ gives channel operator status to ebassi
Jul 25 20:40:37 <Company>	Creak: i assume you're not using a scrolledwindow for managing the scrollbar?
Jul 25 20:42:26 <Company>	Creak: because then the answer is to put the 2 text panes into a grid with column-homogeneous = true and then put the grid and the scrollbar into a box
Jul 25 20:46:10 <Creak>	the problem would be for the headers and footers, they must be respectively above and under each pane, but the scrollbar on the right should be the size of the pane without the header and footer
Jul 25 20:46:45 <Creak>	otherwise the scrollbar would seem to include these components which would be quite strange
Jul 25 20:47:21 <Creak>	I tested with a Gtk.Grid and setting the pane to hexpand
Jul 25 20:48:00 <Creak>	it seems to work, but the problem I'm afraid of is that I don't know if both pane will keep the same width all the time
Jul 25 21:35:53 <Creak>	I've got another question. Say you're doing a special widget that is basically an HBox but with specific buttons for your app. Is it better to derive your class from Gtk.Widget and then add an Gtk.HBox or to derive directly from HBox?
Jul 25 21:48:14 <benwaffle>	Creak: you should use Gtk.Box instead of VBox and HBox
Jul 25 21:50:09 <Creak>	yup, I'm already using it, but it was just the habit ;)
Jul 25 22:06:15 <Creak>	my problem now is that my headerbar is taking too much space when the label in it is too long... how can I fix the label width?
Jul 25 22:07:13 <hergertme>	set max-width-chars to something reasonable and/or ellipsize = PANGO_ELLIPSIZE_*
Jul 25 22:21:08 <Creak>	I set ellipsize to MIDDLE, but it didn't change
Jul 25 22:21:16 <Creak>	I'll try max-width-charws
Jul 25 22:23:44 <Creak>	nope... doesn't work...
Jul 25 22:24:22 <Creak>	urgh that's so frustrating to be that close to something that works exactly how you'd expect!
Jul 25 22:55:38 <Creak>	Should I use the "map" or "map-event" signals to prevent my Grid to allocate too much space to the first row cells?
Jul 25 23:30:04 <Creak>	here is an example: http://pastebin.com/P75agP9T
Jul 25 23:32:58 <Creak>	I'd like button1 and button2 to be the same width, and label1 to be the same width as button1. But there, since label1 is way larger than both button1, label1 wins and it is setting the width for the whole column
Jul 26 00:08:39 <Creak>	Found the solution!!! you were right hergertme, I just didn't know how to use these functions. I just have to call label1.set_max_width_chars(1) and label1.set_ellipsize(Pango.EllipsizeMode.START)
Jul 26 00:09:25 <Creak>	this way the cell doesn't get an impossible width
Jul 26 02:28:25 <rishi>	Shouldn't the example my-app-label.c for a derivable class use G_DEFINE_TYPE_WITH_PRIVATE instead of G_DEFINE_TYPE?
Jul 26 02:28:34 <rishi>	I mean in https://wiki.gnome.org/HowDoI/SubclassGObject
Jul 26 02:39:35 <rishi>	It is even worse.  G_DECLARE_DERIVABLE_TYPE doesn't generate the typedef for MyAppLabelPrivate.
Jul 26 02:39:43 <rishi>	(Why doesn't it do that?)
Jul 26 02:40:11 <rishi>	That means struct _MyAppLabelPrivate needs to be somehow typedef-ed to MyAppLabelPrivate.
Jul 26 03:00:31 <tristan>	rishi, I think that the standard for some years has become to not include a ->priv pointer on the public struct (since the lookup for private data has since become pointer arithmetic)
Jul 26 03:00:58 <tristan>	so you should not need a private struct typedef in the header (where the G_DECLARE_ stuff goes)
Jul 26 03:24:01 <ricotz>	ebassi, hi, a minor graphene issue https://paste.debian.net/plain/785287
Jul 26 03:41:56 <rishi>	tristan: Ok, but the HowDoI is still wrong.
Jul 26 03:41:58 <rishi>	I'll fix it in a bit if nobody objects.
Jul 26 05:24:26 <rudrab>	Hi, I am trying to open a Gtk.Window immediately, but it is opening when the function is finished
Jul 26 05:25:40 <rudrab>	https://paste.fedoraproject.org/395546/46952495/ is the function, where the self.crrefwin is opening after the i loop. What is going wrong here, please?
Jul 26 05:27:37 *	tanty_off is now known as tanty
Jul 26 05:35:05 <ebassi>	rudrab: show_all() is asynchronous
Jul 26 05:35:34 <garnacho>	rudrab: use show_now(), or give the main loop a break
Jul 26 05:36:09 <ebassi>	rudrab: But, in general, you cannot expect stuff to just be sequential in an event-driven GUI toolkit. This is not a console program.
Jul 26 05:40:09 <rudrab>	ebassi: so you mean there is nothing wrong in the code...its just how gtk behaves?
Jul 26 05:44:57 *	aday is now known as aday_
Jul 26 05:47:08 <ebassi>	rudrab: The code is wrong with regards to how event-driven programming works
Jul 26 05:47:32 <rudrab>	ebassi: :(
Jul 26 05:48:54 <rudrab>	I would actually like to write in a textview the output of i-loop
Jul 26 05:58:13 <hdhzero>	Hi. I am trying to remove widgets from a gtk_vbox. I already used GList, gtk_container_remove, gtk_container_foreach and so on. All of them remove the widgets, but when I try to pack new ones, they arent displayed
Jul 26 05:58:18 <hdhzero>	Any tips on how to solve
Jul 26 05:59:06 <teuf>	hdhzero: do you call gtk_widget_show() on these new ones ?
Jul 26 06:01:04 <hdhzero>	teuf: No. I wasn't calling. Problem solved. Thank you, teuf
Jul 26 06:53:26 *	ChanServ sets mode +q on #gtk+ Company
Jul 26 06:53:26 *	ChanServ gives channel operator status to Company
Jul 26 07:24:42 <mclasen>	Company: any idea why box-shadow-changes-modify-clip fails ?
Jul 26 07:29:37 <bugbot>	mclasen@redhat.com changed the Status on bug 769004 from NEW --- to RESOLVED FIXED.
Jul 26 07:29:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769004 Themes, normal, gtk-bugs, RESOLVED FIXED, css test suite failures in 3.21.4
Jul 26 07:31:00 <thumbnail>	hey, I load some data into a GInputStream using g_memory_input_stream_new_from_bytes, but I cannot find any corresponding release or free function for it. What should I do to release the memory? 
Jul 26 07:36:29 <feborges>	is there a good reason why gtk_button_set_label always creates a new label instead of checking whether it already has one and gtk_label_set_label (GTK_LABEL (gtk_bin_get_child (GTK_BIN (button)... ?
Jul 26 07:38:21 <mclasen>	who knows what kind of misshapen label the user put there...
Jul 26 07:38:34 <feborges>	to calirify, I would like the button to contain a set of properties, styling, etc... and I could have it all defined in the UI file if the label would not be overwritten by the new one every time I set a new text
Jul 26 07:38:55 <mclasen>	if you want to control the label widget, set a label widget, and operate on that
Jul 26 07:38:56 <slaf>	thumbnail: if it's a GObject, it's ref-counted so g_object_unref
Jul 26 07:39:31 <feborges>	mclasen, makes sense. Thanks 
Jul 26 07:41:42 <thumbnail>	slaf: ok, thanks man
Jul 26 07:58:58 <rudrab>	hi...one question: how I "connect" some function depending upon the active_id chosen from a combo_box?
Jul 26 08:02:02 <rudrab>	something like: http://paste.fedoraproject.org/395672/95345071/
Jul 26 08:02:34 <The_gull>	is there a way to remove/add multiple children “at the same time” (not causing redraws) to a container ?
Jul 26 08:04:09 <mclasen>	there is no redraw between two calls of container_remove that you do in a row
Jul 26 08:05:16 <The_gull>	mh, that’s good then, thanks :·)
Jul 26 08:06:35 <rudrab>	or i should just call the function inside the if loop as:
Jul 26 08:06:39 <rudrab>	http://paste.fedoraproject.org/395677/95347591/
Jul 26 08:48:44 <hotcfoch>	is it just enough with defining a propert with g_value_set_uint64 in C, if I want hat property being read as an int in Python?
Jul 26 08:50:38 <feaneron>	i think so
Jul 26 08:51:04 <feaneron>	if python implicitly knows about the unsigned situation of the int
Jul 26 09:07:36 <rudrab>	anyone please?
Jul 26 09:49:20 *	Disconnected (Invalid argument)
**** ENDING LOGGING AT Tue Jul 26 09:49:20 2016

**** BEGIN LOGGING AT Tue Jul 26 09:49:34 2016

Jul 26 09:49:34 *	Now talking on #gtk+
Jul 26 09:49:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 09:49:34 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 09:56:45 <ipun>	gtk_menu_popup() is popping up a menu in the wrong location the first time, then when you do it again the position is correct. Everything is set to NULL(default) except what is required. Any suggestions?
Jul 26 09:59:01 *	KaL is now known as KaL_out
Jul 26 10:11:54 <baedert>	ipun: X or wayland?
Jul 26 10:12:03 <ipun>	baedert this is on X
Jul 26 10:19:32 <bugbot>	msanchez@gnome.org changed the Status on bug 522053 from ASSIGNED --- to RESOLVED FIXED.
Jul 26 10:19:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=522053 gio, normal, zeuthen, RESOLVED FIXED, GUnixMountMonitor needs to use /proc/self/mountinfo on recent Linux kernels
Jul 26 10:20:49 <zakum42>	Hello guys, does anyone know if it's possible to show a GtkPopover from a AtkObject? As far as I've seen they can only get called from a MenuButton.. Is this true?
Jul 26 10:21:20 <lazka>	ipun, did you call gtk_menu_attach_to_widget ?
Jul 26 10:21:22 <baedert>	well you need at least a toplevel GtkWindow...
Jul 26 10:49:15 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Jul 26 10:49:15 2016

**** BEGIN LOGGING AT Tue Jul 26 10:49:28 2016

Jul 26 10:49:28 *	Now talking on #gtk+
Jul 26 10:49:28 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 10:49:28 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 11:23:36 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Jul 26 11:23:36 2016

**** BEGIN LOGGING AT Tue Jul 26 11:23:50 2016

Jul 26 11:23:50 *	Now talking on #gtk+
Jul 26 11:23:50 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 11:23:50 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 11:34:03 <feaneron>	hi guys, why am I consistently always receiving a <Meta> key in Wayland?
Jul 26 11:34:35 <feaneron>	whenever I check for the key presses, there's this stray <Meta> modified, and I have no idea where does it come from
Jul 26 11:40:15 <mclasen>	not  a stray key, just a stray modifier
Jul 26 11:40:44 <mclasen>	probably due to the fact that meta is colocated with some other modifier
Jul 26 11:41:02 <mclasen>	if wayland hadn't inherited xkb from X, the world would be a better place...
Jul 26 11:41:15 <feaneron>	shall I fill a bug for that?
Jul 26 11:41:34 <mclasen>	no, why ?
Jul 26 11:44:20 <feaneron>	because that modifier shouldn't be there. Or should it?
Jul 26 11:44:55 *	jjongsma_ is now known as jjongsma
Jul 26 11:45:24 <mclasen>	it being there is a reflection of the xkb configuration, if my assumption is correct
Jul 26 11:45:45 <mclasen>	you could debug this some more, certainly
Jul 26 11:46:09 <jjongsma>	ebassi, any chance you have a little time to talk about a regression we have in spice-gtk caused by https://git.gnome.org/browse/gtk+/commit/?id=2c7b21718f18ab743cd79784ae28cad582f58503
Jul 26 11:46:17 <mclasen>	but I'm a fan of filing bugs only _after_ the debugging, as a holder for the patch that resulted from the debugging
Jul 26 11:47:35 <jjongsma>	or, if ebassi's not around, anyone else? :)
Jul 26 11:49:29 <mclasen>	without seeing more than "regression" hard to say
Jul 26 11:50:22 *	KaL_out is now known as KaL
Jul 26 11:50:34 <jmd>	The documentation for g_simple_action_set_enable says that it should never be called by users.  So why bother putting it in the public API?
Jul 26 11:51:04 <jjongsma>	mclasen, indeed, that's why I want to talk to somebody about it.
Jul 26 11:51:17 <jjongsma>	the regression is that it fails to redraw until we resize the window
Jul 26 11:51:39 <mclasen>	jmd: so other libraries can call it
Jul 26 11:51:47 <jjongsma>	and I'm digging into gtk to figure out what the difference is here and what might have caused the change.
Jul 26 11:51:49 *	mclasen reboots
Jul 26 11:51:57 <rishi>	jmd: In this case, the 'users' of an action are not the users of the GLib API.
Jul 26 11:52:17 <rishi>	The users are those who are proxying or activating the action.
Jul 26 11:52:51 <rishi>	The implementor is the one who actually handles 'activate' and does what the action is supposed to do.
Jul 26 11:54:02 <ebassi>	jjongsma: I'm going to have a couple of meeting in about 10 minutes, so I'll be available only later
Jul 26 11:54:21 <jjongsma>	ebassi, can you ping me when you're avaialble?
Jul 26 11:54:24 <ebassi>	jjongsma: But I remember talking about this with somebody else in the spice team
Jul 26 11:54:32 <jjongsma>	yeah, fidencio 
Jul 26 11:54:37 <ebassi>	jjongsma: Right
Jul 26 11:55:00 <jmd>	rishi: Well I think it is confusing.  I just spent two days trying to figure out how to enable/disable an action - I saw that when I first started looking - but discounted it because of that sentence.
Jul 26 11:55:20 <ebassi>	jjongsma: That commit was partially reverted by the fix for Firefox; if you're tripping up on current master then it means spice-gtk is doing something weird and not guaranteed to work
Jul 26 11:55:52 <rishi>	jmd: Agreed.
Jul 26 11:55:56 <ebassi>	jjongsma: But since I don't know spice-gtk, nor I have time to deal with it, last time I spoke with fidencio I asked for at least understanding what spice-gtk even does
Jul 26 11:56:19 <jjongsma>	ebassi, sure, I'm just trying to figure out what this "something weird" might be and how to fix it.
Jul 26 11:56:47 <jjongsma>	so I'm digging into gtk+ to figure out where we might be violating expectations but haven't come up with anything so far. So I was hoping to just discuss it a bit.
Jul 26 11:57:52 <ebassi>	jjongsma: The commit that you want to look at is: fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 26 11:58:10 <ebassi>	https://git.gnome.org/browse/gtk+/commit/?id=fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 26 11:59:53 <ebassi>	jjongsma: That commit moves what GtkWidget used to do with double-buffering into GdkWindow — i.e. create a new buffer if the window is a top-level and a native window
Jul 26 12:00:16 <ebassi>	jjongsma: If you've disabled double buffering, everything should be back to normal
Jul 26 12:00:23 <ebassi>	jjongsma: Is spice-gtk double-buffering?
Jul 26 12:00:42 <ebassi>	jjongsma: If it isn't, is it relying on being able to create random cairo_t's on random GdkWindows?
Jul 26 12:00:55 <ebassi>	jjongsma: How does spice-gtk even draw?
Jul 26 12:01:06 <ebassi>	Those are the questions I asked fidencio 
Jul 26 12:01:53 <jjongsma>	double-buffering: yes, creating random cairo_t's: no
Jul 26 12:01:57 <jjongsma>	ebassi, ^
Jul 26 12:02:29 <jjongsma>	ebassi, we draw by connecting to the draw signal and drawing in the provided cairo_t
Jul 26 12:02:55 <jjongsma>	ebassi, the main difference (in gtk+) that I see in the commit that caused the regression is that an expose event previously resulted in a call to gtk_widget_begin_draw_internal(), but after the change, it only calls this function for toplevel GdkWindows.  But I don't know enough to know whether that's relevant to anything.
Jul 26 12:03:31 <ebassi>	jjongsma: Nothing should be relying on expose events in GTK+ 3.x
Jul 26 12:04:00 <ebassi>	jjongsma: In any case, since everything else seems to be working except spice-gtk, I doubt spice-gtk is "just" drawing on the provided cairo_t
Jul 26 12:05:04 <jjongsma>	ebassi, what does "relying on expose events" mean? We don't handle them at all in our application, but they still result in gtk_widget_render() to be called
Jul 26 12:05:51 <ebassi>	Then I fail to understand how spice-gtk is breaking
Jul 26 12:06:23 <jjongsma>	ebassi, for what it's worth, here's our draw function: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-cairo.c#n65
Jul 26 12:06:23 <ebassi>	The commit I linked added a constraint on what can be double-buffered — top-level, native GdkWindow
Jul 26 12:07:07 <jjongsma>	hmm
Jul 26 12:08:03 <ebassi>	This seems to contradict your "we're double-buffering" statement: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-cairo.c#n87
Jul 26 12:09:46 <jjongsma>	ebassi, it does seem to contradict it, but the comment is old, I think: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget.c#n605
Jul 26 12:11:05 <baedert>	What's with line 1208 in that file?
Jul 26 12:14:54 <jjongsma>	well, there's a bit of an experimental egl widget as an alternative to the cairo implementation, but that's not being used
Jul 26 12:15:21 <jjongsma>	so enabled is false, which results in double-buffering being enabled.
Jul 26 12:25:48 <mclasen>	jjongsma: sorry, fell off for  a bit
Jul 26 12:25:50 <mclasen>	back now
Jul 26 12:31:44 <jjongsma>	mclasen, well, ebassi showed up briefly
Jul 26 12:34:54 <ebassi>	jjongsma: So, I guess the question is not "stuff fails to draw" but "stuff fails to invalidate the contents of the widget"
Jul 26 12:35:35 <jjongsma>	ebassi, perhaps
Jul 26 12:38:19 <jjongsma>	ebassi, but why would reverting the expose event changes affect that?
Jul 26 12:39:39 <ebassi>	jjongsma: I have no idea
Jul 26 12:41:03 <jjongsma>	ebassi, I must admit that I have a very limited understanding about GdkWindows, and how they relate to GtkWidgets, etc. What makes a GdkWindow a toplevel window?
Jul 26 12:41:20 <ebassi>	jjongsma: The code in gtk_widget_render() is the logical equivalent of what gtkmain.c was doing. What really changed is the code in GdkWindow
Jul 26 12:42:31 <jjongsma>	ebassi, well, it's very very close to the same. But as I said before, there's one difference I can see: the old implementation called gdk_window_begin_paint_region(), which calls gdk_window_begin_paint_internal()
Jul 26 12:42:56 <jjongsma>	ebassi, the new implementation calls gdk-window_begin_draw_frame(), which only calls gdk_window_begin_paint_internal() IF the GdkWindow is a toplevel
Jul 26 12:43:15 <ebassi>	Yes, that's what I said
Jul 26 12:43:37 <jjongsma>	which is why I asked the question above about toplevel GdkWindows
Jul 26 12:45:20 <ebassi>	jjongsma: Right, but, as I said, nothing expects an expose event on a child GdkWindow, these days; that's why I asked if Spice-gtk is using expose events
Jul 26 12:47:15 <ebassi>	Only top-level windows should receive expose events, and trip the redraw; child widgets should draw on the parent's buffer.
Jul 26 12:50:43 <jjongsma>	ebassi, thanks for your patience, I'm slowly getting a better understanding here...
Jul 26 12:53:52 <ebassi>	jjongsma: No problem
Jul 26 12:54:56 <ebassi>	We can tweak the conditions, after all I did that for Firefox; but I want to understand what are the requirements — and if spice-gtk can be changed, in case
Jul 26 12:55:48 <ebassi>	Also because when we break API for 4.0, we're going to pick stricter semantics
Jul 26 12:56:05 <jjongsma>	ebassi, yep. I'll continue to investigate here. I may ask additional questions from time to time
Jul 26 12:56:40 <jjongsma>	at the moment I think I need to try a few things out before I have anything intelligent to say.
Jul 26 12:57:11 <ebassi>	jjongsma: No worries
Jul 26 13:00:59 <jjongsma>	ebassi, another odd thing (in case it triggers any ideas in your mind) is that sometimes after resizing the window, it updates for a few seconds before freezing again...
Jul 26 13:01:47 <jjongsma>	I suspect that's something related to spice-gtk code, but just in case, I thought I'd mention it.
Jul 26 13:05:32 <ebassi>	Doesn't ring a bell
Jul 26 13:06:04 <ebassi>	But, maybe, something is checking the size of the cairo surface used to render the content, and if the size is the same then the widget does not get invalidated
Jul 26 13:06:22 <ebassi>	While you're getting resizing notifications, the surface gets redrawn
Jul 26 13:10:08 *	tanty is now known as tanty_off
Jul 26 13:24:35 <bugbot>	calamandrei@gmail.com changed the Component on bug 762260 from Themes to Class: GtkStyleContext.
Jul 26 13:24:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=762260 Class: GtkStyleContext, normal, gtk-bugs, NEW , Check boxes and radio buttons animate when inside a popover that is opened
Jul 26 13:47:06 <mwleeds>	ebassi: Is there any reason there's not a function json_node_get_path (JsonNode* n) that returns a (unique) JsonPath to the node?
Jul 26 13:54:45 *	dpm-afk is now known as dpm
Jul 26 13:59:18 <ebassi>	mwleeds: If you have the node, why do you need the path?
Jul 26 13:59:30 <ebassi>	JsonPath is pretty much XmlPath - a query API
Jul 26 14:02:15 <mwleeds>	because I want to see if there's a node in another json tree at the same path
Jul 26 14:02:27 <mwleeds>	and if so, replace it
Jul 26 14:10:59 <ebassi>	It would be possible to write a json_path_create_for_node(), but the main reason why it does not exist is we can only guarantee parent-child relationship in a JsonNode tree if it comes from a JsonParser
Jul 26 14:11:18 <ebassi>	i.e. it's not always possible to take a node and retrieve its parent
Jul 26 14:13:13 <iulianradu>	Figured it out
Jul 26 14:13:51 <mwleeds>	we could return NULL in that case
Jul 26 14:14:09 <mwleeds>	but anyway I think I found another way in my situation
Jul 26 15:20:56 *	aday is now known as aday_
Jul 26 15:44:03 <gasuleg>	Hi, I created a GAction and I want know when his state change. Any idea?
Jul 26 15:45:32 <jmd>	gasuleg: Well you created it so you should know!!!
Jul 26 15:46:37 <jmd>	GAction is an interface.
Jul 26 15:47:26 <gasuleg>	jmd, well, I change his state in a class but I want to know when he changes in another
Jul 26 15:48:30 <jmd>	emit a signal, and connect to that signal.
Jul 26 15:50:37 <gasuleg>	jmd, I created this GAction to avoid using an emit signal because I don't know the instance where I change the state of GAction
Jul 26 15:51:20 <jmd>	So how _do_ you change its state?
Jul 26 15:51:50 <jmd>	In the bit of code where its state changes, just emit the signal there.  What is the problem?
Jul 26 15:52:09 <gasuleg>	don't need the instance to change state: g_action_change_state 
Jul 26 15:52:29 <gasuleg>	g_action_change_state (GAction *action,
Jul 26 15:52:29 <gasuleg>	                       GVariant *value);
Jul 26 15:53:58 <jmd>	gasuleg: Right.  .... and what have you got in the implementation of GActionInterface->change_state ??
Jul 26 15:56:08 <gasuleg>	jmd, http://pastebin.com/sV2STDbN
Jul 26 15:56:31 <gasuleg>	display_smartinfo is the name of my GAction
Jul 26 15:56:50 <jmd>	Please answer my question.
Jul 26 15:57:11 <jmd>	What does your GActionInterface->change_state function have ?
Jul 26 15:57:51 <gasuleg>	just boolean
Jul 26 15:58:01 <gasuleg>	(not sure to understand)
Jul 26 15:58:02 <jmd>	Huh?
Jul 26 15:58:08 <jmd>	It should be a function
Jul 26 15:59:04 <jmd>	You said that you created a GAction.  So how did you create it?
Jul 26 15:59:35 <jmd>	If you created it, then you must know when and under what circumstances it changes state.
Jul 26 16:00:14 <jmd>	So, when it changes state, emit a signal.  Then everything which is interested in that state change can connect to the signal.
Jul 26 16:03:33 <gasuleg>	as, I say I change his state in a method of a class where I don't know the instance. I created it like that : http://pastebin.com/EhTkJjim
Jul 26 16:04:20 <gasuleg>	as I said, ( sorry for my english, tell me if you don't understand something)
Jul 26 16:06:36 <bugbot>	mclasen@redhat.com changed the Status on bug 768752 from NEW --- to RESOLVED FIXED.
Jul 26 16:06:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768752 gio, enhancement, gtkdev, RESOLVED FIXED, Add async variant of g_app_info_launch_default_for_uri
Jul 26 16:07:57 <jmd>	gasuleg: Ahh.  So you didn't create it after all.
Jul 26 16:08:45 <gasuleg>	jmd, Yes I did with this: g_action_map_add_action_entries(
Jul 26 16:08:45 <gasuleg>	        G_ACTION_MAP(app), ring_actions, G_N_ELEMENTS(ring_actions), app)
Jul 26 16:09:24 <gasuleg>	sorry, didn't mention that
**** ENDING LOGGING AT Tue Jul 26 16:10:30 2016

**** BEGIN LOGGING AT Tue Jul 26 16:10:30 2016

Jul 26 16:10:45 <jmd>	Right.  See the 5th member of GActionEntry?  It is the change_state function pointer.
Jul 26 16:10:54 <jmd>	Use that pointer to emit a signal.
Jul 26 16:11:31 <jmd>	I note that currently who have them all NULL. 
**** ENDING LOGGING AT Tue Jul 26 16:12:19 2016

**** BEGIN LOGGING AT Tue Jul 26 16:12:19 2016

Jul 26 16:13:23 <jmd>	Actually I don't know what your {0
Jul 26 16:13:41 <jmd>	{0} things are for.  Your code probably crashes?
Jul 26 16:14:30 <gasuleg>	jmd, I work on a free software code, so I just add display_smartinfo line
Jul 26 16:14:50 <gasuleg>	this code work
Jul 26 16:15:03 <gasuleg>	but I don't understand everything
Jul 26 16:15:05 <jmd>	I suggest you got lucky then.
Jul 26 16:15:38 <jmd>	GActionEntry contains 5 pointers.  But you seem to be forcing 6 into it.
Jul 26 16:16:59 <jmd>	Anyway, to answer your original question.  Implement the change_state member.
Jul 26 16:17:29 <jmd>	Note that the documentation says "All stateful actions should provide a handler here".
Jul 26 16:17:42 <jmd>	You have provided no handler.
Jul 26 16:17:56 <gasuleg>	jmd, if I understand its a callback, so i can write the methode i want
Jul 26 16:18:04 <jmd>	sure.
Jul 26 16:18:25 <gasuleg>	ok ok, I see
Jul 26 16:18:27 <gasuleg>	cool
Jul 26 16:18:42 <gasuleg>	thank you jmd for all your help
Jul 26 16:18:47 <gasuleg>	I will try that
Jul 26 16:19:17 <jmd>	you're welcome.
Jul 26 16:20:20 <gasuleg>	here is the project for what I work: https://ring.cx/ . I just love it
Jul 26 16:21:10 <bugbot>	New gtk+ bug 769205 filed by georges.stavracas@gmail.com.
Jul 26 16:21:10 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 26 16:24:00 <jmd>	gasuleg: Right.  An interesting project. (but I've never yet met anyone who has succeeded building it).
Jul 26 16:25:05 <gasuleg>	jmd, why did you said that?
Jul 26 16:25:42 <jmd>	Most people (including myself) give up in frustration after a few days (weeks) trying.
Jul 26 16:26:40 <gasuleg>	I have an issue again. Can you have a seen on it? http://pastebin.com/axTi6V3y
Jul 26 16:26:56 <gasuleg>	error: �test� was not declared in this scope
Jul 26 16:27:38 <gasuleg>	well, I build it, what is your issue jmd ?
Jul 26 16:28:46 <jmd>	Well you have a symbol 'test'.  The compiler is complaining that there is no such symbol.
Jul 26 16:28:59 <jmd>	line 11
Jul 26 16:29:28 <gasuleg>	yeah, but i creat the method l16
Jul 26 16:29:37 <jmd>	(you still have those {0} there, so I wouldn't expect this code to do anything sensible).
Jul 26 16:29:52 <jmd>	Probably gives lots of compiler warnings?
Jul 26 16:30:12 <gasuleg>	no one or they are hide
Jul 26 16:31:26 <gasuleg>	I will tell the question to the creator about these {0}
Jul 26 16:35:15 <gasuleg>	jmd, we are agree I need to call my method test like that if I have GActionEntry with with elements
Jul 26 16:35:23 <gasuleg>	5 elements*
Jul 26 16:39:33 <gasuleg>	jmd,  ring_actions is an array of GActionEntrys... iirc the compiler gives some warning if you don't put the null at the end of each individual entry
Jul 26 16:40:14 <jmd>	I would expect it to give a warning if you DO put those there.
Jul 26 16:40:34 <jmd>	Even if it doesn't it'll almost certainly crash if you try running it.
Jul 26 16:41:25 <jmd>	That array has 36 pointers in it.
Jul 26 16:41:49 <jmd>	However a GArrayEntry is 5 pointers each.
Jul 26 16:42:17 <jmd>	So what you have there is an array of 5.2 GArrayEntrys.
Jul 26 16:42:28 <jmd>	The .2 is going to cause problems ...
Jul 27 04:21:54 <bugbot>	swilmet@gnome.org changed the Component on bug 768902 from General to .General.
Jul 27 04:21:55 <bugbot>	swilmet@gnome.org changed the Product on bug 768902 from gtksourceview to gtk+.
Jul 27 04:21:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768902 .General, major, gtk-bugs, NEW , Font too small when using gtk_widget_override_font()
Jul 27 04:40:10 <bugbot>	New gtk+ bug 769214 filed by fziglio@redhat.com.
Jul 27 04:40:11 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769214 Backend: Win32, normal, gtk-win32-maint, NEW , keyval field not filled correctly for Pause key
Jul 27 05:18:50 *	ChanServ sets mode +q on #gtk+ Company
Jul 27 05:18:50 *	ChanServ gives channel operator status to Company
Jul 27 05:54:33 <hramrach>	Hello
Jul 27 05:54:44 <hramrach>	how do I change colors of the default gtk3 theme?
Jul 27 05:55:33 <hramrach>	I tried to copy the gtk-default.css to gtk.css in a theme directory but I lose most 3d appearance of widgets
Jul 27 05:55:57 <hramrach>	My own old theme and themes installed from gnome-look also have this problem
Jul 27 06:06:02 <ebassi>	hramrach: You don't. The only way to change colors is to create a new theme.
Jul 27 06:06:47 <ebassi>	This is not something new: only the Clearlooks engine allowed you to select colors, in gtk2
Jul 27 06:08:34 <hramrach>	so how do you create new theme?
Jul 27 06:09:03 <benzea>	ebassi: that was a GTK+ feature! it worked for all engines except pixmap :)
Jul 27 06:09:05 <hramrach>	presumably copying the get-default.css to gtk.css in a tehme directory creates a new theme but it's missing 3d elements
Jul 27 06:09:22 <hramrach>	*gtk-default
Jul 27 06:09:52 <baedert>	what's get-default.css and what are 3d elements?
Jul 27 06:10:14 <hramrach>	gtk-default
Jul 27 06:10:26 <benzea>	3d elements would be making the base color darker/lighter for gradients, I presume
Jul 27 06:12:59 <hramrach>	http://picpaste.com/screenshot-20160727121137-e6Ftd2VU.png
Jul 27 06:13:46 <hramrach>	http://picpaste.com/screenshot-20160727121046-lp1Db0I3.png
Jul 27 06:14:07 <hramrach>	there is some difference between the two
Jul 27 06:14:55 <ebassi>	hramrach: So, you're copying Adwaita?
Jul 27 06:15:05 <hramrach>	Raleigh
Jul 27 06:15:31 <hramrach>	but anything goes
Jul 27 06:15:48 <hramrach>	if copying Adwaita is supposed to work I will copy that instead, whatever
Jul 27 06:15:50 <ebassi>	I'm not really sure Raleigh is even up to date
Jul 27 06:16:02 <ebassi>	Anyway, from where are you copying the CSS?
Jul 27 06:16:07 <ebassi>	From the Git repository?
Jul 27 06:16:18 <hramrach>	from Debian package
Jul 27 06:16:24 <heftig>	I think you could use this to get a complete copy of the integrated themes:
Jul 27 06:16:26 <heftig>	gresource list /usr/lib/libgtk-3.so | while read f; do f2=${f#/org/gtk/libgtk/}; [[ $f2 == theme/* ]] || continue; mkdir -p $(dirname $f2); gresource extract /usr/lib/libgtk-3.so $f > $f2; done
Jul 27 06:17:03 <ebassi>	hramrach: CSS files shipped by GTK are part of the shared library; if you look at the files on disk, you'll notice that they are empty
Jul 27 06:17:11 <ebassi>	Unless you're using an ancient version of GTK
Jul 27 06:17:27 <hramrach>	the sauce package
Jul 27 06:17:51 <hramrach>	gresource does not know what to do with libgtk
Jul 27 06:18:30 <hramrach>	it's in arch directory
Jul 27 06:18:42 <hramrach>	will try looking at that
Jul 27 06:20:55 <hramrach>	hm, same
Jul 27 06:20:58 <hramrach>	no change
Jul 27 06:21:18 <heftig>	ebassi: btw, what is the purpose of the gtk-contained*.css files that just get imported?
Jul 27 06:22:00 <hramrach>	there is only gtk.css in Raleigh and using that in place of the gtk-default.css gives the no-3d issue
Jul 27 06:22:35 <ebassi>	heftig: You'll have to ask Lapo
Jul 27 06:22:55 <ebassi>	heftig: I think it's just broken down so that scss can build from different mixins
Jul 27 06:23:09 <heftig>	hramrach: Raleigh is broken
Jul 27 06:24:05 <heftig>	hramrach: it was neglected after Adwaita became the default theme
Jul 27 06:25:24 <baedert>	I somehow remember multiple times where mclasen proposed to drop it
Jul 27 06:33:48 <ebassi>	I honestly thought we already did
Jul 27 08:56:57 <rudrab>	Hi, in a gtk3 application, I am trying to replace titlebar with headerbar
Jul 27 08:57:21 <baedert>	gtk_window_set_titlebar
Jul 27 08:57:27 <rudrab>	the only problem I am facing is I cant drag the window using titlebar
Jul 27 08:57:56 <rudrab>	is there any property I can set for that?
Jul 27 08:58:05 <baedert>	Are you using gtk_window_set_titlebar?
Jul 27 08:58:11 <rudrab>	yes
Jul 27 08:58:50 <baedert>	There is no such property; it just works if the titlebar child widget doesn't consume drags
Jul 27 08:59:36 <rudrab>	actually opposite: I have done Gtk.Window.set_decorated to False. So I dont actually have a titlebar, only headerbar
Jul 27 09:00:10 <baedert>	that's wrong
Jul 27 09:00:16 <ebassi>	rudrab: Use gtk_window_set_titlebar() with a GtkHeaderBar
Jul 27 09:00:24 <ebassi>	Otherwise stuff won't work
Jul 27 09:02:40 <rudrab>	ebassi: will not it display both titlebar and headerbar?
Jul 27 09:02:56 <rudrab>	I guess i have not understood you 
Jul 27 09:02:57 <baedert>	No
Jul 27 09:08:35 <rudrab>	ah...great...thank you both
Jul 27 09:19:30 <heftig>	hm, why is g_unix_signal_source_new limited to a subset of signals?
Jul 27 09:21:41 <hadess>	heftig, probably because it can't safely handle the others
Jul 27 09:22:20 <heftig>	I wonder why. I just need WINCH
Jul 27 09:22:25 <hadess>	catching SIGABRT or SIGSEGV is possible but probably not something you want in your app :)
Jul 27 09:23:04 <hadess>	heftig, probably something that could be added then
Jul 27 09:24:00 <heftig>	(more specifically, i'm trying to use prompt_toolkit + gbulb from python; the former tries to add a handler for SIGWINCH and the latter translates it to g_unix_signal_source_new)
Jul 27 09:32:46 <hramrach>	heftig: I extracted the whole Adwaita theme and moved it to my theme directory. No change. Switched to default theme and back. The theme is still broken in the same way.
Jul 27 09:35:02 <rudrab>	one more thing, in line of my previous question: can I place my menubar (created using Gtk.Builder) inside headerbar as well?
Jul 27 09:36:15 <ebassi>	rudrab: No
Jul 27 09:36:37 <ebassi>	For menus in header bars, you want a GtkMenuButton or similar
Jul 27 09:37:14 <ebassi>	rudrab: https://developer.gnome.org/hig/stable/header-bars.html.en
Jul 27 09:37:42 <rudrab>	ebassi:thanks
Jul 27 09:39:45 <heftig>	hramrach: well, works for me; :| i just created a hue-shifted adwaita by swapping channels in colors
Jul 27 09:46:26 <mwleeds>	Is there a way to do a deep copy of a JsonNode? json_node_copy() just increments reference counts so I guess I have to implement this myself?
Jul 27 09:49:20 <ebassi>	mwleeds: Yes
Jul 27 09:50:00 *	ebassi needs to find some time for a 2.0 API for json-glib without stupid memory management
Jul 27 09:53:49 <ricotz>	ebassi, hi, regarding the current gsk-renderer branch -- "error: ‘gsk_gl_profiler_get_property’ undeclared"
Jul 27 09:53:58 <ebassi>	Yes, yes
Jul 27 09:54:11 <ebassi>	I had to move the branch to a different laptop
Jul 27 09:54:18 <ebassi>	The branch is broken in other ways
Jul 27 09:54:38 <ricotz>	ah ok
Jul 27 09:54:43 <ricotz>	sorry ;)
Jul 27 09:54:46 <ebassi>	If I wanted to have it auto-built, I would have pushed it to master :-P
Jul 27 09:55:24 *	ebassi mutters something about the branch name being wip/ebassi/*
Jul 27 09:56:54 <heftig>	is json-glib's design like gvariant?
Jul 27 09:59:00 <heftig>	er, nvm that
Jul 27 10:11:02 <hramrach>	heftig: got it working with fresh theme directory. Probably forgot some directory level somewhere
Jul 27 10:11:07 <hramrach>	thanks
Jul 27 10:13:47 <ebassi>	Mmh, API question time
Jul 27 10:14:15 <ebassi>	Do I add a scale-factor to every single GskRenderNode, or do I expect widgets to apply the scale factor internally for everything?
Jul 27 10:17:50 <feaneron>	mclasen: hi, idk if you're already aware, but I filled bug 769205 with the patches
Jul 27 10:17:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 27 10:19:40 <mclasen>	I am aware now
Jul 27 10:20:03 *	mclasen wonders if Company is around for API questions
Jul 27 10:20:21 <Company>	mclasen: he is
Jul 27 10:20:45 <mclasen>	see ebassi's question ^
Jul 27 10:22:07 <Company>	the scale factor is a property of the monitor you're rendering on
Jul 27 10:22:31 <Company>	or the window you're rendering into
Jul 27 10:22:39 <ebassi>	Right
Jul 27 10:23:10 <ebassi>	The issue is that render nodes may have rasterization operations in them, so the need to create a surface (that will then be pushed to GL)
Jul 27 10:23:46 <Company>	but they can query the scale factor for that, no?
Jul 27 10:23:47 <gasuleg>	I try to handle the signal change state (https://developer.gnome.org/gio/stable/GSimpleAction.html#GSimpleAction-change-state) in my GActionEntry (https://developer.gnome.org/gio/stable/GActionMap.html#GActionEntry ) to conect it to a method of an other class. any idea?
Jul 27 10:24:17 <ebassi>	Company: Well, they set the size of the node, which is used to create the surface/drawing context
Jul 27 10:24:31 <gasuleg>	I think it's easy to do but i'm really lost right now
Jul 27 10:24:32 <ebassi>	Company: So the question is
Jul 27 10:24:47 <Company>	i would imagine the scale factor setup happening on the viewport (is that the GL term) level
Jul 27 10:25:15 <ebassi>	Company: Do we add that scaling factor to the node, so that widgets can use the allocation when creating the node; or do we tell widgets to scale the allocation themselves when creating the node
Jul 27 10:25:30 <ebassi>	Company: Not really; you still need to render at a higher scaling factor
Jul 27 10:25:43 <ebassi>	Otherwise the Cairo surface will look like crap
Jul 27 10:25:55 <Company>	yes
Jul 27 10:26:06 <Company>	but the coordinates you use are always in user space
Jul 27 10:26:25 <Company>	ie they will be scaled automatically for you
Jul 27 10:26:38 <ebassi>	If they get scaled up, they will look like arse
Jul 27 10:27:03 <ebassi>	It's not like GL will automatically do things for you
Jul 27 10:27:06 <Company>	well, if you have to upload pixel data, you'll have to look at the scale factor
Jul 27 10:46:14 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Jul 27 10:46:14 2016

**** BEGIN LOGGING AT Wed Jul 27 10:46:31 2016

Jul 27 10:46:31 *	Now talking on #gtk+
Jul 27 10:46:31 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 27 10:46:31 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 27 10:46:46 <ebassi>	So it would tie it to the drawing operation
Jul 27 10:47:14 <Company>	in GTK, you just cairo_scale() it however you want
Jul 27 10:47:49 <Company>	but that will not cause us to update our textures (or relaod icon pixbufs)
Jul 27 10:48:27 <Company>	no idea if gsk allows any random transform to be applied before rendering
Jul 27 10:51:45 <ebassi>	No; you rasterise into a surface the untransformed contents, and then we apply the transformation when we composite the scene
Jul 27 10:52:04 <ebassi>	Basically, the way a get_render_node() implementation looks like is this: https://paste.gnome.org/pa702plia
Jul 27 10:52:21 <ebassi>	With the option, like alex wants, to save the rasterization across frames if nothing has changed
Jul 27 10:52:38 <ebassi>	If we put a texture cache in the middle
Jul 27 10:53:44 <ebassi>	(That code snippet is basically GtkBox, or any other container with a background)
Jul 27 10:57:34 <Company>	ebassi: so a render node doesn't know what it's rendered to?
Jul 27 10:58:21 <Company>	there doesn't seem to be any association between the node and the GdkDisplay or GdkWindow
Jul 27 10:58:39 <ebassi>	Company: The renderer takes a display, drawing context, and a root node
Jul 27 10:58:57 <ebassi>	Company: That happens at the end of the scene graph build
Jul 27 10:59:11 <Company>	but not the node?
Jul 27 10:59:52 <ebassi>	Not at the node level, no. In theory, you could pass the same tree to two different renderers tied to two different environments
Jul 27 11:00:11 <Company>	that seems bad
Jul 27 11:00:13 <ebassi>	We could turn it inside-out, and have the renderer create nodes
Jul 27 11:00:22 <ebassi>	(I already have a branch that does that)
Jul 27 11:00:29 <Company>	because it makes lots of things more complicated
Jul 27 11:00:39 <Company>	for a flexibility that you almost never use
Jul 27 11:01:06 <ebassi>	Yeah, that's pretty much the same conclusion I came to
Jul 27 11:01:24 <Company>	it's nice if you can render the node to a different renderer
Jul 27 11:01:42 <Company>	but I think a node should always "belong" to one renderer
Jul 27 11:02:01 <Company>	which would be where it gets scale factors etc from
Jul 27 11:02:04 <ebassi>	Yep
Jul 27 11:02:49 <ebassi>	Right, I'll just turn the render node creation inside out, and always ask the renderer to create a node - and it can set up things like scale factors
Jul 27 11:03:00 <Company>	right
Jul 27 11:03:19 <Company>	so there may be a gdk_render_node_get_scale_factor()
Jul 27 11:03:21 <ebassi>	And it makes it easier to create a free-list of render nodes, if the memory profile starts bothering us
Jul 27 11:03:40 <Company>	but all it should do is return gsk_renderer_get_scale_factor (node->priv->renderer);
Jul 27 11:03:46 <ebassi>	Yep
Jul 27 11:04:25 <baedert>	GskRenderNodeFactory!
Jul 27 11:04:32 <ebassi>	baedert: Haha
Jul 27 11:04:39 <ebassi>	Nah, just: gsk_renderer_create_render_node()
Jul 27 11:07:49 <lazka>	is there a way to adjust the pango layout/context of a widget?
Jul 27 11:08:41 <lazka>	I'd like to disable auto bidir in GtkLabel
Jul 27 11:10:17 <heftig>	Cairo is one of GSK's backends?
Jul 27 11:10:30 <mclasen>	garnacho_: hmm; I merged my code to set up all-scroll cursors for when you use the nipple to scroll; but I am occasionally seeing that cursor getting stuck - I guess I'm missing some ways in which the scrolling can end. could you double-check that code in gtkscrolledwindow.c for what I'm missing ?
Jul 27 11:13:24 <garnacho_>	mclasen: wayland?
Jul 27 11:13:40 <mclasen>	now that you mention it, yes
Jul 27 11:14:20 <ebassi>	heftig: Yes; mostly for debugging.
Jul 27 11:14:29 <garnacho_>	aha... that's fishy :)
Jul 27 11:15:01 <ebassi>	heftig: And for macOS, since that GDK backend still does not have OpenGL support
Jul 27 11:16:31 <heftig>	So the actual backends would be OpenGL and pixman?
Jul 27 11:17:34 <heftig>	Or always GL and then software rendering if needed?
Jul 27 11:19:11 <ebassi>	heftig: Always GL, for compositing, and Cairo/pixman for rasterizations
Jul 27 11:19:47 <ebassi>	i.e. widgets draw components on Cairo image surfaces and then we blend them together in a GL scene
Jul 27 11:19:59 <ebassi>	Until we can move more bits to the GPU
Jul 27 11:20:30 <heftig>	So e.g. text rendering is unaffected by the current GSK move?
Jul 27 11:20:41 <ebassi>	Also, for backward compatibility, we still need to allow people to render on Cairo contexts
Jul 27 11:20:59 <ebassi>	heftig: Text rendering is still pretty much a rasterization, so yes: it's not moved to the GPU yet
Jul 27 11:21:55 <ebassi>	We may have a glyph texture cache by copying it from Cogl, but that would still need to rasterize individual glyphs
Jul 27 11:23:37 <rudrab>	Hi, I have just moved to MenuButton from menubar.ui+builder (ebassi, thanks. It looks more gnomic and lot better)
Jul 27 11:24:58 <rudrab>	But I am not getting a way to add keyboard shortcuts. in menubar.ui, I had, say, http://paste.fedoraproject.org/396441/46963308/ to open file.
Jul 27 11:25:23 <rudrab>	how I can add the accel group in menubutton?
Jul 27 11:32:40 <visarion>	Is there a known issue with the Spinner not showing ?  I tried everything, even replacing it with another widget to see if that appears.
Jul 27 11:33:32 <ebassi>	rudrab: https://wiki.gnome.org/HowDoI/GAction - https://wiki.gnome.org/HowDoI/GMenu
Jul 27 11:34:50 <ebassi>	rudrab: https://git.gnome.org/browse/gtk+/tree/examples/application10 and https://developer.gnome.org/gtk3/stable/ch01s04.html#id-1.2.3.12.13
Jul 27 11:47:46 <hramrach>	ebassi: how about widgets that span multiple screens? How do you render those?
Jul 27 11:48:26 <hramrach>	to which screen do you tie it? Or do you redo the binding several times each time you draw a frame?
Jul 27 11:49:59 <baedert>	Depends what the WM does afaik
Jul 27 12:15:08 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Jul 27 12:15:08 2016

**** BEGIN LOGGING AT Wed Jul 27 12:15:21 2016

Jul 27 12:15:21 *	Now talking on #gtk+
Jul 27 12:15:21 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 27 12:15:21 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 27 12:24:16 <jjongsma>	ebassi, btw, we found the issue in spice-gtk, though I don't quite understand the mechanism for failure yet.
Jul 27 12:25:12 <jjongsma>	ebassi, https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-egl.c#n315 <- this function was being called in the 'realize' handler for the widget. 
Jul 27 12:25:41 <jjongsma>	not calling that function resulted in a working widget ...
Jul 27 12:27:12 <hotcfoch>	How can g_async_initable_new_finish can know if there was an error?
Jul 27 12:30:41 <mclasen>	you pass it the async result which contains that information
Jul 27 12:33:55 <ebassi>	jjongsma: Ouch
Jul 27 12:34:30 <ebassi>	You're creating an EGL surface and getting a native window
Jul 27 12:35:31 <ebassi>	This is somewhat similar to what Clutter-GTK does, but Clutter-GTK disables double buffering
Jul 27 12:35:50 <ebassi>	Because that's the only way you're going to be able to draw
Jul 27 12:36:37 <jjongsma>	ebassi, yeah, when egl is enabled, we do disable double-buffering, but this initialization happens even without egl being enabled.
Jul 27 12:36:46 <jjongsma>	I'm not very familiar with this code though, elmarco probably knows better
Jul 27 12:37:13 <ebassi>	Ah, yes.. The rest of the coe in there assumes you can draw on the window surface as if you're the only owner
Jul 27 12:37:58 <ebassi>	jjongsma: It's the GDK_WINDOW_XID call that mucks up everythinge else
Jul 27 12:38:25 <jjongsma>	ebassi, yep, that's what I determined. I commented out everything but that and it still failed. But after commenting that out, it worked ;)
Jul 27 12:39:23 <ebassi>	You are forcing the GdkWindow to have a native surface, which has certain semantics; if you do that then you get to handle a lot of nasty stuff by yourself — including double buffering
Jul 27 12:39:39 <ebassi>	A bunch of stuff will also break, like popovers :-)
Jul 27 12:39:59 <hotcfoch>	mclasen: so the GError is supposed to be in GAsyncResult ?
Jul 27 12:40:01 <jjongsma>	elmarco, ^
Jul 27 12:40:35 <ebassi>	jjongsma: My suggestion would be to use GtkGLArea, if you want to render with GL, not create random EGL context ;-)
Jul 27 12:41:17 <ebassi>	Mostly because GdkGLContext and GtkGLArea will render on the appropriate surface, using the GDK rendering infrastructure, and nothing will break
Jul 27 12:42:26 <elmarco>	ebassi: we use gtkglarea, but we need an egl context, glx won't do
Jul 27 12:42:42 <elmarco>	ebassi: so gtkglarea is only used on wayland so far
Jul 27 12:43:31 <elmarco>	so that egl/x11 stuff is a hack, but we don't have much choice, unless gtk+ start using egl on x11, I wish it would
Jul 27 12:44:01 <hotcfoch>	mclasen: even before calling "g_async_initable_new_finish" ?
Jul 27 12:44:03 <elmarco>	other solution would be to implement the dmabuf import stuff with glx, that's probably harder
Jul 27 12:44:39 <ebassi>	If you use EGL on X11 you're ot going to get a bunch of GLX only extensions — like texture from pixmap; there's an EGL extension for that, but…  meh.
Jul 27 12:45:21 <mclasen>	hotcfoch: no, you have to call finish to get it
Jul 27 12:45:22 <ebassi>	We could let you specify you want an EGL context on X11; then you could create the GdkGLContext yourself
Jul 27 12:46:09 <ebassi>	gdk_x11_gl_context_set_use_egl(); it would need a bunch of silly checks in GdkX11GLContext::realize, but it would be doable
Jul 27 12:46:11 <mwleeds>	ebassi: json_path_match() seems to return already-existing value nodes but newly-allocated object/array nodes. So how can I modify an object node I have the path for?
Jul 27 12:46:36 <ebassi>	mwleeds: You… Don't?
Jul 27 12:47:04 <ebassi>	mwleeds: I'm sorry, it seems you're using json-glib in a way that I didn't think of when I wrote it
Jul 27 12:47:47 <hotcfoch>	mclasen: that's my question? how does it discover there is an error? what kind of information does GAsyncResult provides that can help to that function to find the error?
Jul 27 12:47:51 <ebassi>	The JsonPath API is for generatin "views" or results out of an existing JSON parsed tree
Jul 27 12:48:07 <ebassi>	Sorry, new keyboard. Let's try again.
Jul 27 12:48:12 <elmarco>	ebassi: you could mix egl and glx contexts, or the app using spice-gtk would have to call gdk_x11_gl_context_set_use_egl() ? 
Jul 27 12:48:16 <ebassi>	The JsonPath API is for generating "views" of results out of an existing JSON parsed tree
Jul 27 12:48:31 <ebassi>	elmarco: You cannot mix egl and glx contexts
Jul 27 12:48:36 <ebassi>	You cannot do that even now
Jul 27 12:48:54 <elmarco>	that's what I thought, actually I tried and resulted in weird crashes iirc
Jul 27 12:48:57 <ebassi>	All contexts are shared
Jul 27 12:49:20 <ebassi>	It's like trying to create legacy and core profile contexts at the same time
Jul 27 12:50:04 <mwleeds>	would you be open to a patch changing it to return the already existing nodes?
Jul 27 12:51:30 <ebassi>	mwleeds: No, I would not be open to that. The semantics are documented.
Jul 27 12:51:38 <elmarco>	jjongsma: did you identify the gtk+ commit that broke drawing?
Jul 27 12:52:17 <jjongsma>	elmarco, yeah, sent it to you in email already, but it's https://git.gnome.org/browse/gtk+/commit/?id=2c7b21718f18ab743cd79784ae28cad582f58503
Jul 27 12:52:25 <elmarco>	jjongsma: thanks
Jul 27 12:53:23 <ebassi>	That's the proximal commit; the actual commit is: fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 27 12:53:56 <ebassi>	Since that introduced the rule that double buffering can only occur on top-level native GdkWindow
Jul 27 12:54:03 <mwleeds>	documented where? the json_path_match docs don't say anything about this
Jul 27 12:54:35 <ebassi>	Commit 2c7b21718 just made GTK use those semantics
Jul 27 12:55:28 <feaneron>	mclasen: hey, please, pretend you've never seen that couple of patches I sent before
Jul 27 12:55:38 *	feaneron is absolutely ashamed of that
Jul 27 12:56:40 <ebassi>	mwleeds: It says it creates a new JsonNode of array type. You're right that it doesn't say that the element nodes are new, but I honestly don't want to make it return nodes from another tree
Jul 27 12:56:54 <ebassi>	mwleeds: The memory management model of JsonNode is already a massive fuck up
Jul 27 12:57:23 <ebassi>	It also maps to the behaviour of other JsonPath implementations, which return new nodes
Jul 27 12:58:53 <elmarco>	jjongsma: I guess our easier alternative is to not support switch 2d/3d anymore (or just link older gtk+ statically, /me half-kidding)
Jul 27 12:58:57 <mclasen>	hotcfoch: an async result is mainly a container for ... the result of an operation
Jul 27 12:59:13 <mclasen>	one possible result is an error
Jul 27 12:59:31 <mwleeds>	It already does return nodes from another tree when they are value nodes
Jul 27 13:00:35 <mwleeds>	so maybe the patch should be to make it return all new nodes
Jul 27 13:01:24 <ebassi>	mwleeds: I honestly don't understand what your goal is, then. I thought you wanted to get existing nodes
Jul 27 13:02:17 <mwleeds>	yeah that patch wouldn't help me at all. I just suggested it to make the behavior consistent with what you said about not wanting to return nodes from another tree.
Jul 27 13:03:35 <ebassi>	mwleeds: It copies them, which unsets the parent
Jul 27 13:03:46 <ebassi>	mwleeds: So it always returns new nodes
Jul 27 13:06:43 <mwleeds>	I'm not sure about the implementation but when I called json_node_set_value on a node it returned the original one was modified with the new value. Anyway I'll just figure out another way to do it; don't want to waste any more of your time.
Jul 27 13:07:02 <ebassi>	1 retweet 3 likes
Jul 27 13:07:03 <ebassi>	￼ Reply  ￼ Retweet  1  ￼
Jul 27 13:07:04 <ebassi>	Like 3￼ Reply  
Jul 27 13:07:04 <ebassi>	￼ More
Jul 27 13:07:04 <ebassi>	￼Luis Villa ‏@luis_in_140  5m5 minutes ago
Jul 27 13:07:04 <ebassi>	@emptywheel @sarahjeong the people need an explainer stat
Jul 27 13:07:06 <ebassi>	0 retweets 2 likes
Jul 27 13:07:09 <ebassi>	￼ Reply  ￼ Retweet   ￼
Jul 27 13:07:11 <ebassi>	Like 2￼ Reply  
Jul 27 13:07:14 <ebassi>	￼ More
Jul 27 13:07:16 <ebassi>	Ugh
Jul 27 13:07:19 <ebassi>	Touchscreen
Jul 27 13:07:21 <ebassi>	You suck
Jul 27 13:07:24 <ebassi>	Also: PRIMARY selection, I want you *dead*
Jul 27 13:10:06 <ebassi>	mwleeds: The implementation currently calls json_node_copy(), so it may just be a bug. The problem is that JsonNode does a bunch of ref calls internally
Jul 27 13:10:32 *	ebassi takes json-glib behind the chemicals shed with an armed detail for execution
Jul 27 13:12:48 <Hussam>	to submit a bug report regarding a leak in gvfs (I managed to get gvfs2-udisks-monitor to leak over 50MB), do I just need debug symbols of glib2 or gvfs as well?
Jul 27 13:13:01 <Hussam>	I know how to reproduce it.
Jul 27 13:14:05 <baedert>	preferrably both
Jul 27 13:14:29 <Hussam>	ok :) I'll do a debug build of gvfs too then :)
Jul 27 13:15:18 <bugbot>	New gtk+ bug 769236 filed by bugzilla@hadess.net.
Jul 27 13:15:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769236 .General, normal, gtk-bugs, NEW , demos: Fix build failure
Jul 27 13:21:48 <gasuleg>	how can I create a g_signal_connect who is call when a variable change?
Jul 27 13:22:05 <ebassi>	gasuleg: I'm not sure I understand
Jul 27 13:22:22 <halfline>	gasuleg: you probably want to use the "notify::property-name" signal
Jul 27 13:22:23 <ebassi>	gasuleg: If you want to know if a property value has changed, there's the "notify" signal on GObject
Jul 27 13:22:29 <halfline>	(where property-name is the naem of the property)
Jul 27 13:22:52 <ebassi>	gasuleg: If you want to get a notification when a variable changes then there's nothing in GLib or GObject that can help you
Jul 27 13:23:01 <ebassi>	leak in gvfs (I managed to get gvfs2-udisks-monitor to leak over 50MB), do I just need debug symbols of glib2 or gvfs as well?
Jul 27 13:23:04 <ebassi>	17:13 < Hussam> I know how to reproduce it.
Jul 27 13:23:05 <ebassi>	Ugh
Jul 27 13:23:06 <ebassi>	Sorry
Jul 27 13:23:19 <gasuleg>	I will do an exemple. I have a int variable and I whant to know when his value change
Jul 27 13:23:21 <ebassi>	This touchpad is getting waaay too many false middle click detections
Jul 27 13:23:39 <ebassi>	gasuleg: Yeah, there isn't anything you can do to achieve that
Jul 27 13:23:45 <ebassi>	ints are not GObjects
Jul 27 13:24:00 <gasuleg>	ok my bad, its an gobject
Jul 27 13:24:06 <gasuleg>	i want to know when he change
Jul 27 13:24:21 <ebassi>	gasuleg: Define "change"
Jul 27 13:26:05 <gasuleg>	ebassi, ok, I have a GactionEntry, I use : G_ACTION(g_action_map_lookup_action(G_ACTION_MAP(g_application_get_default()), "display_smartinfo")) to pull my GObject
Jul 27 13:26:23 <gasuleg>	and now I want to know when his state change
Jul 27 13:26:28 <ebassi>	json-debug.h    json-generator.h      json-gobject.c        json-marshal.list       json-path.c    json-scanner.h  json-utils.h          tests
Jul 27 13:27:11 <ebassi>	Again, this is ridiculous
Jul 27 13:27:26 <ebassi>	gasuleg: Okay, next time you should probably open with what you want to achieve
Jul 27 13:27:28 <ebassi>	;-)
Jul 27 13:28:33 <ebassi>	gasuleg: notify::state is the signal you want
Jul 27 13:29:04 <gasuleg>	ok, how can i use it?
Jul 27 13:29:11 <gasuleg>	sorry, I'm really novice
Jul 27 13:29:45 <ebassi>	g_signal_connect (action, "notify::state", G_CALLBACK (on_state_changed), NULL)
Jul 27 13:30:17 <ebassi>	The signal signature is the one for GObject::notify — you can check in the GObject API reference for it
Jul 27 13:31:28 <gasuleg>	but... with this line g_signal_connect don't know what GObject i want to check
Jul 27 13:31:52 <gasuleg>	tried something like that but not working : g_signal_connect(view, "notify::smartinfo_action", G_CALLBACK(display_smartinfo_view),NULL);
Jul 27 13:32:08 <Hussam>	baedert: done. got a 4MB valgrind log just umounting /dev/mapper/secondary disk and mounting it again :) going to file a bug report now.
Jul 27 13:32:20 <gasuleg>	with smartinfo_action who is my first line
Jul 27 13:32:22 <ebassi>	gasuleg: You use the action
Jul 27 13:32:27 <baedert>	Hussam: I assume that one includes possibly lost? :P
Jul 27 13:33:04 <gasuleg>	http://pastebin.com/NRPLVTUK what I'M doing wrong?
Jul 27 13:33:11 <halfline>	g_signal_connect (g_action_map_lookup_action(G_ACTION_MAP(g_application_get_default()), "display_smartinfo"), "notify::state", G_CALLBACK (on_state_changed), view);
Jul 27 13:33:30 <Hussam>	I guess so. definitely lost: 13,392 bytes in 213 blocks | indirectly lost: 5,654,822 bytes in 25,186 blocks |  possibly lost: 7,192 bytes in 28 blocks
Jul 27 13:33:33 <gasuleg>	hoooo
Jul 27 13:33:50 <gasuleg>	I will try that halfline thx
Jul 27 13:35:15 <halfline>	also on_state_changed should be void on_state_changed (GAction *action, GParamSpec *confusing_middle_arg_you_wont_use, WhateverView *view)
Jul 27 13:36:35 <gasuleg>	halfline, that work!!! I love you guys
Jul 27 13:44:45 <Hussam>	it won't accept my gvfs.log.tar.gz as attachment
Jul 27 13:46:19 <Hussam>	nevermind. it worked. auto mime-type detection didn't do it. I had to manually select tar
Jul 27 14:01:01 <phako>	is there any magic I have to do to make the menu bar set with gtk_application_set_menubar() appear in a gtkapplicationwindow under gnome shell? it should just be there, no?
Jul 27 14:29:09 <Hussam>	baedert: this is apparently caused by using libmount (was checked in 28 hours ago). I posted in both bugs.
Jul 27 14:56:58 <feaneron>	mclasen: updated the patches for bug 769205, they should be good now
Jul 27 14:56:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 27 15:31:51 <bugbot>	georges.stavracas@gmail.com changed the Status on bug 769205 from NEW --- to RESOLVED FIXED.
Jul 27 15:31:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, Expose GtkShortcutLabel as a public widget
Jul 27 17:01:58 <bugbot>	calamandrei@gmail.com changed the Status on bug 762260 from NEW --- to RESOLVED FIXED.
Jul 27 17:01:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=762260 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED FIXED, Check boxes and radio buttons animate when inside a popover that is opened
Jul 27 17:37:42 <bugbot>	New glib bug 769245 filed by yury.usischev@phystech.edu.
Jul 27 17:37:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769245 gvariant, minor, desrt, NEW , is_valid_heap_iter define misses NULL pointer check
Jul 27 17:43:19 <rudrab>	hi, I am trying to add keyboard shortcuts to my Menu. I am trying something like https://paste.gnome.org/p3ziakvlq (non working)
Jul 27 17:43:56 <rudrab>	will somebody please tell me how to get this ?
Jul 27 17:59:20 <rudrab>	?
Jul 28 04:00:15 <bugbot>	oholy@redhat.com changed the Component on bug 769238 from udisks2 volume monitor to gio.
Jul 28 04:00:15 <bugbot>	oholy@redhat.com changed the Product on bug 769238 from gvfs to glib.
Jul 28 04:00:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769238 gio, normal, gtkdev, NEW , memory increases every time I umount and mount my secondary hard disk.
Jul 28 04:58:45 <bugbot>	New gtk+ bug 769258 filed by normvcr@telus.net.
Jul 28 04:58:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:07:24 <bugbot>	ebassi@gmail.com changed the Status on bug 769258 from NEW --- to RESOLVED NOTABUG.
Jul 28 05:07:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED NOTABUG, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:08:12 <ebassi>	"Let's create stuff in a tight loop without letting the main loop even run! Let's use `top` to check if there's a leak!"
Jul 28 05:13:37 <Hussam>	perhaps there should be a gnome release or two that address just applications that mis-use gtk+, glib, etc... without new features.
Jul 28 05:18:24 <ebassi>	Hussam: Volunteer work is not fungible — you cannot ask people to work on what you want and not what they want
Jul 28 05:18:30 <ebassi>	Oh, well
Jul 28 05:31:36 <bugbot>	normvcr@telus.net changed the Resolution on bug 769258 from NOTABUG to FIXED.
Jul 28 05:31:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:34:39 <bugbot>	ebassi@gmail.com changed the Resolution on bug 769258 from FIXED to NOTABUG.
Jul 28 05:34:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED NOTABUG, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:55:39 <bugbot>	normvcr@telus.net changed the Resolution on bug 769258 from NOTABUG to FIXED.
Jul 28 05:55:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 07:27:40 *	ChanServ sets mode +q on #gtk+ Company
Jul 28 07:27:40 *	ChanServ gives channel operator status to Company
Jul 28 08:45:42 <mclasen>	Company: your comment bug 769076 is unclear to me
Jul 28 08:45:43 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769076 gobject, normal, gtkdev, NEW , Fix warning: attempt to override closure->va_marshal with new marshal
Jul 28 08:45:53 <mclasen>	what are you referring to with "the code" ?
Jul 28 08:47:58 <mclasen>	oh, now I get it
Jul 28 09:23:39 <Company>	mclasen: My biggest issue with the code is that I'm not sure what the purpose of the marshaller is
Jul 28 09:24:04 <Company>	mclasen: ie if a marshaller may do extra work or if we expect it to be always the same generic piece of code
Jul 28 09:24:48 <mclasen>	its purpose is to marshal arguments
Jul 28 09:25:28 <Company>	yeah, but is something like the cairo_save/restore we do in GtkWidget::draw intended to be allowed?
Jul 28 09:27:25 <mclasen>	I think questions about intent and purpose are very often futile
Jul 28 09:27:35 <mclasen>	who could even answer that, and why does it matter ?
Jul 28 09:27:46 <Company>	because if it is allowed, then the fix you did would have fixed a real critical bug (because it'd bypass that save/restore)
Jul 28 09:28:19 <mclasen>	you mean the patch I attached to the bug ? or what fix ?
Jul 28 09:28:24 <Company>	and if that wasn't intended, then keeping the va marhsllers would be a good idea (because it improves performance in cases where people pass the default marshaller anyway)
Jul 28 09:28:29 <Company>	yeah, that patch
Jul 28 09:29:45 <mclasen>	one thing is clear: the va marshaller must be functionally equivalent to the marshaller
Jul 28 09:29:46 <Company>	also, it might be useful to write a testcase that checks marshallers get called
Jul 28 09:30:10 <mclasen>	if gobject somehow messes that up by using implicitly set va marshallers, then thats a bug
Jul 28 09:30:41 <Company>	one thing is not clear: Does the marshaller have to be functionally equivalent to the marshaller that glib-genmarshal would have generated?
Jul 28 09:57:06 <mclasen>	they commonly are, but I think that is not a strict requirement
Jul 28 09:57:42 <mclasen>	I would expect it to be documented if they aren't (as we do for ::draw)
Jul 28 10:07:34 <oholy>	mclasen, hey
Jul 28 10:07:47 <mclasen>	hi
Jul 28 10:07:48 <oholy>	mclasen, please see the following code https://paste.gnome.org/p86qvasrz and screencast http://webmshare.com/byzvv 
Jul 28 10:08:07 <oholy>	mclasen, the label has wrong size after changing visibility, is this duplicate of Bug 767076?
Jul 28 10:08:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767076 Widget: Other, normal, gtk-bugs, RESOLVED WONTFIX, GtkGrid strange behavior with GtkSizeGroup
Jul 28 10:08:17 <ipun>	hi does anyone know what gtk_tree_view_column_cell_get_position() signals it triggers? It is causing a recursive loop from our MeasureEvent listener
Jul 28 10:08:28 <oholy>	mclasen, we have this problem in g-c-c, see https://bugzilla.gnome.org/attachment.cgi?id=331967
Jul 28 10:08:45 <oholy>	mclasen, I am afraid that we don't want to add several GtkStacks to workaround this... isn't there another way?
Jul 28 10:08:49 <oholy>	feborges, ^
Jul 28 10:12:34 <pranavg189>	hi ! I am developing a search provider for gnome logs....how can I see the debug messages of my search provider module
Jul 28 10:12:48 <baedert>	journalctl?
Jul 28 10:13:33 <pranavg189>	I am outputting the debug messages using g_debug()...can I see it's messages in journalctl
Jul 28 10:14:18 <mclasen>	you can launch your search provider manually with G_MESSAGES_DEBUG=all from a terminal
Jul 28 10:14:54 <mclasen>	or you can prefix the commandline the service file with systemd-cat to redirect its output to the journal
Jul 28 10:15:53 <pranavg189>	ok..will try that...thanks
Jul 28 10:17:59 <jwendell>	hi folks, I'm using the GtkAssistent widget, and upon startup of my program I'm seeing: Gtk-CRITICAL **: gtk_assistant_set_page_has_padding: assertion 'child != NULL' failed
Jul 28 10:18:09 <jwendell>	I'm building it using glade
Jul 28 10:18:22 <jwendell>	is it something known?
Jul 28 10:18:58 <mclasen>	oholy: there's no other way around it that I'm aware of
Jul 28 10:19:45 <oholy>	mclasen: ok :-( thanks
Jul 28 10:22:13 <ericwill>	mclasen / Company can we get a comment for https://bugzilla.gnome.org/show_bug.cgi?id=768902
Jul 28 10:22:13 <bugbot>	Bug 768902: .General, major, gtk-bugs, NEW , Font too small when using gtk_widget_override_font()
Jul 28 10:22:49 <rishi>	jwendell:  Hard to say without looking at the code and/or XML, I guess.
Jul 28 10:23:49 <baedert>	ericwill: I didn't understand why using css only works for default/initial font size
Jul 28 10:24:04 <mclasen>	ericwill: "There is a font size problem" is not really very concrete, as a problem description
Jul 28 10:24:05 <Company>	ericwill: I think we have patches that change things to multiply with dpi somewhere
Jul 28 10:24:18 <mclasen>	and the the testcase is using override_font
Jul 28 10:24:37 <Company>	ericwill: maybe we need to do that too in the override_font case (actually in the assign vfunc of the font css property)
Jul 28 10:25:06 <baedert>	mclasen: What else would it use?
Jul 28 10:25:09 *	Company no idea, hasn't looked at override_font() in ages
Jul 28 10:25:17 <ericwill>	mclasen Company let me clarify: the change in 3.21.x that calculates font sizes returns a significantly smaller size using the new DPI system
Jul 28 10:25:42 <mclasen>	here is what the docs say: 3.16: This function is not useful in the context of CSS-based
Jul 28 10:25:45 <mclasen>	 *   rendering. If you wish to change the font a widget uses to render its text
Jul 28 10:25:46 <mclasen>	 *   you should use a custom CSS style, through an application-specific
Jul 28 10:25:48 <mclasen>	 *   #GtkStyleProvider and a CSS style class.
Jul 28 10:26:17 <baedert>	I know, but given the bug title, of course it uses override_font
Jul 28 10:26:38 <ebassi>	I thought the issue in Eclipse was that setting the font-size in CSS didn't work
Jul 28 10:26:40 <Company>	ericwill: so we need to do the same math (or the reverse version) in the override_font() case it seems to me?
Jul 28 10:27:14 <ericwill>	Company most likely, using CSS uses the correct sizing but it introduces other issues that would require a lot of work for us
Jul 28 10:27:16 <mclasen>	baedert: but the description of the bug talks about 3.21 changes unrelated to override_font
Jul 28 10:27:25 <ericwill>	it would be easier to continue to use override_font
Jul 28 10:27:33 <mclasen>	as I said, not crisp enough of a bug to incite action
Jul 28 10:29:46 <jwendell>	rishi, I see, thanks. I'll ask for help when the code is on github then :)
Jul 28 10:31:42 <ericwill>	Company mclasen maybe the bug title was a bit vague
Jul 28 10:32:26 <mclasen>	looks like Company has an idea for how to keep override_font limping along a bit better
Jul 28 10:32:49 <ericwill>	okay
Jul 28 10:32:58 <ericwill>	our investigations lead us to gtkcssenumvalue
Jul 28 10:33:12 <Company>	ericwill: I think something like https://paste.fedoraproject.org/396880/14697163/ might work
Jul 28 10:33:13 <ericwill>	where the font size returned by font_size * get_dpi() / 72.0 are too small
Jul 28 10:33:39 <ericwill>	Company yeah that looks promising
Jul 28 10:33:52 <Company>	ericwill: didn't compile that and i might have done the order wrong - could you try it?
Jul 28 10:34:29 <ericwill>	will do
Jul 28 10:34:43 <Company>	the issue is probably that we report font sizes in PX inside css while the pango code uses PT
Jul 28 10:35:11 <Company>	so making sure we transform between them everywhere is an ongoing task
Jul 28 10:38:26 <Company>	ebassi, mclasen: Do we need to talk about the versioning results from the hackfest in some GTK guadec talk?
Jul 28 10:38:54 <mclasen>	we should, probably
Jul 28 10:39:08 <mclasen>	given that I'm talk-less this time (yay!), it'll have to be yours
Jul 28 10:39:41 <Company>	yeah, i guess i'll do that
Jul 28 10:40:11 <Company>	wish there was a schedule so I knew how much time was between my talk and the GTK bof
Jul 28 10:40:21 <Company>	so people have enough time to think about things
Jul 28 10:57:05 <bugbot>	New gtk+ bug 769275 filed by bugs@londonlight.org.
Jul 28 10:57:05 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769275 .General, normal, gtk-bugs, NEW , Add "Open containing folder" option to File Open window
Jul 28 11:14:55 <pochu>	can I have a quick ack for trivial patches? :) https://paste.debian.net/785795/ http://paste.debian.net/785796/
Jul 28 11:15:00 <pochu>	Company: ^
Jul 28 11:15:06 <ericwill>	Company the patch is great except for the order
Jul 28 11:15:12 <ericwill>	it should 96.0 / 72.0
Jul 28 11:15:17 <ericwill>	fixes our issue
Jul 28 11:15:20 <ericwill>	*should be
Jul 28 11:15:44 <baedert>	how could you possbily replace one lime with two limes!
Jul 28 11:16:18 <Company>	pochu: thx for looking at the testsuite! Patches look great
Jul 28 11:17:26 <pochu>	Company: thanks :) both pushed
Jul 28 11:18:24 <Company>	ericwill: which one should be switched? assign or query?
Jul 28 11:18:36 <ericwill>	Company I switched both of them
Jul 28 11:20:31 <Company>	that seems like an awful lot of multiplications...
Jul 28 11:21:01 <Company>	actually, the query func is run everywhere all the time?!
Jul 28 11:23:23 <ericwill>	Company this is the working patch: https://paste.fedoraproject.org/396921/69719353/
Jul 28 11:23:26 <ericwill>	just swapped the numbers
Jul 28 11:24:28 <Company>	ericwill: line 18 of that patch should make all text everywhere 1.3x larger than before
Jul 28 11:24:32 <Company>	I think
Jul 28 11:24:41 <mclasen>	isn't it silly to stuff 100 into number_value_get only to scale the value afterwards ?
Jul 28 11:24:59 <Company>	mclasen: number_value_get() is a stupid function
Jul 28 11:25:19 <Company>	mclasen: because it takes the value for 100% as the 2nd argument - even for numbers that don't support percentages
Jul 28 11:25:33 <ericwill>	Company ah so maybe change it only for the assign function?
Jul 28 11:26:08 <ericwill>	let me try that
Jul 28 11:26:11 <Company>	ericwill: that seems wrong too, becauise then assigning multiplies but querying doesn't...
Jul 28 11:26:46 <Company>	ericwill: but it seems we already convert when querying the "font" property - just not when querying font-size
Jul 28 11:28:21 <Company>	ericwill: I think it might be useful to move the conversion
Jul 28 11:32:50 <Company>	ericwill: can you try https://paste.fedoraproject.org/396929/97199451/ ?
Jul 28 11:34:39 <ericwill>	Company sure
Jul 28 11:35:01 <Company>	without the first patch ofc
Jul 28 11:40:56 <ericwill>	Company yeah that patch works
Jul 28 11:40:58 <ericwill>	fixes the bug
Jul 28 11:41:15 <Company>	then let's go with that one
Jul 28 11:41:56 <ericwill>	Company okay, will you commit it?
Jul 28 11:42:06 <Company>	i'm about to
Jul 28 11:42:49 <ericwill>	awesome, thanks for your help
Jul 28 11:56:21 <bugbot>	lrn1986@gmail.com changed the Status on bug 769126 from NEW --- to RESOLVED FIXED.
Jul 28 11:56:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769126 Backend: Win32, normal, gtk-win32-maint, RESOLVED FIXED, Can't type astral plane characters into a GtkEntry using the Windows 10 touch keyboard
Jul 28 13:27:40 <bugbot>	mclasen@redhat.com changed the Status on bug 768902 from NEW --- to RESOLVED FIXED.
Jul 28 13:27:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768902 .General, major, gtk-bugs, RESOLVED FIXED, Font too small when using gtk_widget_override_font()
Jul 28 14:18:16 <bugbot>	New glib bug 769284 filed by msanchez@gnome.org.
Jul 28 14:18:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769284 general, normal, gtkdev, NEW , Don't enable libmount by default for now
Jul 28 14:29:57 <bugbot>	msanchez@gnome.org changed the Status on bug 769284 from NEW --- to RESOLVED FIXED.
Jul 28 14:29:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769284 general, normal, gtkdev, RESOLVED FIXED, Don't enable libmount by default for now
Jul 28 14:57:12 <tonyctl>	hey I'm having an issue where I call gtk_widget_show_all() on my widget and it doesn't get mapped
Jul 28 14:57:22 <tonyctl>	can anyone give me some tips on how to debug it?
Jul 28 14:57:50 <baedert>	... is the parent of the widget mapped?
Jul 28 14:58:44 <tonyctl>	it's not showing up on the screen
Jul 28 14:59:26 <baedert>	check the mapped status and allocation of the widget and all parent widgets with the inspector
Jul 28 14:59:45 <tonyctl>	I checked mapped status and it says it's mapped
Jul 28 15:00:49 <tonyctl>	I never get a createnotify from the x server
Jul 28 15:04:04 <swilmet>	tonyctl: gtk_widget_set_no_show_all() ?
Jul 28 15:07:14 <tonyctl>	swilmet: that didn't seem to affect it
Jul 28 15:07:55 <tonyctl>	I'm working on a bug in a complicated application framework called cef so I think it might be a threading issue
Jul 28 15:07:59 <swilmet>	tonyctl: I meant, if it's called somewhere, you should either remove it or call gtk_widget_show()
Jul 28 15:09:08 <swilmet>	tonyctl: gtk functions should be called only from the main thread
Jul 28 15:10:19 <tonyctl>	yeah I looked into that and it seems like everything is running on the main thread
Jul 28 15:11:34 <tonyctl>	also maybe like 1/20 times it works properly
Jul 28 15:12:14 <tonyctl>	here is the bug I filed in cef: https://bitbucket.org/chromiumembedded/cef/issues/1946/linux-cefclient-example-hangs-when-opening
Jul 28 15:56:39 <iulianradu>	there's no way to remove a single item from a GtkListBox?
Jul 28 15:56:56 <iulianradu>	Without binding a model to it
Jul 28 15:57:04 <baedert>	there's always gtk_container_remove
Jul 28 15:57:20 <iulianradu>	Oh, right
Jul 28 16:19:56 <tonyctl>	so cef has some calls that interact with the xwindow of the gtk widget
Jul 28 16:20:17 <tonyctl>	if I set xlib to make all its calls to be synchronous, I don't get that bug
Jul 28 16:21:02 <tonyctl>	I wonder if there was some bad interactions between gtk and xlib
**** ENDING LOGGING AT Thu Jul 28 16:34:33 2016

**** BEGIN LOGGING AT Thu Jul 28 16:34:59 2016

Jul 28 16:34:59 *	Now talking on #gtk+
Jul 28 16:34:59 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 28 16:34:59 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 28 16:39:19 <rudrab>	Hi Friends, Is it possible to add a MenuButton to a treeview? which property should it be in corresponding ListStore?
Jul 28 16:39:55 <halfline>	tonyctl: missing XInitThreads() call ?
Jul 28 16:40:38 <tonyctl>	halfline: a grep for XInitThreads turns up nothing
Jul 28 16:40:44 <tonyctl>	when should that be called in relation to gtk?
Jul 28 16:40:49 <halfline>	before gtk_init
Jul 28 16:46:21 <tonyctl>	halfline: that doesn't seem to help the problem
Jul 28 16:46:30 <halfline>	okay just a stab in the dark
Jul 28 16:46:32 <tonyctl>	but it does seem like a mistake not to call it
Jul 28 16:47:02 <tonyctl>	I think maybe they are missing a flush somewhere
Jul 28 16:47:05 <halfline>	honestly probably a better bet to move your X calls to the main thread
Jul 28 16:47:18 <halfline>	if possible
Jul 28 16:47:54 <tonyctl>	I haven't checked if all the X calls happen on the main thread, but that would probably be my next move
Jul 28 16:48:57 <halfline>	oh guess i misunderstood you
Jul 28 16:53:12 <bugbot>	New gtk+ bug 769287 filed by lists.ban@herbesfolles.org.
Jul 28 16:53:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769287 Widget: Other, normal, gtk-bugs, NEW , GtkMenuToolButton:show-menu is emitted twice and breaks dynamic menus
Jul 28 17:50:04 <rudrab>	anyone please?
Jul 28 21:02:32 <hugomg>	Hello there! I'm working on getting rid of deprecation warnings from an existing gtk program and right now the most common complaint  GTK has is the "use-stock" property in GtkButton
Jul 28 21:03:53 <hugomg>	However, I can't figure out how I'm supposed to change my code to get rid of this warning. The current system with "stock items" puts both a nice icon and a translated label in the button. Am I supposed to try to replicate this by hand using images (with appropriate "icon-name") and a separate label?
Jul 28 21:04:45 <hugomg>	Or should I get rid of one of  the two (the label or the icon)? I heard somewhere that GTK is discouraging developers from putting icons in buttons now.
Jul 28 21:28:08 <mclasen>	hugomg: if you want to keep both icon and label  in buttons without using deprecated api, use gtk_button_set_label and gtk_button_set_image
Jul 28 21:28:44 <hugomg>	the part that confuses me the most is whether I even should
Jul 28 21:29:02 <hugomg>	because in the new api they separated the icon and label, which used to be defined together
Jul 28 21:29:58 <mclasen>	buttons with icons and labels have certainly become unfashionable 
Jul 28 21:30:12 <hugomg>	I mean, whoever originally coded those button only made it have both image and label because thats what "use-stock" did.
Jul 28 21:30:25 <mclasen>	right
Jul 28 21:31:41 <mclasen>	in that case, just using gtk_button_new_with_label will give you a button with a label
Jul 28 21:32:01 <mclasen>	and gtk_button_from_from_icon_name will give you a button with an icon
Jul 28 21:32:42 <hugomg>	if I use a label I need to call some function to translate it don't I?
Jul 28 21:32:50 <hugomg>	The "use-stock" used to do that as well
Jul 28 21:32:56 <mclasen>	yes
Jul 28 21:34:16 <mclasen>	if your application is set up for translations with gettext, then just using _("My label") is enough
Jul 28 21:34:56 <hugomg>	the application is in Lua so I'll need to figure out what is its equivalent to the "_" bit
Jul 28 21:35:15 <hugomg>	but in any case, are there "default" labels for things like "Open" , "Close" and so on?
Jul 28 21:35:26 <hugomg>	and where would I find a list, if so?
Jul 28 21:36:44 <GvP>	hello I had a question regarding the theme for rhythmbox, I believe that it's hard to differentiate whether the shuffle and repeat buttons are selected using the visible indicator
Jul 28 21:37:25 <GvP>	and was thinking that there may be a way to display them better such as inverting or highlighting more
Jul 28 21:37:25 <mclasen>	well, thats what the stock system is
Jul 29 05:43:47 <nacho>	ebassi, hey
Jul 29 05:44:05 <nacho>	ebassi, any chance to release json-glib? :)
Jul 29 05:48:28 <ebassi>	nacho: Ah, yes. Will do it now.
Jul 29 05:49:54 <nacho>	ebassi, thanks
Jul 29 06:21:21 *	ChanServ sets mode +q on #gtk+ Company
Jul 29 06:21:21 *	ChanServ gives channel operator status to Company
Jul 29 08:04:47 <nicknameitis>	just so if anyone is interested (i removed signal and throtling in last minute, but they will be back soon), data binding poc has now much more improved. there is a working demo and tutorial (in demo) so it is really easy to see what it is about and how it does it if you simply check tutorial https://github.com/therebedragons101/data_binding_poc_vala
Jul 29 08:54:28 <visarion>	Weird problem for me. Whatever I do, even if I view the gtk3-demo, I can't see a Spinner using jhbuild 
Jul 29 09:17:51 <The_gull>	visarion: `jhbuild run gsettings set org.gnome.desktop.interface enable-animations true` ?
Jul 29 09:20:05 <visarion>	The_gull: I ran that command, but still I can't view the Spinner in gt3-demo
Jul 29 09:20:35 <visarion>	gtk3-demo *
Jul 29 09:21:22 <ebassi>	visarion: Are you running GNOME inside a VM?
Jul 29 09:21:32 <visarion>	ebassi: No
Jul 29 09:22:03 <ebassi>	visarion: Which desktop environment are you using to build gtk3-demo under jhbuild?
Jul 29 09:22:15 <visarion>	fedora 24
Jul 29 09:22:24 <ebassi>	Running GNOME?
Jul 29 09:22:28 <visarion>	yeah
Jul 29 09:22:36 <ebassi>	Mmh
Jul 29 09:22:52 <The_gull>	visarion: a custom theme ?
Jul 29 09:23:07 <visarion>	the spinner stopped showing while still on fedora23, I don't know why
Jul 29 09:23:18 <visarion>	never saw the spinner after that, under jhbuild
Jul 29 09:23:28 <visarion>	no custom theme
Jul 29 09:24:27 <visarion>	it's not a big problem for me, as I can test what I code regarding the Spinner outside of jhbuild
Jul 29 09:24:52 <baedert>	do you have adwaita-icon-theme built?
Jul 29 09:24:53 <ebassi>	visarion: What does `glxinfo | grep "renderer string"` say?
Jul 29 09:25:37 <visarion>	OpenGL renderer string: Mesa DRI Intel(R) HD Graphics 5500 (Broadwell GT2) 
Jul 29 09:26:12 <ebassi>	Okay, so the system is not disabling animations because it cannot keep up
Jul 29 09:26:30 <ebassi>	I'm out of ideas
Jul 29 09:26:45 <ebassi>	And I cannot reproduce, here on Fedora 24 and Intel
Jul 29 09:26:46 <baedert>	icon theme, svg loader?
Jul 29 09:28:49 <visarion>	baedert: I don't think I played with any of that
Jul 29 09:29:05 <visarion>	so they are default I guess
Jul 29 09:30:39 <baedert>	the default was gnome-icon-theme once and then switched to adwaita-icon-theme
Jul 29 11:10:24 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Jul 29 11:10:24 2016

**** BEGIN LOGGING AT Fri Jul 29 11:10:38 2016

Jul 29 11:10:38 *	Now talking on #gtk+
Jul 29 11:10:38 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 29 11:10:38 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 29 11:45:38 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Jul 29 11:45:38 2016

**** BEGIN LOGGING AT Fri Jul 29 11:45:52 2016

Jul 29 11:45:52 *	Now talking on #gtk+
Jul 29 11:45:52 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 29 11:45:52 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 29 11:46:57 <garnacho_>	the double emission is unfortunate though
Jul 29 11:51:27 <jmd>	In gtk3 I continually get lots of warnings like:
Jul 29 11:51:31 <jmd>	 Gtk-WARNING **: Drawing a gadget with negative dimensions. Did you forget to allocate a size? (node buttonbox owner PsppireVButtonBox)
Jul 29 11:52:14 <baedert>	missing chain up in size allocate?
Jul 29 11:53:42 <jmd>	baedert: Could be ...
Jul 29 12:45:10 <mgorse>	mclasen: I'm not sure if you're the person to ask, but do you know if anyone has looked at bgo#768738? I can't tell because the bug isn't public
Jul 29 12:45:56 <mclasen>	I asked Company to look at it, if thats the one I'm thinking of
Jul 29 12:46:34 <Company>	it isn't
Jul 29 12:46:43 <Company>	because i'm not authorized on that one :)
Jul 29 12:46:56 <mgorse>	Okay. Patch looks okay to me, fwiw. It's against gdk-pixbuf
Jul 29 12:47:05 <mclasen>	try now
Jul 29 12:47:36 <mclasen>	we had some existential questions around security of gdk-pixbuf
Jul 29 12:47:51 <mclasen>	and I think thats where we left things the last time we talked about it
Jul 29 12:49:17 <Company>	yeah
Jul 29 12:49:30 <Company>	every time another security bug rolls in about gdk-pixbuf I get existential
Jul 29 12:49:49 <mgorse>	Yeah, there have been quite a few of them
Jul 29 12:49:58 <Company>	plugging holes in swiss cheese doesn't feel very rewarding
Jul 29 13:54:38 <throwaway849>	does anyone know how to have a gtk program run when linux starts?
Jul 29 14:02:40 <lufimtse>	hullo folks. I have an async function that has a callback. I need to turn that into a syncronous call like "result = my_async_function()". Is there a good way of doing it? (I've looked at GTask, seems kinda complicated? anyone has a snippet?)
Jul 29 14:03:01 <baedert>	GTask is how you make something async, not sync
Jul 29 14:03:07 <lufimtse>	I see
Jul 29 14:03:13 <lufimtse>	any good method to go the other way?
Jul 29 14:03:30 <baedert>	you *could* create a new mainloop, but... why do you want to do that?
Jul 29 14:03:53 <lufimtse>	I"m a library developer, our call is syncronous, but underlying call is async
Jul 29 14:04:25 <lufimtse>	spin lock?
Jul 29 14:04:28 <baedert>	that's kind of useless, that sync call might block even undefined amount of time...
Jul 29 14:04:39 <baedert>	yes, essentially
Jul 29 14:04:46 <lufimtse>	it runs in it's own thread, so I guess... 
Jul 29 14:04:56 <lufimtse>	in it's own async thread
Jul 29 14:05:08 <lufimtse>	like an async thread calling another async thread...
Jul 29 14:05:34 <lufimtse>	baedert, do you know of any good spin lock mechanism, does glib have something build in or just regular pthreads?
Jul 29 14:08:57 <baedert>	I have only seen that being done in https://git.gnome.org/browse/librest/tree/rest/rest-proxy-call.c?h=librest-0-7#n1403
Jul 29 14:25:29 <lufimtse>	baedert, I guess go with GMutex instead?
Jul 29 14:25:43 <lufimtse>	considering it'll be run in the context of a single thread
Jul 29 14:26:25 <tonyctl>	hey how do I get a gtk window from a gtk widget?
Jul 29 14:27:15 <baedert>	gtk_widget_get_toplevel
Jul 29 14:27:52 <tonyctl>	oh ok then you can cast it to gtk window?
Jul 29 14:28:11 <baedert>	first check if it even is a GtkWindow
Jul 29 17:25:27 <tonyctl>	my gtk window is telling me it doesn't have focus when I know it does
Jul 29 20:15:02 <hotcfoch>	 is there a way to obtain the list of callbacks which were connected to a gobject?
Jul 30 03:57:27 <baedert>	Eh, isn't there always only one GdkDisplay?
Jul 30 05:31:14 <ernestask>	hey, garnacho_, will we get to see the fix for bug 764060 backported to 3.20?
Jul 30 05:31:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764060 Widget: GtkPopover, normal, gtk-bugs, RESOLVED FIXED, opening a second nautilus while a delete operation is in progress results in a broken window
Jul 30 05:32:20 <garnacho_>	oops, I thought it was
Jul 30 05:35:15 <garnacho_>	ernestask: it's now in gtk-3-20
Jul 30 05:35:32 <ernestask>	awesome, thanks, garnacho_
Jul 30 06:10:14 <LRN>	which version of gtk does the development version of gimp use?
Jul 30 06:12:04 <baedert>	it requires 2.24
Jul 30 06:21:09 <rudrab>	Hi, may someone kindly have a look at http://stackoverflow.com/questions/38672761/emmit-signal-when-a-cell-renderer-changes-without-editing
Jul 30 06:23:00 <bugbot>	New gtk+ bug 769326 filed by me@hussam.eu.org.
Jul 30 06:23:01 <bugbot>	Trace: gtk_scale_get_layout, gtk_scale_accessible_get_description, object_get_property, g_closure_invoke, signal_emit_unlocked_R (Possibly not interesting)
Jul 30 06:23:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, normal, gtk-bugs, NEW , gnome-control-center universal panel crashes with gtk-3-20 branch
Jul 30 06:23:27 <Hussam>	I also linked to the gtk+ checkin that introduced the crash.
Jul 30 06:26:33 *	baedert hides
Jul 30 07:06:29 <rudrab>	anyone please?
Jul 30 07:07:27 <rudrab>	basically I am trying to place a combobox inside a cell
Jul 30 07:12:26 <The_gull>	rudrab: inside a GtkTreeView, you mean ?
Jul 30 07:12:42 <rudrab>	The_gull:yes
Jul 30 07:13:47 <The_gull>	rudrab: there’s GtkCellRendererCombo
Jul 30 07:14:42 <rudrab>	The_gull: Thats what I am trying to do. But I am trying to only get the signal on click, but GtkCellRendererCombo is also replacing the string
Jul 30 07:15:08 <iulianradu>	I'd like to have a GSequence or a GList as a property. Do I need to make register that as a boxed type first?
Jul 30 07:15:30 <rudrab>	The_gull: I am following http://python-gtk-3-tutorial.readthedocs.io/en/latest/cellrenderers.html#cellrenderercombo
Jul 30 07:16:25 <rudrab>	while I just want to get the on_combo_changed activated, I dont want to replace the string
Jul 30 07:18:33 <The_gull>	rudrab: what are you trying to archive ? a combobox is something that let the user select something between multiple choice, is that really your need ?
Jul 30 07:20:40 <rudrab>	The_gull: yes. I just need to select something, rest will be done on the function
Jul 30 07:21:05 <rudrab>	But, as in the example, the choice is replaced in the string
Jul 30 07:21:11 <rudrab>	which I dont want
Jul 30 07:26:42 <The_gull>	rudrab: how do you want the user to know about the currently selected option ?
Jul 30 07:28:06 <rudrab>	The_gull: user will just click on the combobox option, and no option is selected by default
Jul 30 07:31:52 <The_gull>	rudrab: I’d suggest using a GtkCellRendererCombo with, as a first choice, a « -- Select your option -- » entry ; else, you’re on your own, because what you want is not a standard GtkCellRenederer, and such a design not even exists as a standard GtkWidget…
Jul 30 08:18:23 *	ChanServ sets mode +q on #gtk+ Company
Jul 30 08:18:23 *	ChanServ gives channel operator status to Company
Jul 30 08:30:27 <rudrab>	The_gull: ping
Jul 30 11:07:06 <nacho_>	ebassi, hey
Jul 30 11:07:20 <nacho_>	ebassi, fyi https://github.com/wingtk/gtk-win32/commit/db06b1960d1d04be9b8284f46ccfc9b43f979757
Jul 30 13:16:50 <Kostic>	Hi everyone. Where can I find the css with which I can turn GtkButtons to blue and red (as in gnome-screenshot and in gnome-sound-recorder)?
Jul 30 13:17:35 <Kostic>	Actually, this one is more for #gnome.
Jul 30 13:18:56 <borschty>	for red, add the "destructive-action" style class to a button
Jul 30 13:19:18 <Kostic>	Really? That's... Simple. :)
Jul 30 13:20:01 <borschty>	and blue is "suggested-action"
Jul 30 13:20:24 <borschty>	(of course the colors you will get depend on the theme)
Jul 30 13:20:32 <baedert>	https://developer.gnome.org/Buttons/
Jul 30 13:29:41 <baedert>	attente: hey, have you checked menubars in master? http://i.imgur.com/suIveVK.png
Jul 30 13:32:11 <Kostic>	Ok, how do I translate 'context = gtk_widget_get_style_context (button); gtk_style_context_add_class (context, "image-button");' to Python3? I've tried 'context = button.get_style_context(); button.add_class(context, "suggested-action")' but that obviously doesn't work.
Jul 30 13:35:10 <ernestask>	shouldn’t it be context.add_class()?
Jul 30 13:36:31 <Kostic>	Yes. You are right. :)
Jul 30 13:36:46 <Kostic>	Thanks borschty, baedert and ernestask!
Jul 30 13:38:08 <jmd>	It seems that if there is no dbus daemon running, g_spawn_async fails, yet returns TRUE.  Is this a bug?
Jul 30 22:52:39 <Rhetorical>	I'm having problems with a dark gtk 3.0 theme and nm-applet. The theme has applied to everything except the background of text boxes (e.g., the whole right-click menu for the icon, the dropdown lists, the connection information box, etc.), so I've ended up with light text on the default light background. I've done some googling, but not had any luck. Where
Jul 30 22:52:39 <Rhetorical>	would be a good place to start looking for a solution?
Jul 30 23:36:07 <Company>	Rhetorical: the easiest solution may be restarting nm-applet and hoping it's a bug resulting from switching the theme that goes away with the restart
Jul 31 05:53:52 <The_gull>	Rhetorical: open a bug against the theme..?
Jul 31 08:19:32 <baedert>	jadahl: hey, are menus under wayland with gtk master supposed to be correctly positioned or does the new positioning need a wayland impl first?
Jul 31 09:29:22 <jadahl>	baedert: the implementation is there, the protocol it depneds on is not yet
Jul 31 09:29:34 <jadahl>	there as in on a branch, not on master
Jul 31 09:37:31 <baedert>	jadahl: ah ok thanks
Jul 31 11:07:42 <The_gull>	I have warnings trying to unblock signals that are not blocked ; how can I check if a signal is blocked or not ?
Jul 31 11:33:27 <ElementW>	Hi, is it possible to change the window's shadow color/opacity when using a CSD-enabling HeaderBar at runtime ? I've tried the ".window-frame { box-shadow: none; }" trick, to no avail
Jul 31 12:10:55 <fmuellner>	ElementW: it depends on the gtk+ version you are using, "decoration { box-shadow: none; }" works here (with 3.20/master)
Jul 31 12:13:26 <ElementW>	Oh nice, it works. Thanks for the tip fmuellner
Jul 31 13:33:34 <ElementW>	Is there a way to prevent GTK3 from shading widgets when the windows is unfocused ?
Jul 31 13:52:36 <arun>	I have a treemodel that I would like to use with entrycompletion, but it seems that only the root nodes are used for completion. Is there a way to use all leaves in the tree for this?
Jul 31 22:05:10 <raymod2>	Is it feasible to compile a GTK application to run on both 32-bit and 64-bit Linux?
Jul 31 22:06:56 <raymod2>	When I compile the GTK application in a 64-bit Fedora VM it won't run on a 32-bit Fedora VM (which makes sense).  But also when I compile the GTK application in a 32-bit Fedora VM it won't ron on a 64-bit VM.  It complains about missing shared libraries (ie. libgtk-3.so.0).
Jul 31 22:09:17 <TingPing>	raymod2, just make two packages..
Jul 31 22:11:19 <raymod2>	I guess that is an option.  I don't think my application benefits from 64-bit, though, so I would rather distribute just one package.  That's my strategy on Windows.
Jul 31 22:12:17 <TingPing>	some distros support multilib, but that is generally only for proprietary things that can't be rebuilt
Jul 31 22:12:54 <raymod2>	OSX doesn't have this problem because they are 64-bit only.
Jul 31 23:34:17 <benwaffle>	OSX has multilib
Jul 31 23:34:35 <benwaffle>	multiple architectures in a single file
Aug 01 00:25:00 <raymod2>	benwaffle - yeah that's for older OSX versions - it's been 64-bit only for awhile
Aug 01 00:27:00 <raymod2>	OSX 10.7 (Lion) released in Oct 2010 dropped support for 32-bit processors
Aug 01 00:27:44 <raymod2>	ooops (July 2011)
Aug 01 00:52:43 <grawity>	distributing "only 32-bit" is going to be a pain in the ass for many people, too
Aug 01 00:53:05 <grawity>	esp. on distros like Arch, where the /huge/ majority is 64-bit
Aug 01 05:17:49 <ofourdan>	q
Aug 01 05:48:46 <iulianradu>	baedert: Hi! I'd like to retrieve some data from some widgets inside a dialog when the dialog is being destroyed. Where should I do that?
Aug 01 05:51:17 <baedert>	umm delete-event? dunno
Aug 01 05:55:54 <iulianradu>	baedert: Actually, I was hoping to override/connect to a signal of a child widget of that dialog (which is not a toplevel window) and save that from that widget when that widget is destroyed.
Aug 01 05:57:20 <iulianradu>	save data from it's children*
Aug 01 05:57:42 <iulianradu>	I tried overriding destroy () for that widget but sometimes it's children are destroyed before I can call get_text () and such
Aug 01 05:58:21 <baedert>	get_text on the toplevel?
Aug 01 06:02:49 <ebassi>	iulianradu: You cannot really know the state of the widgets during destruction
Aug 01 06:03:10 <iulianradu>	baedert: On a entry inside the widget whose signal I override.
Aug 01 06:03:50 <iulianradu>	ebassi: Is there a moment when I know their state before destruction?
Aug 01 06:03:58 <ebassi>	iulianradu: What kind of data are you trying to get, and for what purpose?
Aug 01 06:04:41 <ebassi>	iulianradu: In general, you don't gather data when you get to the destruction phase; you update your model whenever the widgets state change
Aug 01 06:05:15 <ebassi>	https://developer.gnome.org/gtk3/unstable/GtkWidget.html#GtkWidget-destroy — as per doc :-)
Aug 01 06:05:47 <iulianradu>	ebassi: Title/uri of a bookmark. I was hoping not to save everything to a file each time I change the text inside an entry
Aug 01 06:06:30 <baedert>	you can save on confirm and/or delete-event of the toplevel I guess?
Aug 01 06:07:06 <ebassi>	iulianradu: You can install a timeout and coalesce multiple changes
Aug 01 06:07:52 <ebassi>	iulianradu: But, in general, you should save to a file when the dialog is closed
Aug 01 06:08:09 <ebassi>	(assuming it's a GtkDialog, then it's a simple case of connecting to the "response" signal)
Aug 01 06:08:34 <ebassi>	iulianradu: You can save to file on destroy; what you cannot do is query the widgets during destruction
Aug 01 06:09:47 <ebassi>	iulianradu: Basically, you update a bunch of stored strings every time the GtkEntry changes; then, on the dialog's destruction you save those strings to a file — or, better yet, you queue an idle that saves to a file
Aug 01 06:09:51 <iulianradu>	baedert, ebassi: I'm also using my widget (a Grid) in a popover. I was hoping to save everything when the grid is destroyed, not it's toplevel
Aug 01 06:09:54 <ebassi>	to avoid blocking the widget destruction
Aug 01 06:10:29 <ebassi>	Or queue a GTask
Aug 01 06:10:35 <ebassi>	(even better)
Aug 01 06:12:13 <iulianradu>	ebassi: That would work
Aug 01 06:12:24 <ebassi>	If you want to get fancy, you could create a small object that holds the title and uri of a bookmark as two properties, and use a property binding to keep those two properties in sync with the GtkEntry:text one
Aug 01 06:12:53 <ebassi>	Then, when the grid gets destroyed, you pass the object to a GTask that saves the contents of the object into a file
Aug 01 06:13:53 <iulianradu>	ebassi: Oh! That's great! I already have the object
Aug 01 06:14:32 <iulianradu>	baedert, ebassi: Thanks for help!
Aug 01 06:20:29 <ebassi>	iulianradu: np
Aug 01 06:30:36 <jaeckel>	lo
Aug 01 06:34:57 <jaeckel>	I'm using GIOChannel from glib 2.44.1 to read data from a serial port, we just found out that if the serial device outputs a string that ends in ",B\r" the GIO channel seems to eat up the 
Aug 01 06:35:44 <baedert>	the suspense is killing me
Aug 01 06:35:53 <jaeckel>	",B" and it was never seen again... and it happens always... I roughly searched for it, but couldn't find any hint, is that familiar to someone else?
Aug 01 06:36:06 <jaeckel>	sorry for the accidental error in between :D
Aug 01 06:36:12 <jaeckel>	s/error/enter
Aug 01 06:37:13 <jaeckel>	and sorry for the bad grammar...
Aug 01 06:46:34 <mceier>	I assume that you're checking serial device output, by printing it on the console: \r is control code that means to return to the begining of line - if you're outputting ",B\r" to console, anything that follows will overwrite ",B". 
Aug 01 07:00:09 <jaeckel>	well, but that doesn't explain why it does that only for ",B" if I have ",[ACD]" it works fine...
Aug 01 07:15:45 <jaeckel>	what is also weird is that if I use g_io_channel_set_line_term(data_channel, "\r", -1); I receive nothing, if I add "\n" there I receive something... I also do g_io_channel_set_encoding(data_channel, NULL, NULL); ...
Aug 01 07:16:39 <jaeckel>	and just to make it clear, yes the serial device sends \r(0x0d) as line terminator
Aug 01 07:54:21 <jaeckel>	okay, the serial port has the ICRNL option set which explains the \r to \n translation
Aug 01 07:59:54 <jaeckel>	and ICANON
Aug 01 07:59:59 <jaeckel>	sorry for bothering you
Aug 01 08:02:34 <rudrab>	Hi, how I can add a row index to a treeview? I am currently doing that a bit artificially as https://paste.gnome.org/pamp65exv
Aug 01 08:02:49 <rudrab>	But this is giving more problem then solutions
Aug 01 08:07:23 <jaeckel>	thx for your help btw
Aug 01 08:07:24 <jaeckel>	bye
Aug 01 08:18:06 <garnacho>	rudrab: sounds like an usecase for Gtk.TreeViewColumn's set_cell_data_func()
Aug 01 08:30:54 <LRN>	what's the vala equivalent of #ifdef G_OS_WIN32 ?
Aug 01 08:32:51 <rudrab>	garnacho: thanks, but the problem is to get the row index itself. When I am editing, I can get the row number from get_selected_rows().get_indices(), but when inserting a new line(like opening from a file), how I will get the row number?
Aug 01 08:41:33 <garnacho>	rudrab: the cell data func is run to set up the cell renderer before doing anything involved with any given row. In the callback you are given the current iter that's being set up, if you pull the index from there and set it as the cell renderer text, you get a self-numbering column/renderer
Aug 01 08:41:41 <garnacho>	rudrab: see https://developer.gnome.org/gtk3/stable/GtkTreeViewColumn.html#GtkTreeCellDataFunc
Aug 01 08:54:59 <mclasen>	baedert: what commit did you mean in bug 769326 ?
Aug 01 08:55:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, critical, gtk-bugs, NEW , gnome-control-center universal panel crashes with gtk-3-20 branch
Aug 01 08:56:00 <bugbot>	mclasen@redhat.com changed the Status on bug 769194 from NEW --- to RESOLVED WONTFIX.
Aug 01 08:56:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769194 Themes, enhancement, gtk-bugs, RESOLVED WONTFIX, Adwaita: proof of concept of a red variant
Aug 01 09:17:31 <bugbot>	mclasen@redhat.com changed the Status on bug 769162 from NEW --- to RESOLVED FIXED.
Aug 01 09:17:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769162 .General, normal, gtk-bugs, RESOLVED FIXED, GtkTable: compute_expand buggy
Aug 01 09:26:29 <baedert>	mclasen: grml
Aug 01 09:27:02 <baedert>	mclasen: 38f71172f89d4f80a5d852a7b822bb944ba82934
Aug 01 09:28:46 <mclasen>	thanks'
Aug 01 11:08:27 <owen>	I add an action to a GtkApplicationWindow, I put a button in that window, I set the action-name of the button to <action_name> or win.<action-name>, it stays disabled - is there anything else i need to do?
Aug 01 11:09:18 <mclasen>	that should be sufficient
Aug 01 11:09:19 <owen>	(I can obviously hook it up manually, but trying to be "modern")
Aug 01 11:09:22 <mclasen>	let me find an example
Aug 01 11:10:11 <owen>	Oh, underscore vs. - problem
Aug 01 11:10:53 <mclasen>	ah
Aug 01 11:11:01 <owen>	convention seems to be actions are _ but I expected them to use - like signals/props so got confused and used a _ in one place and a - in another
Aug 01 11:11:07 *	mclasen ponders if we could have a helpful error message for that case
Aug 01 11:11:19 <mclasen>	a la 'did you mean foo_bar instead of foo-bar ?'
Aug 01 11:13:11 *	fmuellner don't remember ever seeing underscores in action names
Aug 01 11:13:35 <owen>	Perhaps, not sure that it common
Aug 01 11:13:59 <owen>	Probably would have been good to *forbid* underscores in action names, but too late for that
Aug 01 11:15:05 <owen>	Or maybe they were forbidden, in which case a warning could be added to the set-action-name code path
Aug 01 11:41:05 *	ChanServ sets mode +q on #gtk+ Company
Aug 01 11:41:05 *	ChanServ gives channel operator status to Company
Aug 01 12:48:57 <bugbot>	New glib bug 769391 filed by jeremie.galarneau@gmail.com.
Aug 01 12:48:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769391 gmodule, normal, gtkdev, NEW , g_module_open returns the wrong error when loading libtool convenience libraries
Aug 01 13:08:51 <hotcfoch>	hi
Aug 01 13:09:02 <hotcfoch>	is it possible to get the list of callback functions for a g_obect?
Aug 01 13:14:51 <swilmet>	hotcfoch: for a certain signal, call g_signal_lookup() and g_signal_handler_find()
Aug 01 13:18:21 <ebassi>	hotcfoch: I cannot think of any non-evil things you may want to do with that information
Aug 01 13:18:29 <ebassi>	hotcfoch: What is it that you're trying to achieve?
Aug 01 13:19:57 <swilmet>	there is a useful use-case: block all signal handlers temporarily
Aug 01 13:21:10 <swilmet>	when we set a certain value to a property temporarily (we re-set back the old value afterwards)
Aug 01 13:21:17 <hotcfoch>	ebassi: I have a attribute foo (gobject), and a method resetFoo that replaces foo by other (gobject) but keeping the connected signal handlers
Aug 01 13:24:02 <halfline>	hotcfoch: icky
Aug 01 13:24:27 <halfline>	hotcfoch: what about g_object_set_data ? what if the code that set up the handlers keeps a reference to the object outside the callback?
Aug 01 13:25:20 <halfline>	it'd be better to provide a way for the first object to subsume the data from the second object, but stick around i think.
Aug 01 13:31:43 <hotcfoch>	halfline: what info does data contain?
Aug 01 13:32:00 <halfline>	anything the user wants to put in it
Aug 01 13:34:48 <swilmet>	hotcfoch: create a property for the foo attribute, and on the notify signal the callbacks need to be connected on the new object (but this is done by the users of the class, not the class itself)
Aug 01 13:36:23 <swilmet>	hotcfoch: but it means that the users of the class need to keep around a pointer to the old object, so instead of notify, you could provide a signal foo-changed(old_foo, new_foo)
Aug 01 13:46:35 <tonyctl>	do I need to do anything special to make gtkglext work on gtk2?
Aug 01 14:02:15 <LRN>	gtk2 is soo-o-o last century
Aug 01 14:02:16 <ebassi>	tonyctl: You'll need lots of hope, most likely
Aug 01 14:02:33 <ebassi>	tonyctl: GtkGLExt hasn't been touched in many moons
Aug 01 14:02:44 <ebassi>	It *should* work
Aug 01 14:02:54 <tonyctl>	it only works in unity
Aug 01 14:03:22 <tonyctl>	I think it has something to do with compiz being an opengl compositor
Aug 01 14:03:45 <ebassi>	To be fair, anything newly written that still uses gtk2 and legacy GL in 2016 is probably not going to go far in terms of reliability and/or testing
Aug 01 14:04:01 <tonyctl>	oh it's not at all
Aug 01 14:04:06 <ebassi>	tonyctl: GL should work (on X11) regardless of the presence of a compositor
Aug 01 14:04:30 <tonyctl>	I'm getting x11 errors and my window isn't opening
Aug 01 14:04:42 <ebassi>	tonyctl: Which X11 errors are you getting?
Aug 01 14:05:14 <tonyctl>	I think they are badwindow
Aug 01 14:06:16 <ebassi>	Care to pastebin them?
Aug 01 14:07:19 <tonyctl>	X error received: type 0, serial 607, error_code 3 (BadWindow (invalid Window parameter)), request_code 1, minor_code 0
Aug 01 14:07:45 <tonyctl>	https://bitbucket.org/chromiumembedded/cef/issues/1946/linux-cefclient-example-hangs-when-opening
Aug 01 14:09:29 <ebassi>	Oh, ugh
Aug 01 14:09:44 <ebassi>	That's on CEF?
Aug 01 14:09:51 *	ebassi is not going to touch that
Aug 01 14:09:52 <tonyctl>	yeah
Aug 01 14:10:15 <tonyctl>	why not?
Aug 01 14:10:57 <ebassi>	Because it's a hell-hole of stuff that likely is using GTK in 20 different wrong ways
Aug 01 14:11:24 <tonyctl>	I think you are right because it doesn't work
Aug 01 14:11:26 <ebassi>	So, sorry; you'll have to debug it yourself :-/
Aug 01 14:12:22 <tonyctl>	can you give me any pointers on fixing that issue at all?
Aug 01 14:12:24 <ebassi>	It's likely something is creating a window with the wrong visual and GLX does not work; or something is passing the wrong window around
Aug 01 14:12:39 <ebassi>	"invalid Window parameter" seems to point to the latter
Aug 01 14:13:16 <ebassi>	You'll have to go around inside the code that creates the widgets and realizes them, and see which windows it creates
Aug 01 14:13:21 <tonyctl>	so the thing is that the call to `gtk_widget_show()` does nothing
Aug 01 14:13:25 <ebassi>	Other than that, I don't know
Aug 01 14:13:48 <ebassi>	tonyctl: gtk_widget_show() "just" causes a realization of the GtkWidget, and marks it as visible
Aug 01 14:14:16 <ebassi>	Look at the realize() implementation, and look at which GdkWindow it creates or uses with GtkGLExt
Aug 01 14:15:00 <ebassi>	Since GtkGLExt expects to have access to a real, native X11 window, you'll have to ensure that the window it uses is the right one
Aug 01 14:15:36 <tonyctl>	it gives me a x11 window back, but I never get a CreateNotify or MapNotify on the root window
Aug 01 14:15:54 <tonyctl>	so it's creating an id, but not the window
Aug 01 14:16:02 <tonyctl>	that id never gets into the tree
Aug 01 14:17:13 <ebassi>	Wait, are you trying to draw on the root X11 window?
Aug 01 14:17:21 <ebassi>	That's… That's not a good idea.
Aug 01 14:17:50 <tonyctl>	no, but you should get the CreateNotify when the window is created
Aug 01 14:18:20 <ebassi>	Why? The root X11 window is created by the X server
Aug 01 14:19:06 <tonyctl>	yeah and it gets notified when windows are created
Aug 01 14:19:26 <tonyctl>	try `xev -root` and then open a window and you will see a CreateNotify
Aug 01 14:19:39 <ebassi>	You need a specific event mask for that
Aug 01 14:19:55 <ebassi>	And I don't understand why you'd be creating children of the root window
Aug 01 14:20:04 <ebassi>	That only happens for top-levels
Aug 01 14:20:26 <tonyctl>	I'm just using that as evidence that the window never gets created or mapped
Aug 01 14:20:28 <ebassi>	And even then, I don't understand why you should track the creation of children of the root window, unless you're a compositor or a toolkit
Aug 01 14:21:24 <tonyctl>	it means that XCreateWindow never happens
Aug 01 14:21:51 <ebassi>	tonyctl: You could check that by looking at what calls XCreateWindow
Aug 01 14:22:02 <ebassi>	I think you're overcomplicating this by a large factor
Aug 01 14:22:31 <tonyctl>	well I'm trying to fix that bug and nothing simple has worked so far
Aug 01 14:22:45 <tonyctl>	isn't gtk supposed to call XCreateWindow behind the scenes?
Aug 01 14:23:00 <ebassi>	It depends, if the window is supposed to be backed by a native surface
Aug 01 14:23:05 <ebassi>	Which isn't the case by default
Aug 01 14:23:44 <tonyctl>	but it needs a window to show up on the screen right?
Aug 01 14:26:11 <ebassi>	Well, the top-level does
Aug 01 14:26:15 <ebassi>	Child widgets don't
Aug 01 14:26:30 <ebassi>	Some do — and GtkGLExt most definitely does
Aug 01 14:26:41 <tonyctl>	the top level is never gettings its window created
Aug 01 14:26:43 <ebassi>	But it's opt in
Aug 01 14:27:03 <tonyctl>	oh ok well maybe they're not opting in
Aug 01 14:27:09 <ebassi>	That I have more issues believing
Aug 01 14:27:15 <ebassi>	You don't see the whole window?
Aug 01 14:27:30 <tonyctl>	the first one is fine
Aug 01 14:27:50 <tonyctl>	the subsequent windows never show up
Aug 01 14:27:54 *	ebassi mutters something about being roped into debugging what he said he wouldn't debug
Aug 01 14:28:10 <tonyctl>	lol I appreciate the help though
Aug 01 14:28:23 <ebassi>	tonyctl: Then you probably want to check inside the code that creates the top levels in CEF and see what happens there
Aug 01 14:28:59 <tonyctl>	yeah I did and it looks fine
Aug 01 14:29:06 <tonyctl>	it even works on unity, but not on any other window manager
Aug 01 14:56:36 <baedert>	Let's say I'm doing a gdk_window_scrol(gtk_widget_get_window(widget), x, y) -- in gtk2 there was apparently a call to gdk_window_process_updates needed to "immediately display the result". Is that still true in gtk3?
Aug 01 15:50:01 <xjuan>	fmuellner: hi I have a test case for your gjs patch I cant make it work
Aug 01 15:50:26 <xjuan>	the patch being "object: Support external construction of gjs-defined GObjects"
Aug 01 15:50:34 <fmuellner>	ah, was about to ask :-)
Aug 01 15:50:36 <xjuan>	https://paste.fedoraproject.org/399490/47008074/
Aug 01 15:50:58 <xjuan>	that is a simple test case that creates an object class in JS
Aug 01 15:51:12 <xjuan>	and tries to instantiate it with g_object_new()
Aug 01 15:52:44 <xjuan>	but gets a segfault
Aug 01 15:52:52 <xjuan>	btw I also have a stand alone test case
Aug 01 15:53:00 <xjuan>	https://paste.fedoraproject.org/399492/14700811/
Aug 01 15:53:38 <fmuellner>	xjuan: yeah, pretty sure the issue is that you aren't adding a constructor
Aug 01 15:53:55 <fmuellner>	sth like "_init: function() { this.parent(); }"
Aug 01 15:53:59 <xjuan>	_init: function (props={})
Aug 01 15:54:07 <xjuan>	I tried
Aug 01 15:54:26 <fmuellner>	did you chain up?
Aug 01 15:54:52 <xjuan>	the standalone test have it
Aug 01 15:55:03 <xjuan>	yeah I did this.parent(props)
Aug 01 15:58:04 <xjuan>	fmuellner: backtrace https://paste.fedoraproject.org/399495/08146514/
Aug 01 16:01:21 <xjuan>	the funny thing is that you GObject class test case works
Aug 01 16:21:25 <fmuellner>	xjuan: sorry, I don't see anything obvious - will need to look into this with some time
Aug 01 16:22:32 <bugbot>	New glib bug 769398 filed by dmacks@netspace.org.
Aug 01 16:22:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769398 gio, normal, gtkdev, NEW , gio/tests/file.c: "du --bytes" is GNU extension
Aug 01 16:27:38 <xjuan>	fmuellner: sure no problem, now at least I know I was not missing something obvious
Aug 01 16:27:48 <xjuan>	just let me know if there is anything I can do to help you
Aug 01 18:41:04 <gnunn>	I've got a listbox and if the user presses the down arrow when on the last item I want the cursor to go to the top, similarly when at the top and pressing the up arrow. What's the best way to handle this, I've tried handling the KeynavFailed signal which works but then the arrow key behavior is pretty wonky
Aug 01 21:49:41 <bugbot>	New gtk+ bug 769402 filed by christian@hergert.me.
Aug 01 21:49:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769402 Backend: Wayland, normal, gtk-bugs, NEW , regression in menu positioning on wayland
Aug 01 22:49:36 <grim>	maybe not the right place, but is it possible to apply a texttag to a textbuffer in glade3?
Aug 02 00:02:58 <raymod2>	Why should a GTK application even care whether the installed GTK libraries are 32-bit or 64-bit?
Aug 02 00:06:12 <TingPing>	raymod2, thats more a question of how binaries and libraries work rather than anything to do with gtk specifically
Aug 02 00:25:30 <raymod2>	I don't see how it would matter unless the calling convention for the APIs was different.  I guess pointer arguments that are pushed onto the stack occupy 64-bits instead of 32-bits?
Aug 02 00:26:38 <TingPing>	obviously
Aug 02 00:28:19 <raymod2>	I guess score another win for Windows over Linux since Windows seems to handle all this seamlessly.
Aug 02 00:29:25 <TingPing>	it isn't a technical advantage its just linux distros have control over source so they moved on to 64bit years ago
Aug 02 01:29:46 <bugbot>	New gtk+ bug 769405 filed by christian@hergert.me.
Aug 02 01:29:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769405 .General, enhancement, gtk-bugs, NEW , GtkAssistant should allow hiding the sidebar
Aug 02 06:03:12 <samtoday_>	Hello!  Have I properly tagged this patch for review?  https://bugzilla.gnome.org/show_bug.cgi?id=757495
Aug 02 06:03:13 <bugbot>	Bug 757495: Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , GtkTreeView odd/even row styling no longer works
Aug 02 06:17:58 <ebassi>	samtoday_: Yes, you did
Aug 02 06:52:35 *	ChanServ sets mode +q on #gtk+ Company
Aug 02 06:52:35 *	ChanServ gives channel operator status to Company
Aug 02 07:27:31 <heftig>	raymod2: you have the same split on windows.
Aug 02 07:45:39 <bugbot>	New gtk+ bug 769419 filed by andreas.g.jhoss@gmx.de.
Aug 02 07:45:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769419 Widget: Other, normal, gtk-bugs, NEW , Layout change from gtk 3.13.3 to 3.14.14
Aug 02 07:59:51 <bugbot>	mclasen@redhat.com changed the Status on bug 769326 from NEW --- to RESOLVED FIXED.
Aug 02 07:59:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, critical, gtk-bugs, RESOLVED FIXED, gnome-control-center universal panel crashes with gtk-3-20 branch
Aug 02 08:02:32 <bugbot>	mclasen@redhat.com changed the Component on bug 768949 from Widget: GtkScrolledWindow to Widget: GtkTextView.
Aug 02 08:02:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768949 Widget: GtkTextView, normal, gtk-bugs, NEW , black artifact after hiding revealer near scrolled window
Aug 02 08:06:34 <mclasen>	ebassi: did we figure anything out about bug 768415 ?
Aug 02 08:06:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768415 .General, major, gtk-bugs, NEW , GTK 3.21.3: Corrupted desktop redraws in non-Nautilus file browsers
Aug 02 09:22:29 <ebassi>	mclasen: I left a comment on the nautilus-fork bug, but I haven't heard anything else from the MATE devs
Aug 02 09:22:38 <mclasen>	I saw, thanks
Aug 02 09:22:51 <ebassi>	(at least, in private mail, where this started)
Aug 02 09:29:52 <gasuleg>	Hi, I want to display a text with some variables and carriage return. For the moment I use a lot of label display in vertical. Do you know a better widget to do that?
Aug 02 09:31:54 <baedert>	One wrapping label? GtkTextView?
Aug 02 09:46:28 <gasuleg>	baedert, what do you mean by wrapping label? I will try GtkTextView but that seem a good idea. Do you know some issues to using it with clutter and actor?
Aug 02 09:52:19 <baedert>	gasuleg: What do you want to display exactly? just multiline text?
Aug 02 09:55:24 <gasuleg>	I want to display some technical information in a video like the nerd stats on youtube ( you can found them in the right click menu) https://www.youtube.com/watch?v=fkkDvKGcNSo
Aug 02 09:56:27 <baedert>	looks lik a GtkGrid and a few labels?
Aug 02 09:56:37 <gasuleg>	so basicly I want to display some text + variables 
Aug 02 09:58:06 <gasuleg>	yeah, that what I did but that not really easy to add some new element in my architecture ( add new gtklabel, add to the clutter, add to the ui file and finally set text and that for all the label
Aug 02 09:58:28 <gasuleg>	i'm think we can do that in only one widget, no?
Aug 02 09:59:17 <baedert>	You can always just draw things using cairo if you want. But you don't want to do that.
Aug 02 09:59:41 <rrika>	what is the preferrable way of spawning a process from a program with glib main loop? running g_spawn_sync on a new thread, or running g_spawn_async_with_pipes(), and putting an IO channel on its stdout?
Aug 02 10:00:08 <gasuleg>	baedert, why I don't want to? difficult?
Aug 02 10:00:48 <gasuleg>	so, the GtkTextView is not the best widget to do what I want to do?
Aug 02 10:00:59 <baedert>	gasuleg: well now you have to do layout and measuring yourself, possibly ellipsize the labels, etc.
Aug 02 10:01:15 <rudrab>	Hi, Can I have a little bit of help? I am trying to populate a treeview from a list(either parsed from file, or other source). like, https://paste.gnome.org/pz2j2bueb
Aug 02 10:03:05 <gasuleg>	baedert, I'm ok with the label. I actually display all my information with it. I just wanted to know if some widget are better for what I want to do
Aug 02 10:03:24 <rudrab>	I am not sure how to index the row properly. This method is ok if I just read from a single source. If I am trying to append the treeview, the index is 0 again.
Aug 02 10:03:33 <xjuan>	gasuleg: GtkLabel + g_strdup_printf() should do the trick
Aug 02 10:04:09 <gasuleg>	xjuan, that what I do but can you do some carriage return?
Aug 02 10:04:34 <baedert>	what do you mean by carriage return?
Aug 02 10:04:35 <xjuan>	sure why not
Aug 02 10:04:40 <xjuan>	\n
Aug 02 10:04:49 <baedert>	so still a wrapping label?
Aug 02 10:05:14 <ernestask>	\r
Aug 02 10:05:17 <ernestask>	not \n
Aug 02 10:06:00 <gasuleg>	that what I doing actually: http://pastebin.com/UgpSUjbE
Aug 02 10:06:29 <gasuleg>	to much label for what I'm doing, isn't it?
Aug 02 10:07:31 <xjuan>	hmm
Aug 02 10:07:43 <xjuan>	you are leaking memory
Aug 02 10:08:16 <xjuan>	you have to free the string returned by g_strdup_printf() once you are done with it
Aug 02 10:08:19 <xjuan>	str = g_strdup_printf ("Value one: %d\nAnother value: %d\netc", v1, v2);
Aug 02 10:08:20 <xjuan>	gtk_label_set_text (label, str);
Aug 02 10:08:22 <xjuan>	g_free (srt);
Aug 02 10:09:15 <gasuleg>	hooo, that how we use g_free, thx for that
Aug 02 10:09:43 <gasuleg>	well, I will try \n and \r
Aug 02 10:09:51 <xjuan>	you could split the format string in multiple lines to make it look better
Aug 02 10:10:08 <xjuan>	gasuleg: you do not need \r
Aug 02 10:10:22 <xjuan>	new line is enough
Aug 02 10:11:03 <gasuleg>	but.... it's not better to use only one label?
Aug 02 10:11:42 <xjuan>	no i mean something like
Aug 02 10:12:19 <xjuan>	str = g_strdup_printf ("Value one: %d\n"
Aug 02 10:12:21 <xjuan>	                       "Another value: %d\n"
Aug 02 10:12:22 <xjuan>	                       "etc", v1, v2);
Aug 02 10:13:01 <gasuleg>	yeah yeah, ok, I see
Aug 02 10:13:18 <gasuleg>	I will try that, thx for you help guys!!!
Aug 02 10:13:18 <xjuan>	btw make sure you do not have to free the string returned by SmartInfoHub::instance().callID().toStdString().c_str()
Aug 02 10:13:36 <xjuan>	you might be leaking memory there too
Aug 02 10:16:29 <gasuleg>	xjuan, you said that cause it's a string? (sorry, I'm just... noob XD)
Aug 02 10:19:54 <xjuan>	just saying you need to check the docs
Aug 02 10:20:09 <gasuleg>	ok, thx xjuan 
Aug 02 10:20:10 <xjuan>	and see what SmartInfoHub::instance().callID().toStdString().c_str() returns
Aug 02 10:20:36 <gasuleg>	well... I program it... XD he return string
Aug 02 10:20:54 <gasuleg>	and I free nothing
Aug 02 10:23:38 <xjuan>	yeah if toStdString() returns what it says it does (a std:string) then c_str() should be a pointer to the internal buffer
Aug 02 10:23:47 <xjuan>	so you do not have to free it
Aug 02 10:25:48 <rudrab>	any help please?
Aug 02 10:26:09 <gasuleg>	so with g_free (srt); what I free exactly?
Aug 02 10:33:27 <xjuan>	gasuleg: the memory allocated by g_strdup_printf() in the str pointer
Aug 02 10:34:13 <xjuan>	gasuleg: you really need to read about memory
Aug 02 10:34:48 <xjuan>	specially if you want to program in C/C++
Aug 02 10:56:23 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 744456 from NEW --- to RESOLVED FIXED.
Aug 02 10:56:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=744456 gio, normal, gtkdev, RESOLVED FIXED, Structured logging API
Aug 02 11:43:45 <gasuleg>	have you got an idea why my variables are not align? http://pastebin.com/
Aug 02 11:44:09 <gasuleg>	oups http://pastebin.com/TGX2aPYc
Aug 02 11:56:15 <tonyctl>	do gtk widgets automatically grab the focus when they are clicked?
Aug 02 11:56:20 <tonyctl>	for their window?
Aug 02 11:56:41 <baedert>	some do
Aug 02 11:57:21 <tonyctl>	I have a window that I never want to have focus and it is taking focus on clicks
Aug 02 11:57:32 <tonyctl>	even if I do override redirect
Aug 02 12:05:12 <bugbot>	New gtk+ bug 769441 filed by jonrysh@pacbell.net.
Aug 02 12:05:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769441 Themes, normal, gtk-bugs, NEW , Breeze theme makes evolution crash in gtk3
Aug 02 12:36:12 <bugbot>	New glib bug 769442 filed by michele.dionisio@gmail.com.
Aug 02 12:36:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769442 gio, enhancement, gtkdev, NEW , xattr add possibility to remove an extended attribute
Aug 02 13:04:04 *	ebassi mutters something about ::draw() calling gtk_css_gadget_draw() which calls parent_class->draw()
Aug 02 13:04:25 <ebassi>	Making a container implement get_render_node() is hard work, these days…
Aug 02 13:18:19 <bugbot>	New gtk+ bug 769445 filed by philm@manjaro.org.
Aug 02 13:18:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769445 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Folder selection broken since gtk2-2.24.30+95+g876b5f7-1
Aug 02 13:45:47 <ebassi>	mclasen: If you want to have a look at wip/ebassi/gsk-renderer, I just landed the port of GtkBox from ::draw to ::get_render_node(), alongside with a first stab at gtk_css_gadget_get_render_node()
Aug 02 13:46:06 <mclasen>	I will, certainly!
Aug 02 13:46:19 <ebassi>	I have a small rendering artefact on the headerbar — likely some offset
Aug 02 13:46:22 <mclasen>	anything is better than poking at pixbuf loader crashes
Aug 02 13:46:26 <ebassi>	And popovers are popunders
Aug 02 13:46:51 <ebassi>	Because I need to sort them at the end of the GtkWindow get_render_node()
Aug 02 13:47:09 <ebassi>	But it's surprisingly holding together quite well, even halfway through
Aug 02 13:50:02 *	mclasen builds
Aug 02 13:51:01 <ebassi>	I'm usually testing with gtk3-demo
Aug 02 13:51:24 <ebassi>	gtk3-widget-factory is a pain — even without GSK
Aug 02 13:53:44 <mclasen>	why, too big ?
Aug 02 13:56:24 <ebassi>	mclasen: A bit too much invalidation going on
Aug 02 13:56:39 <ebassi>	My CPU is noticeably busier when running it
Aug 02 14:07:31 <mclasen>	ebassi: I'm getting a bunch of !widget->priv->alloc_needed assertions
Aug 02 14:09:53 <mclasen>	getting 5fps in widget-factory
Aug 02 14:11:20 <halfline>	YOU WERE WARNED AND YOU DIDNT LISTEN
Aug 02 14:14:21 <jmd>	halfline: no need to shout.
Aug 02 14:14:40 <halfline>	HUH ? CAN YOU REPEAT THAT ?
Aug 02 14:20:38 <bugbot>	New gtk+ bug 769448 filed by pyzahl@ymail.com.
Aug 02 14:20:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769448 Backend: X11, critical, gtk-bugs, NEW , GtkDrawingArea: draw callback only randomly called.
Aug 02 14:21:53 <baedert>	wtf
Aug 02 14:24:08 <mclasen>	ebassi: so, running GSK_DEBUG=opengl gtk3-widget-factory, I see ~13 nodes getting rendered
Aug 02 14:24:17 <mclasen>	I was expecting much more, am I missing something ?
Aug 02 14:25:06 <ebassi>	mclasen: Nope; it's just that not every widget that overrides ::draw has been ported
Aug 02 14:25:28 <ebassi>	A bunch of containers decide to chain up which is interpreted as a fallback
Aug 02 14:25:36 <mclasen>	but with GtkBox ported, shouldn't most of the widget tree be reflected in render nodes ?
Aug 02 14:26:04 <mclasen>	ah
Aug 02 14:26:12 <mclasen>	so if I see something that says Fallback<GtkFrame>
Aug 02 14:26:33 <mclasen>	that means the entire widget tree inside the frame won't show up as render nodes ?
Aug 02 14:26:35 <ebassi>	It means that everything contained inside GtkFrame is drawn to a single node
Aug 02 14:26:38 <ebassi>	Yep
Aug 02 14:27:05 <ebassi>	Working my way through the containers right now; Box was the obvious first choice because of the GtkCssGadget use
Aug 02 14:28:05 <mclasen>	I'm not sure I've seen a render node coming out of a gadget yet
Aug 02 14:28:53 <ebassi>	GtkHeaderBar should output a background and a border node
Aug 02 14:29:09 <mclasen>	right, I've seen those
Aug 02 14:29:09 <ebassi>	The log is a bit noisy with the matrices
Aug 02 14:29:17 <ebassi>	I'll split it up
Aug 02 14:30:08 <ebassi>	Bin is where things choke up because it inherits the GtkContainer::draw implementation
Aug 02 14:38:52 <mclasen>	can't it then also inherit the get_render_node implementation ?
Aug 02 14:43:23 <ebassi>	I cannot give GtkContainer a get_render_node() implementation, otherwise all GtkContainers will have it, and the fallback code that lets non-ported containers draw something will not be called
Aug 02 14:44:04 <ebassi>	But I can implement GtkBin::get_render_node()
Aug 02 14:45:26 <mclasen>	ah, ok
Aug 02 14:45:46 <mclasen>	so you're adding get_render_node implementations from the leaves of the class hierarchy upwards ?
Aug 02 14:47:33 <ebassi>	Pretty much; I'm ignoring leaf widgets right now because they would end up rendering to a texture anyway, so we can use the fallback code; I'm mostly trying to figure out a way to port containers and gadgets without adding special cases in the public API, which seems to be working
Aug 02 14:58:25 <jmd>	What is the easiest way to enable accelarators in a GtkWindow?
Aug 02 16:05:33 <bugbot>	New gtk+ bug 769451 filed by directaction@hushmail.com.
Aug 02 16:05:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769451 .General, blocker, gtk-bugs, NEW , Build failure of 3.21 (master) in Debian Unstable  since 7-26-2016
Aug 02 17:15:32 <bugbot>	ebassi@gmail.com changed the Status on bug 769451 from NEW --- to RESOLVED NOTABUG.
Aug 02 17:15:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769451 .General, blocker, gtk-bugs, RESOLVED NOTABUG, Build failure of 3.21 (master) in Debian Unstable  since 7-26-2016
Aug 02 19:47:02 <mclasen>	ebassi: pushed a patch for your here: wip/matthiasc/gsk-renderer
Aug 03 00:17:00 <rrika>	How can I read "as much as available" from a giochannel?
Aug 03 00:17:13 <rrika>	Which is using the 'fd' of a pipe that leads to a different process.
Aug 03 00:19:55 <rrika>	It seems to me that "g_io_channel_read_line" or "g_io_channel_read_to_end" could block if I run them in the bytes-available-callback
Aug 03 03:34:58 <sumustinis>	HI there, have a question here.. Then I connect to a signal editing-started on cell renderer sometimes I would like to cancel this (for example a lock was not acquired on database row). How should I do it?
Aug 03 04:21:21 <bugbot>	andreas.g.jhoss@gmx.de changed the Status on bug 769419 from NEW --- to RESOLVED OBSOLETE.
Aug 03 04:21:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769419 Widget: Other, normal, gtk-bugs, RESOLVED OBSOLETE, Layout change from gtk 3.13.3 to 3.14.14
Aug 03 04:40:55 *	desrt wonders if we ever talked about what happens with openat("..") in flatpak
Aug 03 05:08:15 <rudrab>	Hi, I am trying to use a Gtk.CellRendererCombo() as https://paste.gnome.org/pwcnlzday.
Aug 03 05:09:14 <rudrab>	The problem is, there is no visual notation that the cell is clickable, and looks somewhat hidden
Aug 03 05:16:27 <rudrab>	any idea please?
Aug 03 05:20:38 <TingPing>	rudrab, i can at least say its not your usage, that just seems to be how they are themed, not sure it is easily themable either
Aug 03 05:22:14 <rudrab>	:(
Aug 03 05:48:03 <bugbot>	afranke@gnome.org marked bug 768628 as a duplicate of unknown bug.
Aug 03 05:48:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768628 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED DUPLICATE, Sometimes file or folder open by single click
Aug 03 06:59:55 <baedert>	andlabs: Do you happen to know whether osx/win allow row-based scrolling instead of pixel-based and how the API looks like form an app dev POV?
Aug 03 07:12:48 <ebassi>	jjardon: Why did you add config.rpath to the EXTRA_DIST in gtk, when you ported to upstream gettext?
Aug 03 07:15:16 <mclasen>	ebassi: sent a few contributions to wip/matthiasc/gsk-renderer
Aug 03 07:15:31 <mclasen>	the button and frame patches need more work, but the grid one is good
Aug 03 07:18:11 <ebassi>	mclasen: Yeah, I saw them; I'm going to merge the branch into mine
Aug 03 07:18:16 <ebassi>	Thanks!
Aug 03 07:18:30 <ebassi>	Any early feedback on the API?
Aug 03 07:19:55 <mclasen>	didn't really use much of it
Aug 03 07:20:42 <mclasen>	I need to sit down and actually understand the relationships between widget coordinates (allocation), gadgets, and render nodes
Aug 03 07:21:20 <ebassi>	Yeah, that's tricky; I need to write down some thought on that, and try to make it a bit more automatic
Aug 03 07:21:53 <ebassi>	There's also the whole clip != allocation thing to consider
Aug 03 07:22:24 <ebassi>	I was actually thinking of adding a function called gtk_widget_create_render_node() that set up the transformation and bounds
Aug 03 07:22:55 <mclasen>	I noticed that the 'trivial'  case basically has the same get_render_node implementation
Aug 03 07:23:14 <mclasen>	ie simple containers - you just need the gadget, and then you add the children
Aug 03 07:23:33 <mclasen>	the implementation that 'should be' gtk_container_get_render_node
Aug 03 07:24:26 <ebassi>	Yeah, we should add a gtk_container_get_render_node() that did that
Aug 03 07:24:45 <ebassi>	Or gtk_container_get_simple_render_node() :-)
Aug 03 07:25:57 <samtoday_>	Is there an idiomatic way to unfocus an entry?
Aug 03 07:26:23 <mclasen>	you can't unfocus widgets; you can only focus something else
Aug 03 07:26:50 <mclasen>	hmm
Aug 03 07:27:21 <mclasen>	jadahl: it appears we have menu placement regressions in master on wayland - is that because your part hasn't landed yet ?
Aug 03 07:28:25 *	ChanServ sets mode +q on #gtk+ Company
Aug 03 07:28:25 *	ChanServ gives channel operator status to Company
Aug 03 07:30:30 <mclasen>	ebassi: the only part of that simple implementation that varies is finding the gadget
Aug 03 07:34:40 <ebassi>	Yeah, that kind of complicates things a bit
Aug 03 07:35:08 <ebassi>	Especially if we want to make that function public
Aug 03 07:55:55 <andlabs>	baedert: on Windows yes, since you have to decide what a single scrolling increment means
Aug 03 07:56:09 <andlabs>	in fact the native list box and list view controls already work like this
Aug 03 07:56:29 <andlabs>	OS X I don't think you can do it unless you effectively reimplement NSScrollView itself
Aug 03 07:56:35 <andlabs>	it works like GtkScrolledWindow
Aug 03 08:03:49 <baedert>	andlabs: How does it work on windows? Is there a GtkAdjustment equivalent? Can the increment change during scrolling does it have to stay the same?
Aug 03 08:07:12 <andlabs>	each window handle can have horizontal and vertical scrollbars provided by the system; you use the function SetScrollInfo() to set the scrolling information and actually perform scrolling in your WM_HSCROLL and WM_VSCROLL handlers
Aug 03 08:07:21 <andlabs>	the first few articles on The Old New Thing talk about it
Aug 03 08:08:14 <andlabs>	afk
Aug 03 08:11:40 <mclasen>	Company: have you looked at reftests recently ? I can't figure out why box-shadow-changes-modify-clip fails
Aug 03 08:49:20 <LRN>	something changed in latest versions of gtk?
Aug 03 08:49:47 <LRN>	it seems that gtk somehow picks up my system locale
Aug 03 08:49:56 <LRN>	that's new
Aug 03 09:09:52 <LRN>	If i create a dialog and then do "g_signal_connect (dialog, "delete-event", G_CALLBACK (gtk_widget_destroy), NULL);", would it leak?
Aug 03 09:11:01 <ebassi>	LRN: Well, it would not be correct, since gtk_widget_destroy() does not have a return value and delete-event handlers expect it
Aug 03 09:11:16 <ebassi>	Also, the default delete-event handler is gtk_widget_destroy() already
Aug 03 09:22:38 <andlabs>	baedert: need any more help?
Aug 03 09:29:09 <jadahl>	mclasen: wayland uses the same method as x11, so there shouldn't be more regessions on wayland than x11 (in theory)
Aug 03 09:30:28 <baedert>	jadahl: the other day you told me that there was some private protocol that's not merged yet?
Aug 03 09:31:01 <baedert>	andlabs: I didn't really understand how that (row-based scrolling) would work from a GtkScrollable implementation
Aug 03 09:31:03 <jadahl>	baedert: indeed. except its not private
Aug 03 09:31:13 <mclasen>	jadahl: then it is probably just a regression
Aug 03 09:31:20 <jadahl>	when that has landed, and we have ported over the shell protocol to that version, we should have proper manu placement
Aug 03 09:31:29 <mclasen>	looking at widget-factory page 2, the menus pop up way too far the left
Aug 03 09:31:32 <jadahl>	now, we get "as good" as before (except there seems to be a regression)
Aug 03 09:31:42 <andlabs>	baedert: I don't know either
Aug 03 09:31:46 <andlabs>	I know I did it once, somehow
Aug 03 09:32:01 <andlabs>	I could try to dig out the code if you want
Aug 03 09:32:14 <jadahl>	mclasen: well, there was some bug olivier looked on that made thing funny on wayland but not x11, maybe its related
Aug 03 09:32:48 <jadahl>	mclasen: does it reproduce on any of the menus on testpopupat?
Aug 03 09:32:59 <mclasen>	lets try that
Aug 03 09:33:23 <jadahl>	hmm. tried it now, there seems to be some kind of regression
Aug 03 09:33:52 <jadahl>	they pop up to far to the left and to far up
Aug 03 09:34:13 <baedert>	sub menus are worse :P
Aug 03 09:34:20 <jadahl>	indeed
Aug 03 09:34:22 <mclasen>	all the menus in testpopupat seem somewhat broken
Aug 03 09:34:34 <mclasen>	the menubuttons mostly work
Aug 03 09:35:33 <jadahl>	the application menu page does not however
Aug 03 09:36:02 <mclasen>	works fine under X, afaics
Aug 03 09:36:24 <jadahl>	will take a look
Aug 03 09:36:24 <mclasen>	uh, there's more tabs
Aug 03 09:36:33 <mclasen>	this thing tests _all the menus_!
Aug 03 09:36:44 <jadahl>	yea its awesome
Aug 03 09:36:51 <jadahl>	it even has the super tall menu
Aug 03 09:36:53 <jadahl>	and super deep
Aug 03 09:38:09 <mclasen>	there's something fishy with the filechooser sidebar - don't get the context menu popover there
Aug 03 09:38:24 <jadahl>	on x11?
Aug 03 09:38:29 <mclasen>	both
Aug 03 09:38:42 <mclasen>	instead, I get something that looks like a notebook tab menu
Aug 03 09:40:39 <baedert>	I get the popover
Aug 03 09:41:26 <visarion>	I have a box with to objects in it. One of it is always shown and the other's visibility is toggled on/off. How do I make sure that the first one doesn't move when the other one is shown/not shown ?
Aug 03 09:42:29 <baedert>	you can put the second in a stack and control the visibility using that
Aug 03 10:35:19 <andlabs>	baedert: if you're still interested here's a shell archive with the code I had for line-based scrolling http://sprunge.us/QfAR but you'll have to figure it out at this point, sorry
Aug 03 10:54:54 <mclasen>	Company: around ?
Aug 03 11:17:31 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug  3 11:17:31 2016

**** BEGIN LOGGING AT Wed Aug  3 11:17:45 2016

Aug 03 11:17:45 *	Now talking on #gtk+
Aug 03 11:17:45 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:17:45 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 11:25:54 *	Disconnected (Connection reset by peer)
**** ENDING LOGGING AT Wed Aug  3 11:25:54 2016

**** BEGIN LOGGING AT Wed Aug  3 11:26:07 2016

Aug 03 11:26:07 *	Now talking on #gtk+
Aug 03 11:26:07 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:26:07 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 11:28:22 <bugbot>	walters@verbum.org changed the Status on bug 769245 from NEW --- to RESOLVED FIXED.
Aug 03 11:28:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769245 gvariant, minor, desrt, RESOLVED FIXED, is_valid_heap_iter define misses NULL pointer check
Aug 03 11:56:42 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug  3 11:56:42 2016

**** BEGIN LOGGING AT Wed Aug  3 11:56:55 2016

Aug 03 11:56:55 *	Now talking on #gtk+
Aug 03 11:56:55 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:56:55 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 12:41:19 <pmike>	Hi, not sure if this is the right place but can i make question regarding GIO (Sockets) in here?
Aug 03 12:44:06 <fmuellner>	yup
Aug 03 12:44:32 <pmike>	Ok @fmueliner, thanks.
Aug 03 12:44:53 <pmike>	I'm working on a App that runs ok on GTK3.18 but it fails on 3.20
Aug 03 12:45:38 <pmike>	been following the problem and it comes to attaching a source, or a SocketSource more precisely on to a socket
Aug 03 12:47:07 <pmike>	went to github to check gsocket.c and it seems that the g_socket_create_source has started to return null if the socket is a TCP (stream) socket instead of a UDP (Datagram)
Aug 03 12:48:53 <pmike>	i'm trying to read any document suggestion how to handle this but cannot find anything
Aug 03 12:50:02 <pmike>	the idea is, after connecting to a server, get the socket, create a source and set a callback to the IOCondition.IN
Aug 03 12:50:44 <pmike>	but the create_source will return NULL if the Socket type is TCP... Is this normal?
Aug 03 12:52:09 <pmike>	well, it wasn't but it is now. And the documentation says that the DatagramBased interface will work on both (connection oriented and connection-less) kind of streams
Aug 03 12:58:29 <pmike>	i can get more detailed if needed... my first time on IRC, *blush*
Aug 03 12:59:43 <mclasen>	I think the datagrambased stuff was done by pwithnall 
Aug 03 12:59:49 <mclasen>	maybe he can chime in
Aug 03 13:00:14 <pwithnall>	hello
Aug 03 13:00:18 <pmike>	Hi
Aug 03 13:01:10 *	pwithnall takes a look at the code
Aug 03 13:01:20 <pmike>	thanks @mclasen and @pwithnall
Aug 03 13:03:14 <nicknameitis>	is it possible to invoke gtk-inspector from my code with already specific object selected?
Aug 03 13:03:26 <pwithnall>	pmike: I don’t see how it’s possible for g_socket_create_source() to return NULL
Aug 03 13:03:50 <pwithnall>	unless you’re violating one of its preconditions, in which case you should get a critical warning
Aug 03 13:05:33 <pmike>	pwithnall: thanks for your time. What i'm doing it's simple, use g_socket_client to connect and get a g_socket_connection
Aug 03 13:05:52 <pmike>	from the g_socket_connection, get the g_socket
Aug 03 13:06:30 <baedert>	nicknameitis: no
Aug 03 13:06:55 <pmike>	then i try to create a source, from the socket, g_socket_create_source with IOCondition IN
Aug 03 13:07:07 <pmike>	but it return null
Aug 03 13:07:53 <pwithnall>	pmike: have you checked that the GSocket is non-NULL?
Aug 03 13:07:55 <nicknameitis>	baedert: this sucks, i'll have to reinvent whole thing. thanks
Aug 03 13:08:07 <pwithnall>	because that’s the only reason I can see for g_socket_create_source() to return NULL
Aug 03 13:08:14 <pmike>	yes, it's non-null
Aug 03 13:09:05 <pmike>	with gtk 3.18 (fedora 23) it's working but fails on gtk 3.20 (fedora 24)
Aug 03 13:10:47 <pmike>	on gsocket.c has a condition now "if (!check_datagram_based (self, null)) return NULL;
Aug 03 13:11:45 <pmike>	and this function will return false on: case G_SOCKET_TYPE_STREAM
Aug 03 13:12:25 <pwithnall>	pmike: You’re calling g_datagram_based_create_source(), not g_socket_create_source()?
Aug 03 13:12:31 <pmike>	pwithnall: i'm not sure, i was just trying to figure out why... i may be wrong on my assumptions
Aug 03 13:13:43 <pmike>	well, i'm using Vala, let me check which one is being called on thec generated file
Aug 03 13:14:19 <pwithnall>	g_datagram_based_create_source() is what’s being called
Aug 03 13:14:48 <pwithnall>	The code is correct, and the documentation which says GDatagramBased works for connection-oriented and connection-less objects is also correct, although not especially helpful
Aug 03 13:15:08 <pwithnall>	GDatagramBased explicitly does not work with stream-based objects, such as TCP connections
Aug 03 13:15:35 <pmike>	yes and i understand the logic
Aug 03 13:15:40 <pwithnall>	Note that you can have a connection-oriented, non-stream-based connection: SCTP is an example
Aug 03 13:15:46 <pwithnall>	I’ll clarify that documentation
Aug 03 13:16:34 <pmike>	yes, i know but i'm using TCP and the set_callback on a socket seems to appear only on the GDatagramBased interface
Aug 03 13:17:25 <pwithnall>	You mean the create_source() only seems to appear on the GDatagramBased interface?
Aug 03 13:18:04 <pwithnall>	My Vala is rusty, but I think the following should work:
Aug 03 13:18:17 <pwithnall>	(my_socket_variable as GLib.Socket).create_source(…)
Aug 03 13:19:02 <pmike>	http://www.valadate.org:8000/#!api=gio-2.0/GLib.Socket
Aug 03 13:19:34 <pmike>	the create_source method moved to the DatagramBased interface
Aug 03 13:19:45 <pmike>	maybe it's a vala/valac problem
Aug 03 13:19:58 <smcv>	if a class C implements an interface I
Aug 03 13:20:08 <smcv>	and both C and I have a create_source() method
Aug 03 13:20:22 <smcv>	I would expect my_C_instance.create_source() to mean C.create_source, not I.create_source
Aug 03 13:20:41 <smcv>	just from a general argument of "interfaces are a bit like base classes"
Aug 03 13:20:49 <smcv>	but perhaps Vala doesn't follow that rule
Aug 03 13:21:33 <pwithnall>	it might require an override
Aug 03 13:21:40 <smcv>	if Vala doesn't do that, it seems like a recipe for accidental API changes - implementing a new interface shouldn't make your Vala API magically change
Aug 03 13:21:52 <smcv>	surely?
Aug 03 13:22:19 <pwithnall>	pmike: I think you need to file a bug against Vala; this definitely looks like a Vala bug to me
Aug 03 13:22:44 <pmike>	i also come from gtk/glib on C but i'm on a project, alone, and i needed to speedup the coding so i turned to vala
Aug 03 13:23:08 <smcv>	you had a problem, you solved it with vala, and now you have a different problem
Aug 03 13:23:17 <smcv>	not an unfamiliar story tbh
Aug 03 13:23:43 <pmike>	ok, just check the 3.18 c and 3.20
Aug 03 13:24:02 <pmike>	the 3.20 it's using g_datagram_based_create_cource
Aug 03 13:24:07 <pmike>	*source
Aug 03 13:25:19 <pmike>	i must check with the vala guys then, thanks pwithnall and smcv
Aug 03 13:25:26 <pwithnall>	np
Aug 03 13:25:29 <pmike>	sorry fot the time taken
Aug 03 13:25:30 <pwithnall>	Good luck
Aug 03 13:25:39 <pmike>	thanks ;) keep up the good work 
Aug 03 14:21:01 <LRN>	when is the next gtk release?
Aug 03 14:21:39 <mclasen>	you mean the next devel snapshot, or the next stable release ?
Aug 03 14:21:49 <LRN>	stable
Aug 03 14:22:02 <LRN>	roadmap doesn't seem to have any dates anymore
Aug 03 14:23:12 <mclasen>	not sure it ever had forward-looking dates
Aug 03 14:23:22 <mclasen>	anyway, Sep 21
Aug 03 14:24:02 <LRN>	okay
Aug 03 14:30:20 <jmd>	How do I define accelerators in a GMenuModel ?
Aug 03 14:47:27 <jmd>	I have tried to set a keyboard accelerator in my app like this:    const gchar *xx[]={"<Ctrl>Q", 0};
Aug 03 14:47:27 <jmd>	  gtk_application_set_accels_for_action (GTK_APPLICATION (app), "quit", xx);
Aug 03 14:47:27 <jmd>	 
Aug 03 14:47:42 <jmd>	But it doesn't seem to do anything.  What have I missed?
Aug 03 14:51:56 <mclasen>	impossible to answer that. compare https://git.gnome.org/browse/gtk+/tree/examples/bp/bloatpad.c for a working example
Aug 03 16:24:12 <bugbot>	New gtk+ bug 769485 filed by bugzilla@tecnocode.co.uk.
Aug 03 16:24:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769485 .General, normal, gtk-bugs, NEW , Eliminate use of g_test_expect_message()
Aug 03 17:00:16 <bugbot>	New glib bug 769486 filed by bugzilla@tecnocode.co.uk.
Aug 03 17:00:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769486 general, normal, gtkdev, NEW , Deprecate g_test_expect_message() with structured logging
Aug 03 18:12:50 <pwithnall>	mclasen: bang, and the g_test_expect_message() is gone: https://bugzilla.gnome.org/show_bug.cgi?id=769485
Aug 03 18:12:51 <bugbot>	Bug 769485: .General, normal, gtk-bugs, NEW , Eliminate use of g_test_expect_message()
Aug 03 18:13:12 <pwithnall>	(see also its dependent bugs if you’re in a documentation review mood; they could do with some review)
Aug 03 18:48:48 <bugbot>	New gtk+ bug 769498 filed by sworddragon2@aol.com.
Aug 03 18:48:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, NEW , Scrollbars are broken
Aug 03 19:13:40 <Tyrant>	Hey guys! I have a hierarchical TreeStore and chose a ComboBox to display its contents. It works fine, but I want to be able to select parents as well as children. Currently, I'm only able to select children, parents are only used for sorting. How can I achieve that?
Aug 03 20:55:41 <bugbot>	New gtk+ bug 769500 filed by christian@hergert.me.
Aug 03 20:55:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769500 Themes, minor, gtk-bugs, NEW , adwaita: GtkWidget:sensitive animation should not cause "On" to be readable
Aug 04 01:41:32 <kung>	I have a GtkVBox, which has a statusbar, which is always at bottom, tho I wanna add a widget after it, but the new widget is always added before
Aug 04 01:41:41 <kung>	is this a pack-type "issue"?
Aug 04 01:41:49 <kung>	I tried: gtk_container_child_set(GTK_CONTAINER(gtk_widget_get_parent(statusbar)), statusbar, "pack-type", GTK_PACK_START, NULL);
Aug 04 01:41:55 <kung>	but that doesnt change anything 
Aug 04 01:42:16 <LRN>	pack statusbar with GTK_PACK_END?
Aug 04 01:42:57 <kung>	hm, isnt that already GTK_PACK_END?
Aug 04 01:43:01 <kung>	gonn try to change
Aug 04 01:43:04 <LRN>	dunno
Aug 04 01:43:18 <LRN>	i would suggest you try it out in Glade - faster that way
Aug 04 01:47:31 <kung>	LRN, oh thanks for the glade tip, I just realized in glade that pack-type means something different what I thought xD
Aug 04 01:48:18 <kung>	I thought it's forcing a widget to be always "last" in box, but it actually just means it located at bottom 
Aug 04 01:49:37 <kung>	oh or not
Aug 04 01:55:59 <kung>	nice, solved the problem, glade is really useful to understand whats going on
Aug 04 04:25:31 <bugbot>	New glib bug 769504 filed by johne53@tiscali.co.uk.
Aug 04 04:25:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769504 gobject, blocker, gtkdev, NEW , 'gobject.c' (in git master) fails to compile with MSVC
Aug 04 05:43:11 <bugbot>	New glib bug 769507 filed by bugzilla@tecnocode.co.uk.
Aug 04 05:43:11 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769507 general, normal, gtkdev, NEW , gmessages: Don’t require is_journald() call before writer_journald()
Aug 04 06:32:17 <bugbot>	ebassi@gmail.com changed the Status on bug 769504 from NEW --- to RESOLVED FIXED.
Aug 04 06:32:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769504 gobject, blocker, gtkdev, RESOLVED FIXED, 'gobject.c' (in git master) fails to compile with MSVC
Aug 04 06:43:47 <mclasen>	ebassi: I tracked down the headerbar positioning
Aug 04 06:44:37 <ebassi>	mclasen: Oh, thanks; was going over the coordinate space issues today — spent some time in the profiler yesterday
Aug 04 06:46:57 <mclasen>	pushed a possible fix in my branch
Aug 04 06:47:35 <ebassi>	Cool, I'm looking at it right now
Aug 04 06:48:58 <ebassi>	I wonder if we shouldn't just add the offset to the transformation matrix when setting it up
Aug 04 06:49:24 <ebassi>	But I'll have a got at it
Aug 04 06:49:26 <ebassi>	Thanks again!
Aug 04 06:51:04 *	ebassi needs to figure out why the first frame on hidpi is painted correctly and every other frame is not
Aug 04 06:51:36 <mclasen>	there may be other places where we need to handle the clip / allocation discrepancy
Aug 04 06:52:26 <mclasen>	I haven't looked at what the css render nodes do wrt to outer shadows, e.g
Aug 04 06:56:08 <ebassi>	In theory, that's what the bounds.origin should do — an additional translation applied when rendering. I'm likely not applying it correctly, especially when it's negative.
Aug 04 06:56:48 <mclasen>	the problem I found is that gtk_widget_get_render_node sets it right
Aug 04 06:57:01 <mclasen>	and gtk_container_propagate_render_nodes overrides it wrong
Aug 04 06:58:04 <mclasen>	splitting out that offset was a way to avoid that interference
Aug 04 06:58:20 <ebassi>	Likely something I misunderstood from the code in gtk_container_propagate_draw()
Aug 04 06:59:04 <mclasen>	no, I think the code is right
Aug 04 06:59:24 <mclasen>	it positions children according to their allocation
Aug 04 06:59:56 <mclasen>	just that when you have a nontrivial clip, the top left corner of the allocation can not be where you position your surface, in must extend beyond that
Aug 04 07:04:17 <ebassi>	The "bounds" of a GskRenderNode are the equivalent of the clip - the renderable area, including an eventual offset to be applied on top of the transformation of the top-left corner. Render nodes also have a child transform, which is applied to children only, on top of their own transformation.
Aug 04 07:04:31 <ebassi>	Containers should undo the clip offset as part of the child transformation
Aug 04 07:04:59 <ebassi>	So that children get drawn where their allocation is, but their renderable area can have a different offset
Aug 04 07:05:43 <ebassi>	Would that make sense?
Aug 04 07:07:25 <mclasen>	I briefly looked at the child transform, but couldn't see any use of it; I guess that would work fine
Aug 04 07:07:42 <mclasen>	although I'm not sure in what sense one of these transform is 'child' and the other isn't
Aug 04 08:41:16 <rrika>	Is it acceptable to call XGetWindowProperty on the UI thread?
Aug 04 08:41:39 <rrika>	I was wondering if there was an asynchronous version of this
Aug 04 08:55:39 <baedert>	Does the GtkCssValue redefinition in all the c files also confuse gdb?
Aug 04 09:06:48 <ebassi>	rrika: You can only call it inside the GUI thread; any other use is undefined behaviour
Aug 04 09:06:58 <ebassi>	rrika: XCB has asynchronous variants
Aug 04 09:07:39 <rrika>	gtk/gdk uses xlib, right? so I can't use xcb on the same connection, right?
Aug 04 09:10:35 <mclasen>	why are you worried about XGetWindowProperty being sync ?
Aug 04 09:12:00 <rrika>	I'm just generally wary about everything that's sync on a UI thread. I didn't bench anything.
Aug 04 09:12:08 <rrika>	If it's not a problem in practice then that's fine too.
Aug 04 09:14:03 <mclasen>	its not something I would worry about
Aug 04 09:15:57 *	ChanServ sets mode +q on #gtk+ Company
Aug 04 09:15:57 *	ChanServ gives channel operator status to Company
Aug 04 09:16:08 <rrika>	okay
Aug 04 09:20:10 <Redfoxmoon>	...
Aug 04 09:20:41 <Redfoxmoon>	Is there anything in glib's build system with regards to libtool causing race conditions?
Aug 04 09:21:32 *	mclasen not sure how anyone would answer that
Aug 04 09:23:18 <xjuan>	fmuellner: hola!, how are you? did you have time to take a look at the issue I mention the other day?
Aug 04 09:23:23 <andlabs>	question for others I guess http://stackoverflow.com/questions/38765080/delete-the-automatic-popover-shown-on-gtk-entry
Aug 04 09:23:34 <andlabs>	never heard of this before
Aug 04 09:23:35 <fmuellner>	xjuan: no, sorry
Aug 04 09:23:48 <xjuan>	no problem, do you have any pointers?
Aug 04 09:24:17 <baedert>	andlabs: that should only appear if a touchscreen is in use and in that case can't be deleted.
Aug 04 09:28:25 <mclasen>	more precisely, it should only appear if the entry sees touch events
Aug 04 09:28:38 <mclasen>	I don't think we show it on focus-in
Aug 04 09:30:30 <Redfoxmoon>	mclasen, was that /me for me? :p
Aug 04 09:30:39 <mclasen>	yes
Aug 04 09:30:54 <Redfoxmoon>	right, so...asking because there's a new C implementation of libtool
Aug 04 09:31:09 <Redfoxmoon>	which, when used with glib causes race conditions
Aug 04 09:31:12 <mclasen>	first time I hear about it, have a pointer ?
Aug 04 09:31:19 <Redfoxmoon>	*only* glib, no other packages
Aug 04 09:31:22 <Redfoxmoon>	Oh, right, yes, sec
Aug 04 09:31:51 <Redfoxmoon>	mclasen, http://midipix.org/ http://git.midipix.org/cgit.cgi/slibtool
Aug 04 09:31:53 <mclasen>	but my basic take on that would be: you replaced one piece in a very complicated puzzle, and now there's a problem... I would start by looking at the new piece
Aug 04 09:31:53 <Redfoxmoon>	:-)
Aug 04 09:32:05 <Redfoxmoon>	oh, it's been looked into a lot..
Aug 04 09:32:31 <Redfoxmoon>	a bunch of race conditions have been fixed, but glib remains
Aug 04 09:33:43 <mclasen>	on a meta-level I think replacing libtool with a new implementation is missing the larger picture...
Aug 04 09:34:01 <mclasen>	the problem with libtool is not so much that it is written in shell
Aug 04 09:34:07 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769507 from NEW --- to RESOLVED FIXED.
Aug 04 09:34:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769507 general, normal, gtkdev, RESOLVED FIXED, gmessages: Don’t require is_journald() call before writer_journald()
Aug 04 09:34:08 <mclasen>	but that it shouldn't really exist in the first place
Aug 04 09:40:41 <Redfoxmoon>	mclasen, it does exist, and has limitations
Aug 04 09:40:59 <Redfoxmoon>	like being unable to make shared libraries when cross compiling, slibtool doesn't care about that
Aug 04 09:41:02 <Redfoxmoon>	speed, etc
Aug 04 09:41:18 <Redfoxmoon>	of course if we COULD remove libtool from existence, that would be the best solution; but we can't
Aug 04 09:44:32 <smcv>	"unable to make shared libraries when cross compiling" [citation needed]
Aug 04 09:44:54 <Redfoxmoon>	smcv, just try building a library with libtool for midipix by cross compilation.
Aug 04 09:44:58 <Redfoxmoon>	you will not get a shared library :-)
Aug 04 09:45:05 <smcv>	I have no idea what midipix is
Aug 04 09:45:17 <smcv>	but every libdbus commit builds shared libraries for Windows on travis-ci
Aug 04 09:45:25 <Redfoxmoon>	libtool goes "hmmm....I don't know this platform, therefore no shared libraries!"
Aug 04 09:45:35 <Redfoxmoon>	midipix is a POSIX layer for windows
Aug 04 09:45:44 <Redfoxmoon>	unlike cygwin, it doesn't suck :-)
Aug 04 09:46:02 <smcv>	if you take a tool that contains knowledge of platform-specific quirks
Aug 04 09:46:12 <smcv>	and try to use it for a platform it doesn't know about
Aug 04 09:46:18 <Redfoxmoon>	it shouldn't matter
Aug 04 09:46:19 <smcv>	you are not going to have a good time
Aug 04 09:46:25 <Redfoxmoon>	uhm.
Aug 04 09:46:37 <Redfoxmoon>	libtool shouldn't go to a "known list for shared libraries"
Aug 04 09:46:53 <smcv>	knowing which hoops you need to jump through to get a shared library, on which platforms, is exactly the point of libtool
Aug 04 09:46:53 <Redfoxmoon>	it COULD check against a list of broken platforms, sure
Aug 04 09:47:09 <Redfoxmoon>	normal PE target
Aug 04 09:47:23 <Redfoxmoon>	"libtool: different triplet, therefore NOPE."
Aug 04 09:47:26 <Redfoxmoon>	uh.
Aug 04 09:47:27 <smcv>	now, perhaps the world has got better since libtool started, and "most" relevant platforms can be lumped into equivalence classes
Aug 04 09:47:39 <Redfoxmoon>	it has AFAIK
Aug 04 09:47:45 <Redfoxmoon>	most platforms are sane :(
Aug 04 09:50:15 <andlabs>	what do you mean
Aug 04 09:50:20 <andlabs>	we still need to support xenix and 2.2BSD
Aug 04 09:50:32 <Redfoxmoon>	:-)
Aug 04 09:50:44 <Redfoxmoon>	trololo
Aug 04 09:51:32 <andlabs>	when will gtk3 for amiga workbench be out =P
Aug 04 09:51:41 <mclasen>	anyway, to get back to the beginning of this discussion, I think showing the failure you see might be more productive than asking about race conditions in general
Aug 04 09:59:49 <gnunn>	I've got a user complaining about huge icons in GTK 3.16 when using my app. The app uses custom SVG icons and only my custom icons are showing up huge, the icons taken from the theme are the correct size. Any chance this is a known issue in GTK 3.16? Here's my bug report: https://github.com/gnunn1/terminix/issues/428
Aug 04 10:01:01 <gnunn>	I went through bugzilla and while there are some bug reports for huge icons they all seem to be all or nothing, i.e. all icons are huge, whereas in my case some icons are huge some are normal
Aug 04 10:01:47 <baedert>	gnunn: are you storing symbolic icons in scalable/?
Aug 04 10:02:30 <gnunn>	baedert: They are in a scaleable folder in my resource file yes. It works fine in other GTK versions as far as I can tell
Aug 04 10:03:13 <baedert>	gnunn: opensuse sets the min size of scalable/ to 64px
Aug 04 10:03:30 <baedert>	you have to use symbolic/ for symbolics
Aug 04 10:03:49 <baedert>	which increases the icon theme spec whatever package version you need because symbolic/ only exists in the latest version
Aug 04 10:04:07 <baedert>	... which you can work around by using symbolic pngs
Aug 04 10:04:22 <gnunn>	baedert: I think mine are smaller then that
Aug 04 10:04:47 <baedert>	then 32, doesn't matter
Aug 04 10:05:02 <baedert>	https://github.com/baedert/corebird/issues/451
Aug 04 10:05:52 <gnunn>	baedert: Thanks very much for that link, this saves me a ton of time in trying to figure out the problem!
Aug 04 10:07:48 <baedert>	gnunn: The end result was https://github.com/baedert/corebird/commit/84a11623e24ac3bd58a86847b7262d373005eb53 ...
Aug 04 10:10:06 <gnunn>	baedert: OK, that seems pretty reasonable. Thanks again for this, saves me a ton of time
Aug 04 10:17:44 <Redfoxmoon>	mclasen, will try do that later and post the log
Aug 04 10:42:50 <al>	can a GSocket of type G_SOCKET_TYPE_STREAM be used with g_dtls_server_connection_new ?
Aug 04 10:51:36 <pmike>	al: I suppose it cannot, looking from the source code, but pwithnall: knows better
Aug 04 11:02:32 <kung>	anybody knows a C++ IDE written in GTK?
Aug 04 11:02:52 <pmike>	anjuta? 
Aug 04 11:02:58 <kung>	gonna google :)
Aug 04 11:03:34 <kung>	nice, gonna install
Aug 04 11:03:38 <pmike>	;)
Aug 04 11:03:48 <pmike>	geany also
Aug 04 11:16:42 <ebassi>	gnome-builder
Aug 04 11:17:33 <mclasen>	eclipse ?
Aug 04 11:33:53 <baedert>	Company: http://paste.fedoraproject.org/401281/24711147/
Aug 04 11:36:38 <mclasen>	looks fine to me
Aug 04 11:41:17 <baedert>	Company: Also, totally unrelated, but do you want to look into bug 763517? :)
Aug 04 11:41:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=763517 .General, normal, gtk-bugs, NEEDINFO , Selected sidebar item in file chooser briefly has wrong color on cursor leave
Aug 04 11:43:58 <al>	thanks pmike, i dont' think GSocket should implement GDatagramBased interface. Not all sockets are DatagramBased, e.g. TCP.
Aug 04 11:44:00 <al>	There should be a new object GDatagramBasedSocket that inherits from GSocket and implements GDatagramBased. This will GError if try to create TCP socket with it. The changes to GSocket are causing problems with Vala. The idea of a conditional interface based on constructor argument is dubious in my view
Aug 04 11:52:11 <pwithnall>	al: It’s not a conditional interface, it’s an interface which will return an error if you call its methods on a stream-based socket
Aug 04 11:52:29 <pwithnall>	It’s no worse than socket() being a gateway to all sorts of different types of connections with totally different semantics
Aug 04 11:53:04 <pwithnall>	and I suspect less painful than having a DatagramBased and StreamBased copy of a lot of classes and interfaces
Aug 04 11:53:54 <pwithnall>	But to answer your original question, as pmike said: you cannot use a stream-based socket with GDtlsServerConnection
Aug 04 11:54:03 <pwithnall>	It will throw errors as soon as you try sending or receiving data
Aug 04 11:54:21 <al>	hmm, if it errors then it doesn't implement the method so it is not implementing the interface. my understanding was that GObject brought OOP methods to C. this seems like a corruption of that
Aug 04 11:55:25 <al>	and makes it difficult for bindings
Aug 04 11:55:56 <al>	what purpose does the interface serve?
Aug 04 11:57:55 <DimStar>	Hi all. the fresh 3.20.7 tarball is 'broken' insofar that it requires an unstable glib2 version due to https://git.gnome.org/browse/gtk+/commit/configure.ac?h=gtk-3-20&id=a01ee5a7b0a9a7170d4be3c64314ee51dd502cab
Aug 04 12:47:01 <nacho_>	LRN, sorry for the late response
Aug 04 12:47:04 <nacho_>	LRN, just made the review
Aug 04 12:47:17 <LRN>	just pushed
Aug 04 12:47:52 <LRN>	IIRC you've agreed that these are OK for master and asked me to hold up the 2.24 backport last time we spoke
Aug 04 12:47:59 <DimStar>	mclasen: Hi - I think you joined after I posted it:  fresh 3.20.7 tarball is 'broken' insofar that it requires an unstable glib2 version due to 
Aug 04 12:48:03 <DimStar>	                 https://git.gnome.org/browse/gtk+/commit/configure.ac?h=gtk-3-20&id=a01ee5a7b0a9a7170d4be3c64314ee51dd502cab
Aug 04 12:48:04 <LRN>	so i just wanted a non-IRC confirmation
Aug 04 12:48:11 <nacho_>	LRN, this one is pushed? https://bugzilla.gnome.org/show_bug.cgi?id=768722
Aug 04 12:48:12 <bugbot>	Bug 768722: Backend: Win32, major, gtk-win32-maint, NEW , Keyboard shortcuts for russian characters doesn't work
Aug 04 12:48:15 <LRN>	yes
Aug 04 12:48:32 <LRN>	also, pushed the other one, from bug 569581
Aug 04 12:48:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=569581 Backend: Win32, minor, gtk-win32-maint, NEW , Using the US-Intl keyboard layout causes unexpected character combinations
Aug 04 12:48:33 <nacho_>	ah!, mind fixing the minor issues pointed out and push a patch?
Aug 04 12:48:49 <mclasen>	DimStar: arr, I meant to skip that
Aug 04 12:49:17 <DimStar>	mclasen: I was pretty sure you did not mean to require an unstale glib in stable gtk
Aug 04 12:50:29 <mclasen>	reverted
Aug 04 12:51:05 <DimStar>	will you do a new release tarball or shall I just revert it in the packages too?
Aug 04 12:51:21 <mclasen>	let me do that quickly
Aug 04 13:15:47 <heftig>	mclasen: gtk 3.20.7 depends on glib 2.29.1
Aug 04 13:15:56 <heftig>	er, 2.49.1
Aug 04 13:16:11 <mclasen>	3.20.8 won't
Aug 04 13:16:21 <heftig>	ah, okay, thanks.
**** BEGIN LOGGING AT Thu Aug  4 13:52:14 2016

Aug 04 13:52:14 *	Now talking on #gtk+
Aug 04 13:52:14 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 04 13:52:14 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
**** BEGIN LOGGING AT Thu Aug  4 14:02:44 2016

Aug 04 14:02:44 *	Now talking on #gtk+
Aug 04 14:02:44 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 04 14:02:44 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 04 15:00:43 <hergertme>	hrmm, do we not get a notify on active-id when a comboboxtext changes?
Aug 04 15:01:05 <jmd>	Using gtk_widget_add_accelerator, from where to I get the accel_group pointer?
Aug 04 15:01:35 <hergertme>	certainly *looks* like it should, hrmm
Aug 04 15:03:36 *	hergertme wonders why his GBinding isn't working
Aug 04 15:12:33 <mclasen>	b4n: garnacho was looking at it
Aug 04 15:13:07 <mclasen>	if thats the bug I'm thinking of
Aug 04 15:13:22 <garnacho>	oh right
Aug 04 15:19:27 <tobias47n9e>	What is the GTK locale for Dari language? fa_AF does not seem to work.
Aug 04 15:21:32 <mclasen>	we do have a fa.po
Aug 04 15:24:07 <tobias47n9e>	mclasen, fa starts with RTL but fa_AF not. Is that maybe a bug?
Aug 04 15:25:08 <mclasen>	both fa and fa_AF come up in rtl here
Aug 04 15:26:14 <tobias47n9e>	mclasen, Thanks. I guess then it is an issue on my side
Aug 04 15:27:02 <mclasen>	how are you setting it ? my guess would be that setlocale fails for one of your two tries
Aug 04 15:34:38 <jmd>	What's the shift key called in Variant speak?
Aug 04 15:37:03 <tobias47n9e>	mclasen, Now I know what the problem is. fa_AF in Windows 7 is prs_AF
Aug 04 15:37:39 <tobias47n9e>	I will have to catch all of these differing local labels
Aug 04 15:37:55 <mclasen>	ugh
Aug 04 15:39:17 <b4n>	mclasen, garnacho great, thanks :)
Aug 04 16:06:31 <tonyctl>	is it possible to hide a gtk window with css?
Aug 04 16:27:34 <hergertme>	tonyctl: no
Aug 04 16:28:13 <tonyctl>	can I make it transparent enough to be invisible?
Aug 04 16:28:42 <hergertme>	you might need to make sure it has an rgba visual (although maybe that is default by now?)
Aug 04 16:29:54 <hergertme>	hrmm, setting the opacity property works for me, but not window { opacity: 0.3 }
Aug 04 16:30:07 <hergertme>	probably due to visuals
Aug 04 16:31:01 <tonyctl>	hm
Aug 04 16:31:24 <tonyctl>	I'm trying to make a unity theme where I hide parts of the ui
Aug 04 16:33:12 <The_gull>	* { color:transparent; background:none; border:none;  } ?
Aug 04 16:33:31 <The_gull>	looks quite… transparent
Aug 04 16:34:06 <mclasen>	as long as you don't expect to click on the button from the window underneath...
Aug 04 16:43:16 <tonyctl>	that might work but I don't know if I have the right selector
Aug 04 17:25:41 <rudrab>	Hi, please, how can I add a pixbuf image to a GtkCellRendererPixbuf?
Aug 04 17:25:55 <rudrab>	must be silly, but please help
Aug 04 17:26:30 <rudrab>	https://paste.gnome.org/pc2skadlc is the part, 
Aug 04 17:26:49 <rudrab>	where i want to pack a pixbuf
Aug 04 17:32:46 <bugbot>	carlosg@gnome.org changed the Status on bug 769287 from NEW --- to RESOLVED FIXED.
Aug 04 17:32:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769287 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, GtkMenuToolButton:show-menu is emitted twice and breaks dynamic menus
Aug 04 17:39:22 <b4n>	garnacho: thanks
Aug 04 17:39:33 <b4n>	would it be possible to have it backported to the affected stable branches?
Aug 04 17:42:58 <garnacho>	b4n: yeah, I'll push to gtk-3-20 too, not sure the previous will get that much further attention
Aug 04 17:43:38 <b4n>	well, I would hope for things like Ubuntu to update to a newer 3.18 if it happened
Aug 04 17:44:02 <b4n>	maybe I'm too optimistic about them, but well
Aug 04 17:50:07 <rudrab>	Do I must have a liststore defined for this?
Aug 04 17:53:19 <b4n>	rudrab: if you don't have a liststore how do you use the renderer?  but no, you can g_object_set(renderer, "pixbuf", pixbuf, NULL);
Aug 04 18:11:49 <rudrab>	b4n: like this: https://paste.gnome.org/pdxowpffm
Aug 04 18:11:50 <rudrab>	?
Aug 04 18:24:30 <b4n>	Redfoxmoon: hum, no
Aug 04 18:25:00 <b4n>	sorry, wrong HL
Aug 04 18:25:05 <b4n>	he's gone
Aug 04 18:26:01 <Redfoxmoon>	happens :-)
Aug 04 19:53:43 <ebassi>	mclasen: Pushed some more gadget -> render node work; I still have a weird offset in the contents of the header bar, but I can't find where it's coming from
Aug 04 19:54:05 <mclasen>	I just built that branch, will have another look
Aug 04 19:54:17 <ebassi>	Cool, thanks
Aug 04 22:41:52 <tonyctl>	hey does gtk respect WAYLAND_DISPLAY env variable?
Aug 04 22:46:42 <tonyctl>	I see it does in weston
Aug 05 01:17:22 <mclasen>	ebassi: pushed a fix for headerbar allocation
Aug 05 02:38:08 <rudrab>	Hi, with python3+Gtk3, how can I add 2 cell renderer(text+pixbuf) to a single treeview?
Aug 05 02:38:55 <rudrab>	I am trying https://paste.gnome.org/pps9ccnwe
Aug 05 02:40:19 <TingPing>	rudrab, just make two renderers and pack them both in
Aug 05 02:40:40 <TingPing>	rudrab, an example: https://python-gtk-3-tutorial.readthedocs.io/en/latest/treeview.html#the-view
Aug 05 02:41:54 <rudrab>	TingPing: I am trying to do that ...the problem is, is it possible to load data to cellrenderer without a liststore? e.g. set_property?
Aug 05 02:42:20 <rudrab>	see the code please
Aug 05 02:43:50 <TingPing>	rudrab, sure, but the property you want is probably "icon-name"
Aug 05 02:44:29 <TingPing>	rudrab, http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/CellRendererPixbuf.html#properties
Aug 05 02:45:19 <rudrab>	ah...ok
Aug 05 02:45:22 <rudrab>	thanks a lot
Aug 05 02:49:03 <rudrab>	TingPing: will you have a little more time plz?
Aug 05 02:50:28 <rudrab>	https://paste.gnome.org/phmomfmiv is what I am trying to do....a cellrenderercombo. The icons is working great, but that is not clickable
Aug 05 02:51:33 <rudrab>	I am trying to get the icon clickable, not the text (both is ok)
Aug 05 02:51:54 <TingPing>	is the text clickable?
Aug 05 02:52:51 <rudrab>	yes
Aug 05 02:53:32 <rudrab>	when i click the text, the on_combo_changed works
Aug 05 02:53:35 <TingPing>	hmm, well im not certain the best solution, but you could probably just connect to the clicked signal of the treeview and if its the icon activate the combo instead
Aug 05 02:56:53 <rudrab>	hmm...already did that...unfortunately CellRendererPixbuf does not have a clicled/edited signal
Aug 05 02:57:08 <TingPing>	that is why i sad the treeview
Aug 05 03:00:28 <rudrab>	Actually it should open a cellrenderercombo
Aug 05 03:41:53 <bugbot>	New glib bug 769534 filed by jan.steffens@gmail.com.
Aug 05 03:41:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769534 general, normal, gtkdev, NEW , g_unix_signal_source_new does not support SIGWINCH
Aug 05 03:50:03 <bugbot>	mcrha@redhat.com changed the Component on bug 769263 from general to Backend: Wayland.
Aug 05 03:50:03 <bugbot>	mcrha@redhat.com changed the Product on bug 769263 from evolution to gtk+.
Aug 05 03:50:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, NEW , [Wayland] Changes parent menu selection on hover of a child
Aug 05 07:10:57 <mclasen>	ebassi: the css nodes need to take outer shadows into account, I think
Aug 05 07:16:35 <ebassi>	mclasen: I thought that was part of the computation when drawing
Aug 05 07:16:43 <ebassi>	the background, I mean
Aug 05 07:17:19 *	ebassi is going to leave for the weekend in about an hour, so it'll have to wait until Monday morning
Aug 05 07:17:46 <mclasen>	if you look at the shadows example in gtk3-demo, you'll notice some are missing
Aug 05 07:17:51 <mclasen>	I may look at it a bit
Aug 05 07:18:00 <mclasen>	we may just be clipping them away
Aug 05 07:18:16 <ebassi>	Yeah, it's probably a case of missing clip
Aug 05 07:18:31 <ebassi>	i.e. using the allocation instead of the clip to determine the size of the node
Aug 05 07:18:52 <ebassi>	The frame rendering is also a bit bust: the label is drawn over the frame border
Aug 05 07:19:10 <ebassi>	Likely because it expects to be rendering on the same cairo_t
Aug 05 07:19:18 <ebassi>	With a clip
Aug 05 07:31:42 <The_gull>	what’s the correct way (if there’s one) to “scroll to the selected row” in a GtkListBox inside a GtkScrolledWindow ? it looks really hard to do
Aug 05 07:34:31 <baedert>	get the selected row, get its coordinates relative to those of the listbox, gtk_adjustment_set_value to that?
Aug 05 07:39:39 <The_gull>	using get_allocation () or something like that ?
Aug 05 07:40:13 <baedert>	yes
Aug 05 07:40:32 <baedert>	gtk_widget_translate_coordinates if you have to
Aug 05 07:42:54 <The_gull>	ok, thanks, I’ll try that
Aug 05 07:43:08 <The_gull>	(but I think it’s quite complicated for something that should be trivial)
Aug 05 07:44:29 *	ChanServ sets mode +q on #gtk+ Company
Aug 05 07:44:29 *	ChanServ gives channel operator status to Company
Aug 05 08:41:33 <bugbot>	New gtk+ bug 769554 filed by andreas.pokorny@gmail.com.
Aug 05 08:41:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769554 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Touchpad scrolling not as smooth as it should be
Aug 05 09:46:22 <bugbot>	New gtk+ bug 769557 filed by andreas.pokorny@gmail.com.
Aug 05 09:46:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769557 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Gtk applications crash when user attempts to drag
Aug 05 11:26:42 <garnacho>	mclasen: I btw consider wip/wayland-tablet-v2 ready for review/landing, I'm now writing the missing API docs
Aug 05 11:27:01 <mclasen>	ok!
Aug 05 11:36:06 <baedert>	garnacho: what's a hardware id? *hint* :)
Aug 05 11:40:37 <garnacho>	baedert: I'm on it :P. it's a "serial number" of sorts, a number only that stylus/GdkDeviceTool has
Aug 05 14:15:04 <bugbot>	New gtk+ bug 769562 filed by db0451@gmail.com.
Aug 05 14:15:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769562 Widget: GtkComboBox, normal, gtk-bugs, NEW , ComboBox does not propagate has_focus from child ToggleButton or provide any real way to check focus/activation state
Aug 05 15:59:18 <behdad>	is there an easy way to get a ctypes-compatible pointer from g-i python bindings?
Aug 05 15:59:32 <behdad>	eg. the raw pointer?  I suppose the id() does that still?
Aug 05 17:46:23 <gregier>	behdad: id() will probably give you the wrapper, not the actual object instance, looks like you want GObject.Object().g_type_instance 
Aug 05 18:02:57 <gnunn>	Arch recently upgrade to GTK 3.20.8 and I'm seeing this warning now everytime I run my app "(terminix:5674): Gtk-WARNING **: Allocating size to GtkScrollbar 0x247b5e0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?". Checked bugzilla but didn't see anything
Aug 05 18:26:25 <bugbot>	New gtk+ bug 769566 filed by gerald.b.nunn@gmail.com.
Aug 05 18:26:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769566 Widget: GtkRange, normal, gtk-bugs, NEW , GtkScrollbar warning "How does the code know the size to allocate?"
Aug 05 20:36:35 <bugbot>	New gtk+ bug 769568 filed by dhgutteridge@hotmail.com.
Aug 05 20:36:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769568 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Modification date display incorrectly wraps calendar days (and is inconsistent with GTK2 and Nautilus)
Aug 05 20:37:51 <grim>	so if gtk_dialog_set_alternative_button_order is deprecated, how do I add a button to an existing dialog?
Aug 05 22:56:42 <jmd>	Where is the format for the attribute name="accel" properties of GMenuModel documented ?
Aug 06 03:00:59 <rudrab>	Hi, given the CellRendererCombo remains almost hidden (no visual for presence of a combo, eg. dropdown arrow of a normal combobox), I am trying to add a pixbuf in the same cell
Aug 06 03:01:28 <rudrab>	e.g. https://paste.gnome.org/ptnqluhzf
Aug 06 03:02:09 <rudrab>	problem is the cellrendererpixbuf is not clickable. any idea how to use it?
Aug 06 03:05:25 <rudrab>	http://picpaste.com/Screenshot_from_2016-08-06_09-02-41-kxfR8zgu.png is how my corresponding treeviewcolumn is. 
Aug 06 03:05:59 <TingPing>	rudrab, the index is what has a combo?
Aug 06 03:06:11 <rudrab>	yes
Aug 06 03:06:32 <TingPing>	rudrab, seems like drag n drop is a better way to set an order than a combobox
Aug 06 03:07:02 <TingPing>	though i suppose it might be resortable
Aug 06 03:08:47 <rudrab>	so, you mean there is no easy way to make the pixbuf clickable (or the full TreeViewColumn)?
Aug 06 03:09:39 <TingPing>	well i told you an option yesterday
Aug 06 03:11:29 <rudrab>	TingPing:True, but was not very clear to me..as you can see, I am still fighting
Aug 06 03:14:42 <rudrab>	I have tried making the column clickable. as column_combo.connect("clicked", self.on_combo_changed)
Aug 06 03:14:49 <rudrab>	but no effect
Aug 06 03:15:38 <TingPing>	rudrab, well, at a glance the rough details is, 'button-press-event' of the view, then get_path_at_pos(), somehow get that to a cellrenderer, and call activate() on the combo
Aug 06 03:16:48 <TingPing>	if i were you i just wouldn't shove an icon there, i don't think it makes it much more clear
Aug 06 03:17:10 <TingPing>	if the view isn't sortable, just enable drag n drop and that solves that
Aug 06 03:24:59 <rudrab>	TingPing: tell me one thing, plz
Aug 06 03:26:00 <rudrab>	The TreeViewColumn is clickable; and I have added one more widget(the cellpixbuf) to the column. 
Aug 06 03:26:28 <rudrab>	So, should it not have the properties of the treeviewcolumn?
Aug 06 03:27:19 <TingPing>	clickability of columns refers to the header
Aug 06 03:28:09 <TingPing>	as the docs say: http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/TreeViewColumn.html#Gtk.TreeViewColumn.props.clickable
Aug 06 03:34:31 <rudrab>	one last help: is it possible to make the pixbuf clickable, not the int itself?
Aug 06 06:19:21 <heftig>	qt5, chrome and firefox can all display colored emoji, now just gtk seems be missing here
Aug 06 06:45:55 <jmd>	heftig: Gtk+ copes well with colours for me.
Aug 06 06:46:10 <heftig>	jmd: perhaps that is new in 3.21
Aug 06 06:46:34 <jmd>	Err.  I think it's been like that at least since 2.0
Aug 06 06:46:47 <jmd>	Maybe you have a configuration issue.
Aug 06 06:47:17 <heftig>	wat
Aug 06 06:48:00 <heftig>	jmd: i'm pretty sure this is a problem that goes deep down the stack into cairo, which can't load colored glyphs
Aug 06 06:48:12 <heftig>	that is, colored glyphs are converted to grayscale
Aug 06 06:48:52 <jmd>	I don't know about that.  There are so many different standards for fonts.
Aug 06 06:49:27 <heftig>	i'm having that behavior with both "Noto Color Emoji" and "Apple Color Emoji"
Aug 06 06:49:42 <jmd>	I don't know what they are.
Aug 06 06:52:04 <heftig>	jmd: emoji fonts
Aug 06 06:53:33 <jmd>	Again, I'm not a font expert.  But I know there are so many "standards" and non-standards for fonts, so you could be right.  Perhaps this particular class of font is not fully supported.
Aug 06 06:53:56 <TingPing>	heftig, behdad has certainly mentioned it, no clue if anything came from that
Aug 06 06:54:48 <heftig>	jmd: you do know what i'm talking about?
Aug 06 06:55:29 <jmd>	I guess the thing is, if some random person suddenly announces "Hey! I have invented a new standard for fonts", it is unreasonable to expect the Gtk devs to drop everything and suddenly implement that standard.
Aug 06 06:55:32 <TingPing>	heftig, https://lists.cairographics.org/archives/cairo/2016-April/027357.html
Aug 06 06:56:34 <heftig>	jmd: no, the colored glyph loading is implemented in freetype
Aug 06 06:56:45 <heftig>	TingPing: thanks
Aug 06 07:42:11 <hadess>	heftig, you should read my blog post, which explains the different font standards, and how to get colour emojis in gtk+
Aug 06 10:24:33 *	ChanServ sets mode +q on #gtk+ Company
Aug 06 10:24:33 *	ChanServ gives channel operator status to Company
Aug 06 11:55:40 <ic2000>	ah found the right channel. i've just got a little question; how is the performance of gtk applications on windows? i've heard it has a bad reputation and i'm just here to confirm if it's as slow as people say
Aug 06 12:55:01 <pmike>	ic2000: not sure what you mean by slow, just try, for example, gimp on windows and take your conclusions
Aug 06 13:00:49 <ic2000>	pmike, yeah i've used it quite a lot. the loading times are quite slow, i'm not sure if this is gtks fault or the application design itself
Aug 06 13:01:27 <pmike>	is your pc old somehow? other software runs good quit?
Aug 06 13:02:22 <baedert>	gimp startup times are long because of all the plugins etc.
Aug 06 13:02:24 <pmike>	in my experiencie i see no difference but there are many variables that can change ones experience
Aug 06 13:04:30 <ic2000>	pmike, nah my pc is definitely not old lol - another thing is photoshop loads twice as fast. but i think baedert's conclusion could be the case
Aug 06 13:05:25 <pmike>	indeed, instead of the loading, check how the application performs while working, does it seems slow? slow rendering?, slow mouse and high cpu?
Aug 06 13:05:41 <baedert>	... and then remember that gimp is gtk2
Aug 06 13:05:48 <pmike>	exactly
Aug 06 13:06:42 <ic2000>	pmike, apart from the loading and some certain art options (like cubify) it works fine
Aug 06 13:06:53 <ic2000>	i was also told to use gtk2 over gtk3 as it's less bloated?
Aug 06 13:07:39 <baedert>	mitch: ... which reminds me that I have a rebased version of the gtk3-port branch (with a few additional commits). The rebase is not perfect and needed a fixup later but not sure how important that is to you
Aug 06 13:07:42 <pmike>	some plugins are cpu intensive, it's normal. Also, dont forget that gimp, unlike photoshop, it's not a commercial grade software, there are differences
Aug 06 13:08:39 <baedert>	ic2000: if you never ever want to change your codebase, gtk2 is perfect
Aug 06 13:09:26 <ic2000>	baedert, i don't have a codebase :) i'm looking for a gui lib to use. it's either learn C++ and use Qt, or use gtk and C
Aug 06 13:09:31 <ic2000>	i really don't want to learn C++ atm
Aug 06 13:09:41 <pmike>	ic2000: depends on your goals with gtk
Aug 06 13:10:04 <pmike>	ic2000: gtk has bindings to a lot of languages
Aug 06 13:10:30 <pmike>	dont need to go to gtkmm
Aug 06 13:10:53 <baedert>	if less "bloat" is you only goal you might as well just use ncurses.
Aug 06 13:11:05 <pmike>	xD
Aug 06 13:44:36 <mitch>	baedert: i meant to rebase it soon, too, dunno what is "not perfect", but maybe you can drop me the additional commits?
Aug 06 13:46:04 <mitch>	ic2000: when somebody says "bloat", stop listening to them
Aug 06 13:58:22 <baedert>	mitch: well there's one "Fix build" commit after the rebase :)
Aug 06 13:58:49 <mitch>	baedert: i guess i'll hit that myself
Aug 06 14:13:21 <baedert>	mitch: https://paste.xinu.at/m-OeLL/ Some of those are silly but 0252 was particularly tricky to track down.
Aug 06 14:18:40 <arun>	Hi, I'm usig a flowbox and am backaging a boxes in it, each box has itself several boxes again. When I use the cursors to move around, I would like it to only iterate over the flowbox children, but it also goes a level deeper and iterates over the box children... how do I disable this?
Aug 06 14:56:20 <bugbot>	New gtk+ bug 769581 filed by agalakhov@gmail.com.
Aug 06 14:56:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769581 Printing, normal, gtk-bugs, NEW , Color profile in print dialog is displayed incorrectly
Aug 06 17:14:13 <bugbot>	mclasen@redhat.com changed the Status on bug 769485 from NEW --- to RESOLVED FIXED.
Aug 06 17:14:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769485 .General, normal, gtk-bugs, RESOLVED FIXED, Eliminate use of g_test_expect_message()
Aug 06 18:22:54 <mitch>	baedert: oh wow that's quite some patches, thanks
Aug 06 18:23:40 <mitch>	baedert: can you tar those up and mail me?
Aug 06 18:56:58 <Hussam>	Anyone noticed this before? https://dl.dropboxusercontent.com/u/105616579/csd.png some of the edge pixels are transparent.
Aug 06 19:44:04 <borschty>	Hussam, they are supposed to be. The window border uses a slightly transparent box-shadow instead of an actual border.
Aug 06 19:45:06 <Hussam>	Ah ok. I just thought I would ask because it looks a bit smudged on Totem :)
Aug 06 19:45:28 <Hussam>	well, the dark theme.
Aug 06 21:26:39 <TingPing>	hadess, did any of the color patches get merged in cairo?
Aug 06 22:06:03 <kung>	Anybody can imagine a reason why every OpenGL widget won't draw textures anymore just because I added a new OpenGL widget to the window?
Aug 06 23:10:47 <heftig>	kung: perhaps you're uploading textures to the wrong context?
Aug 06 23:11:55 <kung>	heftig, the strange thing is, I removed all code which messes with texture loading/uploading but the issue still exists
Aug 06 23:12:32 <kung>	literally removed all code, so it's just an empty widget 
Aug 07 03:10:20 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769486 from NEW --- to RESOLVED FIXED.
Aug 07 03:10:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769486 general, normal, gtkdev, RESOLVED FIXED, Deprecate g_test_expect_message() with structured logging
Aug 07 03:11:42 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 682794 from NEW --- to RESOLVED FIXED.
Aug 07 03:11:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=682794 docs, enhancement, gtkdev, RESOLVED FIXED, Add usage guidance to logging documentation
Aug 07 03:23:01 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 712760 from NEW --- to RESOLVED FIXED.
Aug 07 03:23:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=712760 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, Clang static analysis fixes
Aug 07 05:48:58 <bugbot>	fpeters@0d.be changed the Component on bug 769601 from developer.gnome.org to Documentation.
Aug 07 05:48:58 <bugbot>	fpeters@0d.be changed the Product on bug 769601 from website to gtk+.
Aug 07 05:48:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769601 Documentation, minor, gtk-bugs, NEW , dead link in faq
Aug 07 07:44:55 <mitch>	baedert: thanks :) I'll squash some of those with much earlier commits on the branch because they essentially undo stuff that was needed on earlier gtk3 versions
Aug 07 07:45:06 <mitch>	but not today... sunny sunday outside
Aug 07 08:33:01 <bugbot>	New gtk+ bug 769603 filed by dominik@strehlke.info.
Aug 07 08:33:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, NEW , gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 08:50:01 *	ChanServ sets mode +q on #gtk+ Company
Aug 07 08:50:01 *	ChanServ gives channel operator status to Company
Aug 07 10:41:18 <ochosi>	hey folks, this might be a silly question but where is all the gnome-specific theming in adwaita? it doesn't seem to be in the core (that is baked into gtk+), correct?
Aug 07 10:41:45 <baedert>	app-specific css in is shipped with apps
Aug 07 10:42:16 <ochosi>	so e.g. theming for the .floating-bar in nautilus should be there..?
Aug 07 10:42:39 <baedert>	yep
Aug 07 10:42:41 <ochosi>	(there == nautilus sources)
Aug 07 10:42:42 <ochosi>	ok
Aug 07 10:42:44 <ochosi>	thanks!
Aug 07 10:43:50 <ochosi>	baedert: hm, can't seem to find it, could you give me one more hint for nautilus specifically?
Aug 07 10:44:05 <ochosi>	or is it not in a separate css file?
Aug 07 10:44:22 <bugbot>	kris@loopnest.org changed the Component on bug 767091 from General to Backend: Quartz.
Aug 07 10:44:22 <bugbot>	kris@loopnest.org changed the Product on bug 767091 from GIMP to gtk+.
Aug 07 10:44:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767091 Backend: Quartz, normal, gtk-quartz-maint, NEW , Gimp Crashes dragging pattern to overlay layer
Aug 07 10:45:31 <baedert>	ag says src/resources/css/Adwaita.css
Aug 07 10:46:34 <ochosi>	awesome, thanks a lot!
Aug 07 13:03:29 <bugbot>	kris@loopnest.org changed the Status on bug 753992 from REOPENED --- to RESOLVED FIXED.
Aug 07 13:03:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=753992 Input Methods, normal, gtk-bugs, RESOLVED FIXED, im-quartz discard_preedit segmentation fault
Aug 07 14:12:03 <swilmet>	ochosi: you can use the find command to find all *.css files in a directory (or sub-directory)
Aug 07 14:12:20 <swilmet>	find . -name "*.css"
Aug 07 14:30:25 <ochosi>	swilmet: yup i know, i was browsing git online though and wasn't entirely sure what i was looking for
Aug 07 14:30:31 <ochosi>	thanks for the hint though!
Aug 07 14:31:36 <nicknameitis>	if anyone is interested in databinding, here it is in action (live inspector) https://www.youtube.com/watch?v=-9Sv2Tkj6Gk and (full demo of all features that work) https://www.youtube.com/watch?v=HDNQg7ShnDg
Aug 07 15:17:14 <fahrvergnugen>	In C, I'd make a greasources.xml file to put gtk/menus-appmenu.ui and gtk/menus-traditional.ui to choose the menus intelligently depending on whether we're in GNOME 3 or some other GUI.  How do you do the same in a dynamic-language binding like PyGObject?
Aug 07 15:28:09 <fahrvergnugen>	hmm; looks like you can compile to a gresource file instead of a .c and .h file ( http://stackoverflow.com/questions/30308748/what-is-a-resource-path-that-have-to-be-used-with-gtk-builder-new-from-resource )
Aug 07 15:29:06 <fahrvergnugen>	It would be even better if you could just have it as a constant string in your program; any way to do that, but still have it intelligently choose which one based on desktop environment?
Aug 07 16:04:32 <bugbot>	New gtk+ bug 769608 filed by db0451@gmail.com.
Aug 07 16:04:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769608 Widget: GtkComboBox, normal, gtk-bugs, NEW , ComboBox Button automatically sizes to fit model's values... ONLY upwards. It won't shrink back down.
Aug 07 16:13:20 <bugbot>	mclasen@redhat.com changed the Status on bug 769603 from NEW --- to RESOLVED FIXED.
Aug 07 16:13:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, RESOLVED FIXED, gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 16:14:52 <bugbot>	mclasen@redhat.com changed the Status on bug 769498 from NEW --- to RESOLVED FIXED.
Aug 07 16:14:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, RESOLVED FIXED, Scrollbars are broken
Aug 07 17:03:50 <Creak>	hello!
Aug 07 17:05:09 <Creak>	I've got a label that has plenty of space in his GtkBox, but it's allocated width expands as soon as there is a text in it. Is there a way to work around that?
Aug 07 17:05:20 <Creak>	*its
Aug 07 17:08:00 <kung>	Creak, does the label or box expand? Maybe set padding to 0
Aug 07 17:09:39 <Creak>	kung: the box expand for sure, I suppose it's because of the content of the label. I'll try to make a small test to understand the problem
Aug 07 17:10:22 <kung>	What often helps is to to rebuild the layout in Glade and play with the options
Aug 07 17:11:18 <Creak>	yeah, I'm forking an existing project that didn't use Glade to do the layout (I plan to do that in a later improvement ;))
Aug 07 17:21:09 <Creak>	hmmm... with a simple test I don't have the problem. I'll dig deeper into this ;)
Aug 07 17:21:19 <Creak>	thanks anyway kung 
Aug 07 17:22:11 <kung>	Creak, your welcome ^^ Just tried to help a bit since I'm new to GTK
Aug 07 19:40:16 <bugbot>	dominik@strehlke.info changed the Status on bug 769603 from RESOLVED FIXED to REOPENED ---.
Aug 07 19:40:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, REOPENED , gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 19:55:18 <bugbot>	New gtk+ bug 769611 filed by mkrmdk@gmail.com.
Aug 07 19:55:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 .General, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 07 21:06:05 <muhannad__>	Hi, I'd like to know what IDE/Editor u guys use to develop in C (I'm not looking to the best but I want to know yyou guys use)
Aug 08 02:37:41 *	ChanServ gives channel operator status to alex
Aug 08 03:18:38 <nacho_>	hey behdad 
Aug 08 03:18:54 <nacho_>	behdad, I think you are or you were working on fontconfig?
Aug 08 03:19:02 <nacho_>	behdad, any chance you could have a look at https://github.com/wingtk/gtk-win32/blob/master/fontconfig/fontconfig.patch ?
Aug 08 03:20:33 <behdad>	nacho_: I don't maintain it anymore.  Can you file at fdo or send an email to the mailing list?  Thanks.
Aug 08 03:23:08 <nacho_>	behdad, ok thanks
Aug 08 03:23:14 <behdad>	np
Aug 08 05:22:59 <rudrab>	Hi, I am trying to update the HeaderBar when a file is opened,  with the filename, as https://paste.gnome.org/p55uziash
Aug 08 05:24:02 <rudrab>	But it seems, I cant access the headerbar from the calling function, though it is defined global. Is it possible to update the headerbar dynamically?
Aug 08 05:39:45 <TingPing>	rudrab, sure you could, i think even window.set_title() still works
Aug 08 05:41:27 <TingPing>	rudrab, using globals is a poor way to pass around information though, i think it is just a question of a cleaner design. your MenuManager class sounds like an oddity
Aug 08 05:43:50 <rudrab>	TingPing: I guess, that is the problem. my Window class imports MenuManager. So, I can't find a way to get the window/headerbar variable from Window to MenuManager
Aug 08 05:45:01 <TingPing>	rudrab, the 'modern' way to do menus is with GAction and GMenu, so i think you should probably look into that for a cleaner design
Aug 08 05:46:00 <rudrab>	TingPing: thats true, and I have done this way. The MenuManager is actually the filechooserdialogs
Aug 08 05:46:39 <TingPing>	is your project hosted anywhere so i could have useful context?
Aug 08 05:47:24 <rudrab>	a older version is in github, but i can commit it now
Aug 08 05:47:35 <rudrab>	just give me few second
Aug 08 05:49:13 <rudrab>	TingPing: https://github.com/rudrab/mkbib
Aug 08 05:51:30 <TingPing>	very weird design
Aug 08 05:53:42 <rudrab>	TingPing: Thats might be true. I am from fortran background, and possibly that reflects in my python, too
Aug 08 05:54:43 <TingPing>	rudrab, the actions apply to the window.. so the actions should be within the context of the window
Aug 08 05:55:05 <TingPing>	rudrab, MenuManager 1) has nothing to do with menus, 2) is a subclass of Gtk.Window.. for no reason
Aug 08 05:55:17 <TingPing>	it just moves window logic to another file to complicate things
Aug 08 05:55:33 <TingPing>	rudrab, also in general i think Gtk lends itself better to inheritance than composition
Aug 08 05:56:38 <TingPing>	rudrab, also random note gi.require_version() has to be called before importing.. otherwise its meaningless
Aug 08 05:57:16 <rudrab>	TingPing: so, you think, contents of  MenuManager should be inside Window class?
Aug 08 05:57:38 <TingPing>	its a window action, yes it should be within the window class
Aug 08 05:58:16 <rudrab>	ah..ok. I guess, that will solve a lots of problems
Aug 08 06:00:04 <TingPing>	rudrab, also blocking IO on the main thread is no good, check out Gio for async reading files and whatnot
Aug 08 06:01:52 <rudrab>	blocking IO on the main? you mean the Gtk.events_pending?
Aug 08 06:02:48 <TingPing>	with open(...): read()
Aug 08 06:02:59 <TingPing>	that blocks the UI thread freezing the application
Aug 08 06:05:23 <TingPing>	rudrab, also if you are fiddling with events_pending() you are probably doing something wrong in the first place
Aug 08 06:06:08 <TingPing>	ah yea http
Aug 08 06:06:28 <TingPing>	you can either use libsoup for http which integrates with the mainloop, or do threading yourself
Aug 08 06:08:15 <TingPing>	rudrab, here is an example of libsoup, https://github.com/TingPing/transmission-remote-gnome/blob/master/trg/client.py
Aug 08 06:08:32 <TingPing>	rudrab, example of threading - https://github.com/pithos/pithos/blob/master/pithos/gobject_worker.py
Aug 08 06:16:45 <rudrab>	TingPing: sorry...got dc
Aug 08 06:18:10 <rudrab>	TingPing: so I don't need urllib at all. 
Aug 08 06:18:32 <TingPing>	libsoup would replace urllib, yes
Aug 08 06:19:03 <TingPing>	rudrab, did you get my example link?
Aug 08 06:19:09 <rudrab>	yes
Aug 08 08:16:31 <mclasen>	ebassi: around ?
Aug 08 08:17:57 <ebassi>	mclasen: Yes
Aug 08 08:18:10 <ebassi>	Got your emails
Aug 08 08:18:25 <mclasen>	would love ot hear your opinion on transforms
Aug 08 08:19:22 <ebassi>	I thought about it, this morning, and I think adding non-drawing nodes to deal with clip != allocation cases makes the most sense to me
Aug 08 08:20:20 <mclasen>	I get some 'texture doesn't exist' warning currently for non-drawing nodes
Aug 08 08:20:25 <ebassi>	Non-drawing nodes will be skipped when rendering, and each node has its own world coordinates matrix
Aug 08 08:20:32 <ebassi>	Mmh, that's a bug :-)
Aug 08 08:21:25 <mclasen>	in general, the conversions are surprisingly easy
Aug 08 08:22:50 <ebassi>	As for fallbacks, yes: dropping into a CairoRenderer should be a quick stop gap solution
Aug 08 08:23:05 <mclasen>	needs some new gsk api
Aug 08 08:23:34 <ebassi>	gsk_renderer_get_fallback() :-)
Aug 08 08:23:56 <mclasen>	also need a render() api that takes a cairo_t instead of a GdkDrawingContext
Aug 08 08:24:07 <mclasen>	or a way to create 'freestanding' drawing contexts
Aug 08 08:25:50 <mclasen>	the big outstanding conversions are scrolled window, notebook and stack - after those, most of gtk3-demo should turn into render nodes
Aug 08 08:26:54 <ebassi>	mclasen: Sounds good
Aug 08 08:27:13 <ebassi>	Then we can start porting leaf widgets like TextView and TreeView
Aug 08 08:27:38 <mclasen>	do you have a plan to fix the 'excessive invalidation' problem in widget-factory ?
Aug 08 08:27:53 <mclasen>	I couldn't really find a way to cache any textures or nodes across frames
Aug 08 08:28:57 <ebassi>	mclasen: Yeah, nodes should not be cached; ideally, like alex said on the mailing list, we should have a "surface cache" between GTK and GSK to keep rasterizations around between frames, and invalidate them only when the widget changes
Aug 08 08:29:10 <alex>	not only surfaces
Aug 08 08:29:16 <alex>	any buffers
Aug 08 08:29:28 <alex>	i.e. vertex buffers or whatever
Aug 08 08:30:03 <ebassi>	alex: Texture ids are cached across frames, if they have the same size; just the content is different
Aug 08 08:30:22 <ebassi>	I can also easily cache the VAOs if the quads are the same
Aug 08 08:30:28 <alex>	good
Aug 08 08:30:38 <ebassi>	The main issue is invalidations need to come from GTK
Aug 08 08:30:41 <alex>	yeah
Aug 08 08:30:52 <alex>	need new invalidation model for gtk
Aug 08 08:30:57 <alex>	(like in my mail)
Aug 08 08:31:15 <alex>	sorry for not replying to you btw
Aug 08 08:31:16 <mclasen>	ebassi: there's a bunch more conversions in my gsk-renderer branch, btw
Aug 08 08:31:19 <alex>	been offline mostly
Aug 08 08:31:25 <ebassi>	alex: No worries
Aug 08 08:31:46 <alex>	i'm hoping to be wowed at guadec though
Aug 08 08:31:47 <alex>	NO PRESSURE!
Aug 08 08:32:05 <ebassi>	heh
Aug 08 08:32:32 *	ebassi still has to write his talk, as usual
Aug 08 08:32:39 <alex>	do you do anything of css using custom shaders atm, or is it all texuturing from cairo drawn stuff?
Aug 08 08:33:06 <ebassi>	Nope, texturing; though there is the beginning of a CSS blend mode shader
Aug 08 08:33:24 <ebassi>	Untangling Cairo from GTK is going to take another cycle
Aug 08 08:33:47 <ebassi>	Too much stuff passes around a cairo_t, including the public API
Aug 08 08:34:12 <ebassi>	Gadgets already create different nodes for different bits — like border, background, and focus
Aug 08 08:36:17 *	mclasen was thinking of creating one node per css background
Aug 08 08:38:35 <alex>	ebassi: But will we not be creating assloads of textures?
Aug 08 08:39:10 <alex>	i.e. full size of widget surface/texture for everything that has a border
Aug 08 08:39:21 <alex>	or background
Aug 08 08:40:30 *	mclasen opens a color chooser and counts 124 textures
Aug 08 08:40:39 <alex>	at what sizes?
Aug 08 08:41:07 <mclasen>	most of them are for the individual color swatches, I think
Aug 08 08:41:19 <alex>	I mean, a 100x100 widget with a 1px black background and solid white bg, is that 2 100x100 textures?
Aug 08 08:41:51 <ebassi>	Currently, yes
Aug 08 08:41:58 <alex>	not ideal...
Aug 08 08:42:03 <ebassi>	We'd need a 9-slice texture node
Aug 08 08:42:10 <ebassi>	Or a border-specific node
Aug 08 08:42:26 <alex>	or 4 surfaces for the border
Aug 08 08:42:37 <alex>	+ wrapping 1x1 texture for solid bgs
Aug 08 08:42:48 <alex>	eh, repeating i mean
Aug 08 08:43:42 <ebassi>	To be fair, we don't have many solid colors
Aug 08 08:44:20 <ebassi>	Even borders have gradients :-/
Aug 08 08:44:52 <alex>	ebassi: Every toplevel has a solid bg, plus viewports
Aug 08 08:45:00 <alex>	ebassi: not a *lot* but often large
Aug 08 08:45:20 <mclasen>	do we plan on using gl for gradients ?
Aug 08 08:45:31 <mclasen>	as opposed to textures
Aug 08 08:45:45 <ebassi>	mclasen: AFAIR, Cairo has some code there, but it's pretty nasty
Aug 08 08:46:24 <ebassi>	For large textures I was thinking of adopting Cogl's sliced textures, but those make things like mipmapping much harder to achieve
Aug 08 08:46:25 *	mclasen would envision just sampling at a few points and letting gl do the interpolation as it sees fit
Aug 08 08:47:11 <ebassi>	mclasen: Should work mostly fine for small linear gradients, but it gets hairy for large/radial ones
Aug 08 08:47:28 <alex>	I think having a general textured fallback for things is fine
Aug 08 08:47:32 <mclasen>	right, radial won't work easily that way
Aug 08 08:48:08 <alex>	but for super common cases, like white bg for a textview bg, or the grey window bg, or a simple square black border 1/2px, we should do better
Aug 08 08:48:48 <ebassi>	alex: We could have a GskRenderNode.set_solid_color()
Aug 08 08:48:58 <alex>	yeah
Aug 08 08:49:02 <ebassi>	That would create a 1x1 texture with a repeat
Aug 08 08:49:15 <alex>	simple hack that probably helps bandwidth a lot
Aug 08 08:49:32 <alex>	as well as memory use
Aug 08 08:50:59 *	ChanServ sets mode +q on #gtk+ Company
Aug 08 08:50:59 *	ChanServ gives channel operator status to Company
Aug 08 08:51:20 <mclasen>	another question: whats the fate of the pixelcache with indirect rendering ?
Aug 08 08:51:36 <alex>	i also described that in my mail :)
Aug 08 08:52:02 <mclasen>	ah, great
Aug 08 08:52:18 <alex>	i.e. we want the system to do something similar but at the buffer level
Aug 08 08:52:23 <mclasen>	thats the 'gsk review' on -devel ?
Aug 08 08:52:35 <alex>	and track invalidation inside subwidgets
Aug 08 08:53:36 <alex>	https://mail.gnome.org/archives/gtk-devel-list/2016-July/msg00002.html and follow up which i think never hit the list, but ebassis reply has most of it: https://mail.gnome.org/archives/gtk-devel-list/2016-July/msg00024.html
Aug 08 09:00:41 <mclasen>	Company: any idea about this ? bug 769611
Aug 08 09:00:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 .General, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 08 09:02:29 <Company>	ugh
Aug 08 09:02:44 <Company>	* transitions transition everything, so I wouldn't even know what's going on there
Aug 08 09:03:06 <Company>	plus, i have no idea what happens when themes change
Aug 08 09:03:07 <mclasen>	but some of the text pretty clearly changes after the other stuff
Aug 08 09:04:09 <Company>	yeah, that probably shouldn't happen
Aug 08 09:04:27 <Company>	but from the test I have no idea why that's happening
Aug 08 09:05:01 <Company>	text is also changing color twice, which probably shouldn't happen either
Aug 08 09:05:39 <Company>	but I know stuff that looks like that can happen if opacity changes
Aug 08 09:06:34 <Company>	ie if you transition from white to transparent (which is transparent black), 50% means semi-transparent gray
Aug 08 09:07:28 <Company>	so it might in the end just be some bug about transitions in the parent widget causing transitions in the children to run (which they shouldn't but so far do)
Aug 08 09:07:51 <Company>	and the labels just being the ones where those are nested most deeply
Aug 08 09:08:28 <mclasen>	hmm
Aug 08 09:08:33 <Company>	because the label color transition runs after the button color transition runs after the box color transition runs after...
Aug 08 09:08:48 <mclasen>	shouldn
Aug 08 09:08:55 <mclasen>	t all transitions run at the same time ?
Aug 08 09:09:23 <Company>	a transition is started if a value changes
Aug 08 09:09:54 <mclasen>	and in this case some inherited value changes due to the 'parent transition' ?
Aug 08 09:10:02 <Company>	yes
Aug 08 09:10:15 <Company>	and we have color: inherit; transition: *
Aug 08 09:10:24 <mclasen>	but that would still make the child transition start as soon as the parent one gets ot changing values ?
Aug 08 09:10:33 <Company>	yes
Aug 08 09:10:38 <mclasen>	or does it continuously get restarted while the parent one runs ?
Aug 08 09:10:45 <Company>	and we'd start new ones all the time until the parent transition has finished
Aug 08 09:11:00 <mclasen>	thats...suboptimal
Aug 08 09:11:03 <mclasen>	does the spec require that ?
Aug 08 09:11:07 <Company>	no
Aug 08 09:11:28 <Company>	the specs require you to not start transitions if the change was caused by a transition
Aug 08 09:12:00 <Company>	but for that you need a framework that tracks why some value changed
Aug 08 09:12:27 <Company>	box-shadow: currentColor 1em 1em;
Aug 08 09:12:45 <Company>	that one shoudln't start transitions if the parent runs a transition for font-size or color
Aug 08 09:13:17 <Company>	so tracking that properly is hard
Aug 08 09:13:37 <Company>	and it's not been necessary because themes don't nest transitions
Aug 08 09:14:21 <Company>	ie we transition the button color, but not the color of it's label or the color of the box containing it
Aug 08 09:14:25 <Company>	so it works out in the end
Aug 08 09:14:47 <Company>	as long as you don't demo things in the inspector ;)
Aug 08 09:14:55 <mclasen>	I see
Aug 08 09:15:19 <Company>	it might of course be something else
Aug 08 09:15:54 <Company>	but we're not doing anything specific to fonts that I can think of in the CSS machinery
Aug 08 09:22:14 <iulianradu>	What are the steps to follow if I want to add some .svg files to an application?
Aug 08 09:22:43 <iulianradu>	I need to add them as gresources then use gtk_icon_theme_add_resource_path ()?
Aug 08 09:40:03 <bugbot>	New glib bug 769629 filed by msanchez@gnome.org.
Aug 08 09:40:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769629 general, normal, gtkdev, NEW , Re-enable libmount support by default
Aug 08 09:45:51 <Company>	iulianradu: you mean like https://wiki.gnome.org/HowDoI/ThemedIcons ?
Aug 08 09:46:20 <mclasen>	ebassi: oh, one question I pondered: what do you envision child-transform to be useful for ? the problem with using it to go clip->allocation is that it applies equally to all child nodes (widget ones and css ones)
Aug 08 09:48:06 <ebassi>	mclasen: I added child-transform from ClutterActor; actors use it to do things like "scrollable actors". You set the child transform on the parent with the scrolling offset, and then children are all automatically transformed, instead of changing the transformations on each child
Aug 08 09:49:06 <mclasen>	does that imply that there's some parent-child clipping then ?
Aug 08 09:49:55 <ebassi>	mclasen: Ideally, yes, there should be; right now there isn't.
Aug 08 09:50:05 <ebassi>	So I guess I should remove it
Aug 08 09:50:07 <iulianradu>	Company: Thanks! It seems don't have to call add_resource_path () at all if I add them in the right directory. If I use something like gtk_image_set_from_icon_name () do I have to also add the extension to the name parameter (e.g. my-icon.svg or my-icon)? 
Aug 08 09:50:15 <ebassi>	And add a note on adding stencil-based clipping
Aug 08 09:51:17 <Company>	iulianradu: just my-icon - treat it like any other system icon
Aug 08 09:51:27 <iulianradu>	Thanks
Aug 08 09:52:48 <mclasen>	ebassi: and another question: who is reponsible for setting up a widget node's transform ? the code seems a bit confused about that, currently - the widget functions set transforms, and the propagate_render_node function overrides them
Aug 08 09:55:59 <bugbot>	New glib bug 769630 filed by damien.lespiau@gmail.com.
Aug 08 09:55:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769630 gio, normal, gtkdev, NEW , gfile: G_FILE_MONITOR_WATCH_MOVES was actually introduced in 2.46
Aug 08 09:58:42 <ebassi>	mclasen: Yes, that's definitely suboptimal; ideally, the widget should do that, but now that the GtkContainer is allowed to override them it's a bit of a mess.
Aug 08 09:59:18 <ebassi>	mclasen: We have to solutions: one is to add a `gsk_render_node_get_transform()` and let the container modify the transform of the widget node
Aug 08 09:59:35 <ebassi>	mclasen: The other is to add a non-drawing node with the additional translation imposed by the container
Aug 08 10:02:04 <mclasen>	imo, the main thing we need is a definition of what get_render_node returns: does the node assume it is placed at the allocation, or at the clip
Aug 08 10:05:32 <mclasen>	this is somewhat related to clipping too: if we place the widget node at the allocation, we need to be able to add a larger node for the widget clip, without having the parent node clip it away
Aug 08 10:07:07 <ebassi>	mclasen: I would expect the parent node to be set to the clip, and then widget node to be set to the allocation
Aug 08 10:07:25 <ebassi>	[clip [allocation [children… ] ] ]
Aug 08 10:08:18 <fahrvergnugen>	I found a bug in the GIR; the second argument to g_regex_match_full is flagged as an array rather than a string, and I can't find any way to use it from lgi (Lua binding), even if I expand the string into an array of ASCII code points.
Aug 08 10:08:23 <mclasen>	that conflicts with what you said earlier (about having a non-drawing node at the allocation)...
Aug 08 10:09:09 <mclasen>	the 'widget node' in this terminology is what get_render_node returns, and what propagate_render_node places
Aug 08 10:10:17 <ebassi>	mclasen: Mmh, right
Aug 08 10:13:14 *	mclasen has to go do some trip preparation
Aug 08 10:13:29 <ebassi>	mclasen: Will think about it some more
Aug 08 10:14:28 <mclasen>	thanks
Aug 08 10:22:29 <garnacho>	fahrvergnugen: that's not too different from other places in API where string+length is given. Given there's no hitch in other languages (afaik), I'd think first that lgi is involved
Aug 08 10:22:42 <garnacho>	other places specify "element-type: guint8" though
Aug 08 10:24:03 <feborges>	after the changes in GtkScrolledWindow (bgo#766569), how should we approach scrolled windows which are unexpectedly expanding? by setting an arbitrary max-height-request?
Aug 08 10:25:41 <feborges>	for context: the g-c-c Printers panel is expanding because of the ScrolledWindow at the left listing the printers
Aug 08 10:25:43 <nacho_>	hey guys
Aug 08 10:26:23 <feborges>	http://i.imgur.com/345Gf5f.png
Aug 08 10:26:25 <nacho_>	for the gsettings macro how about having a gsettings_ENUM_PATH?
Aug 08 10:26:59 <nacho_>	so on non recursive makefiles I can provide a proper path for the generated file
Aug 08 10:27:07 <nacho_>	instead of having it in the root dir
Aug 08 10:28:06 <rudrab>	TingPing: ping
Aug 08 10:29:07 <nacho_>	http://paste.fedoraproject.org/404375/66535147/ <- something like this
Aug 08 10:30:07 <nacho_>	ebassi, ^^ thoughts?
Aug 08 10:30:52 <ebassi>	ew :-P
Aug 08 10:31:29 <nacho_>	ebassi, yeah... super ugly :(
Aug 08 10:43:44 <ebassi>	nacho_: I'd like to understand the issue, though
Aug 08 10:44:16 <ebassi>	nacho_: Why is it an issue if it's in the builddir?
Aug 08 10:45:04 <nacho_>	ebassi, in a non recursive makefile if I do NAMESPACE = pipo/my-namespace I want the generated enums.xml in pipo/ but I do not want pipo to be part of the namespace
Aug 08 10:45:08 <ebassi>	jjardon: Hey; last week I asked you if you remember why you had to add build-aux/config.rpath to the EXTRA_DIST
Aug 08 10:45:31 <jjardon>	ebassi: sorry, completely missed that; I was on holidays
Aug 08 10:45:38 <ebassi>	jjardon: No worries
Aug 08 10:45:45 <jjardon>	ebassi: its added automatically by gettextize
Aug 08 10:45:58 <ebassi>	jjardon: How?
Aug 08 10:46:19 <ebassi>	jjardon: You added it to Makefile.am/EXTRA_DIST
Aug 08 10:46:28 <ebassi>	It's a generated file, it should not be added to the dist
Aug 08 10:47:09 <jjardon>	ebassi: what module is this? gettextize modify the Makefile.am when you run it
Aug 08 10:47:19 <ebassi>	jjardon: gtk+
Aug 08 10:47:44 <jjardon>	(gettextize should only be run one time by the maintainer to add gettext support)
Aug 08 10:47:49 *	jjardon checking
Aug 08 10:48:13 <ebassi>	jjardon: https://git.gnome.org/browse/gtk+/tree/Makefile.am#n25
Aug 08 10:48:37 <ebassi>	If gettextize is adding config.rpath to the EXTRA_DIST then gettextize is doing something dumb
Aug 08 10:49:00 <jjardon>	ah, yeah; that was gettextize; should we submit a bug report?
Aug 08 10:49:07 <ebassi>	Yes, please
Aug 08 10:49:56 <jjardon>	I will send it to gettext when I finish work if you don't beat me on it :)
Aug 08 10:50:55 <ebassi>	I don't even know where the gettextize bug tracker is
Aug 08 10:52:07 <jjardon>	ebassi: AFAIK is a mailing list: https://lists.gnu.org/archive/html/bug-gettext/
Aug 08 10:52:20 <ebassi>	Yey!
Aug 08 10:52:40 <ebassi>	And here I thought it would be Savannah. Instead, they use an even less useful tracker!
Aug 08 10:53:44 <ebassi>	Oh, GNU.
Aug 08 10:54:32 <jjardon>	ebassi: http://savannah.gnu.org/bugs/?func=additem&group=gettext 
Aug 08 10:55:03 <ebassi>	\o/
Aug 08 10:57:01 <ueno>	was even thinking to move it to debbugs.gnu.org, anyway
Aug 08 10:58:10 <ebassi>	ueno: That would be a step up :-)
Aug 08 11:07:36 <bugbot>	New gtk+ bug 769635 filed by cfergeau@redhat.com.
Aug 08 11:07:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769635 Widget: Other, normal, gtk-bugs, NEW , Using gtk_event_box_set_above_child() can result in spurious grab-broken events
Aug 08 11:14:13 <throwaway574>	I have a client trying to run a GTK program on their computer, but they have a high DPI setting and the program does not render correctly.  Is there a way to 'ignore' the DPI settings?
Aug 08 11:16:11 <aruiz>	throwaway574, what version of Gtk+? What desktop? What OS/version?
Aug 08 11:21:27 <throwaway574>	3.14.15, Windows.  I'm more curious as to whether or not there is anything in GTK itself that can ignore the DPI settings in any version/environment.  Just knowing if it is possible in any context is what I'm looking for.
Aug 08 11:25:34 <pmike>	g_data_input_stream_readline is supposed to block or return NULL if there is no more data left in the receiving buffer?
Aug 08 11:26:54 <pmike>	from the documentation: "...If there's no content to read, it will still return NULL..."
Aug 08 11:28:48 <aruiz>	throwaway574, I don't think so
Aug 08 11:28:54 <pmike>	i'm using the function but i'm having trouble findind a way to use it as it does not behave corretly
Aug 08 11:28:58 <aruiz>	throwaway574, but not sure
Aug 08 11:29:53 <throwaway574>	that's okay.  i've been looking and i don't think there's anything either.
Aug 08 11:30:27 <pmike>	imo, i think there might be a bug there, at least when working with sockets (DataInputStreams) but would like to consult with you guys first
Aug 08 11:35:11 <aruiz>	throwaway574, I'd be curious to see a screenshot, can you file a bug?
Aug 08 11:35:53 <aruiz>	throwaway574, in any case, 3.14 is kind of dated atm...
Aug 08 11:36:08 <aruiz>	throwaway574, any chance you could update the gtk+ version to something more recent?
Aug 08 11:36:46 <ebassi>	throwaway574: When you say "high DPI" you mean "HiDPI" — e.g. retina display?
Aug 08 11:46:01 <LRN>	throwaway574, https://bugzilla.gnome.org/show_bug.cgi?id=768081
Aug 08 11:46:03 <bugbot>	Bug 768081: Backend: Win32, normal, gtk-win32-maint, NEW , Enable HiDPI support for GDK-Win32
Aug 08 11:52:22 <pmike>	regarding the g_data_input_stream_read_line, a bit of context: I'm connection to a device via TCP sockets (similar to telnet), after sending a message i'll receive a bunch of data which is made of several lines terminated with CR+LF.
Aug 08 11:53:27 <pmike>	the receiving end, is a callback, attached to to the maincontext for G_IO_IN
Aug 08 11:55:09 <pmike>	the callback will be "fired up" a few times but not for all the lines that were really received (i've wireshark on and the device sent more lines than the ones displayed)
Aug 08 11:56:19 <pmike>	if i somehow trigger another message to the device, then the callback will be invoked for the remainder of the lines (the missing ones and the new ones, some or all...)
**** BEGIN LOGGING AT Mon Aug  8 11:57:56 2016

Aug 08 11:57:56 *	Now talking on #gtk+
Aug 08 11:57:56 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 08 11:57:56 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
**** BEGIN LOGGING AT Mon Aug  8 12:01:24 2016

Aug 08 12:01:24 *	Now talking on #gtk+
Aug 08 12:01:24 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 08 12:01:24 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 08 12:03:17 <throwaway574>	I probably could update GTK to a newer version.  I'm using PyGObject for Windows, and I believe that's been updated to 3.18.  I also create an executable with Py2exe to run the program on non-dev machines.
Aug 08 12:04:18 <throwaway574>	If I right-click on the exe and click 'Disable display scaling on high DPI settings', it almost works.  The text is still too large, but the widgets look better, so there's a solution in there somewhere.
Aug 08 12:30:30 <pmike>	it seems to work ok on non-presistent socket connection as the callback will be called an undetermined number of times after the other end closes the connection forcing the data to be received but on persistent socket connection it will not work the same way
Aug 08 12:30:57 <pmike>	e.g., telnet
Aug 08 13:10:57 <bugbot>	New gtk+ bug 769641 filed by pierluigi.fiorini@gmail.com.
Aug 08 13:10:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769641 Backend: Wayland, major, gtk-bugs, NEW , Mismatched application id with xdg-shell
Aug 08 14:25:52 <bugbot>	New glib bug 769642 filed by pmikepublic@gmail.com.
Aug 08 14:25:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769642 gio, normal, gtkdev, NEW , g_data_input_stream_read_line blocks instead of returning NULL as stated on the documentation
Aug 08 14:44:31 <pmike>	:q
Aug 08 14:59:44 <bugbot>	danw@gnome.org changed the Status on bug 769642 from NEW --- to RESOLVED NOTABUG.
Aug 08 14:59:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769642 gio, normal, gtkdev, RESOLVED NOTABUG, g_data_input_stream_read_line blocks instead of returning NULL as stated on the documentation
Aug 08 15:01:13 <Company>	ah yes, i need to talk to people about recording statistics again
Aug 08 15:03:15 <Company>	because we don't even know how many people are using gnome, but We Vibe records which women are the hottest when pleasuring themselves
Aug 08 15:03:31 <Company>	and people pay them to record that
Aug 09 10:30:21 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Aug  9 10:30:21 2016

**** BEGIN LOGGING AT Tue Aug  9 10:30:34 2016

Aug 09 10:30:34 *	Now talking on #gtk+
Aug 09 10:30:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 09 10:30:34 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 09 10:36:52 <jadahl>	garnacho: popovers should use the new menu positioning system. but I guess they shouldn't grab, thus won't be dismissed when clicking outside anything
Aug 09 10:37:10 <jadahl>	i.e. they'll be xdg_popups, but not part of a menu popup grab chain
Aug 09 10:42:36 <garnacho>	jadahl: I maybe should have a closer look to v6 :)
Aug 09 10:42:48 <garnacho>	baedert: looks good :)
Aug 09 10:42:59 <rudrab>	Hi, in most of the Gtk apps, e.g. epiphany, statusbar is shown as a slide, drawn over other existing widgets, and disappears after remove_all. i.e. it does not need a special place in grid
Aug 09 10:44:28 <rudrab>	is there any small example that shows this behaviour? I have tried to get it from epiphany, but thats too complex for my present understanding
Aug 09 10:46:34 <jadahl>	garnacho: i will hopefully nag you about gtk and mutter patches shortly
Aug 09 10:46:43 <jadahl>	review of that is
Aug 09 10:57:29 <garnacho>	jadahl: sure :)
Aug 09 10:58:04 <garnacho>	rudrab: there's several GtkOverlay demos in gtk3-demo
Aug 09 10:58:37 <bugbot>	New glib bug 769672 filed by sjoerd@luon.net.
Aug 09 10:58:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769672 gthread, normal, gtkdev, NEW , Assert threads for testcase 642026 are sucessfully created
Aug 09 11:01:36 <rudrab>	garnacho: ok...i didnt know the name...so, not sure what to search for
Aug 09 11:01:39 <rudrab>	thanks
Aug 09 11:01:57 <baedert>	well the think in epiphany is a NautilusFloatingBar fwiw
Aug 09 11:37:03 <bugbot>	New glib bug 769674 filed by simon.mcvittie@collabora.co.uk.
Aug 09 11:37:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769674 gio, normal, gtkdev, NEW , some GIO tests' arbitrary timeouts are too short
Aug 09 12:19:41 *	baedert ponders just removing the transitions from popovers again :)
Aug 09 12:28:14 <andlabs>	tempted to make an in-joke from work here
Aug 09 12:28:20 <andlabs>	(in response to baedert)
Aug 09 13:50:55 <rudrab>	Hi, is there any container with its own window that can pack the statusbar? (like epiphany)
Aug 09 13:54:21 <jmd>	rudrab: All containers can pack any widget.
Aug 09 13:56:09 <Hussam>	a gnome-terminal fix causes a crash. should I post a backtrace in the bug report whose fix introduced the crash or do I file a brand new report?
Aug 09 13:57:52 <rudrab>	jmd: yes...but they dont have their own window. e.g. I have tried to pack statusbar inside a Gtk.Box...but since it does not has its own window, the text remains transparent to the main window
Aug 09 13:58:23 <jmd>	The only GtkContainer with its own window, so far as I'm aware is GtkLayout.
Aug 09 13:58:59 <baedert>	rudrab: transparent?
Aug 09 13:59:03 <jmd>	But that should not have any bearing on the effect you describe.
Aug 09 13:59:24 <baedert>	Hussam: Doesn't really matter
Aug 09 13:59:38 <Hussam>	baedert: ok, I'll post in the same bug.
Aug 09 14:00:08 <rudrab>	https://paste.gnome.org/plmdvdvw5 is what i am doing
Aug 09 14:00:45 <rudrab>	since it is overlayed to another, statusbar writes over scroll
Aug 09 14:01:36 <rudrab>	so, if scroll also has text on the same coordinate, its a mess
Aug 09 14:02:00 <rudrab>	I am trying to achieve the statusbar like its sone in epiphany
Aug 09 14:02:21 <baedert>	But how do you want to fix that? Give the text a background?
Aug 09 14:02:56 <jmd>	rudrab: Typically you would pack a status bar into a GtkBox
Aug 09 14:03:22 <rudrab>	thats what I have doen
Aug 09 14:03:27 <rudrab>	isnt it?
Aug 09 14:03:36 <jmd>	I have no idea.
Aug 09 14:04:59 <rudrab>	https://paste.gnome.org/pdk3mwt3q is the code...plz have a look...6line only
Aug 09 14:06:07 <jmd>	You're using GtkOverlay.  That always complicates things.   Do you really need it?
Aug 09 14:08:07 <rudrab>	yes...actually, I don't want to waste space only for occasional status messages
Aug 09 14:08:58 <baedert>	"widget drawn without current allocation" is just the most useless warning ever :(
Aug 09 14:09:12 <rudrab>	but, actually there comes the problem. And thats why, I am looking for a container with its own window
Aug 09 14:09:39 <jmd>	You could always write one yourself.
Aug 09 14:14:11 <rudrab>	I have also tried GtkEventBox...
Aug 09 14:14:47 <baedert>	I still don't understand what you mean by container with its own window or why that would fix your issue.
Aug 09 14:15:07 <baedert>	Your problem so far is just that you have text overlayd over other text, which is unreadable?
Aug 09 14:16:39 <rudrab>	baedert: yes
Aug 09 14:17:02 <baedert>	rudrab: So you just want a background for your text?
Aug 09 14:17:44 <rudrab>	baedert: yes...i guess.
Aug 09 14:18:04 <baedert>	rudrab: you guess?
Aug 09 14:18:52 <rudrab>	I want a background to the text, sure. 
Aug 09 14:19:20 <baedert>	you get that by adding a style class to a widget and styling the class appropiately
Aug 09 14:21:29 <rudrab>	baedert: you mean css?
Aug 09 14:21:40 <baedert>	yep
Aug 09 14:21:53 <baedert>	or, well, in that case adding .background to the label might even work.
Aug 09 14:27:58 <rudrab>	self.eventbox.set_visible_window(True) has no apperent change
Aug 09 14:33:23 *	Notify: ipun is online (GIMPNet)
Aug 09 14:33:46 *	Notify: ipun is online (GIMPNet)
Aug 09 14:35:39 <lufimtse>	Question: is there a situation where a callback is not called? (besides system crash..)
Aug 09 14:36:37 <lufimtse>	GAsyncReadyCallback <
Aug 09 14:42:00 <baedert>	Did my response to the Nim editor author on gtk-list about using gdb to get a stacktrace for his warning not get through?
Aug 09 14:56:45 <ebassi>	baedert: It did — at least, I received it
Aug 09 15:12:49 <baedert>	ebassi: ok thanks
Aug 09 15:43:58 <bugbot>	New gtk+ bug 769685 filed by melarish@gmail.com.
Aug 09 15:43:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769685 .General, major, gtk-bugs, NEW , Make install fails with gtk+-3.20.8/gtk/.libs/libgtk-3.so.0: file too short
Aug 09 16:27:26 <nicknameitis>	how does gtk-inspector gets name from glade? name property just specifies class for me
Aug 09 16:43:24 <swick>	hey, is there anyone here who I can talk to about bug 604015?
Aug 09 16:43:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=604015 gio, normal, gtkdev, NEW , g_file_trash() works on partitions not listed in gvfs trash://
Aug 09 18:42:07 <jmd>	I have a problem: GtkGestures seem to inhibit my button_press_event handler from firing.  Do I have to call it explicitly from the gesture callback or what?
Aug 09 21:40:33 <raymod2>	I'm having trouble with HiDPI on a Windows laptop.  The change I made for OSX doesn't seem to be working on Windows 10.
Aug 09 21:40:51 <raymod2>	I used this:  scale = gtk_widget_get_scale_factor(widget);
Aug 09 21:41:42 <raymod2>	Then I multiplied my width and height by the scale factor when creating the image surface.
Aug 09 21:41:59 <raymod2>	And this: cairo_surface_set_device_scale(surface, scale, scale);
Aug 09 21:43:04 <raymod2>	So why doesn't this work on Windows 10?  My application is getting zoomed by the OS.  In other words I am rendering at 100x100 for example and it is displaying in a window that is 250x250.
Aug 09 21:43:50 <LRN>	raymod2, https://bugzilla.gnome.org/show_bug.cgi?id=768081
Aug 09 21:43:51 <bugbot>	Bug 768081: Backend: Win32, normal, gtk-win32-maint, NEW , Enable HiDPI support for GDK-Win32
Aug 09 21:47:15 <raymod2>	Oh, wow.  I thought this would have been implemented years ago.
Aug 09 21:54:33 <raymod2>	I read through the bug history.  When do you expect this work will be pulled in?
Aug 09 21:55:51 <raymod2>	Also, is HiDPI working on Linux?  Fedora and Ubuntu for example?
Aug 09 22:01:56 <raymod2>	Finally, is it possible to work around this missing support in the near term?  Can my application report to Windows that it is HiDPI capable to prevent the OS from scaling it, then check the screen resolution to see if it is HiDPI, and finally apply a manual scale factor to everything in GTK+?
Aug 09 22:04:06 <LRN>	HiDPI works on X11
Aug 09 22:04:23 <LRN>	no idea about workarounds or when this is going to be merged in
Aug 09 22:04:35 <LRN>	so far only fanc works on this
Aug 09 22:11:32 <raymod2>	Forgive my ignorance but do the default windows managers on Fedora and Ubuntu use X11?
Aug 10 04:26:25 <nacho_>	LRN, anything to review?
Aug 10 04:27:57 <LRN>	nacho_, no
Aug 10 04:28:08 <nacho_>	ok
Aug 10 04:57:46 <nacho_>	LRN, did you see this ?
Aug 10 04:57:49 <nacho_>	..\..\..\gtk\gtkspinbutton.c(1124): error C4013: 'snprintf' undefined; assuming
Aug 10 04:57:49 <nacho_>	 extern returning int [C:\gtk-build\build\Win32\release\gtk3\build\win32\vs12\g
Aug 10 04:57:49 <nacho_>	tk-3.vcxproj]
Aug 10 04:58:06 <LRN>	nope
Aug 10 04:58:12 <LRN>	since when does that happen?
Aug 10 04:58:23 <nacho_>	3.20.6 was building
Aug 10 04:58:25 <nacho_>	3.20.8 does not
Aug 10 04:59:01 *	LRN tries
Aug 10 05:01:56 <nacho_>	LRN, https://git.gnome.org/browse/gtk+/commit/?h=gtk-3-20&id=8d34a176c70d19fb58edb03ac7608f94d934c981
Aug 10 05:03:15 <nacho_>	it should be a matter of prefixing g_
Aug 10 05:08:35 <rendar>	is there a way to calculate at *compile time* how many bit are needed to store a number? e.g. if i have 15 it should return 4
Aug 10 05:20:20 <LRN>	nacho_, nope, compiles just fine
Aug 10 05:20:56 <LRN>	rendar, no idea
Aug 10 05:25:52 <LRN>	nacho_, ask fanc about it, probably a MSVC-only bug
Aug 10 06:05:03 <bugbot>	aruiz@gnome.org changed the Status on bug 751893 from NEW --- to RESOLVED NOTABUG.
Aug 10 06:05:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=751893 gdbus, normal, zeuthen, RESOLVED NOTABUG, GDBusConnection singleton doesn't honor/notice DBUS_SESSION_BUS_ADDRESS changes
Aug 10 06:29:44 <nacho_>	ebassi, http://paste.fedoraproject.org/405311/8249711/
Aug 10 06:41:13 <baedert>	garnacho: https://paste.xinu.at/PcQKg/
Aug 10 06:44:01 <baedert>	garnacho: Also https://paste.xinu.at/ZB4F/ was kind of confusing when testing :)
Aug 10 06:44:32 <ebassi>	nacho_: ACK
Aug 10 06:44:53 *	ebassi wonders what we could achieve if we stopped caring about sub-par compilers :-P
Aug 10 06:45:51 <TingPing>	save a lot of bytes on those g_ prefixes
Aug 10 06:49:58 <nacho_>	ebassi, it seems it was already fixed in master
Aug 10 06:51:42 <ebassi>	Ah, nice
Aug 10 06:52:26 <ebassi>	So, MSVC does not support the section of C99 that adds snprintf?
Aug 10 06:53:26 <TingPing>	2015 does
Aug 10 06:54:02 <garnacho>	baedert: looks mostly good from a cursory look :), although I think now you remove modality after the fade out animation, as opposed to before?
Aug 10 06:54:07 <nacho_>	it provides a non standard one
Aug 10 07:18:39 <nacho_>	TingPing, any news on using gtls on hexchat?
Aug 10 07:18:51 <TingPing>	nope
Aug 10 07:55:29 *	ChanServ sets mode +q on #gtk+ Company
Aug 10 07:55:29 *	ChanServ gives channel operator status to Company
Aug 10 08:22:47 <rudrab>	Hi, yesterday, I was talking about statusbar, which is yet to solve
Aug 10 08:30:43 <rudrab>	I have put a question at SO, with the image, and my aim:
Aug 10 08:30:55 <rudrab>	http://stackoverflow.com/questions/38866053/epiphany-chrome-like-statusbar-with-its-own-background
Aug 10 08:31:10 <rudrab>	may I request you a kindl look?
Aug 10 08:33:59 <TingPing>	rudrab, basically want this - https://github.com/GNOME/nautilus/blob/master/src/nautilus-floating-bar.c
Aug 10 08:35:58 <TingPing>	rudrab, here is the css - https://github.com/GNOME/nautilus/blob/master/src/resources/css/Adwaita.css#L64-L90
Aug 10 08:36:17 <TingPing>	rudrab, really it should be as simple as just apply that css to the box
Aug 10 08:38:06 <TingPing>	i swore i had a python example using that but i can't find it
Aug 10 08:39:00 <rudrab>	TingPing: thanks. I will try it. But, what I am thinking of is how the box will disappear with the statusbar message. May be I need to create it every time, and destroy. But I will check
Aug 10 08:39:15 <TingPing>	rudrab, just call hide()
Aug 10 08:39:39 <rudrab>	ah..ok
Aug 10 08:40:10 <csoriano___>	rudrab: that code has that handling too
Aug 10 08:40:44 <baedert>	garnacho: Um yes, is the important part here the modality or the input shape?
Aug 10 08:47:21 <nicknameitis>	i asked this yesterday and no answer. i'm trying to figure out how gtk-inspector gets the widget name as it is specified in glade. i looked at its sources, but failed to find it
Aug 10 08:47:43 <baedert>	nicknameitis: With the name you mean the name or the id?
Aug 10 08:50:00 <nicknameitis>	baedert: had to reopen glade, darn thing just crashed on me for the first time in 2 weeks. in glade it is ID
Aug 10 08:50:47 <baedert>	gtk_buildable_get_name?
Aug 10 08:51:11 <nicknameitis>	thanks, i'll try asap
Aug 10 08:51:33 <baedert>	object-tree.c:1089 fwiw
Aug 10 08:59:37 <garnacho>	baedert: both, removing modality makes the rest of the app responsive asap, the empty input shape prevents you from clicking again on the popover before it disappears
Aug 10 09:08:22 <nicknameitis>	baedert: thanks a ton, that works
Aug 10 09:08:54 <andlabs>	someone here should probably respond to this because I'm at a loss http://stackoverflow.com/questions/38871450/how-can-i-get-the-default-colors-in-gtk
Aug 10 09:12:35 <baedert>	Why? For a sufficiently complex widget, you'll have to style it yourself (or the theme has to), and that's it.
Aug 10 09:15:04 <nicknameitis>	andlabs: i asked this question quite a while ago and answers i got were: "you can't since move on css, at best you can do is draw it" and from more useful to me from lapoc "you can use @theme_selected_bg_color"
Aug 10 09:15:38 <nicknameitis>	i needed color of selected item when i asked this
Aug 10 09:16:05 <rudrab>	may be I am doing something very stupid, but statusbar.connect("text-pushed") is not working
Aug 10 09:17:27 <rudrab>	https://paste.gnome.org/pjd1pabiw
Aug 10 09:19:01 <andlabs>	nicknameitis: yeah, I'm at a loss of how to explain this in a convincing way
Aug 10 09:19:20 <andlabs>	I think the model that GTK+ devs want you to follow is use composite widgets unless absolutely necesary
Aug 10 09:19:24 <andlabs>	but
Aug 10 09:19:40 <visarion>	glib related, I try to open a file two times using g_open (path, O_RDWR)
Aug 10 09:20:16 <nicknameitis>	andlabs: truth is that with css really is nothing like color as you might specify gradient between two colors or bitmap for value
Aug 10 09:20:20 <visarion>	The second time I get -1 as a result. Isn't g_open suppose to behave like POSIX open and provide two fd to the same file ?
Aug 10 09:20:58 <TingPing>	visarion, on unix it literally is calling open()
Aug 10 09:21:16 <visarion>	Oh, ok
Aug 10 09:21:18 <visarion>	:)
Aug 10 09:22:24 <andlabs>	what OS
Aug 10 09:22:37 <andlabs>	and what's the full call
Aug 10 09:25:50 <baedert>	garnacho: https://paste.xinu.at/RivxH/
Aug 10 09:26:04 <baedert>	garnacho: Any ideas about naming? Pop*over*, pop*down* and pop*up*? :)
Aug 10 09:32:02 <garnacho>	baedert: not offhead... at least this one is consistent with GtkComboBox/Menu
Aug 10 09:32:08 <garnacho>	baedert: looks good IMO :)
Aug 10 09:37:17 <garnacho>	andlabs: the rationale is more or less that there's no "default colors", background might be a gradient/image, colors are animatable... you ideally just gtk_render_*() stuff and trust css, or get colors from the GtkStyleContext in a rather limited way
Aug 10 09:38:16 <garnacho>	andlabs: themes obviously want a base palette, but they can name those colors however they want, certainly not limited to background/foreground
Aug 10 09:48:03 <baedert>	garnacho: The other problem is that if the popover uses a subsurface, that still causes the toplevel to be drawn without an allocation (if the popover resizes)
Aug 10 09:48:48 <andlabs>	ah yes I forgot gtk_render_layout()
Aug 10 09:48:59 <andlabs>	even though I literally just used it the last time I wrote GTK+ a month or so ago
Aug 10 09:49:33 <andlabs>	but it's more that last comment there that irks me and that makes me unsure how to properly answer the question
Aug 10 09:49:34 <andlabs>	"Moreover, how would you react if you crashed a program just because you dared removing a single label somewhere? How would you react if changing the color of a label actually changed the color of other, completely unrelated, widgets? "
Aug 10 09:50:08 <andlabs>	like don't we *want* text to be the same color regardless of what widget it is?
Aug 10 09:50:42 <Company>	NO
Aug 10 09:50:51 <baedert>	I don't want my .destructive-action buttons to have the same color as normal buttons
Aug 10 09:50:55 <Company>	man, my caps key...
Aug 10 09:51:31 <baedert>	freudian caps
Aug 10 09:51:54 <Company>	no, i have an app where i use caps to look at a dashboard temporarily
Aug 10 09:52:52 <Company>	andlabs: the correct answer to that question is "there are no colors apart from the foreground color for your widget that you can query via gtk_style_context_get_color()
Aug 10 09:53:16 <Company>	andlabs: everything else is done via gtk_render_*() functions
Aug 10 09:53:44 <Company>	and whether those things use colors or not is none of your business
Aug 10 09:54:07 <Company>	(not colors = they use images most likely)
Aug 10 09:58:24 <andlabs>	yeah
Aug 10 09:58:26 <andlabs>	I figured
Aug 10 09:58:40 <andlabs>	and right, I know widgets that are supposed to stand out should have different colors
Aug 10 09:58:42 <andlabs>	I mean in general
Aug 10 09:58:55 <andlabs>	it'd be jarring if every button had rainbow text
Aug 10 09:59:08 <garnacho>	baedert: hmm, I think that'd hint a bug somewhere else...
Aug 10 09:59:29 <baedert>	garnacho: Yeah, but it was the bug I was initially trying to fix :)
Aug 10 09:59:48 <baedert>	garnacho: i.e. even if you apply that patch, you'll still get those warnings on wayland
Aug 10 10:17:36 <rudrab>	any help please
Aug 10 10:25:23 <sumustinis>	Hi there, I have a treeview and signal button-release-event connected to it. I pass coordinates to get_path_at_pos to get path and column. But if click in celleditable within treeview I can not know anymore is it coordinates of celleditable area or treeview area any suggestions?
Aug 10 10:47:35 <sumustinis>	Ok found a solution myself ... have to connect same signal to editable with connect_after and return true so it does not propagate to a treeview ...
**** BEGIN LOGGING AT Wed Aug 10 11:03:41 2016

Aug 10 11:03:41 *	Now talking on #gtk+
Aug 10 11:03:41 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 11:03:41 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 11:09:04 <bugbot>	New gtk+ bug 769706 filed by mail@baedert.org.
Aug 10 11:09:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769706 Widget: GtkPopover, normal, gtk-bugs, NEW , Add show/hide API to GtkPopover
Aug 10 11:18:30 <ebassi>	baedert: Would GTK use popup/popdown or show/hide, internally?
Aug 10 11:19:52 <ebassi>	win 6
Aug 10 11:22:35 <baedert>	ebassi: depends probably. GtkMenuButton for example would use popup/down, but if you want to hide it like any other widget, you'd use gtk_widget_hide.
Aug 10 11:46:23 <garnacho>	ebassi: probably, most places where we now show popovers would want popup()/popdown()
Aug 10 12:05:50 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug 10 12:05:50 2016

**** BEGIN LOGGING AT Wed Aug 10 12:06:03 2016

Aug 10 12:06:03 *	Now talking on #gtk+
Aug 10 12:06:03 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 12:06:03 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 12:20:05 *	ChanServ gives channel operator status to alex
Aug 10 13:06:05 *	ChanServ gives channel operator status to alex
Aug 10 13:36:36 <kalkin->	hi
Aug 10 13:37:11 <kalkin->	How do I add a menu with gtk3 to the gnome shell topbar?
Aug 10 13:37:31 <baedert>	https://wiki.gnome.org/HowDoI/ApplicationMenu
Aug 10 13:40:33 <kalkin->	baedert: thanks 
Aug 10 13:52:14 <kalkin->	Actually I don't want to have it left. I want to have it right next to the network/profile/shutdown menu
Aug 10 13:52:36 <baedert>	Then you have to write a shell extension
Aug 10 13:53:17 <kalkin->	But a shell extension only works if I'm using Gnome DE. The app should also work in KDE & XFCE. 
Aug 10 13:54:02 <baedert>	But neither of those have a bar at the top you could put your menu in.
Aug 10 13:54:27 <kalkin->	baedert: Currently I use AppIndicator3 for that
Aug 10 13:54:58 <kalkin->	But Gnome Shell puts stuff using AppIndicator3 hidden in the bottom left corner
**** BEGIN LOGGING AT Wed Aug 10 14:53:27 2016

Aug 10 14:53:27 *	Now talking on #gtk+
Aug 10 14:53:27 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 14:53:27 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 15:20:37 <benc>	is it possible to add docker.lang to gedit?
Aug 10 15:20:38 <benc>	https://github.com/ilogue/docker.lang
Aug 10 15:20:45 <benc>	I didn't create it
Aug 10 15:29:42 <TingPing>	benc, can look for an issue on the gtksourceview product on bugzilla.gnome.org
Aug 10 15:33:07 <benc>	thanks
Aug 10 15:36:18 <rudrab>	Hi, while running the code https://developer.gnome.org/gnome-devel-demos/stable/messagedialog.py.html.en, i am not getting the same thing as shown in the image
Aug 10 15:36:29 <rudrab>	(I mean no image, etc)
Aug 10 15:36:44 <rudrab>	http://picpaste.com/Screenshot_from_2016-08-10_21-32-44-418IxiKl.png is what I am getting
Aug 10 15:37:09 <rudrab>	is this due to change in Gtk and/or Adwaita?
Aug 10 15:39:15 <baedert>	yes
Aug 10 16:05:32 *	ChanServ gives channel operator status to alex
Aug 10 17:05:07 *	ChanServ gives channel operator status to alex
Aug 10 20:31:15 <norbert>	so... I'm old, and more than 15 years ago I wrote something using imlib that I'm looking into migrating to imlib2; I think imlib was gdkimlib, and I think gdk and gtk+ are/were kind of related, does anyone know if there are any migration guides from gtk+1 to 2 and/or 2 to 3, and (gdk)imlib1 to imlib2 ?
Aug 10 20:32:33 <norbert>	or, as a shorter and more general question, what happened to gdk_imlib.h
Aug 11 01:48:28 <bugbot>	New gtk+ bug 769725 filed by christian@hergert.me.
Aug 11 01:48:29 <bugbot>	Trace: wl_abort, wl_proxy_marshal_array_constructor_versioned, wl_proxy_marshal_array_constructor, wl_proxy_marshal, wl_data_source_offer (Possibly not interesting)
Aug 11 01:48:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769725 Backend: Wayland, normal, gtk-bugs, NEW , crash in gtktextview with clipboard on wayland
Aug 11 01:52:22 <bugbot>	New gtk+ bug 769726 filed by christian@hergert.me.
Aug 11 01:52:22 <bugbot>	Trace: gtk_box_get_content_size, gtk_css_custom_gadget_get_preferred_size, gtk_css_gadget_get_preferred_size, gtk_box_get_preferred_height_and_baseline_for_width, gtk_widget_query_size_for_orientation (Possibly not interesting)
Aug 11 01:52:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769726 .General, normal, gtk-bugs, NEW , gadget changes cause crash with gtksourceview
Aug 11 06:00:39 *	ChanServ gives channel operator status to alex
Aug 11 06:58:52 *	ChanServ sets mode +q on #gtk+ Company
Aug 11 06:58:52 *	ChanServ gives channel operator status to Company
Aug 11 07:07:52 <bugbot>	New gtk+ bug 769739 filed by emanuele.aina@collabora.com.
Aug 11 07:07:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769739 .General, normal, gtk-bugs, NEW , Add a more efficient way to draw EGLImages, gdk_cairo_draw_from_egl_image()
Aug 11 07:08:54 <bugbot>	mclasen@redhat.com changed the Status on bug 769603 from REOPENED --- to RESOLVED FIXED.
Aug 11 07:08:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, RESOLVED FIXED, gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 11 08:10:10 *	ChanServ gives channel operator status to alex
Aug 11 08:48:37 <norbert>	hi folks, what does gtk+3 use instead of gtk_file_selection_get_filename() ?
Aug 11 08:49:11 <norbert>	at https://developer.gnome.org/gtk2/stable/GtkFileSelection.html#gtk-file-selection-get-filename it says "gtk_file_selection_get_filename is deprecated and should not be used in newly-written code." but it doesn't mention an alternative
Aug 11 08:49:50 <heftig>	norbert: create a GtkFileChooserWidget and use gtk_file_chooser_get_filename
Aug 11 08:49:53 <norbert>	oh actually, I think I found it, it's probably gtk_file_chooser_get_filename()
Aug 11 08:50:01 <heftig>	(GtkFileChooser is an interface)
Aug 11 08:50:02 <norbert>	yes, thanks heftig :)
Aug 11 08:50:47 <heftig>	er, actually it's GtkFileChooserDialog, sorry
Aug 11 08:50:52 <heftig>	the widget is the embedded one
Aug 11 09:11:16 <nicknameitis>	is the anal handling of gtk_list_box_check_model_compat really necessary at least what filtering is concerned? you can still use model perfectly normally with specifying "visible" property on row in filter method
Aug 11 09:12:02 <nicknameitis>	it constantly spews warnings on 100% working application of it
Aug 11 09:33:28 <NathanZhao>	Hi, is there any way to get the reference count of a GValue?
Aug 11 09:34:13 <bugbot>	mclasen@redhat.com changed the Status on bug 769601 from NEW --- to RESOLVED FIXED.
Aug 11 09:34:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769601 Documentation, minor, gtk-bugs, RESOLVED FIXED, Dead link in faq on gtk-question-index.html
Aug 11 10:15:16 <bugbot>	mclasen@redhat.com changed the Component on bug 769611 from .General to Class: GtkStyleContext.
Aug 11 10:15:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 Class: GtkStyleContext, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 11 10:43:59 <bugbot>	New glib bug 769745 filed by pgrunt@redhat.com.
Aug 11 10:43:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769745 gio, normal, gtkdev, NEW , gtask: Add guards for public functions
Aug 11 11:15:14 <bugbot>	mclasen@redhat.com changed the Status on bug 768663 from NEW --- to RESOLVED OBSOLETE.
Aug 11 11:15:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768663 .General, normal, gtk-bugs, RESOLVED OBSOLETE, x11-libs/gtk+-2.24.30 - ui-tests/send-shift-key fails: assertion failed: (gtk_widget_has_focus (button))
Aug 11 11:15:55 <bugbot>	mclasen@redhat.com changed the Status on bug 768662 from NEW --- to RESOLVED OBSOLETE.
Aug 11 11:15:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768662 .General, normal, gtk-bugs, RESOLVED OBSOLETE, x11-libs/gtk+-3.20.6 fails test accessibility-dump
Aug 11 11:19:01 <bugbot>	mclasen@redhat.com marked bug 766089 as a duplicate of unknown bug.
Aug 11 11:19:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766089 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED DUPLICATE, Unpredictable behaviour for single/double mouse clicks
Aug 11 11:50:44 <bugbot>	mclasen@redhat.com changed the Status on bug 766773 from NEW --- to RESOLVED WONTFIX.
Aug 11 11:50:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766773 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED WONTFIX, Publicize GtkCSSNode API
Aug 11 12:02:58 <bugbot>	mclasen@redhat.com marked bug 764126 as a duplicate of unknown bug.
Aug 11 12:02:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764126 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED DUPLICATE, moving the mouse between gtk+ places leaves random ones highlighted/greyed out.
Aug 11 12:26:02 <bugbot>	mclasen@redhat.com changed the Status on bug 769568 from NEW --- to RESOLVED FIXED.
Aug 11 12:26:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769568 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Modification date display incorrectly wraps calendar days (and is inconsistent with GTK2 and Nautilus)
Aug 11 12:38:59 <bugbot>	william@attente.ca changed the Status on bug 768138 from NEW --- to RESOLVED FIXED.
Aug 11 12:39:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768138 Backend: Mir, normal, gtk-bugs, RESOLVED FIXED, Update the GDK-Mir backend to fix a few problems
Aug 11 13:41:03 <jmd>	How can I avoid a GtkApplication connecting to another instance of itself when starting?   I want to run two completely seperate applications.
Aug 11 13:45:08 <halfline>	i think GtkApplication is single instance by design, but you might be able to fake it with dbus-run-session your-application
Aug 11 13:46:41 <chpe>	use the G_APPLICATION_NON_UNIQUE flag when creating the GtkApplication
Aug 11 13:46:42 <jmd>	halfline: It's a real mis-feature.  I hope it is taken out of GTK soon.
Aug 11 13:46:59 <halfline>	chpe: oh interesting, didn't know about that
Aug 11 13:47:30 <jmd>	chpe: I want to be able to control it at runtime.  ./myapp --ignore-all-other-instances or something.
Aug 11 13:48:42 <chpe>	parse the command line before creating the app ? I guess gapplication cmdline parsing won't work for that
Aug 11 13:50:58 <TingPing>	jmd, can look how gnome-builder implements the --standalone flag
Aug 11 13:52:20 <TingPing>	jmd, looks trivial - https://github.com/GNOME/gnome-builder/blob/fec0655ee750f74eaba274bf6d82148288287796/libide/application/ide-application-command-line.c#L342-L349
Aug 11 13:55:14 <jmd>	TingPing: I'll  consider doing something similar.  Thanks.
Aug 11 16:16:48 *	ChanServ gives channel operator status to alex
Aug 11 23:01:49 <bugbot>	New glib bug 769778 filed by smspillaz@gmail.com.
Aug 11 23:01:49 <bugbot>	Trace: g_application_real_local_command_line, g_application_run, ffi_call_unix64, ffi_call, JS::Evaluate (Possibly not interesting)
Aug 11 23:01:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769778 gapplication, normal, gtkdev, NEW , Crash in gapplication.c:1014 when reading error message if dbus_register returns false without setting error
Aug 12 03:35:33 <baedert>	Can I check where gsettings gets its schemas from (like if it takes the one from /usr/local or /usr)?
Aug 12 03:55:47 <rudrab>	Hi, I am trying to close a method, when the window is destroyed.
Aug 12 03:56:23 <rudrab>	https://paste.gnome.org/ps9enne9r is what I am trying
Aug 12 04:12:35 <rudrab>	anyone please?
Aug 12 04:15:09 <LRN>	"close a method"?
Aug 12 04:15:16 <LRN>	must be something pythonic
Aug 12 04:15:49 <rudrab>	LRN yes. actually I want to kill the function itself when the window is closed
Aug 12 04:16:05 <LRN>	how do you normally kill a function?
Aug 12 04:16:35 <rudrab>	with a `return`
Aug 12 04:17:15 <LRN>	are threads involved?
Aug 12 04:17:21 <rudrab>	no
Aug 12 04:17:58 <LRN>	then i do not quite understand the control flow in your hypothetical program
Aug 12 04:18:33 <LRN>	gtk is, by itself, single-threaded and event-based, with a main loop running the app
Aug 12 04:19:49 <LRN>	what does the function (the one you want to kill) do?
Aug 12 04:20:29 <rudrab>	will it be helpful if I paste the complete function?
Aug 12 04:20:44 <LRN>	you can just explain in your own words
Aug 12 04:21:28 <rudrab>	it creates a a window and a treeview, and populate the treeview through a loop
Aug 12 04:22:04 <LRN>	and then?
Aug 12 04:22:33 <rudrab>	say, if I close the window, before the loop (and any other job) finished, I want the loop and the rest of the code to exit
Aug 12 04:23:03 <LRN>	how long does it take for the loop to populate the treeview?
Aug 12 04:24:08 <rudrab>	~20sec
Aug 12 04:24:51 <LRN>	is the window with the treeview the only window you have?
Aug 12 04:25:34 <rudrab>	no...its a side job. If its the main window I could have done Gtk.main_quit()
Aug 12 04:25:42 <LRN>	i see
Aug 12 04:26:00 <LRN>	do you understand the concept of a main loop and event processing in GUI applications?
Aug 12 04:27:59 <rudrab>	I have read that, but..
Aug 12 04:28:08 <LRN>	but what?
Aug 12 04:29:43 <rudrab>	i mean not sure abt ubderstanding
Aug 12 04:31:02 <LRN>	a GUI application (a GTK+-based GUI application, at least) works by running a main loop. Main loop does 3 things: 1) waits for something to happen, 2) turns that "something" into an event, 3) passes the event to the application
Aug 12 04:32:02 <LRN>	GTK+ handles many events internally, but some of them are turned into signals that *your* code can handle (such as button being pressed or a window being closed)
Aug 12 04:32:56 <LRN>	GTK+ is single-threaded internally. When an event is passed from the main loop to GTK+, the main loop stops fetching new events and waits for GTK+ to handle the event it already has
Aug 12 04:33:29 <LRN>	If that event causes a signal in your code to be sent, then while your signal handler is working, the main loop is still stopped
Aug 12 04:34:20 <LRN>	that is why any GUI code you have must work quickly. It absolutely cannot take 20 seconds to complete, because your application will freeze for these 20 seconds
Aug 12 04:34:57 <LRN>	there are three ways to get around that.
Aug 12 04:35:31 <LRN>	One is to split the work you need to do into small chunks and do it one chunk at a time
Aug 12 04:36:45 <LRN>	when a chunk is done, you queue a continuation (something like g_idle_add() or somesuch), telling the toolkit to go back to its thing and call your worker function again once it doesn't have anything better to do, so that you can do the next chunk
Aug 12 04:37:06 <LRN>	The second way is to do your work in a thread.
Aug 12 04:37:44 <LRN>	However, there are subtle difficulties in invoking GTK+ functions from another thread and passing data from your worker thread to GTK+ main thread
Aug 12 04:38:06 <LRN>	There are guides and code examples for doing this somewhere
Aug 12 04:39:12 <LRN>	The third way is to use asynchronous APIs to do your work. If such APIs exist. For example, most filesystem-related functions have asynchronous variants.
Aug 12 04:39:48 <LRN>	this is the same as using threads, but the OS (usually it's the OS) will hide the ugly details from you
Aug 12 04:40:21 <LRN>	obviously, complex mathematical functions or anything you write on your own will not be asynchronous
Aug 12 04:41:13 <LRN>	The fourth way is...um...i forgot what it is
Aug 12 04:41:22 *	LRN tries to remember
Aug 12 04:42:16 <LRN>	damn
Aug 12 04:42:33 <LRN>	anyway, back to your application
Aug 12 04:43:03 <LRN>	if you need examples, GTK has something similar - filechooser dialog search functionality
Aug 12 04:43:25 <LRN>	it has a treeview that is, over time, populated by the results of filesystem search (which is, by definition, a slow-ish process)
Aug 12 04:44:56 <The_gull>	baedert: not that I know
Aug 12 04:45:59 <LRN>	ah, i remembered the fourth way. The fourth way is to just do your work in a loop and have it regularly explicitly nudge the main loop
Aug 12 04:47:14 <LRN>	i think the function is g_main_context_iteration ()
Aug 12 04:47:30 <LRN>	i wouldn't recommend that though
Aug 12 04:50:36 <LRN>	anyway, your "kill the function" functionality will be done differently, depending on how you do your work
Aug 12 04:50:48 <LRN>	if it's a thread, you can cancel it like any other thread
Aug 12 04:51:26 <LRN>	if it's async API, you can cancel it like any other async API (glib async APIs are usually cancellable)
Aug 12 04:52:47 <LRN>	if it's split into chunks, you don't queue the next chunk
Aug 12 04:53:26 <LRN>	if you're manually cranking the main loop, you just check whether you should stop, and don't go on if you should
Aug 12 04:56:01 <LRN>	caveat emptor: in Python threads do not run in parallel, so the threaded way won't work for you
Aug 12 04:59:46 <rudrab>	LRN:thanks...looking for async threads
Aug 12 05:04:00 <rudrab>	*async & threads
Aug 12 05:55:03 <bugbot>	New glib bug 769785 filed by bugzilla@tecnocode.co.uk.
Aug 12 05:55:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769785 general, normal, gtkdev, NEW , gmessages: Expand documentation further for structured logging
Aug 12 06:04:52 <nacho_>	desrt, hey
Aug 12 06:05:04 <nacho_>	desrt, any chance to get a new glib stable release?
Aug 12 06:08:56 <bugbot>	New gtk+ bug 769788 filed by jadahl@gmail.com.
Aug 12 06:08:56 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769788 Backend: Wayland, normal, gtk-bugs, NEW , Fix stacking order of flatpak portals on Wayland
Aug 12 06:30:00 <bugbot>	New gtk+ bug 769791 filed by andreas.pokorny@gmail.com.
Aug 12 06:30:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769791 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Small redraw improvement : Usage of GdkFramClock
Aug 12 07:21:55 <sanketdg>	hi I have a question and I am not sure if its the right place to ask
Aug 12 07:22:19 <Eclipser>	depends on the question -.-
Aug 12 07:22:48 <sanketdg>	I am trying to write a url parser, and apparenly I find gnome-terminal's url parsing thing is very accurate
Aug 12 07:22:56 <sanketdg>	could anybody point me to how its donw
Aug 12 08:16:51 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769785 from NEW --- to RESOLVED FIXED.
Aug 12 08:16:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769785 general, normal, gtkdev, RESOLVED FIXED, gmessages: Expand documentation further for structured logging
Aug 12 08:46:21 <The_gull>	is there a way to know at what position a popover is drawn ? (not what its favorite position is)
Aug 12 08:48:05 <The_gull>	or : I’m trying to attach a popover to a row at the left-right position where the mouse has right-click, but I want it to be attach at the top of the row when the popover will be drawn on top, and at the bottom of the row when the popover will be drawn on bottom ; how should I do ?
Aug 12 10:31:26 <tomtix>	i'm currently trying to make a popover searchbar that pop under the mouse when you press space (like in blender ui, or in glade ui when you double click on central pane); currently i just show the popover when the key-press-event is emitted on the window (top level) object but when the popover fades I get this error: (osux_editor:3431): GLib-GObject-WARNING **: gsignal.c:2635: instance '0x1fae350' has no handler with id '1101' (the adr
Aug 12 10:31:26 <tomtix>	ess is the one of the window)
Aug 12 10:32:42 <tomtix>	the popover is currently relative to some button in the window, and this error does not happen when it is shown by the clicked event on this button
Aug 12 10:32:58 <tomtix>	Can somebody explain what is happening to me?
Aug 12 10:34:20 <tomtix>	code and interface: https://paste.gnome.org/plzn1hsta  https://paste.gnome.org/pdzunhjql
Aug 12 10:57:16 <baedert>	tomtix: Can you run it inside gdb with G_DEBUG=fatal-warnings and see where the g_signal_disconnect is called?
Aug 12 10:59:16 <tomtix>	https://paste.gnome.org/pvcdanjpe
Aug 12 11:04:49 <LRN>	what kind of timezone is GUADEC on?
Aug 12 11:05:07 <LRN>	GMT+1?
Aug 12 11:06:48 <teuf>	LRN: UTC+2
Aug 12 11:06:58 <teuf>	LRN: it's 17:06 at the moment
Aug 12 11:14:58 <baedert>	tomtix: did you connect to the popover's close signal?
Aug 12 11:15:56 <tomtix>	no
Aug 12 11:16:29 <tomtix>	should I?
Aug 12 11:16:32 <baedert>	how do you create the popover?
Aug 12 11:17:35 <tomtix>	with glade and GtkBuilder https://paste.gnome.org/pdzunhjql#line-695
Aug 12 11:20:33 <bugbot>	mcrha@redhat.com changed the Status on bug 769263 from NEW --- to RESOLVED FIXED.
Aug 12 11:20:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, RESOLVED FIXED, [Wayland] Changes parent menu selection on hover of a child
Aug 12 11:30:17 <bugbot>	ofourdan@redhat.com marked bug 769263 as a duplicate of unknown bug.
Aug 12 11:30:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, RESOLVED DUPLICATE, [Wayland] Changes parent menu selection on hover of a child
Aug 12 11:38:45 <baedert>	tomtix: what gtk version?
Aug 12 11:39:46 <tomtix>	gtk3
Aug 12 11:40:27 <baedert>	tomtix: what gtk3 version?
Aug 12 11:40:37 <tomtix>	the precise version is 3.20.8-1
Aug 12 11:41:22 <tomtix>	from the archlinux package
Aug 12 11:53:47 <jmd>	How does one "register" a GApplication ?
Aug 12 11:56:03 <TingPing>	just a guess, g_application_register()
Aug 12 11:56:36 <TingPing>	i think that all normally happens under the hood
Aug 12 12:26:10 <pgrunt>	hi, what is proper way to get HWND from GdkWindow? gdk_win32_window_get_impl_hwnd / GDK_WINDOW_HWND ?
Aug 12 12:26:52 <pgrunt>	spice-gtk uses GDK_WINDOW_HWND but has rendering issues with CSD enabled
Aug 12 12:39:07 <LRN>	anyone interested in having colored structured logging output on Windows?
Aug 12 12:39:50 <LRN>	pgrunt, why do you need HWND?
Aug 12 12:40:13 <LRN>	also, which version of GTK+ does spice-gtk use?
Aug 12 12:40:28 <pgrunt>	the problems started with 3.20
Aug 12 12:41:21 <pgrunt>	LRN: we need it in some winapi https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget.c#n715
Aug 12 12:44:22 <LRN>	gdk_win32_window_get_impl_hwnd() internally just calls GDK_WINDOW_HWND() after checking that the window is indeed a WIN32 one
Aug 12 12:44:35 <pgrunt>	LRN: it is different GDK_WINDOW_HWND
Aug 12 12:45:00 <pgrunt>	see gdkwin32misc.h
Aug 12 12:45:00 <LRN>	ah, yes, the internal one
Aug 12 12:45:34 <LRN>	anyway, it should work
Aug 12 12:45:50 <LRN>	why would spice-gtk have rendering issues if it doesn't render anything using that HWND?
Aug 12 12:45:57 <pgrunt>	yeah, my concern is that both are not very documented
Aug 12 12:46:04 <pgrunt>	LRN: it is because gdk_window_ensure_native
Aug 12 12:46:57 <LRN>	gdk_win32_window_get_handle() seems pretty reasonable
Aug 12 12:47:23 <LRN>	or not
Aug 12 12:47:45 <LRN>	yeah, definitely not
Aug 12 12:48:04 <LRN>	does it work better with gdk_win32_window_get_impl_hwnd()?
Aug 12 12:48:22 <pgrunt>	yes, it seems to work
Aug 12 12:48:39 <pgrunt>	we had the same issues with linux implementation
Aug 12 12:49:07 <pgrunt>	no rendering, because gdk_window_ensure_native steals the window, or something like that
Aug 12 12:49:13 <LRN>	creating new impl for each GdkWindow is definitely not a good idea, so do use gdk_win32_window_get_impl_hwnd()
Aug 12 12:49:52 <pgrunt>	LRN: thanks!
Aug 12 12:50:03 <LRN>	that's what gdk_window_ensure_native() does - it creates an impl for the window, unless it already has one tied to itself
Aug 12 12:50:34 <LRN>	normally only the toplevel has its own impl, all its children just use the one they get from their toplevel
Aug 12 12:51:20 <LRN>	you can probably work around this in user code by first doing gdk_window_get_toplevel() on the window, then getting its HWND
Aug 12 12:51:45 <LRN>	gdk_win32_window_get_impl_hwnd() is probably better though
Aug 12 12:53:09 <pgrunt>	and for me it is just s/GDK_WINDOW_HWND/gdk_win32_window_get_impl_hwnd/g ;)
Aug 12 12:54:57 <pgrunt>	LRN: thanks for explanation 
Aug 12 12:55:28 <LRN>	NP-complete
Aug 12 13:00:24 <pgrunt>	fidencio: the key part is: "creating new impl for each GdkWindow is definitely not a good idea, so do use gdk_win32_window_get_impl_hwnd()"
Aug 12 14:33:16 <norbert>	hey folks, which function will I use to get the text_length of a gtk_editable?
Aug 12 14:33:27 <norbert>	gtk_entry used to have gtk_entry_get_text_length()
Aug 12 14:33:58 <TingPing>	norbert, still does
Aug 12 14:34:04 <norbert>	I can do a conversion "gtk_entry_get_text_length (GTK_ENTRY (...))" but I'm not sure if that's the best solution
Aug 12 14:34:09 <norbert>	ok
Aug 12 14:34:38 <TingPing>	norbert, if you have an editable that IS an entry, it is safe to cast up yes
Aug 12 14:36:02 <norbert>	actually, now that I'm here, I have another question
Aug 12 14:36:46 <norbert>	when I change a gtk_table_attach to a gtk_grid_attach, the last 4 parameters disappear, including the padding; how can I bring back the padding?
Aug 12 14:38:53 <norbert>	I guess maybe the _spacing() functions? although from what I'm reading they don't function on a per-'cell' basis
Aug 12 14:39:09 <norbert>	they probably go for all columns or all rows
Aug 12 14:39:19 <TingPing>	norbert, the widgets margin property?
Aug 12 14:40:02 <norbert>	I don't know, how would I use the widget's margin property? can it have a different distance left/right versus top/bottom?
Aug 12 14:40:25 <TingPing>	yes, margin-top, margin-left, etc
Aug 12 14:40:29 <norbert>	oh, never mind the last question, I see margin-bottom, etc.
Aug 12 14:41:26 <norbert>	gtk_widget_set_margin_left() seems to be one of the functions I can use
Aug 12 14:41:33 <norbert>	alrighty, thanks
Aug 12 14:51:48 <norbert>	warning: implicit declaration of function ‘gtk_widget_set_margin’
Aug 12 14:52:07 <norbert>	is a bit weird though, you'd think if everything is, for example, 2, you could just use one function
Aug 12 14:52:44 <norbert>	similar to what css can do with margin in addition to margin-top etc.
Aug 12 14:53:11 <norbert>	I can of course put together my own function for this - probably will
Aug 12 14:53:39 <ernestask>	you could just set the “margin” property
Aug 12 14:54:01 <norbert>	ernestask, how can I do that?
Aug 12 14:54:03 <TingPing>	norbert, i mean, you could probably use css for this too
Aug 12 14:54:44 <norbert>	ernestask, I haven't touched GTK+ in 16 years :)
Aug 12 14:54:52 <norbert>	17, actually
Aug 12 14:55:45 <ernestask>	norbert, you could look into using CSS, as TingPing suggested, or use g_object_set (widget, "margin", margin, NULL)
Aug 12 14:56:47 <norbert>	thanks
Aug 12 14:59:34 <norbert>	the GTK+ documentation is pretty good, better than the SDL documentation; one thing that's a bit unfortunate is that occasionally it just says "... has been deprecated since version ... and should not be used in newly-written code" without mentioning alternatives
Aug 12 15:00:01 <baedert>	there are not always replacements
Aug 12 15:00:34 <norbert>	true, but I've been able to find them several times when they weren't mentioned
Aug 12 15:54:25 <norbert>	should I always be able to use "$ GTK_DEBUG=interactive ./application" and then Ctrl+Shift+i on any window to bring up something?
Aug 12 15:54:41 <grawity>	for apps which do not use dbus-activation
Aug 12 15:54:42 <norbert>	I'm trying to find out why there's space around images
Aug 12 15:55:13 <norbert>	I don't think I'm using dbus-activation, because I don't know what that is :)
Aug 12 15:55:18 <norbert>	but the debug window is not showing up
Aug 12 15:55:39 <norbert>	I'm on Linux, if that makes any difference
Aug 12 15:55:54 <grawity>	normally GTK_DEBUG=interactive makes the inspector visible by default
Aug 12 15:56:30 <TingPing>	norbert, also i presume you have gtk >= 3.14
Aug 12 15:56:53 <norbert>	I'm not sure how to check
Aug 12 15:56:59 <TingPing>	what distro
Aug 12 15:57:02 <norbert>	I tried "pkg-config gtk+-3.0 --version" but it says 0.26 for, I'm guessing, pkg-config
Aug 12 15:57:04 <norbert>	Mint
Aug 12 15:57:57 <norbert>	apt just says "libgtk-3-dev - development files for the GTK+ library" although.. lemme look up the apt command to see more info
Aug 12 15:58:08 <slaf>	pkg-config --modversion gtk+-3.0
Aug 12 15:58:11 <TingPing>	norbert, mint 17 is ancient with 3.10
Aug 12 15:58:20 <TingPing>	mint 18 is recent enough
Aug 12 15:58:38 <norbert>	ok, I'm using Mint 17.3
Aug 12 15:58:53 <norbert>	oh, I see 18 arrived 43 days ago
Aug 12 15:58:59 <norbert>	I guess I can dist-upgrade
Aug 12 15:59:02 <norbert>	I'll do that
Aug 12 15:59:10 <TingPing>	i thought mint doesn't support dist upgrades
Aug 12 15:59:19 <norbert>	it does
Aug 12 16:05:12 <norbert>	usually the Update Manager has something like https://www.linuxmint.com/pictures/screenshots/rosa/thumb_mintupgrade1.png
Aug 12 16:39:12 <norbert>	thanks again, I'm off
Aug 12 18:42:41 <bugbot>	New glib bug 769815 filed by bugzilla@tecnocode.co.uk.
Aug 12 18:42:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769815 general, normal, gtkdev, NEW , gmessages: Add a convenience function for logging details of a GError
Aug 12 19:24:27 <norbert>	I've upgraded to Mint 18 and GTK_DEBUG=interactive now works, the GtkImage seems to be the right size, but the GtkButton is larger than the image
Aug 12 19:25:31 <norbert>	on the button, there are about 6 pixels of gray around the image
Aug 12 19:26:12 <norbert>	the buttons also appear to be slightly rounded, but they should be as the square image
Aug 12 19:26:22 <norbert>	I really want 0 pixels around the image
Aug 12 19:26:33 <norbert>	any suggestions how I could tackle this issue?
Aug 12 19:30:30 <norbert>	the button says allocated size 42x37, clip area 42x38; the image on it is 24x24
Aug 12 19:32:15 <norbert>	very nice by the way that interactive tool
Aug 12 19:35:58 <norbert>	I do use gtk_widget_set_size_request() to pick 24
Aug 12 19:36:06 <norbert>	don't get why it's larger
Aug 12 19:40:29 <The_gull>	norbert: set CSS padding/border/margin to 0 ?
Aug 12 19:43:45 <norbert>	The_gull: I can just paste "padding:0px; border:0px; margin:0px;" in the CSS field of Objects to test?
Aug 12 19:46:26 <The_gull>	norbert: what version of GNOME / gtk+ are you using ?
Aug 12 19:46:55 <norbert>	I wish there was an easy gtk3-config --version
Aug 12 19:47:15 <norbert>	GTK+ 3.18.9
Aug 12 19:47:28 <The_gull>	in 3.20+, “headerbar button { padding:0; border:none;  margin:0; background:transparent; }” does some quite complete things
Aug 12 19:48:03 <grim>	like "pkg-config --modversion gtk+-3.0" ?
Aug 12 19:48:08 <The_gull>	in 3.18.n, it should be different (and there’s not anymore a “CSS field of Objects”, there’s just the generic CSS thing)
Aug 12 19:48:30 <The_gull>	.titlebar .button { … }, IIRC, should work
Aug 12 19:48:48 <norbert>	The_gull: yes, now it does something
Aug 12 19:50:17 <norbert>	when I use ".button { padding:0; margin:0; border:0; }" it removes a lot of space, but still not all
Aug 12 19:51:17 <The_gull>	there could be some margin around the image, also
Aug 12 19:51:18 <norbert>	but I should be able to figure things out this way, thanks
Aug 12 20:02:18 <norbert>	can status bars have newlines? \n doesn't work
Aug 12 21:58:17 <norbert>	it says gdk_cursor_new() is deprecated; I see the replacement gdk_cursor_new_for_display() but that requires a display parameter; can I just use gdk_display_open() with NULL to get/create one, and then pass that to this new function?
Aug 12 21:59:55 <The_gull>	norbert: IIRC there’s a gdk_display_get_default(), could help
Aug 12 22:00:31 <norbert>	I did see that function, but it returns a GdkDisplay
Aug 12 22:00:48 <norbert>	and gdk_display_open() needs a const gchar *display_name
Aug 12 22:01:23 <norbert>	oh, wait, you mean I can just use that one
Aug 12 22:02:54 <norbert>	yeah, thanks
Aug 12 22:02:59 <The_gull>	I think this has a chance to be the correct way to do that :·)
Aug 12 22:03:51 <norbert>	any thought on whether status bars can have newlines?
Aug 12 22:04:33 <norbert>	I'm porting a super old GTK+ application and back in the day \n worked, but it now displays a 000A block
Aug 12 22:04:49 <norbert>	a unicode character
Aug 12 22:05:03 <norbert>	instead of actually moving the next text to a newline
Aug 12 22:06:03 <norbert>	actually, now that I'm writing this
Aug 12 22:06:43 <norbert>	hm, no, I thought maybe &#10; would work but it doesn't
Aug 12 22:11:53 <norbert>	I should say migrating instead of porting
Aug 12 22:21:24 <norbert>	time to go to batman
Aug 13 03:33:20 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 768198 from NEW --- to RESOLVED FIXED.
Aug 13 03:33:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768198 build, normal, gtkdev, RESOLVED FIXED, Can't build glib with systemtap enabled
Aug 13 04:03:55 <rudrab>	Hi, how can I set preferences for future sessions? like, say, my project will save pdf file to some place. Currently, it is hard coded to Downloads dir. Can i give user a choice to reset it? 
Aug 13 04:14:44 <jmd>	What is the likelihood of GValue getting deprecated in the foreseeable future?
Aug 13 04:28:33 <baedert>	1.3%
Aug 13 04:29:22 <baedert>	rudrab: yes? you can always just save a path your user selected?
Aug 13 04:38:17 <jmd>	How can I define my own GVariantType ?
Aug 13 06:18:11 <jmd>	Why is it that the argument to g_variant_print is non const ?
Aug 13 06:33:43 <jmd>	According to the documentation for g_variant_bytestring:
Aug 13 06:33:49 <jmd>	If the array does not end with a nul terminator character, the empty string is returned. For this reason, you can always trust that a non-NULL nul-terminated string will be returned by this function.
Aug 13 06:34:03 <jmd>	This is self-contradictory.
Aug 13 06:34:23 <jmd>	The empty string IS null terminated.
Aug 13 07:01:07 <tomtix>	this means that if the the byte array contained in the gvariant is not a well formed string, the empty string is return instead, isn't it?
Aug 13 07:02:01 <jmd>	tomtix: Yes. I think that is what it means.
Aug 13 07:02:28 <jmd>	But like I say, the text of the documentation contradicts itself.
Aug 13 07:02:49 <tomtix>	why?
Aug 13 07:03:15 <jmd>	If the first sentence is true, the the second CANNOT be true.
Aug 13 07:04:37 <tomtix>	if the gvariant hold a well formed string, this string is returned, otherwise empty (well formed) string is return; In both case a well formed string is return. And NULL is never returned. This is what is means. I don't see where the contradiction is
Aug 13 07:05:06 <jmd>	You must be reading  a different text to me.
Aug 13 07:06:38 <tomtix>	I'm reading this: https://developer.gnome.org/glib/stable/glib-GVariant.html#g-variant-get-bytestring
Aug 13 07:07:11 <jmd>	Right.  It contradicts itself severly.
Aug 13 07:07:35 <tomtix>	can you explain more
Aug 13 07:07:40 <tomtix>	?
Aug 13 07:09:20 <jmd>	The empty string is null terminated.
Aug 13 07:09:30 <tomtix>	yes
Aug 13 07:09:48 <tomtix>	and?
Aug 13 07:10:15 <jmd>	I give up.
Aug 13 07:11:56 <tomtix>	the doc says this function must return only well formed (null terminated) strings, so if the byte array is not a well formed string, the empty string which is well formed and null terminated is returned instead of the byte array content.
Aug 13 07:12:19 <tomtix>	this is not a contradiction
Aug 13 07:13:24 <ork>	hey folks
Aug 13 07:14:29 <ork>	I'm subclassing Gtk.Image to display a resource image whil attempting to asynchronously loading with HTTP a remote image, and caching it
Aug 13 07:14:57 <ork>	Do you know of any existing implementation? That would be grand if I can skip that
Aug 13 07:17:30 <ork>	(I'm doing a Gtk3 Steam client http://ork.olol.eu/public/2016-08-13_13-17-00__wip-steam.png)
Aug 13 07:21:21 <TingPing>	ork, Lutris provides a launcher to steam games too
Aug 13 07:28:01 <rudrab>	baedert: sorry for awfully late response. So, basically, I need a .config file, where the user selected data will be stored and will be read from?
Aug 13 07:31:13 <TingPing>	rudrab, ideally you use GSettings
Aug 13 07:35:40 <rudrab>	TingPing: ok
Aug 13 07:46:19 <rudrab>	TingPing: do you have any idea of what contains GSettings in python? I am getting many things lke Gtk.Settings/GioSettings etc but not Gsettings
Aug 13 07:46:44 <rudrab>	https://wiki.gnome.org/Projects/PyGObject?
Aug 13 07:47:17 <TingPing>	rudrab, G prefix means GLib, which does have multiple namespaces in python, but this specifically is Gio.Settings
Aug 13 07:47:51 <rudrab>	ok...thanks again
Aug 13 07:48:52 <TingPing>	rudrab, you probably will want to consult the C docs for a higher level overview, you need to make a schema file and install/build it
Aug 13 07:50:33 <TingPing>	rudrab, if you *really* want to avoid it because it is complicated (though providing some nice features) you can just throw any text file in XDG_CONFIG_DIR and call it a day
Aug 13 07:51:22 <rudrab>	TingPing: nope...if Gsettings is the std way, I will do that
Aug 13 07:51:48 <rudrab>	possibly, I will come up with some stupid Q here
Aug 13 08:45:54 <baedert>	ork: Your image implementation displays a loading image (from a resource) while you download the actual image you want to show?
Aug 13 08:47:36 <jmd>	I continually get segfault calling g_variant_print
Aug 13 08:47:52 <jmd>	Do the contents from whcih the variant was constructed have to persist?
Aug 13 08:56:19 <mlundblad>	jmd: I'm not 100% sure, but I think g_variant_new would ref the stuff you pass to it (unless it's primitive types)
Aug 13 08:56:44 <ork>	yup baedert
Aug 13 08:58:58 <jmd>	mlundblad: OK,  I must read some more about GVariants
Aug 13 08:59:22 <baedert>	ork: so do you still use a uri for downloading it and hope gvfs/gio does it or are you using libsoup?
Aug 13 08:59:27 <bugbot>	New gtk+ bug 769835 filed by kritphong@mongkhonvanit.tk.
Aug 13 08:59:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769835 Widget: GtkGLArea, normal, gtk-bugs, NEW , On Wayland, application containing GtkGLArea stops responding to D-Bus messages if it's not on current workspace
Aug 13 09:06:18 <ork>	an async inputstream from libsoup baedert
Aug 13 09:06:48 <ork>	I'm working on the caching / etag checking part now
Aug 13 09:14:47 <baedert>	so you download stuff yourself, what do you need that Gtkimage doesn't yet have?
Aug 13 10:56:07 <bugbot>	New glib bug 769841 filed by bugzilla@tecnocode.co.uk.
Aug 13 10:56:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769841 general, normal, gtkdev, NEW , gapplication: Add an org.gtk.Debugging interface
Aug 13 11:30:54 <bugbot>	New gtk+ bug 769845 filed by arnaud.bonatti@gmail.com.
Aug 13 11:30:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769845 Themes, normal, gtk-bugs, NEW , Infobars’ warning/error/question/info CSS classes are similar
Aug 13 11:36:28 <bugbot>	New glib bug 769846 filed by bugzilla@tecnocode.co.uk.
Aug 13 11:36:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769846 general, normal, gtkdev, NEW , gmessages: Add timestamp to g_log_writer_format_fields()
Aug 13 11:55:12 <tomtix>	I'm currently looking at https://git.gnome.org/browse/gtk+/tree/examples/application4/exampleapp.c; and I try to understand how gobject works; In example_app_startup line 51 I suppose this is the "chain" call to the parent startup method but isn't 'example_app_parent_class' the same object that the 'class' variable in example_app_class_init? My first guest looking at the code is that the 'example_app_class_init' must have been called b
Aug 13 11:55:12 <tomtix>	efore and line 51 would end up in a recursive call (But practice proved me wrong) How does this work?
Aug 13 11:57:37 <chpe>	no, parent_class is the parent class of @class in class_init
Aug 13 11:59:05 <tomtix>	with the cast, it doesn't end up in the same field anyway?
Aug 13 12:01:01 <tomtix>	I think i'm missing something big
Aug 13 12:02:04 <chpe>	in class_init, the parent fields of @class are copied from the parent class, so if you override them you set them in @class not in @parent_class
Aug 13 12:06:36 <tomtix>	Like I said, I think i'm lacking too much knowledge about gobject and/or probably assuming some wrong things because this is not helping me
Aug 13 12:08:50 <tomtix>	I need to see what the define type macro is doing
Aug 13 12:22:55 <The_gull>	tomtix: the GObject documentation might help a little, if you didn’t start there
Aug 13 12:33:03 <tomtix>	Oh i think i got it
Aug 13 13:23:12 <bugbot>	New glib bug 769859 filed by lrn1986@gmail.com.
Aug 13 13:23:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769859 general, minor, gtkdev, NEW , structural logging does not support colored output to Windows console
Aug 13 13:25:42 <LRN>	*facepalm*
Aug 13 13:25:47 <LRN>	s/structural/structured/
Aug 13 14:18:26 <polochon>	Hi! I've made a GTK+ program with Glade, with a huge GtkTreeView, but when I scroll, I have warnings like « Allocating size to GtkWindow 0x55761a6082b0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate? », is it normal ?
Aug 13 15:24:07 <baedert>	polochon: always when scrolling?
Aug 13 15:25:03 <polochon>	baedert: yes !
Aug 13 15:25:08 <polochon>	or when new elements are added
Aug 13 16:22:01 <polochon>	baedert: do you have any idea where it comes from ?
Aug 13 16:37:04 <baedert>	polochon: nope, that should be gtk 3.20?
Aug 13 17:30:15 <norbert>	I'm having trouble with my gtk_statusbar; I used to be able to use \n for newlines, but this no longer works; as a solution I'm now trying to set the widget to a max width, but then I have no idea what to do/will happen if the text is longer than the width; also, I see no "width" or "wrap" or anything liek that at https://developer.gnome.org/gtk3/stable/GtkStatusbar.html
Aug 13 17:30:23 <norbert>	anyone here have any thoughts on this?
Aug 13 17:30:45 <norbert>	maybe I should get rid of the statusbar and just regular text?
Aug 13 17:31:52 <norbert>	I'm also looking for something like gtk_widget_set_size_request but to specify an exact size instead of something that will expand
Aug 13 17:33:02 <polochon>	baedert: yep, I'm on gtk 3.20
Aug 13 17:45:30 <norbert>	this is why I don't like widgets, I can never know what sizes things will be
Aug 13 17:53:40 <baedert>	norbert: not that I like the idea, bit GtkStatusBar is seriously no complex widget. Can always clone it yourself with your own GtkLabel that supports line wrapping
Aug 13 17:53:55 <baedert>	or file a bug, maybe its an oversight
Aug 13 18:45:24 <norbert>	hm, how would I apply CSS only to certain GtkButtons?
Aug 13 18:45:53 <norbert>	I'm currently using "GtkButton { padding:0; }" but I only want this for a specific group of buttons
Aug 13 18:46:57 <norbert>	I could do it for each widget, but maybe I can add a class-like thing?
Aug 13 18:47:35 <norbert>	oh, hey, gtk_style_context_add_class()
Aug 13 18:47:40 <norbert>	neato
Aug 13 20:03:42 <tonyctl>	are you allowed to use c++ member functions as gtk callbacks?
Aug 13 21:39:14 <bugbot>	New gtk+ bug 769873 filed by sadiq@sadiqpk.org.
Aug 13 21:39:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769873 Widget: Other, enhancement, gtk-bugs, NEW , Add reverse animation for check boxes and radio buttons
Aug 14 01:03:24 <bugbot>	New gtk+ bug 769876 filed by arnaud.bonatti@gmail.com.
Aug 14 01:03:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769876 Themes, normal, gtk-bugs, NEW , “linked” CSS class broken in rtl
Aug 14 01:30:37 <bugbot>	New gtk+ bug 769877 filed by arnaud.bonatti@gmail.com.
Aug 14 01:30:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769877 Themes, normal, gtk-bugs, NEW , [HighContrast(|Inverse)] dual-headerbars broken
Aug 14 02:48:16 <bugbot>	New gtk+ bug 769879 filed by arnaud.bonatti@gmail.com.
Aug 14 02:48:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769879 Themes, normal, gtk-bugs, NEW , [HighContrast(|Inverse)] tooltips problems
Aug 14 05:16:52 <bugbot>	New gtk+ bug 769881 filed by jpakkane@gmail.com.
Aug 14 05:16:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769881 .General, enhancement, gtk-bugs, NEW , Preliminary Meson build files
Aug 14 05:17:43 <rudrab>	Hi, I am trying to get contents of a file as a buffer to display in a textview
Aug 14 05:17:52 <rudrab>	https://paste.gnome.org/plze9wvj4 is what I am doing
Aug 14 05:18:20 <rudrab>	so, clearly, file_get_contents is not what I am looking for
Aug 14 05:21:22 <rudrab>	whats wronf here, please?
Aug 14 05:24:09 <teuf>	rudrab: hm, seems to be returning a tuple rather than directly the data
Aug 14 05:24:13 <teuf>	maybe it's (data, len)
Aug 14 05:24:37 <teuf>	(pdf_buf) = GLib.file_get_contents("..") or somethnig like that might work?
Aug 14 05:31:03 <rudrab>	teuf: ypu mean something like https://paste.gnome.org/pjnobo3vq?
Aug 14 05:32:16 <teuf>	rudrab: ah sorry maybe mixed up the name of the variable
Aug 14 05:33:03 <teuf>	rudrab: I meant, in your first paste, just replace the first pdf_buf on the first line with one with ()
Aug 14 05:33:23 <teuf>	rudrab: or just print/use repr on the pdf_buf you get which throw an error in the hope of getting more info
Aug 14 05:33:42 <teuf>	or maybe GLib.get_file_contents() has api doc
Aug 14 05:33:59 <rudrab>	teuf: thats what I did, didnt I?
Aug 14 05:34:16 <rudrab>	in my 2nd paste
Aug 14 05:34:25 <teuf>	rudrab: dunno, a create_textview() call appeared which was not there at first :)
Aug 14 05:34:36 <teuf>	and the first line of the second paste does not seem useful
Aug 14 05:36:40 <rudrab>	https://paste.gnome.org/pqntjokc0 shows, the pdf_buf is not a buffer
Aug 14 05:38:26 <teuf>	rudrab: but a tuple is a fairly standard python thing if I'm not mistaken
Aug 14 05:38:38 <teuf>	so should be possible to figure out what's in there and how to extract it
Aug 14 05:40:27 <rudrab>	teuf: :) thats not the problem. Problem is i expected  GLib.file_get_contents("bibtex.bib")
Aug 14 05:40:30 <rudrab>	to open contents of "bibtex.bib" as a buffer eg g_file_get_buffer
Aug 14 05:45:42 <teuf>	I don't know what you call "a buffer", I'm not familiar with the python bindings, but I expect you'll get some kind of byte array out of this function
Aug 14 07:33:17 <jmd>	I get the compiler warning "‘gtk_style_context_get_background_color’ is deprecated: Use 'gtk_render_background' instead".
Aug 14 07:33:23 <jmd>	Is this a mistake?
Aug 14 07:33:44 <jmd>	gtk_render_background has no means of returning the colour.
Aug 14 07:34:44 <baedert>	there is no single color so you should just render it instead of inspecting the color and doing something with that
Aug 14 07:35:30 <jmd>	I don't  follow ...
Aug 14 07:38:23 <jmd>	I want to fetch the background colour, so that I can create a similar colour to pass to gdk_cairo_set_source_rgba
Aug 14 07:39:26 <baedert>	yeah but the css background could be a gradient or an image or multitiple of all of those, you get the idea.
Aug 14 07:39:49 <jmd>	In my case it isn't.
Aug 14 07:40:20 <baedert>	then just use gtk_style_context_get_background_color and ignore the warning or add deprecation guards.
Aug 14 07:42:11 <jmd>	deprecation guards ?  
Aug 14 07:42:47 <jmd>	Can one do that on a granular basis?
Aug 14 07:43:21 <TingPing>	there is a define for it
Aug 14 07:43:45 <TingPing>	jmd, https://developer.gnome.org/Deprecations/
Aug 14 07:43:51 <TingPing>	G_GNUC_BEGIN_IGNORE_DEPRECATIONS
Aug 14 07:45:32 <pwithnall>	bear in mind that this function is deprecated because it will be removed in future, so you're only delaying doing the work to use gtk_render_background()
Aug 14 07:45:45 <pwithnall>	(removed in future = removed for GTK+ 4, whenever that is)
Aug 14 07:45:59 <lazka>	you could also render to a dummy image surface and use the resulting pixel color
Aug 14 07:46:05 <jmd>	TingPing: Thanks.
Aug 14 07:47:07 <jmd>	pwithnall: You are right there.  Developing with Gtk is a continual game of catchup.  Can I replace the deprecated functions faster than the Gtk devs can deprecate the new ones ....
Aug 14 07:47:53 <pwithnall>	jmd: did you want Benjamin Otte's presentation at this year's GUADEC?
Aug 14 07:48:04 <pwithnall>	it explains the thinking behind what's going on here
Aug 14 07:48:51 <jmd>	For example, I have recently Replaced the all my calls to _get_pointer to use (what I thought was) the modern GtkDeviceManager, only to discover that GtkDeviceManauger has been deprecated in 3.20 !!
Aug 14 07:53:11 <jmd>	One of this days I must get to GUADEC
Aug 14 07:53:21 <jmd>	where and when is the next one?
Aug 14 07:54:46 <pwithnall>	Not announced yet :)
Aug 14 07:54:54 <pwithnall>	but it will be in August 2017, somewhere in Europe
Aug 14 07:56:10 <pwithnall>	it's likely to be in Manchester, UK, since that's the only bid for hosting which has been received (I think?)
Aug 14 07:56:17 <pwithnall>	but that is not confirmed yet
Aug 14 07:56:28 <jmd>	UK isn't in Europe anymore.
Aug 14 07:57:50 <jmd>	So what would be the "correct" way to inspect/set the background colour of a widget?  I see that gtk_widget_override_background_color is also deprecated.
Aug 14 07:58:33 <pwithnall>	the UK is stil technically in Europe — we haven't triggered the legal stuff to leave yet
Aug 14 07:58:57 <pwithnall>	afaik, there is no correct way other than gtk_render_background(), since the background may well not be a solid colour
Aug 14 07:59:36 *	pwithnall -> a talk, afk
Aug 14 08:06:51 <jmd>	The other issue I have is with gtk_widget_override_font.  Presumably is the same story there too?
Aug 14 08:07:01 <polochon>	Hi ! If I want to set a background color for a gtkframe and set the boldness of a border with glade, is it possible ? Or is using CSS the most convenient way ?
Aug 14 08:07:17 <TingPing>	jmd, load css to set the font
Aug 14 08:07:46 <jmd>	TingPing: Is there an example anywhere I can use as a template?
Aug 14 08:08:51 <TingPing>	jmd, https://github.com/TingPing/irc-client/blob/a68db9536ca3f69bdd404c9c0339c5f00f4745a7/src/gui/irc-application.c#L140-L150
Aug 14 08:09:19 <baedert>	polochon: css
Aug 14 08:11:11 <polochon>	baedert: apart from http://www.gtkforums.com/viewtopic.php?f=3&t=988&p=195278&hilit=GTK3+with+CSS#p195278, is there any other good resources on the topic ?
Aug 14 08:12:29 <baedert>	wouldn't call that good :P
Aug 14 08:12:47 <baedert>	information about css is everywhere on the web of course
Aug 14 08:13:10 <baedert>	The 3.20 gtk+ docs for widgets includes names of their css nodes, etc
Aug 14 08:13:47 <polochon>	mh okay, I'll dig into it ! I didn't it was something that popular
Aug 14 08:13:50 <polochon>	+think
Aug 14 08:14:54 <polochon>	(btw, yesterday you answered my question about a gtkwarning about some window size, and replied to you that I was using gtk+ 3.20, but disconnected before you could answer, was it a known bug ?
Aug 14 08:15:34 <baedert>	no, not known
Aug 14 08:15:49 <baedert>	(I think)
Aug 14 08:17:14 <polochon>	I stumbled upon that thread https://bugs.eclipse.org/bugs/show_bug.cgi?id=486068 which seems related
Aug 14 08:17:15 <bugbot>	Bug 486068: SWT, normal, ericwill, REOPENED , [GTK3.20] Allocation warnings printed in error console
Aug 14 08:18:09 <polochon>	but I don't know whether I'm doing something wrong with glade, or if it's a gtk-related bu
Aug 14 08:18:12 <polochon>	g
Aug 14 08:18:14 <baedert>	well yes but that's for GtkFrame, not GtkWindow
Aug 14 08:18:24 <baedert>	I've never seen the warning for GtkWindow.
Aug 14 08:18:34 <polochon>	(I'm using this UI file: https://github.com/Polochon-street/leleleplayer/blob/master/resources/gui.ui)
Aug 14 08:18:46 <baedert>	polochon: if that's really just a treeview in a window and the warning appears, that's a bug and you should open one and attach a minimal reproducer.
Aug 14 08:21:32 <jmd>	TingPing: That example doesn't seem to work for me.  I must have misunderstood how it works.
Aug 14 08:21:59 <TingPing>	jmd, you just set a class for your widget and then set its font
Aug 14 08:22:26 <polochon>	okay, I'll try to make a minimal reproducer and report it, but I tend to think that the error is on my side :\
Aug 14 08:22:27 <jmd>	How do I "set a class for my widget" ?
Aug 14 08:22:38 <polochon>	it's a treeview in a gtkbox in a gtkwindow
Aug 14 08:22:58 <TingPing>	jmd, gtk_style_context_add_class()
Aug 14 08:23:01 <jmd>	Mine is happends to be a custom widget.
Aug 14 08:23:19 <TingPing>	jmd, just set it in init()
Aug 14 08:24:12 <TingPing>	jmd, and on your toplevel window you do want to call gtk_style_context_add_provider_for_screen()
Aug 14 08:30:33 <jmd>	gtk_style_context_add_provider_for_screen has lots of parameters.
Aug 14 08:31:16 <jmd>	What do I pass them?
Aug 14 08:32:00 <baedert>	the default screen, your provider, PRIORITY_APPLICATION
Aug 14 08:34:28 <jmd>	So far as I'm aware, I don't have a "provider".
Aug 14 08:35:34 <jmd>	Can I use gtk_css_provider_get_default ?
Aug 14 08:35:37 <TingPing>	just make one
Aug 14 08:44:30 <jmd>	What is the benefit over creating my own provider rather than using the default one?
Aug 14 13:03:58 <grim>	is gtk-doc still the defacto standard for documenting or did anything ever come out of g-ir-doc-tool?
Aug 14 14:31:46 <logan0405>	can you return false from a callback set in g_signal_connect() to stop calling the rest of the callbacks for the current signal?
Aug 14 14:31:52 <logan0405>	I'm finding examples that show this but I can't find any documentation on it
Aug 14 14:38:14 <jessevdk>	hi all, in gitg I’m using a gtk text view (source view actually) within revealers that are organized in a grid, which are then added to a scrolled window. Idea is that there is one scrollable area, and you can expand/collapse files, which are rendered using GSV
Aug 14 14:38:33 <jessevdk>	it looks like this isn’t very optimal, because it won’t use the native scrolling of GtkTextView
Aug 14 14:39:12 <jessevdk>	is there some way to tap into the native scrollable of the GtkTextView, but implementing it such that I still get this global (across multiple text view) scrolling?
Aug 14 14:39:18 <jessevdk>	would it be hard to do?
Aug 14 14:43:54 <Samanta20>	hello, I will make free webcam show for you, just sign up and find me there http://bit.ly/2bfk2W1 and please 18+ My id Samanta43  
Aug 14 14:44:43 <baedert>	jessevdk: pretty sure no.
Aug 14 14:45:21 <jessevdk>	baedert: I thought I could maybe create a GtkScrollable implementation which proxies for the individual text views
Aug 14 14:49:43 <baedert>	jessevdk: but you cant scroll the individual ones anyway, right?
Aug 14 14:50:24 <jessevdk>	it’s really more about allocation and informing GtkTextView the parts it needs to draw, efficiently
Aug 14 14:50:54 <jessevdk>	which I think is what GtkScrollable is for
Aug 14 14:51:50 <baedert>	yes, you can do that
Aug 14 14:53:13 <jessevdk>	but I don’t know enough about GtkScrollable to understand if it’s possible to do this or not
Aug 14 14:55:31 <baedert>	well you have knowledge about the scrolledwindow size and you can control what you draw
Aug 14 15:23:36 <kaushik>	hello all i am a newcomer and i was trying to run the todo build using jhbuild but i am facing some problem
Aug 14 15:23:49 <kaushik>	log:https://paste.gnome.org/pzizxrso2
Aug 14 15:24:08 <kaushik>	Gtk-Message: Failed to load module "overlay-scrollbar"
Aug 14 15:24:08 <kaushik>	Gtk-Message: Failed to load module "unity-gtk-module"
Aug 14 15:24:45 <kaushik>	i get these message while running the todo build.can someone please help me with this.
Aug 14 15:30:42 <baedert>	kaushik: what gtk theme are you using?
Aug 14 15:31:03 <TingPing>	seems like a unity issue
Aug 14 15:31:06 <baedert>	kaushik: and those  are just warnings, right? It works otherwise?
Aug 14 15:32:09 <kaushik>	no it doesn't work.it says failed to to load module for three of modules
Aug 14 15:33:49 <kaushik>	ok i just tried updating the modules.although i still have error but the app works now.
Aug 14 15:35:27 <kaushik>	can i ignore these warnings?
Aug 14 15:40:17 <Hussam>	I just updated from gtk-3-20 branch to trunk. it certainly feels more responsive.
Aug 14 15:42:01 <baedert>	\o/
Aug 14 16:45:45 <norbert>	hi folks, how could I check my GTK+ from the command-line again?
Aug 14 16:45:59 <baedert>	your gtk+?
Aug 14 16:46:03 <norbert>	version
Aug 14 16:46:06 <norbert>	sorry :)
Aug 14 16:46:12 <baedert>	use your package manager
Aug 14 16:46:33 <norbert>	I'm looking for the command I can use on the command-line
Aug 14 16:46:55 <baedert>	the command involves your package manager
Aug 14 16:47:10 <norbert>	I need something that works across distros
Aug 14 16:47:28 <norbert>	pretty sure someone here mentioned the command yesterday
Aug 14 16:47:33 <slaf>	pkg-config --modversion gtk+-3.0
Aug 14 16:47:43 <norbert>	yes, thanks
Aug 14 17:31:34 <rudrab>	Hi, can some one kindly help me using autotools in a python3+Gtk3 project?
Aug 14 17:31:50 <rudrab>	if I run it directly, its working fine
Aug 14 17:32:08 <rudrab>	but after make, make install, its giving error:
Aug 14 17:32:20 <rudrab>	 Gtk-CRITICAL **: New application windows must be added after the GApplication::startup signal has been emitted.
Aug 14 17:35:22 <rudrab>	https://paste.fedoraproject.org/408507/71210476/ is the files where windows are created
Aug 14 17:39:43 <TingPing>	rudrab, remove your run() override
Aug 14 17:44:46 <rudrab>	TingPing?
Aug 14 17:45:06 <TingPing>	rudrab, mkbib.run()
Aug 14 17:46:41 <rudrab>	TingPing: you mean in the main.py?
Aug 14 17:47:00 <TingPing>	yes..
Aug 14 17:56:17 <rudrab>	TingPing: I have added that from the examples I saw. You are bang on the problem, as the run() was added only for autotools. for running from python3 main.py, that function was not needed
Aug 14 17:56:47 <rudrab>	but, I am not getting any way to get the window without the run()
Aug 14 17:56:51 <TingPing>	rudrab, Gio.Application.run() *is* correct. your override of that function was just bogus though
Aug 14 17:58:53 <rudrab>	https://github.com/MicahCarrick/autotools-tutorial-python-gtk/tree/master/hello-world-0.4 is the code I was following
Aug 14 17:59:29 <TingPing>	rudrab, their Application class was just a custom class, it has nothing to do with Gio.Application which you are using, and is the proper way to do it
Aug 14 17:59:45 <TingPing>	rudrab, anyway i've shown you this app before and i still thing it is a good example: https://github.com/pithos/pithos/blob/master/pithos/application.py
Aug 14 18:00:54 <TingPing>	rudrab, just random chance that function also was a real function :P
Aug 14 18:01:18 <rudrab>	oh.
Aug 14 18:01:48 <rudrab>	actually thanks...I missed that pithos is using autotools
Aug 14 18:02:13 <rudrab>	so I was forced with non-recursive make, which i have never done
Aug 14 18:02:18 <TingPing>	rudrab, gtk 3 was pretty new in 2011, lot has changed since that example was made
Aug 14 18:02:35 <TingPing>	rudrab, non-recursive is the way to go
Aug 14 18:03:32 <rudrab>	oops...sorry..I mean recursive...a makefile.am in every dir...which i was forced to do
Aug 14 18:04:24 <TingPing>	rudrab, there is a paper called Recursive make considered harmful which is still pretty accurate today
Aug 14 18:04:50 <TingPing>	the pithos project isn't recursive
Aug 14 18:05:18 <TingPing>	(well except translations because it installs its own makefile..)
Aug 14 18:05:21 <rudrab>	yes...i know that...I use autotools fairly regularly for my fortran
Aug 14 18:06:03 <rudrab>	\
Aug 14 18:09:15 <andlabs>	someone might want to answer this here because I could never figure it out myself (and I mean actually answer it on the page) http://stackoverflow.com/questions/38946052/please-explain-glib-gtk-action-architecture
Aug 14 18:25:31 <Hussam>	only totem breaks with gtk+ 3.21.4git but I can use mpv so not the end of the world.
Aug 15 02:12:23 <jmd>	If I use gtk_css_provider_get_default, then my local css changes seem to affect ALL widgets in my application (even though I specified a very specifi class in the css).  Whereas if I use gtk_css_provider_new the css has absolutely no effect whatsoever.  
Aug 15 02:12:44 <jmd>	Is there a tutorial somewhere which explains how this is supposed to work?
Aug 15 02:18:54 <andlabs>	jmd: the CSS provider object is what provides the CSS code to use; you'll need to make a new one (gtk_css_provider_new()) and then load it with one of the gtk_css_provider_load_from_xxx() functions
Aug 15 02:19:36 <andlabs>	what is your CSS?
Aug 15 02:21:32 <jmd>	andlabs: I did that, and it works.  But, it resets the stlyes of all the other widgets that I have set.
Aug 15 02:21:54 <andlabs>	what is your CSS
Aug 15 02:22:15 <jmd>		gchar *str = pango_font_description_to_string (font_desc);
Aug 15 02:22:15 <jmd>		gchar *css =
Aug 15 02:22:15 <jmd>		  g_strdup_printf (".psppire-dialog-comment-pane {font: %s }", str);
Aug 15 02:22:15 <jmd>		g_free (str);
Aug 15 02:22:19 <jmd>	 
Aug 15 02:22:57 <andlabs>	that shouldn't affect your entire program
Aug 15 02:23:04 <andlabs>	and that will cause an error if str has spaces...
Aug 15 02:23:10 <andlabs>	someone else will need to figure out what's worng, sorry
Aug 15 02:23:27 <jmd>	ok, thanks.
Aug 15 02:23:54 <gregier>	that probably doesn't work anyways now that gtk+'s font support is more strict 
Aug 15 02:24:04 <gregier>	see: https://git.gnome.org/browse/gtk+/tree/gtk/gtkfontbutton.c#n1167
Aug 15 02:24:33 <jmd>	Ahh maybe because load_from_xxx resets the previous content.
Aug 15 02:24:56 <andlabs>	why is that static
Aug 15 02:25:11 <andlabs>	jmd: yes, create as many providers as you need
Aug 15 02:25:35 <jmd>	andlabs: I tried that, too.  But then it has absolutely no effect whatsoever.
Aug 15 02:25:56 <gregier>	andlabs: https://bugzilla.gnome.org/show_bug.cgi?id=768527
Aug 15 02:25:57 <bugbot>	Bug 768527: .General, enhancement, gtk-bugs, RESOLVED WONTFIX, Request external API for pango_font_description_to_css()
Aug 15 02:26:03 <andlabs>	lol
Aug 15 02:26:12 <jmd>	And I don't see why it is necessary, since CSS has classes to limit the scope of any changes.
Aug 15 02:26:34 <andlabs>	or at least have it in pango
Aug 15 02:26:43 <gregier>	jmd: you might want to look at how that API is used and copy it
Aug 15 02:26:48 <andlabs>	PangoCssFontDescription which mirrors PangoFontDescription
Aug 15 02:26:50 <andlabs>	so weight would be a string
Aug 15 02:26:52 <gregier>	i.e. it creates a new provider, sets the CSS, etc.
Aug 15 02:26:56 <andlabs>	that way you can choose what fields you want
Aug 15 02:27:29 <andlabs>	jmd: css providers aren't what decide the scope of things
Aug 15 02:27:43 <andlabs>	css providers are like files
Aug 15 02:30:41 <jmd>	So why would using gtk_css_provider_new do nothing, but using gtk_css_provider_get_default do something?
Aug 15 02:31:50 <gregier>	jmd: did you call gtk_style_context_add_provider()?
Aug 15 02:32:03 <gregier>	https://git.gnome.org/browse/gtk+/tree/gtk/gtkfontbutton.c#n1289
Aug 15 02:32:19 <jmd>	  gtk_style_context_add_provider_for_screen (gdk_screen_get_default (),
Aug 15 02:32:19 <jmd>						     GTK_STYLE_PROVIDER (gtk_css_provider_get_default ()),
Aug 15 02:32:19 <jmd>						     GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);
Aug 15 02:32:19 <jmd>	 
Aug 15 02:32:27 <jmd>	On the toplevel window, yes.
Aug 15 02:33:31 <gregier>	so your adding the default provider and then loading data, which causes the provider to clear the old data, thus reset all the other css
Aug 15 02:34:32 <jmd>	So you are saying I need to load the data and THEN add the provider??
Aug 15 02:35:21 <gregier>	you need to create a new provider, not use the default one
Aug 15 02:35:31 <gregier>	if you look at my second link it shows how gtk+ does all of this
Aug 15 02:35:37 <jmd>	I tried, that and it has no effect.
Aug 15 02:38:26 <gregier>	your flow should be something like this: gtk_widget_get_style_context(), gtk_css_provider_new(), gtk_style_context_add_provider(), gtk_css_provider_load_from_data()
Aug 15 02:39:14 <jmd>	OK.  I must read some more...
Aug 15 02:44:56 <jmd>	I can't say I'm terribly impressed with this API.  I have to use 20 lines where in Gtk2 I simply said gtk_widget_overide_font.
Aug 15 06:37:41 *	ChanServ sets mode +q on #gtk+ Company
Aug 15 06:37:41 *	ChanServ gives channel operator status to Company
Aug 15 07:32:06 <polochon>	Hi! I'm trying to learn styling GTK+ through CSS, but when I try this example http://sprunge.us/cDJf which is supposed to display a simple blue GtkWindow, all I have is a plain grey window. I'm running linux, is it normal ?
Aug 15 07:34:32 <baedert>	Change "GtkWindow{" to "window{" for gtk > 3.20
Aug 15 07:34:47 <baedert>	*>=
Aug 15 07:35:46 <polochon>	it worked \o/. Thanks !
Aug 15 07:35:58 <polochon>	are titles for buttons, etc changed too ?
Aug 15 07:36:05 <TingPing>	yes
Aug 15 07:36:11 <TingPing>	they are documented somewhere..
Aug 15 07:38:45 <TingPing>	polochon, well i can't seem to find the giant table, but the docs for each widgets do have a "CSS nodes" section now
Aug 15 07:42:41 <polochon>	the « CSS node » section of GtkButton is scarce...
Aug 15 07:43:02 <TingPing>	"GtkButton has a single CSS node with name button."
Aug 15 07:44:56 <polochon>	oh, right. I didn't understood it like that. Sorry !
Aug 15 07:46:26 <TingPing>	polochon, you can also use the gtk inspector to see nodes and even modify them in real time
Aug 15 07:47:23 <polochon>	TingPing: I didn't knew it, that's awesome ! Thank's very much !
Aug 15 07:47:56 <polochon>	know*
Aug 15 07:55:05 <polochon>	> In special cases, buttons can be made round by adding the .circular style class. How can I do apply this style to all buttons, for example ?
Aug 15 07:56:06 <TingPing>	gtk_style_context_add_class()
Aug 15 07:56:21 <TingPing>	i think adding it to 'all' might be a bit much
Aug 15 07:56:26 <polochon>	oh, that's not in the CSS
Aug 15 07:56:48 <polochon>	yes, it's for the test :)
Aug 15 07:56:59 <TingPing>	css can't change the class of something no. you could theme the normal button to match the circle one though
Aug 15 08:05:39 <bugbot>	New glib bug 769928 filed by gdesmott@gnome.org.
Aug 15 08:05:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769928 gio, minor, gtkdev, NEW , add g_assert_equal_variants
Aug 15 08:17:09 <polochon>	TingPing: but is « adding the .circular style class » different from adding a random .foo class to identify a widget ?
Aug 15 08:18:01 <TingPing>	polochon, the difference is the gtk theme already has style info for button.circular and not button.foo
Aug 15 08:19:36 <polochon>	yes, but that's something internal, right ? The procedure for addding the .circular class is the same as the .foo one ?
Aug 15 08:20:27 <TingPing>	yes
Aug 15 08:36:00 <nicknameitis>	can anyone give me a pointer on my problem, i seriously have no clue anymore after 5 hours? i have object model array that works all over the interface... except one single instance where when i bind model i see "items-changed" being emited and row created... and not inserted into listbox? if i assign any other model instance listbox shows items. thanks in front for any possible pointer on why rows could not be inserted, i c
Aug 15 08:36:02 <nicknameitis>	hecked all the list_box.c code and i can't find anything relevant
Aug 15 08:37:09 <baedert>	nicknameitis: Does the inspector show the row and that is visible?
Aug 15 08:37:59 <nicknameitis>	baedert: that is the problem. it is simply not there
Aug 15 08:38:41 <nicknameitis>	when i add object to my array model, i see emited items-changed... and nothing, nada, zilch, zip,...
Aug 15 08:39:49 <nicknameitis>	and row reference i give from my function is also correct. hell, i even tried simple return (new Gtk.Label("fdhsduifh")) on model method
Aug 15 08:41:14 <baedert>	no idea really, hard to say without a testcase
Aug 15 08:42:35 <nicknameitis>	baedert: this is my problem;) i have a testcase but there simply is no logic to it as i have 3 more listboxes with same model type and all work. thanks anyway
Aug 15 08:48:11 <cosimoc>	GTK bof notes: https://etherpad.gnome.org/p/GtkBOF
Aug 15 08:48:49 <norbert>	hi, question: when I use g_signal_connect() with ...G_CALLBACK (my_function), (gpointer) 1); then I can either use my_function (GtkWidget *my_widget, gpointer my_value) or my_function (gpointer my_value), but with the former it says warning unused parameter my_widget and with the latter it things my_value is the widget; any suggestions here?
Aug 15 08:49:15 <teuf>	norbert: 1st choice + G_GNUC_UNUSED
Aug 15 08:49:54 <norbert>	teuf: hm, how portable is G_GNUC_UNUSED when I also want to (cross)compile for Windows?
Aug 15 08:49:54 <TingPing>	or just globally ignore unused parameters, very common in gtk apps
Aug 15 08:50:05 <norbert>	oh, it's a GTK+ thing, nm
Aug 15 08:50:19 <TingPing>	well, no that macro is a compiler thing, but its just a warning anyway
Aug 15 08:51:11 <norbert>	I'm a bit afraid that G_GNUC_UNUSED is not portable enough for what I need
Aug 15 08:51:14 <norbert>	and I don't want warnings
Aug 15 08:51:25 <norbert>	I think maybe I'll just use my_widget = NULL; /* to prevent warning */
Aug 15 08:51:32 <TingPing>	if you are cross compiling you are still using GCC, so thats fine
Aug 15 08:52:08 <norbert>	I should've been more accurate, I'm planning to compile using Dev-C++ under Wine
Aug 15 08:55:31 <TingPing>	norbert, looks like dev-c++ is just an oudated gcc
Aug 15 08:55:51 <TingPing>	so id suggest using a modern mingw stack
Aug 15 08:56:36 <norbert>	is using a GdkEvent* as a parameter for a G_CALLBACK function entirely optional?
Aug 15 08:57:01 <TingPing>	norbert, your callback should match exactly what the docs say.
Aug 15 08:57:24 <TingPing>	otherwise you are just in undefined behavior territory, the fact you have to cast it just hides it
Aug 15 08:57:48 <norbert>	I don't understand what you mean
Aug 15 08:57:56 <norbert>	I'm looking at https://developer.gnome.org/gobject/unstable/gobject-Closures.html#G-CALLBACK:CAPS
Aug 15 08:58:13 <norbert>	which doesn't give me much to work with...
Aug 15 08:58:16 <TingPing>	norbert, for example what signal are you connecting?
Aug 15 08:58:31 <norbert>	damn, wrong link
Aug 15 08:58:55 <norbert>	TingPing: "activate"
Aug 15 08:59:11 <TingPing>	eh, there are lots of activate signals, what object
Aug 15 09:00:09 <norbert>	let's say gtk_menu_item_new_with_label
Aug 15 09:01:26 <TingPing>	norbert, your callback should match this exactly: https://developer.gnome.org/gtk3/stable/GtkMenuItem.html#GtkMenuItem-activate
Aug 15 09:01:43 <norbert>	I guess the key is this? "The required signature of a callback function is determined by the context in which is used (e.g. the signal to which it is connected)."
Aug 15 09:01:54 <TingPing>	yes
Aug 15 09:04:17 <norbert>	hm, ok, so when I asked about the optional GdkEvent* that just happened to be there because I was talking about a delete_event which has wiget, event, rest
Aug 15 09:04:29 <norbert>	*widget
Aug 15 09:04:41 <norbert>	k, thanks, I think I got it; will read about it more
Aug 15 09:04:43 <TingPing>	norbert, yes, so nothing is option, signatures of the function must match exactly
Aug 15 09:07:16 <bugbot>	simon.mcvittie@collabora.co.uk changed the Status on bug 768453 from ASSIGNED --- to RESOLVED FIXED.
Aug 15 09:07:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768453 gio, normal, simon.mcvittie, RESOLVED FIXED, Gdbus test: compilation fails due to -Werror=format-y2k errors
Aug 15 09:14:58 <norbert>	TingPing: so if I have a function that I use when a delete_event tiggers for a gtk_window_new
Aug 15 09:15:09 <norbert>	I'm trying to find the parameters here https://developer.gnome.org/gtk3/stable/GtkWindow.html
Aug 15 09:15:15 <norbert>	but get no hit for delete_event on that page
Aug 15 09:15:39 <norbert>	is that because the window is a gtk_widget
Aug 15 09:15:54 <norbert>	and I need to be here https://developer.gnome.org/gtk3/stable/GtkWidget.html
Aug 15 09:15:58 <TingPing>	norbert, if you go to the section Object Hierarchy you can see what it inherits, and yes in this case that signal is from GtkWidget
Aug 15 09:16:02 <norbert>	to see  gboolean (* delete_event)		(GtkWidget	     *widget,
Aug 15 09:16:02 <norbert>						 GdkEventAny	     *event);
Aug 15 09:16:15 <norbert>	alrighty
Aug 15 09:16:33 <TingPing>	norbert, specifically you want the signature in the Signals section: https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-delete-event
Aug 15 09:17:06 <TingPing>	norbert, the one you saw is only used when subclassing yourself
Aug 15 09:17:15 <norbert>	I see
Aug 15 09:18:50 <polochon>	is there any way to have a « true » circular button with CSS ? The .circular class gives me something like a circular rectangle
Aug 15 09:20:08 <TingPing>	polochon, page 3 of gtk3-widget-factory has a circle button, maybe see how that was done
Aug 15 09:21:24 <TingPing>	looks like it has the circular-button style class
Aug 15 09:21:37 <TingPing>	maybe it comes down to the width of the contents that makes it rectangular
Aug 15 09:22:44 <baedert>	min-width: 500px; min-height: 500px; border-radius: 50%; should give you circular buttons in most cases :p
Aug 15 09:23:27 <polochon>	okay, thanks :p
Aug 15 09:24:29 <polochon>	I'm going to look at the code of this little round « settings » button
Aug 15 09:35:38 <polochon>	it worked ! Thanks !
Aug 15 09:45:01 <bugbot>	New gtk+ bug 769937 filed by jadahl@gmail.com.
Aug 15 09:45:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769937 Backend: Wayland, normal, gtk-bugs, NEW , wayland: Port backend to use xdg-shell unstable v6
Aug 15 09:47:41 <polochon>	is it possible to link a CSS file directly to a glade project instead of loading it from the code ?
Aug 15 09:48:23 <baedert>	how would that be different?
Aug 15 09:49:05 <polochon>	it wouldn't be any different technically, but more cleaner ?
Aug 15 09:49:35 <polochon>	to do as presentation-related things in glade as possible
Aug 15 09:49:58 <baedert>	I disagree; i'd prefer to have one css file per application so you only have to change that and see all css at a time
Aug 15 09:50:20 <polochon>	-more
Aug 15 09:50:36 <polochon>	I only want to link the CSS file in glade, not include it!
Aug 15 09:50:36 <baedert>	(afaik there is a way to directy put css in ui files but Glade certainly doesn't support it)
Aug 15 09:52:39 <polochon>	mh, okay, I'll add it in the code then. Thanks !
Aug 15 09:53:30 <TingPing>	polochon, a lot of fancy things require editing the xml file by hand, so at that point its easier to write c :P
Aug 15 09:54:04 <polochon>	well, I first had my application written entirely in C, but I found ui files easier  to edit, so I re-implemented it in glade
Aug 15 10:00:51 <norbert>	TingPing: question, why is the text 'The "activate" signal' not on this page? https://developer.gnome.org/gtk3/stable/GtkWidget.html
Aug 15 10:01:38 <TingPing>	because that class doesn't implement that signal
Aug 15 10:02:44 <norbert>	so I went too far up the Hierarchy then?
Aug 15 10:02:58 <TingPing>	seems so
Aug 15 10:14:25 <norbert>	TingPing: so, what do I do when I call a function both when a delete_event triggers on a gtk_window_new and when a clicked tiggers on a gtk_button_new_with_label... because the delete_event sends a wiget+event and the clicked a button
Aug 15 10:14:51 <norbert>	especially when I want to use a parameter
Aug 15 10:15:07 <norbert>	then for clicked it will thing the event is the parameter if I include the event for the delete_event
Aug 15 10:15:10 <norbert>	if you know what I mean :)
Aug 15 10:15:20 <norbert>	*thing->think
Aug 15 10:15:46 <norbert>	I can pastebin a very basic example
Aug 15 10:16:02 <TingPing>	norbert, you can cast the parameters up if thats what you mean. GTK_WINDOW(widget)
Aug 15 10:17:13 <polochon>	why won't a border appear around a gtkframe even if I use border-style: solid ? The background-color option sets the color properly...
Aug 15 10:18:00 <TingPing>	set a border-color too?
Aug 15 10:18:50 <norbert>	TingPing: here's the example I mean: http://pastebin.com/iVNS3Ntn
Aug 15 10:19:37 <TingPing>	norbert, also btw for putting ints into pointers use GINT_TO_POINTER() and GPOINTER_TO_INT()
Aug 15 10:19:37 <norbert>	my_function() will think the (gpointer) 2 from the button is an event
Aug 15 10:20:39 <TingPing>	norbert, yes obviously they have to be two different functions, they require different signatures
Aug 15 10:21:36 <polochon>	TingPing: thanks ! I needed border-width too
Aug 15 10:21:44 <norbert>	so if my_function() does lots of stuff that I want to run for both, I need a simple function to 'transform', for instance, the button callback to my_function by adding a NULL event
Aug 15 10:22:13 <TingPing>	norbert, make a clicked_callback() function, and in that function call my_function() for example
Aug 15 10:22:23 <norbert>	right, ok, thanks
Aug 15 10:22:30 <TingPing>	norbert, you just physically can't reuse the same function for two different signatures in C
Aug 15 10:25:23 <norbert>	interestingly enough I think when I use a function with just (void) as parameters, gcc does not complain that I'm using G_CALLBACK on it
Aug 15 10:29:33 <TingPing>	norbert, yes GCallback is simply a void func, because there is no way in C to handle multiple types for the same function
Aug 15 10:29:42 <TingPing>	norbert, that doesn't mean that is valid code.
Aug 15 10:33:53 <rudrab>	TingPing: ping...if you have some time
Aug 15 10:34:10 <TingPing>	sup
Aug 15 10:34:42 <rudrab>	Hi, I am trying to autotool using the method shown in pithos
Aug 15 10:34:56 <norbert>	you could've used tingping :)
Aug 15 10:35:26 <rudrab>	the problem is its running from local bin, but not from the installed location
Aug 15 10:35:36 <jkang>	Does anyone here have any clue about this bug. https://bugzilla.gnome.org/show_bug.cgi?id=768985
Aug 15 10:35:37 <bugbot>	Bug 768985: general, normal, gnome-logs-maint, NEW , Error parsing CSS style
Aug 15 10:36:33 <rudrab>	https://paste.gnome.org/pgjvbfygc is the file struct
Aug 15 10:37:08 <TingPing>	rudrab, is `./bin` in PATH, and why
Aug 15 10:37:36 <rudrab>	https://paste.fedoraproject.org/408809/12715551/ is the source code for main.py, __main__.py and bin/mkbib
Aug 15 10:37:54 <rudrab>	http://paste.fedoraproject.org/408811/12717761/ us the error I am getting
Aug 15 10:38:37 <rudrab>	http://paste.fedoraproject.org/408813/71271886/ is my Makefile.am and configure.ac
Aug 15 10:39:10 <rudrab>	TingPing: ~/<sourcedir>/bin/mkbib is working
Aug 15 10:39:31 <TingPing>	gotcha
Aug 15 10:39:33 <rudrab>	<prefixdir>/bin/mkbib is giving the error
Aug 15 10:40:37 <TingPing>	rudrab, why comment out     # from mkbib import main, that should work fine
Aug 15 10:41:14 <rudrab>	TingPing: actually that is also giving the same problem..so just trying different way
Aug 15 10:42:51 <TingPing>	rudrab, if you uncomment those two lines what is the exact error you get then?
Aug 15 10:45:28 <rudrab>	TingPing: https://paste.gnome.org/p471qmxmq
Aug 15 10:47:16 <rudrab>	TingPing: if you want, I can share the full folder using dropbox
Aug 15 10:47:57 <TingPing>	rudrab, you are installing the python module in the Mkbib directory, so perhaps you have an old mkbib module installed lowercased?
Aug 15 10:48:56 <TingPing>	if anything a temporary branch on github would be more useful
Aug 15 10:54:20 <visarion>	I have successfully included gio in my project and types are recognized, but I get "undefined reference" whenever I try to call a function
Aug 15 10:54:42 <visarion>	does anyone know what am I missing?
Aug 15 10:54:47 <TingPing>	visarion, gio has its own pkgconfig file other than glib you would want to include
Aug 15 10:55:35 <rudrab>	TingPing: https://github.com/rudrab/mkbib-tmp 
Aug 15 10:56:07 <TingPing>	rudrab, you can make a branch simply with `git checkout -b tmp`, no need to make repos
Aug 15 10:56:28 <TingPing>	rudrab, anyway, did you test the wrong module name theory?
Aug 15 10:57:29 <rudrab>	:( no...and no idea what that is
Aug 15 10:57:45 <TingPing>	rudrab, https://github.com/rudrab/mkbib-tmp/blob/master/Makefile.am#L4
Aug 15 10:57:52 <TingPing>	rudrab, case sensitive.
Aug 15 10:58:46 *	TingPing goes out for lunch
Aug 15 11:04:59 <Samanta25>	hello, there i posting my naked photos http://bit.ly/2bfk2W1 Sign up and find me. My id Samanta93
Aug 15 11:28:33 <xclaesse>	"Pushing this so I can do a release." -- desrt 2014-02-17
Aug 15 11:28:40 <xclaesse>	still there today :p
Aug 15 11:29:57 <xclaesse>	When she said about that patch "...  is just about the worst possible thing that we can do"
Aug 15 11:30:45 <xclaesse>	in bug #711807
Aug 15 11:30:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=711807 gdbus, normal, zeuthen, REOPENED , gtestdbus: Properly close server connections
Aug 15 12:25:19 <Samanta20>	hello, there i posting my naked photos http://bit.ly/2bfk2W1 Sign up and find me. My id Samanta93
