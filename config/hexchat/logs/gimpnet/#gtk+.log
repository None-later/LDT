**** BEGIN LOGGING AT Mon Jul 25 15:35:58 2016

Jul 25 15:35:58 *	Now talking on #gtk+
Jul 25 15:35:58 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 25 15:35:58 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 25 15:36:27 *	rendar has quit (Ping timeout: 188 seconds)
Jul 25 15:39:17 *	vampi-the-frog has quit (Quit: Leaving)
Jul 25 15:40:48 *	karlt (karl@2406:e007:6fa7:1:740d:7e7d:3ec1:3122) has joined
Jul 25 15:41:16 *	lufimtse has quit (Quit: Leaving)
Jul 25 15:42:05 *	tobias47n9e has quit (Ping timeout: 182 seconds)
Jul 25 15:44:18 <lufimtse_>	Hello, as I understand, the newer gtk versions support keybindings via css with: " -gtk-key-bindings". Do you know when this property was introduced? (3.20?), was there something similar before?
Jul 25 15:44:36 *	aday_ has quit (Input/output error)
Jul 25 15:45:07 *	aday_ (aday@host86-177-60-187.range86-177.btcentralplus.com) has joined
Jul 25 15:46:09 <baedert>	that's from 3.0 even afaik
**** ENDING LOGGING AT Mon Jul 25 15:57:11 2016

**** BEGIN LOGGING AT Mon Jul 25 15:57:11 2016

**** ENDING LOGGING AT Mon Jul 25 15:59:49 2016

**** BEGIN LOGGING AT Mon Jul 25 15:59:49 2016

**** ENDING LOGGING AT Mon Jul 25 16:00:38 2016

**** BEGIN LOGGING AT Mon Jul 25 16:00:38 2016

Jul 25 16:13:51 *	aday is now known as aday_
**** BEGIN LOGGING AT Mon Jul 25 16:51:53 2016

Jul 25 16:51:53 *	Now talking on #gtk+
Jul 25 16:51:53 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 25 16:51:53 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 25 19:19:37 *	skybon_ is now known as skybon
Jul 25 19:25:38 *	aday is now known as aday_
Jul 25 20:03:37 <Creak>	hi!
Jul 25 20:04:10 <Creak>	I'd like to do this kind of layout, but I don't know what's the best way to achieve this: https://www.reddit.com/r/GTK/comments/4ulncl/gtkdev_best_way_to_achieve_this_layout/
Jul 25 20:05:03 <Creak>	my main problem is the width of the cells. First the Grid has to take the whole window, which doesn't seem to work :/
Jul 25 20:05:16 <Creak>	then the two panes must be of the same width
**** ENDING LOGGING AT Mon Jul 25 20:05:21 2016

**** BEGIN LOGGING AT Mon Jul 25 20:05:21 2016

Jul 25 20:05:34 <Creak>	I simply don't know how to achieve that kind of layout
Jul 25 20:06:05 <Creak>	I figured that maybe someone may know better here ;)
Jul 25 20:17:10 *	abono___ is now known as abono__
Jul 25 20:22:19 *	abono___ is now known as abono__
Jul 25 20:29:31 *	ChanServ gives channel operator status to ebassi
Jul 25 20:40:37 <Company>	Creak: i assume you're not using a scrolledwindow for managing the scrollbar?
Jul 25 20:42:26 <Company>	Creak: because then the answer is to put the 2 text panes into a grid with column-homogeneous = true and then put the grid and the scrollbar into a box
Jul 25 20:46:10 <Creak>	the problem would be for the headers and footers, they must be respectively above and under each pane, but the scrollbar on the right should be the size of the pane without the header and footer
Jul 25 20:46:45 <Creak>	otherwise the scrollbar would seem to include these components which would be quite strange
Jul 25 20:47:21 <Creak>	I tested with a Gtk.Grid and setting the pane to hexpand
Jul 25 20:48:00 <Creak>	it seems to work, but the problem I'm afraid of is that I don't know if both pane will keep the same width all the time
Jul 25 21:35:53 <Creak>	I've got another question. Say you're doing a special widget that is basically an HBox but with specific buttons for your app. Is it better to derive your class from Gtk.Widget and then add an Gtk.HBox or to derive directly from HBox?
Jul 25 21:48:14 <benwaffle>	Creak: you should use Gtk.Box instead of VBox and HBox
Jul 25 21:50:09 <Creak>	yup, I'm already using it, but it was just the habit ;)
Jul 25 22:06:15 <Creak>	my problem now is that my headerbar is taking too much space when the label in it is too long... how can I fix the label width?
Jul 25 22:07:13 <hergertme>	set max-width-chars to something reasonable and/or ellipsize = PANGO_ELLIPSIZE_*
Jul 25 22:21:08 <Creak>	I set ellipsize to MIDDLE, but it didn't change
Jul 25 22:21:16 <Creak>	I'll try max-width-charws
Jul 25 22:23:44 <Creak>	nope... doesn't work...
Jul 25 22:24:22 <Creak>	urgh that's so frustrating to be that close to something that works exactly how you'd expect!
Jul 25 22:55:38 <Creak>	Should I use the "map" or "map-event" signals to prevent my Grid to allocate too much space to the first row cells?
Jul 25 23:30:04 <Creak>	here is an example: http://pastebin.com/P75agP9T
Jul 25 23:32:58 <Creak>	I'd like button1 and button2 to be the same width, and label1 to be the same width as button1. But there, since label1 is way larger than both button1, label1 wins and it is setting the width for the whole column
Jul 26 00:08:39 <Creak>	Found the solution!!! you were right hergertme, I just didn't know how to use these functions. I just have to call label1.set_max_width_chars(1) and label1.set_ellipsize(Pango.EllipsizeMode.START)
Jul 26 00:09:25 <Creak>	this way the cell doesn't get an impossible width
Jul 26 02:28:25 <rishi>	Shouldn't the example my-app-label.c for a derivable class use G_DEFINE_TYPE_WITH_PRIVATE instead of G_DEFINE_TYPE?
Jul 26 02:28:34 <rishi>	I mean in https://wiki.gnome.org/HowDoI/SubclassGObject
Jul 26 02:39:35 <rishi>	It is even worse.  G_DECLARE_DERIVABLE_TYPE doesn't generate the typedef for MyAppLabelPrivate.
Jul 26 02:39:43 <rishi>	(Why doesn't it do that?)
Jul 26 02:40:11 <rishi>	That means struct _MyAppLabelPrivate needs to be somehow typedef-ed to MyAppLabelPrivate.
Jul 26 03:00:31 <tristan>	rishi, I think that the standard for some years has become to not include a ->priv pointer on the public struct (since the lookup for private data has since become pointer arithmetic)
Jul 26 03:00:58 <tristan>	so you should not need a private struct typedef in the header (where the G_DECLARE_ stuff goes)
Jul 26 03:24:01 <ricotz>	ebassi, hi, a minor graphene issue https://paste.debian.net/plain/785287
Jul 26 03:41:56 <rishi>	tristan: Ok, but the HowDoI is still wrong.
Jul 26 03:41:58 <rishi>	I'll fix it in a bit if nobody objects.
Jul 26 05:24:26 <rudrab>	Hi, I am trying to open a Gtk.Window immediately, but it is opening when the function is finished
Jul 26 05:25:40 <rudrab>	https://paste.fedoraproject.org/395546/46952495/ is the function, where the self.crrefwin is opening after the i loop. What is going wrong here, please?
Jul 26 05:27:37 *	tanty_off is now known as tanty
Jul 26 05:35:05 <ebassi>	rudrab: show_all() is asynchronous
Jul 26 05:35:34 <garnacho>	rudrab: use show_now(), or give the main loop a break
Jul 26 05:36:09 <ebassi>	rudrab: But, in general, you cannot expect stuff to just be sequential in an event-driven GUI toolkit. This is not a console program.
Jul 26 05:40:09 <rudrab>	ebassi: so you mean there is nothing wrong in the code...its just how gtk behaves?
Jul 26 05:44:57 *	aday is now known as aday_
Jul 26 05:47:08 <ebassi>	rudrab: The code is wrong with regards to how event-driven programming works
Jul 26 05:47:32 <rudrab>	ebassi: :(
Jul 26 05:48:54 <rudrab>	I would actually like to write in a textview the output of i-loop
Jul 26 05:58:13 <hdhzero>	Hi. I am trying to remove widgets from a gtk_vbox. I already used GList, gtk_container_remove, gtk_container_foreach and so on. All of them remove the widgets, but when I try to pack new ones, they arent displayed
Jul 26 05:58:18 <hdhzero>	Any tips on how to solve
Jul 26 05:59:06 <teuf>	hdhzero: do you call gtk_widget_show() on these new ones ?
Jul 26 06:01:04 <hdhzero>	teuf: No. I wasn't calling. Problem solved. Thank you, teuf
Jul 26 06:53:26 *	ChanServ sets mode +q on #gtk+ Company
Jul 26 06:53:26 *	ChanServ gives channel operator status to Company
Jul 26 07:24:42 <mclasen>	Company: any idea why box-shadow-changes-modify-clip fails ?
Jul 26 07:29:37 <bugbot>	mclasen@redhat.com changed the Status on bug 769004 from NEW --- to RESOLVED FIXED.
Jul 26 07:29:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769004 Themes, normal, gtk-bugs, RESOLVED FIXED, css test suite failures in 3.21.4
Jul 26 07:31:00 <thumbnail>	hey, I load some data into a GInputStream using g_memory_input_stream_new_from_bytes, but I cannot find any corresponding release or free function for it. What should I do to release the memory? 
Jul 26 07:36:29 <feborges>	is there a good reason why gtk_button_set_label always creates a new label instead of checking whether it already has one and gtk_label_set_label (GTK_LABEL (gtk_bin_get_child (GTK_BIN (button)... ?
Jul 26 07:38:21 <mclasen>	who knows what kind of misshapen label the user put there...
Jul 26 07:38:34 <feborges>	to calirify, I would like the button to contain a set of properties, styling, etc... and I could have it all defined in the UI file if the label would not be overwritten by the new one every time I set a new text
Jul 26 07:38:55 <mclasen>	if you want to control the label widget, set a label widget, and operate on that
Jul 26 07:38:56 <slaf>	thumbnail: if it's a GObject, it's ref-counted so g_object_unref
Jul 26 07:39:31 <feborges>	mclasen, makes sense. Thanks 
Jul 26 07:41:42 <thumbnail>	slaf: ok, thanks man
Jul 26 07:58:58 <rudrab>	hi...one question: how I "connect" some function depending upon the active_id chosen from a combo_box?
Jul 26 08:02:02 <rudrab>	something like: http://paste.fedoraproject.org/395672/95345071/
Jul 26 08:02:34 <The_gull>	is there a way to remove/add multiple children “at the same time” (not causing redraws) to a container ?
Jul 26 08:04:09 <mclasen>	there is no redraw between two calls of container_remove that you do in a row
Jul 26 08:05:16 <The_gull>	mh, that’s good then, thanks :·)
Jul 26 08:06:35 <rudrab>	or i should just call the function inside the if loop as:
Jul 26 08:06:39 <rudrab>	http://paste.fedoraproject.org/395677/95347591/
Jul 26 08:48:44 <hotcfoch>	is it just enough with defining a propert with g_value_set_uint64 in C, if I want hat property being read as an int in Python?
Jul 26 08:50:38 <feaneron>	i think so
Jul 26 08:51:04 <feaneron>	if python implicitly knows about the unsigned situation of the int
Jul 26 09:07:36 <rudrab>	anyone please?
Jul 26 09:49:20 *	Disconnected (Invalid argument)
**** ENDING LOGGING AT Tue Jul 26 09:49:20 2016

**** BEGIN LOGGING AT Tue Jul 26 09:49:34 2016

Jul 26 09:49:34 *	Now talking on #gtk+
Jul 26 09:49:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 09:49:34 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 09:56:45 <ipun>	gtk_menu_popup() is popping up a menu in the wrong location the first time, then when you do it again the position is correct. Everything is set to NULL(default) except what is required. Any suggestions?
Jul 26 09:59:01 *	KaL is now known as KaL_out
Jul 26 10:11:54 <baedert>	ipun: X or wayland?
Jul 26 10:12:03 <ipun>	baedert this is on X
Jul 26 10:19:32 <bugbot>	msanchez@gnome.org changed the Status on bug 522053 from ASSIGNED --- to RESOLVED FIXED.
Jul 26 10:19:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=522053 gio, normal, zeuthen, RESOLVED FIXED, GUnixMountMonitor needs to use /proc/self/mountinfo on recent Linux kernels
Jul 26 10:20:49 <zakum42>	Hello guys, does anyone know if it's possible to show a GtkPopover from a AtkObject? As far as I've seen they can only get called from a MenuButton.. Is this true?
Jul 26 10:21:20 <lazka>	ipun, did you call gtk_menu_attach_to_widget ?
Jul 26 10:21:22 <baedert>	well you need at least a toplevel GtkWindow...
Jul 26 10:49:15 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Jul 26 10:49:15 2016

**** BEGIN LOGGING AT Tue Jul 26 10:49:28 2016

Jul 26 10:49:28 *	Now talking on #gtk+
Jul 26 10:49:28 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 10:49:28 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 11:23:36 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Jul 26 11:23:36 2016

**** BEGIN LOGGING AT Tue Jul 26 11:23:50 2016

Jul 26 11:23:50 *	Now talking on #gtk+
Jul 26 11:23:50 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 26 11:23:50 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 26 11:34:03 <feaneron>	hi guys, why am I consistently always receiving a <Meta> key in Wayland?
Jul 26 11:34:35 <feaneron>	whenever I check for the key presses, there's this stray <Meta> modified, and I have no idea where does it come from
Jul 26 11:40:15 <mclasen>	not  a stray key, just a stray modifier
Jul 26 11:40:44 <mclasen>	probably due to the fact that meta is colocated with some other modifier
Jul 26 11:41:02 <mclasen>	if wayland hadn't inherited xkb from X, the world would be a better place...
Jul 26 11:41:15 <feaneron>	shall I fill a bug for that?
Jul 26 11:41:34 <mclasen>	no, why ?
Jul 26 11:44:20 <feaneron>	because that modifier shouldn't be there. Or should it?
Jul 26 11:44:55 *	jjongsma_ is now known as jjongsma
Jul 26 11:45:24 <mclasen>	it being there is a reflection of the xkb configuration, if my assumption is correct
Jul 26 11:45:45 <mclasen>	you could debug this some more, certainly
Jul 26 11:46:09 <jjongsma>	ebassi, any chance you have a little time to talk about a regression we have in spice-gtk caused by https://git.gnome.org/browse/gtk+/commit/?id=2c7b21718f18ab743cd79784ae28cad582f58503
Jul 26 11:46:17 <mclasen>	but I'm a fan of filing bugs only _after_ the debugging, as a holder for the patch that resulted from the debugging
Jul 26 11:47:35 <jjongsma>	or, if ebassi's not around, anyone else? :)
Jul 26 11:49:29 <mclasen>	without seeing more than "regression" hard to say
Jul 26 11:50:22 *	KaL_out is now known as KaL
Jul 26 11:50:34 <jmd>	The documentation for g_simple_action_set_enable says that it should never be called by users.  So why bother putting it in the public API?
Jul 26 11:51:04 <jjongsma>	mclasen, indeed, that's why I want to talk to somebody about it.
Jul 26 11:51:17 <jjongsma>	the regression is that it fails to redraw until we resize the window
Jul 26 11:51:39 <mclasen>	jmd: so other libraries can call it
Jul 26 11:51:47 <jjongsma>	and I'm digging into gtk to figure out what the difference is here and what might have caused the change.
Jul 26 11:51:49 *	mclasen reboots
Jul 26 11:51:57 <rishi>	jmd: In this case, the 'users' of an action are not the users of the GLib API.
Jul 26 11:52:17 <rishi>	The users are those who are proxying or activating the action.
Jul 26 11:52:51 <rishi>	The implementor is the one who actually handles 'activate' and does what the action is supposed to do.
Jul 26 11:54:02 <ebassi>	jjongsma: I'm going to have a couple of meeting in about 10 minutes, so I'll be available only later
Jul 26 11:54:21 <jjongsma>	ebassi, can you ping me when you're avaialble?
Jul 26 11:54:24 <ebassi>	jjongsma: But I remember talking about this with somebody else in the spice team
Jul 26 11:54:32 <jjongsma>	yeah, fidencio 
Jul 26 11:54:37 <ebassi>	jjongsma: Right
Jul 26 11:55:00 <jmd>	rishi: Well I think it is confusing.  I just spent two days trying to figure out how to enable/disable an action - I saw that when I first started looking - but discounted it because of that sentence.
Jul 26 11:55:20 <ebassi>	jjongsma: That commit was partially reverted by the fix for Firefox; if you're tripping up on current master then it means spice-gtk is doing something weird and not guaranteed to work
Jul 26 11:55:52 <rishi>	jmd: Agreed.
Jul 26 11:55:56 <ebassi>	jjongsma: But since I don't know spice-gtk, nor I have time to deal with it, last time I spoke with fidencio I asked for at least understanding what spice-gtk even does
Jul 26 11:56:19 <jjongsma>	ebassi, sure, I'm just trying to figure out what this "something weird" might be and how to fix it.
Jul 26 11:56:47 <jjongsma>	so I'm digging into gtk+ to figure out where we might be violating expectations but haven't come up with anything so far. So I was hoping to just discuss it a bit.
Jul 26 11:57:52 <ebassi>	jjongsma: The commit that you want to look at is: fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 26 11:58:10 <ebassi>	https://git.gnome.org/browse/gtk+/commit/?id=fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 26 11:59:53 <ebassi>	jjongsma: That commit moves what GtkWidget used to do with double-buffering into GdkWindow — i.e. create a new buffer if the window is a top-level and a native window
Jul 26 12:00:16 <ebassi>	jjongsma: If you've disabled double buffering, everything should be back to normal
Jul 26 12:00:23 <ebassi>	jjongsma: Is spice-gtk double-buffering?
Jul 26 12:00:42 <ebassi>	jjongsma: If it isn't, is it relying on being able to create random cairo_t's on random GdkWindows?
Jul 26 12:00:55 <ebassi>	jjongsma: How does spice-gtk even draw?
Jul 26 12:01:06 <ebassi>	Those are the questions I asked fidencio 
Jul 26 12:01:53 <jjongsma>	double-buffering: yes, creating random cairo_t's: no
Jul 26 12:01:57 <jjongsma>	ebassi, ^
Jul 26 12:02:29 <jjongsma>	ebassi, we draw by connecting to the draw signal and drawing in the provided cairo_t
Jul 26 12:02:55 <jjongsma>	ebassi, the main difference (in gtk+) that I see in the commit that caused the regression is that an expose event previously resulted in a call to gtk_widget_begin_draw_internal(), but after the change, it only calls this function for toplevel GdkWindows.  But I don't know enough to know whether that's relevant to anything.
Jul 26 12:03:31 <ebassi>	jjongsma: Nothing should be relying on expose events in GTK+ 3.x
Jul 26 12:04:00 <ebassi>	jjongsma: In any case, since everything else seems to be working except spice-gtk, I doubt spice-gtk is "just" drawing on the provided cairo_t
Jul 26 12:05:04 <jjongsma>	ebassi, what does "relying on expose events" mean? We don't handle them at all in our application, but they still result in gtk_widget_render() to be called
Jul 26 12:05:51 <ebassi>	Then I fail to understand how spice-gtk is breaking
Jul 26 12:06:23 <jjongsma>	ebassi, for what it's worth, here's our draw function: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-cairo.c#n65
Jul 26 12:06:23 <ebassi>	The commit I linked added a constraint on what can be double-buffered — top-level, native GdkWindow
Jul 26 12:07:07 <jjongsma>	hmm
Jul 26 12:08:03 <ebassi>	This seems to contradict your "we're double-buffering" statement: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-cairo.c#n87
Jul 26 12:09:46 <jjongsma>	ebassi, it does seem to contradict it, but the comment is old, I think: https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget.c#n605
Jul 26 12:11:05 <baedert>	What's with line 1208 in that file?
Jul 26 12:14:54 <jjongsma>	well, there's a bit of an experimental egl widget as an alternative to the cairo implementation, but that's not being used
Jul 26 12:15:21 <jjongsma>	so enabled is false, which results in double-buffering being enabled.
Jul 26 12:25:48 <mclasen>	jjongsma: sorry, fell off for  a bit
Jul 26 12:25:50 <mclasen>	back now
Jul 26 12:31:44 <jjongsma>	mclasen, well, ebassi showed up briefly
Jul 26 12:34:54 <ebassi>	jjongsma: So, I guess the question is not "stuff fails to draw" but "stuff fails to invalidate the contents of the widget"
Jul 26 12:35:35 <jjongsma>	ebassi, perhaps
Jul 26 12:38:19 <jjongsma>	ebassi, but why would reverting the expose event changes affect that?
Jul 26 12:39:39 <ebassi>	jjongsma: I have no idea
Jul 26 12:41:03 <jjongsma>	ebassi, I must admit that I have a very limited understanding about GdkWindows, and how they relate to GtkWidgets, etc. What makes a GdkWindow a toplevel window?
Jul 26 12:41:20 <ebassi>	jjongsma: The code in gtk_widget_render() is the logical equivalent of what gtkmain.c was doing. What really changed is the code in GdkWindow
Jul 26 12:42:31 <jjongsma>	ebassi, well, it's very very close to the same. But as I said before, there's one difference I can see: the old implementation called gdk_window_begin_paint_region(), which calls gdk_window_begin_paint_internal()
Jul 26 12:42:56 <jjongsma>	ebassi, the new implementation calls gdk-window_begin_draw_frame(), which only calls gdk_window_begin_paint_internal() IF the GdkWindow is a toplevel
Jul 26 12:43:15 <ebassi>	Yes, that's what I said
Jul 26 12:43:37 <jjongsma>	which is why I asked the question above about toplevel GdkWindows
Jul 26 12:45:20 <ebassi>	jjongsma: Right, but, as I said, nothing expects an expose event on a child GdkWindow, these days; that's why I asked if Spice-gtk is using expose events
Jul 26 12:47:15 <ebassi>	Only top-level windows should receive expose events, and trip the redraw; child widgets should draw on the parent's buffer.
Jul 26 12:50:43 <jjongsma>	ebassi, thanks for your patience, I'm slowly getting a better understanding here...
Jul 26 12:53:52 <ebassi>	jjongsma: No problem
Jul 26 12:54:56 <ebassi>	We can tweak the conditions, after all I did that for Firefox; but I want to understand what are the requirements — and if spice-gtk can be changed, in case
Jul 26 12:55:48 <ebassi>	Also because when we break API for 4.0, we're going to pick stricter semantics
Jul 26 12:56:05 <jjongsma>	ebassi, yep. I'll continue to investigate here. I may ask additional questions from time to time
Jul 26 12:56:40 <jjongsma>	at the moment I think I need to try a few things out before I have anything intelligent to say.
Jul 26 12:57:11 <ebassi>	jjongsma: No worries
Jul 26 13:00:59 <jjongsma>	ebassi, another odd thing (in case it triggers any ideas in your mind) is that sometimes after resizing the window, it updates for a few seconds before freezing again...
Jul 26 13:01:47 <jjongsma>	I suspect that's something related to spice-gtk code, but just in case, I thought I'd mention it.
Jul 26 13:05:32 <ebassi>	Doesn't ring a bell
Jul 26 13:06:04 <ebassi>	But, maybe, something is checking the size of the cairo surface used to render the content, and if the size is the same then the widget does not get invalidated
Jul 26 13:06:22 <ebassi>	While you're getting resizing notifications, the surface gets redrawn
Jul 26 13:10:08 *	tanty is now known as tanty_off
Jul 26 13:24:35 <bugbot>	calamandrei@gmail.com changed the Component on bug 762260 from Themes to Class: GtkStyleContext.
Jul 26 13:24:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=762260 Class: GtkStyleContext, normal, gtk-bugs, NEW , Check boxes and radio buttons animate when inside a popover that is opened
Jul 26 13:47:06 <mwleeds>	ebassi: Is there any reason there's not a function json_node_get_path (JsonNode* n) that returns a (unique) JsonPath to the node?
Jul 26 13:54:45 *	dpm-afk is now known as dpm
Jul 26 13:59:18 <ebassi>	mwleeds: If you have the node, why do you need the path?
Jul 26 13:59:30 <ebassi>	JsonPath is pretty much XmlPath - a query API
Jul 26 14:02:15 <mwleeds>	because I want to see if there's a node in another json tree at the same path
Jul 26 14:02:27 <mwleeds>	and if so, replace it
Jul 26 14:10:59 <ebassi>	It would be possible to write a json_path_create_for_node(), but the main reason why it does not exist is we can only guarantee parent-child relationship in a JsonNode tree if it comes from a JsonParser
Jul 26 14:11:18 <ebassi>	i.e. it's not always possible to take a node and retrieve its parent
Jul 26 14:13:13 <iulianradu>	Figured it out
Jul 26 14:13:51 <mwleeds>	we could return NULL in that case
Jul 26 14:14:09 <mwleeds>	but anyway I think I found another way in my situation
Jul 26 15:20:56 *	aday is now known as aday_
Jul 26 15:44:03 <gasuleg>	Hi, I created a GAction and I want know when his state change. Any idea?
Jul 26 15:45:32 <jmd>	gasuleg: Well you created it so you should know!!!
Jul 26 15:46:37 <jmd>	GAction is an interface.
Jul 26 15:47:26 <gasuleg>	jmd, well, I change his state in a class but I want to know when he changes in another
Jul 26 15:48:30 <jmd>	emit a signal, and connect to that signal.
Jul 26 15:50:37 <gasuleg>	jmd, I created this GAction to avoid using an emit signal because I don't know the instance where I change the state of GAction
Jul 26 15:51:20 <jmd>	So how _do_ you change its state?
Jul 26 15:51:50 <jmd>	In the bit of code where its state changes, just emit the signal there.  What is the problem?
Jul 26 15:52:09 <gasuleg>	don't need the instance to change state: g_action_change_state 
Jul 26 15:52:29 <gasuleg>	g_action_change_state (GAction *action,
Jul 26 15:52:29 <gasuleg>	                       GVariant *value);
Jul 26 15:53:58 <jmd>	gasuleg: Right.  .... and what have you got in the implementation of GActionInterface->change_state ??
Jul 26 15:56:08 <gasuleg>	jmd, http://pastebin.com/sV2STDbN
Jul 26 15:56:31 <gasuleg>	display_smartinfo is the name of my GAction
Jul 26 15:56:50 <jmd>	Please answer my question.
Jul 26 15:57:11 <jmd>	What does your GActionInterface->change_state function have ?
Jul 26 15:57:51 <gasuleg>	just boolean
Jul 26 15:58:01 <gasuleg>	(not sure to understand)
Jul 26 15:58:02 <jmd>	Huh?
Jul 26 15:58:08 <jmd>	It should be a function
Jul 26 15:59:04 <jmd>	You said that you created a GAction.  So how did you create it?
Jul 26 15:59:35 <jmd>	If you created it, then you must know when and under what circumstances it changes state.
Jul 26 16:00:14 <jmd>	So, when it changes state, emit a signal.  Then everything which is interested in that state change can connect to the signal.
Jul 26 16:03:33 <gasuleg>	as, I say I change his state in a method of a class where I don't know the instance. I created it like that : http://pastebin.com/EhTkJjim
Jul 26 16:04:20 <gasuleg>	as I said, ( sorry for my english, tell me if you don't understand something)
Jul 26 16:06:36 <bugbot>	mclasen@redhat.com changed the Status on bug 768752 from NEW --- to RESOLVED FIXED.
Jul 26 16:06:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768752 gio, enhancement, gtkdev, RESOLVED FIXED, Add async variant of g_app_info_launch_default_for_uri
Jul 26 16:07:57 <jmd>	gasuleg: Ahh.  So you didn't create it after all.
Jul 26 16:08:45 <gasuleg>	jmd, Yes I did with this: g_action_map_add_action_entries(
Jul 26 16:08:45 <gasuleg>	        G_ACTION_MAP(app), ring_actions, G_N_ELEMENTS(ring_actions), app)
Jul 26 16:09:24 <gasuleg>	sorry, didn't mention that
**** ENDING LOGGING AT Tue Jul 26 16:10:30 2016

**** BEGIN LOGGING AT Tue Jul 26 16:10:30 2016

Jul 26 16:10:45 <jmd>	Right.  See the 5th member of GActionEntry?  It is the change_state function pointer.
Jul 26 16:10:54 <jmd>	Use that pointer to emit a signal.
Jul 26 16:11:31 <jmd>	I note that currently who have them all NULL. 
**** ENDING LOGGING AT Tue Jul 26 16:12:19 2016

**** BEGIN LOGGING AT Tue Jul 26 16:12:19 2016

Jul 26 16:13:23 <jmd>	Actually I don't know what your {0
Jul 26 16:13:41 <jmd>	{0} things are for.  Your code probably crashes?
Jul 26 16:14:30 <gasuleg>	jmd, I work on a free software code, so I just add display_smartinfo line
Jul 26 16:14:50 <gasuleg>	this code work
Jul 26 16:15:03 <gasuleg>	but I don't understand everything
Jul 26 16:15:05 <jmd>	I suggest you got lucky then.
Jul 26 16:15:38 <jmd>	GActionEntry contains 5 pointers.  But you seem to be forcing 6 into it.
Jul 26 16:16:59 <jmd>	Anyway, to answer your original question.  Implement the change_state member.
Jul 26 16:17:29 <jmd>	Note that the documentation says "All stateful actions should provide a handler here".
Jul 26 16:17:42 <jmd>	You have provided no handler.
Jul 26 16:17:56 <gasuleg>	jmd, if I understand its a callback, so i can write the methode i want
Jul 26 16:18:04 <jmd>	sure.
Jul 26 16:18:25 <gasuleg>	ok ok, I see
Jul 26 16:18:27 <gasuleg>	cool
Jul 26 16:18:42 <gasuleg>	thank you jmd for all your help
Jul 26 16:18:47 <gasuleg>	I will try that
Jul 26 16:19:17 <jmd>	you're welcome.
Jul 26 16:20:20 <gasuleg>	here is the project for what I work: https://ring.cx/ . I just love it
Jul 26 16:21:10 <bugbot>	New gtk+ bug 769205 filed by georges.stavracas@gmail.com.
Jul 26 16:21:10 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 26 16:24:00 <jmd>	gasuleg: Right.  An interesting project. (but I've never yet met anyone who has succeeded building it).
Jul 26 16:25:05 <gasuleg>	jmd, why did you said that?
Jul 26 16:25:42 <jmd>	Most people (including myself) give up in frustration after a few days (weeks) trying.
Jul 26 16:26:40 <gasuleg>	I have an issue again. Can you have a seen on it? http://pastebin.com/axTi6V3y
Jul 26 16:26:56 <gasuleg>	error: �test� was not declared in this scope
Jul 26 16:27:38 <gasuleg>	well, I build it, what is your issue jmd ?
Jul 26 16:28:46 <jmd>	Well you have a symbol 'test'.  The compiler is complaining that there is no such symbol.
Jul 26 16:28:59 <jmd>	line 11
Jul 26 16:29:28 <gasuleg>	yeah, but i creat the method l16
Jul 26 16:29:37 <jmd>	(you still have those {0} there, so I wouldn't expect this code to do anything sensible).
Jul 26 16:29:52 <jmd>	Probably gives lots of compiler warnings?
Jul 26 16:30:12 <gasuleg>	no one or they are hide
Jul 26 16:31:26 <gasuleg>	I will tell the question to the creator about these {0}
Jul 26 16:35:15 <gasuleg>	jmd, we are agree I need to call my method test like that if I have GActionEntry with with elements
Jul 26 16:35:23 <gasuleg>	5 elements*
Jul 26 16:39:33 <gasuleg>	jmd,  ring_actions is an array of GActionEntrys... iirc the compiler gives some warning if you don't put the null at the end of each individual entry
Jul 26 16:40:14 <jmd>	I would expect it to give a warning if you DO put those there.
Jul 26 16:40:34 <jmd>	Even if it doesn't it'll almost certainly crash if you try running it.
Jul 26 16:41:25 <jmd>	That array has 36 pointers in it.
Jul 26 16:41:49 <jmd>	However a GArrayEntry is 5 pointers each.
Jul 26 16:42:17 <jmd>	So what you have there is an array of 5.2 GArrayEntrys.
Jul 26 16:42:28 <jmd>	The .2 is going to cause problems ...
Jul 27 04:21:54 <bugbot>	swilmet@gnome.org changed the Component on bug 768902 from General to .General.
Jul 27 04:21:55 <bugbot>	swilmet@gnome.org changed the Product on bug 768902 from gtksourceview to gtk+.
Jul 27 04:21:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768902 .General, major, gtk-bugs, NEW , Font too small when using gtk_widget_override_font()
Jul 27 04:40:10 <bugbot>	New gtk+ bug 769214 filed by fziglio@redhat.com.
Jul 27 04:40:11 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769214 Backend: Win32, normal, gtk-win32-maint, NEW , keyval field not filled correctly for Pause key
Jul 27 05:18:50 *	ChanServ sets mode +q on #gtk+ Company
Jul 27 05:18:50 *	ChanServ gives channel operator status to Company
Jul 27 05:54:33 <hramrach>	Hello
Jul 27 05:54:44 <hramrach>	how do I change colors of the default gtk3 theme?
Jul 27 05:55:33 <hramrach>	I tried to copy the gtk-default.css to gtk.css in a theme directory but I lose most 3d appearance of widgets
Jul 27 05:55:57 <hramrach>	My own old theme and themes installed from gnome-look also have this problem
Jul 27 06:06:02 <ebassi>	hramrach: You don't. The only way to change colors is to create a new theme.
Jul 27 06:06:47 <ebassi>	This is not something new: only the Clearlooks engine allowed you to select colors, in gtk2
Jul 27 06:08:34 <hramrach>	so how do you create new theme?
Jul 27 06:09:03 <benzea>	ebassi: that was a GTK+ feature! it worked for all engines except pixmap :)
Jul 27 06:09:05 <hramrach>	presumably copying the get-default.css to gtk.css in a tehme directory creates a new theme but it's missing 3d elements
Jul 27 06:09:22 <hramrach>	*gtk-default
Jul 27 06:09:52 <baedert>	what's get-default.css and what are 3d elements?
Jul 27 06:10:14 <hramrach>	gtk-default
Jul 27 06:10:26 <benzea>	3d elements would be making the base color darker/lighter for gradients, I presume
Jul 27 06:12:59 <hramrach>	http://picpaste.com/screenshot-20160727121137-e6Ftd2VU.png
Jul 27 06:13:46 <hramrach>	http://picpaste.com/screenshot-20160727121046-lp1Db0I3.png
Jul 27 06:14:07 <hramrach>	there is some difference between the two
Jul 27 06:14:55 <ebassi>	hramrach: So, you're copying Adwaita?
Jul 27 06:15:05 <hramrach>	Raleigh
Jul 27 06:15:31 <hramrach>	but anything goes
Jul 27 06:15:48 <hramrach>	if copying Adwaita is supposed to work I will copy that instead, whatever
Jul 27 06:15:50 <ebassi>	I'm not really sure Raleigh is even up to date
Jul 27 06:16:02 <ebassi>	Anyway, from where are you copying the CSS?
Jul 27 06:16:07 <ebassi>	From the Git repository?
Jul 27 06:16:18 <hramrach>	from Debian package
Jul 27 06:16:24 <heftig>	I think you could use this to get a complete copy of the integrated themes:
Jul 27 06:16:26 <heftig>	gresource list /usr/lib/libgtk-3.so | while read f; do f2=${f#/org/gtk/libgtk/}; [[ $f2 == theme/* ]] || continue; mkdir -p $(dirname $f2); gresource extract /usr/lib/libgtk-3.so $f > $f2; done
Jul 27 06:17:03 <ebassi>	hramrach: CSS files shipped by GTK are part of the shared library; if you look at the files on disk, you'll notice that they are empty
Jul 27 06:17:11 <ebassi>	Unless you're using an ancient version of GTK
Jul 27 06:17:27 <hramrach>	the sauce package
Jul 27 06:17:51 <hramrach>	gresource does not know what to do with libgtk
Jul 27 06:18:30 <hramrach>	it's in arch directory
Jul 27 06:18:42 <hramrach>	will try looking at that
Jul 27 06:20:55 <hramrach>	hm, same
Jul 27 06:20:58 <hramrach>	no change
Jul 27 06:21:18 <heftig>	ebassi: btw, what is the purpose of the gtk-contained*.css files that just get imported?
Jul 27 06:22:00 <hramrach>	there is only gtk.css in Raleigh and using that in place of the gtk-default.css gives the no-3d issue
Jul 27 06:22:35 <ebassi>	heftig: You'll have to ask Lapo
Jul 27 06:22:55 <ebassi>	heftig: I think it's just broken down so that scss can build from different mixins
Jul 27 06:23:09 <heftig>	hramrach: Raleigh is broken
Jul 27 06:24:05 <heftig>	hramrach: it was neglected after Adwaita became the default theme
Jul 27 06:25:24 <baedert>	I somehow remember multiple times where mclasen proposed to drop it
Jul 27 06:33:48 <ebassi>	I honestly thought we already did
Jul 27 08:56:57 <rudrab>	Hi, in a gtk3 application, I am trying to replace titlebar with headerbar
Jul 27 08:57:21 <baedert>	gtk_window_set_titlebar
Jul 27 08:57:27 <rudrab>	the only problem I am facing is I cant drag the window using titlebar
Jul 27 08:57:56 <rudrab>	is there any property I can set for that?
Jul 27 08:58:05 <baedert>	Are you using gtk_window_set_titlebar?
Jul 27 08:58:11 <rudrab>	yes
Jul 27 08:58:50 <baedert>	There is no such property; it just works if the titlebar child widget doesn't consume drags
Jul 27 08:59:36 <rudrab>	actually opposite: I have done Gtk.Window.set_decorated to False. So I dont actually have a titlebar, only headerbar
Jul 27 09:00:10 <baedert>	that's wrong
Jul 27 09:00:16 <ebassi>	rudrab: Use gtk_window_set_titlebar() with a GtkHeaderBar
Jul 27 09:00:24 <ebassi>	Otherwise stuff won't work
Jul 27 09:02:40 <rudrab>	ebassi: will not it display both titlebar and headerbar?
Jul 27 09:02:56 <rudrab>	I guess i have not understood you 
Jul 27 09:02:57 <baedert>	No
Jul 27 09:08:35 <rudrab>	ah...great...thank you both
Jul 27 09:19:30 <heftig>	hm, why is g_unix_signal_source_new limited to a subset of signals?
Jul 27 09:21:41 <hadess>	heftig, probably because it can't safely handle the others
Jul 27 09:22:20 <heftig>	I wonder why. I just need WINCH
Jul 27 09:22:25 <hadess>	catching SIGABRT or SIGSEGV is possible but probably not something you want in your app :)
Jul 27 09:23:04 <hadess>	heftig, probably something that could be added then
Jul 27 09:24:00 <heftig>	(more specifically, i'm trying to use prompt_toolkit + gbulb from python; the former tries to add a handler for SIGWINCH and the latter translates it to g_unix_signal_source_new)
Jul 27 09:32:46 <hramrach>	heftig: I extracted the whole Adwaita theme and moved it to my theme directory. No change. Switched to default theme and back. The theme is still broken in the same way.
Jul 27 09:35:02 <rudrab>	one more thing, in line of my previous question: can I place my menubar (created using Gtk.Builder) inside headerbar as well?
Jul 27 09:36:15 <ebassi>	rudrab: No
Jul 27 09:36:37 <ebassi>	For menus in header bars, you want a GtkMenuButton or similar
Jul 27 09:37:14 <ebassi>	rudrab: https://developer.gnome.org/hig/stable/header-bars.html.en
Jul 27 09:37:42 <rudrab>	ebassi:thanks
Jul 27 09:39:45 <heftig>	hramrach: well, works for me; :| i just created a hue-shifted adwaita by swapping channels in colors
Jul 27 09:46:26 <mwleeds>	Is there a way to do a deep copy of a JsonNode? json_node_copy() just increments reference counts so I guess I have to implement this myself?
Jul 27 09:49:20 <ebassi>	mwleeds: Yes
Jul 27 09:50:00 *	ebassi needs to find some time for a 2.0 API for json-glib without stupid memory management
Jul 27 09:53:49 <ricotz>	ebassi, hi, regarding the current gsk-renderer branch -- "error: ‘gsk_gl_profiler_get_property’ undeclared"
Jul 27 09:53:58 <ebassi>	Yes, yes
Jul 27 09:54:11 <ebassi>	I had to move the branch to a different laptop
Jul 27 09:54:18 <ebassi>	The branch is broken in other ways
Jul 27 09:54:38 <ricotz>	ah ok
Jul 27 09:54:43 <ricotz>	sorry ;)
Jul 27 09:54:46 <ebassi>	If I wanted to have it auto-built, I would have pushed it to master :-P
Jul 27 09:55:24 *	ebassi mutters something about the branch name being wip/ebassi/*
Jul 27 09:56:54 <heftig>	is json-glib's design like gvariant?
Jul 27 09:59:00 <heftig>	er, nvm that
Jul 27 10:11:02 <hramrach>	heftig: got it working with fresh theme directory. Probably forgot some directory level somewhere
Jul 27 10:11:07 <hramrach>	thanks
Jul 27 10:13:47 <ebassi>	Mmh, API question time
Jul 27 10:14:15 <ebassi>	Do I add a scale-factor to every single GskRenderNode, or do I expect widgets to apply the scale factor internally for everything?
Jul 27 10:17:50 <feaneron>	mclasen: hi, idk if you're already aware, but I filled bug 769205 with the patches
Jul 27 10:17:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 27 10:19:40 <mclasen>	I am aware now
Jul 27 10:20:03 *	mclasen wonders if Company is around for API questions
Jul 27 10:20:21 <Company>	mclasen: he is
Jul 27 10:20:45 <mclasen>	see ebassi's question ^
Jul 27 10:22:07 <Company>	the scale factor is a property of the monitor you're rendering on
Jul 27 10:22:31 <Company>	or the window you're rendering into
Jul 27 10:22:39 <ebassi>	Right
Jul 27 10:23:10 <ebassi>	The issue is that render nodes may have rasterization operations in them, so the need to create a surface (that will then be pushed to GL)
Jul 27 10:23:46 <Company>	but they can query the scale factor for that, no?
Jul 27 10:23:47 <gasuleg>	I try to handle the signal change state (https://developer.gnome.org/gio/stable/GSimpleAction.html#GSimpleAction-change-state) in my GActionEntry (https://developer.gnome.org/gio/stable/GActionMap.html#GActionEntry ) to conect it to a method of an other class. any idea?
Jul 27 10:24:17 <ebassi>	Company: Well, they set the size of the node, which is used to create the surface/drawing context
Jul 27 10:24:31 <gasuleg>	I think it's easy to do but i'm really lost right now
Jul 27 10:24:32 <ebassi>	Company: So the question is
Jul 27 10:24:47 <Company>	i would imagine the scale factor setup happening on the viewport (is that the GL term) level
Jul 27 10:25:15 <ebassi>	Company: Do we add that scaling factor to the node, so that widgets can use the allocation when creating the node; or do we tell widgets to scale the allocation themselves when creating the node
Jul 27 10:25:30 <ebassi>	Company: Not really; you still need to render at a higher scaling factor
Jul 27 10:25:43 <ebassi>	Otherwise the Cairo surface will look like crap
Jul 27 10:25:55 <Company>	yes
Jul 27 10:26:06 <Company>	but the coordinates you use are always in user space
Jul 27 10:26:25 <Company>	ie they will be scaled automatically for you
Jul 27 10:26:38 <ebassi>	If they get scaled up, they will look like arse
Jul 27 10:27:03 <ebassi>	It's not like GL will automatically do things for you
Jul 27 10:27:06 <Company>	well, if you have to upload pixel data, you'll have to look at the scale factor
Jul 27 10:46:14 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Jul 27 10:46:14 2016

**** BEGIN LOGGING AT Wed Jul 27 10:46:31 2016

Jul 27 10:46:31 *	Now talking on #gtk+
Jul 27 10:46:31 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 27 10:46:31 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 27 10:46:46 <ebassi>	So it would tie it to the drawing operation
Jul 27 10:47:14 <Company>	in GTK, you just cairo_scale() it however you want
Jul 27 10:47:49 <Company>	but that will not cause us to update our textures (or relaod icon pixbufs)
Jul 27 10:48:27 <Company>	no idea if gsk allows any random transform to be applied before rendering
Jul 27 10:51:45 <ebassi>	No; you rasterise into a surface the untransformed contents, and then we apply the transformation when we composite the scene
Jul 27 10:52:04 <ebassi>	Basically, the way a get_render_node() implementation looks like is this: https://paste.gnome.org/pa702plia
Jul 27 10:52:21 <ebassi>	With the option, like alex wants, to save the rasterization across frames if nothing has changed
Jul 27 10:52:38 <ebassi>	If we put a texture cache in the middle
Jul 27 10:53:44 <ebassi>	(That code snippet is basically GtkBox, or any other container with a background)
Jul 27 10:57:34 <Company>	ebassi: so a render node doesn't know what it's rendered to?
Jul 27 10:58:21 <Company>	there doesn't seem to be any association between the node and the GdkDisplay or GdkWindow
Jul 27 10:58:39 <ebassi>	Company: The renderer takes a display, drawing context, and a root node
Jul 27 10:58:57 <ebassi>	Company: That happens at the end of the scene graph build
Jul 27 10:59:11 <Company>	but not the node?
Jul 27 10:59:52 <ebassi>	Not at the node level, no. In theory, you could pass the same tree to two different renderers tied to two different environments
Jul 27 11:00:11 <Company>	that seems bad
Jul 27 11:00:13 <ebassi>	We could turn it inside-out, and have the renderer create nodes
Jul 27 11:00:22 <ebassi>	(I already have a branch that does that)
Jul 27 11:00:29 <Company>	because it makes lots of things more complicated
Jul 27 11:00:39 <Company>	for a flexibility that you almost never use
Jul 27 11:01:06 <ebassi>	Yeah, that's pretty much the same conclusion I came to
Jul 27 11:01:24 <Company>	it's nice if you can render the node to a different renderer
Jul 27 11:01:42 <Company>	but I think a node should always "belong" to one renderer
Jul 27 11:02:01 <Company>	which would be where it gets scale factors etc from
Jul 27 11:02:04 <ebassi>	Yep
Jul 27 11:02:49 <ebassi>	Right, I'll just turn the render node creation inside out, and always ask the renderer to create a node - and it can set up things like scale factors
Jul 27 11:03:00 <Company>	right
Jul 27 11:03:19 <Company>	so there may be a gdk_render_node_get_scale_factor()
Jul 27 11:03:21 <ebassi>	And it makes it easier to create a free-list of render nodes, if the memory profile starts bothering us
Jul 27 11:03:40 <Company>	but all it should do is return gsk_renderer_get_scale_factor (node->priv->renderer);
Jul 27 11:03:46 <ebassi>	Yep
Jul 27 11:04:25 <baedert>	GskRenderNodeFactory!
Jul 27 11:04:32 <ebassi>	baedert: Haha
Jul 27 11:04:39 <ebassi>	Nah, just: gsk_renderer_create_render_node()
Jul 27 11:07:49 <lazka>	is there a way to adjust the pango layout/context of a widget?
Jul 27 11:08:41 <lazka>	I'd like to disable auto bidir in GtkLabel
Jul 27 11:10:17 <heftig>	Cairo is one of GSK's backends?
Jul 27 11:10:30 <mclasen>	garnacho_: hmm; I merged my code to set up all-scroll cursors for when you use the nipple to scroll; but I am occasionally seeing that cursor getting stuck - I guess I'm missing some ways in which the scrolling can end. could you double-check that code in gtkscrolledwindow.c for what I'm missing ?
Jul 27 11:13:24 <garnacho_>	mclasen: wayland?
Jul 27 11:13:40 <mclasen>	now that you mention it, yes
Jul 27 11:14:20 <ebassi>	heftig: Yes; mostly for debugging.
Jul 27 11:14:29 <garnacho_>	aha... that's fishy :)
Jul 27 11:15:01 <ebassi>	heftig: And for macOS, since that GDK backend still does not have OpenGL support
Jul 27 11:16:31 <heftig>	So the actual backends would be OpenGL and pixman?
Jul 27 11:17:34 <heftig>	Or always GL and then software rendering if needed?
Jul 27 11:19:11 <ebassi>	heftig: Always GL, for compositing, and Cairo/pixman for rasterizations
Jul 27 11:19:47 <ebassi>	i.e. widgets draw components on Cairo image surfaces and then we blend them together in a GL scene
Jul 27 11:19:59 <ebassi>	Until we can move more bits to the GPU
Jul 27 11:20:30 <heftig>	So e.g. text rendering is unaffected by the current GSK move?
Jul 27 11:20:41 <ebassi>	Also, for backward compatibility, we still need to allow people to render on Cairo contexts
Jul 27 11:20:59 <ebassi>	heftig: Text rendering is still pretty much a rasterization, so yes: it's not moved to the GPU yet
Jul 27 11:21:55 <ebassi>	We may have a glyph texture cache by copying it from Cogl, but that would still need to rasterize individual glyphs
Jul 27 11:23:37 <rudrab>	Hi, I have just moved to MenuButton from menubar.ui+builder (ebassi, thanks. It looks more gnomic and lot better)
Jul 27 11:24:58 <rudrab>	But I am not getting a way to add keyboard shortcuts. in menubar.ui, I had, say, http://paste.fedoraproject.org/396441/46963308/ to open file.
Jul 27 11:25:23 <rudrab>	how I can add the accel group in menubutton?
Jul 27 11:32:40 <visarion>	Is there a known issue with the Spinner not showing ?  I tried everything, even replacing it with another widget to see if that appears.
Jul 27 11:33:32 <ebassi>	rudrab: https://wiki.gnome.org/HowDoI/GAction - https://wiki.gnome.org/HowDoI/GMenu
Jul 27 11:34:50 <ebassi>	rudrab: https://git.gnome.org/browse/gtk+/tree/examples/application10 and https://developer.gnome.org/gtk3/stable/ch01s04.html#id-1.2.3.12.13
Jul 27 11:47:46 <hramrach>	ebassi: how about widgets that span multiple screens? How do you render those?
Jul 27 11:48:26 <hramrach>	to which screen do you tie it? Or do you redo the binding several times each time you draw a frame?
Jul 27 11:49:59 <baedert>	Depends what the WM does afaik
Jul 27 12:15:08 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Jul 27 12:15:08 2016

**** BEGIN LOGGING AT Wed Jul 27 12:15:21 2016

Jul 27 12:15:21 *	Now talking on #gtk+
Jul 27 12:15:21 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 27 12:15:21 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 27 12:24:16 <jjongsma>	ebassi, btw, we found the issue in spice-gtk, though I don't quite understand the mechanism for failure yet.
Jul 27 12:25:12 <jjongsma>	ebassi, https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget-egl.c#n315 <- this function was being called in the 'realize' handler for the widget. 
Jul 27 12:25:41 <jjongsma>	not calling that function resulted in a working widget ...
Jul 27 12:27:12 <hotcfoch>	How can g_async_initable_new_finish can know if there was an error?
Jul 27 12:30:41 <mclasen>	you pass it the async result which contains that information
Jul 27 12:33:55 <ebassi>	jjongsma: Ouch
Jul 27 12:34:30 <ebassi>	You're creating an EGL surface and getting a native window
Jul 27 12:35:31 <ebassi>	This is somewhat similar to what Clutter-GTK does, but Clutter-GTK disables double buffering
Jul 27 12:35:50 <ebassi>	Because that's the only way you're going to be able to draw
Jul 27 12:36:37 <jjongsma>	ebassi, yeah, when egl is enabled, we do disable double-buffering, but this initialization happens even without egl being enabled.
Jul 27 12:36:46 <jjongsma>	I'm not very familiar with this code though, elmarco probably knows better
Jul 27 12:37:13 <ebassi>	Ah, yes.. The rest of the coe in there assumes you can draw on the window surface as if you're the only owner
Jul 27 12:37:58 <ebassi>	jjongsma: It's the GDK_WINDOW_XID call that mucks up everythinge else
Jul 27 12:38:25 <jjongsma>	ebassi, yep, that's what I determined. I commented out everything but that and it still failed. But after commenting that out, it worked ;)
Jul 27 12:39:23 <ebassi>	You are forcing the GdkWindow to have a native surface, which has certain semantics; if you do that then you get to handle a lot of nasty stuff by yourself — including double buffering
Jul 27 12:39:39 <ebassi>	A bunch of stuff will also break, like popovers :-)
Jul 27 12:39:59 <hotcfoch>	mclasen: so the GError is supposed to be in GAsyncResult ?
Jul 27 12:40:01 <jjongsma>	elmarco, ^
Jul 27 12:40:35 <ebassi>	jjongsma: My suggestion would be to use GtkGLArea, if you want to render with GL, not create random EGL context ;-)
Jul 27 12:41:17 <ebassi>	Mostly because GdkGLContext and GtkGLArea will render on the appropriate surface, using the GDK rendering infrastructure, and nothing will break
Jul 27 12:42:26 <elmarco>	ebassi: we use gtkglarea, but we need an egl context, glx won't do
Jul 27 12:42:42 <elmarco>	ebassi: so gtkglarea is only used on wayland so far
Jul 27 12:43:31 <elmarco>	so that egl/x11 stuff is a hack, but we don't have much choice, unless gtk+ start using egl on x11, I wish it would
Jul 27 12:44:01 <hotcfoch>	mclasen: even before calling "g_async_initable_new_finish" ?
Jul 27 12:44:03 <elmarco>	other solution would be to implement the dmabuf import stuff with glx, that's probably harder
Jul 27 12:44:39 <ebassi>	If you use EGL on X11 you're ot going to get a bunch of GLX only extensions — like texture from pixmap; there's an EGL extension for that, but…  meh.
Jul 27 12:45:21 <mclasen>	hotcfoch: no, you have to call finish to get it
Jul 27 12:45:22 <ebassi>	We could let you specify you want an EGL context on X11; then you could create the GdkGLContext yourself
Jul 27 12:46:09 <ebassi>	gdk_x11_gl_context_set_use_egl(); it would need a bunch of silly checks in GdkX11GLContext::realize, but it would be doable
Jul 27 12:46:11 <mwleeds>	ebassi: json_path_match() seems to return already-existing value nodes but newly-allocated object/array nodes. So how can I modify an object node I have the path for?
Jul 27 12:46:36 <ebassi>	mwleeds: You… Don't?
Jul 27 12:47:04 <ebassi>	mwleeds: I'm sorry, it seems you're using json-glib in a way that I didn't think of when I wrote it
Jul 27 12:47:47 <hotcfoch>	mclasen: that's my question? how does it discover there is an error? what kind of information does GAsyncResult provides that can help to that function to find the error?
Jul 27 12:47:51 <ebassi>	The JsonPath API is for generatin "views" or results out of an existing JSON parsed tree
Jul 27 12:48:07 <ebassi>	Sorry, new keyboard. Let's try again.
Jul 27 12:48:12 <elmarco>	ebassi: you could mix egl and glx contexts, or the app using spice-gtk would have to call gdk_x11_gl_context_set_use_egl() ? 
Jul 27 12:48:16 <ebassi>	The JsonPath API is for generating "views" of results out of an existing JSON parsed tree
Jul 27 12:48:31 <ebassi>	elmarco: You cannot mix egl and glx contexts
Jul 27 12:48:36 <ebassi>	You cannot do that even now
Jul 27 12:48:54 <elmarco>	that's what I thought, actually I tried and resulted in weird crashes iirc
Jul 27 12:48:57 <ebassi>	All contexts are shared
Jul 27 12:49:20 <ebassi>	It's like trying to create legacy and core profile contexts at the same time
Jul 27 12:50:04 <mwleeds>	would you be open to a patch changing it to return the already existing nodes?
Jul 27 12:51:30 <ebassi>	mwleeds: No, I would not be open to that. The semantics are documented.
Jul 27 12:51:38 <elmarco>	jjongsma: did you identify the gtk+ commit that broke drawing?
Jul 27 12:52:17 <jjongsma>	elmarco, yeah, sent it to you in email already, but it's https://git.gnome.org/browse/gtk+/commit/?id=2c7b21718f18ab743cd79784ae28cad582f58503
Jul 27 12:52:25 <elmarco>	jjongsma: thanks
Jul 27 12:53:23 <ebassi>	That's the proximal commit; the actual commit is: fc569f1ac6ff108afc17f7f439480273826af3a6
Jul 27 12:53:56 <ebassi>	Since that introduced the rule that double buffering can only occur on top-level native GdkWindow
Jul 27 12:54:03 <mwleeds>	documented where? the json_path_match docs don't say anything about this
Jul 27 12:54:35 <ebassi>	Commit 2c7b21718 just made GTK use those semantics
Jul 27 12:55:28 <feaneron>	mclasen: hey, please, pretend you've never seen that couple of patches I sent before
Jul 27 12:55:38 *	feaneron is absolutely ashamed of that
Jul 27 12:56:40 <ebassi>	mwleeds: It says it creates a new JsonNode of array type. You're right that it doesn't say that the element nodes are new, but I honestly don't want to make it return nodes from another tree
Jul 27 12:56:54 <ebassi>	mwleeds: The memory management model of JsonNode is already a massive fuck up
Jul 27 12:57:23 <ebassi>	It also maps to the behaviour of other JsonPath implementations, which return new nodes
Jul 27 12:58:53 <elmarco>	jjongsma: I guess our easier alternative is to not support switch 2d/3d anymore (or just link older gtk+ statically, /me half-kidding)
Jul 27 12:58:57 <mclasen>	hotcfoch: an async result is mainly a container for ... the result of an operation
Jul 27 12:59:13 <mclasen>	one possible result is an error
Jul 27 12:59:31 <mwleeds>	It already does return nodes from another tree when they are value nodes
Jul 27 13:00:35 <mwleeds>	so maybe the patch should be to make it return all new nodes
Jul 27 13:01:24 <ebassi>	mwleeds: I honestly don't understand what your goal is, then. I thought you wanted to get existing nodes
Jul 27 13:02:17 <mwleeds>	yeah that patch wouldn't help me at all. I just suggested it to make the behavior consistent with what you said about not wanting to return nodes from another tree.
Jul 27 13:03:35 <ebassi>	mwleeds: It copies them, which unsets the parent
Jul 27 13:03:46 <ebassi>	mwleeds: So it always returns new nodes
Jul 27 13:06:43 <mwleeds>	I'm not sure about the implementation but when I called json_node_set_value on a node it returned the original one was modified with the new value. Anyway I'll just figure out another way to do it; don't want to waste any more of your time.
Jul 27 13:07:02 <ebassi>	1 retweet 3 likes
Jul 27 13:07:03 <ebassi>	￼ Reply  ￼ Retweet  1  ￼
Jul 27 13:07:04 <ebassi>	Like 3￼ Reply  
Jul 27 13:07:04 <ebassi>	￼ More
Jul 27 13:07:04 <ebassi>	￼Luis Villa ‏@luis_in_140  5m5 minutes ago
Jul 27 13:07:04 <ebassi>	@emptywheel @sarahjeong the people need an explainer stat
Jul 27 13:07:06 <ebassi>	0 retweets 2 likes
Jul 27 13:07:09 <ebassi>	￼ Reply  ￼ Retweet   ￼
Jul 27 13:07:11 <ebassi>	Like 2￼ Reply  
Jul 27 13:07:14 <ebassi>	￼ More
Jul 27 13:07:16 <ebassi>	Ugh
Jul 27 13:07:19 <ebassi>	Touchscreen
Jul 27 13:07:21 <ebassi>	You suck
Jul 27 13:07:24 <ebassi>	Also: PRIMARY selection, I want you *dead*
Jul 27 13:10:06 <ebassi>	mwleeds: The implementation currently calls json_node_copy(), so it may just be a bug. The problem is that JsonNode does a bunch of ref calls internally
Jul 27 13:10:32 *	ebassi takes json-glib behind the chemicals shed with an armed detail for execution
Jul 27 13:12:48 <Hussam>	to submit a bug report regarding a leak in gvfs (I managed to get gvfs2-udisks-monitor to leak over 50MB), do I just need debug symbols of glib2 or gvfs as well?
Jul 27 13:13:01 <Hussam>	I know how to reproduce it.
Jul 27 13:14:05 <baedert>	preferrably both
Jul 27 13:14:29 <Hussam>	ok :) I'll do a debug build of gvfs too then :)
Jul 27 13:15:18 <bugbot>	New gtk+ bug 769236 filed by bugzilla@hadess.net.
Jul 27 13:15:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769236 .General, normal, gtk-bugs, NEW , demos: Fix build failure
Jul 27 13:21:48 <gasuleg>	how can I create a g_signal_connect who is call when a variable change?
Jul 27 13:22:05 <ebassi>	gasuleg: I'm not sure I understand
Jul 27 13:22:22 <halfline>	gasuleg: you probably want to use the "notify::property-name" signal
Jul 27 13:22:23 <ebassi>	gasuleg: If you want to know if a property value has changed, there's the "notify" signal on GObject
Jul 27 13:22:29 <halfline>	(where property-name is the naem of the property)
Jul 27 13:22:52 <ebassi>	gasuleg: If you want to get a notification when a variable changes then there's nothing in GLib or GObject that can help you
Jul 27 13:23:01 <ebassi>	leak in gvfs (I managed to get gvfs2-udisks-monitor to leak over 50MB), do I just need debug symbols of glib2 or gvfs as well?
Jul 27 13:23:04 <ebassi>	17:13 < Hussam> I know how to reproduce it.
Jul 27 13:23:05 <ebassi>	Ugh
Jul 27 13:23:06 <ebassi>	Sorry
Jul 27 13:23:19 <gasuleg>	I will do an exemple. I have a int variable and I whant to know when his value change
Jul 27 13:23:21 <ebassi>	This touchpad is getting waaay too many false middle click detections
Jul 27 13:23:39 <ebassi>	gasuleg: Yeah, there isn't anything you can do to achieve that
Jul 27 13:23:45 <ebassi>	ints are not GObjects
Jul 27 13:24:00 <gasuleg>	ok my bad, its an gobject
Jul 27 13:24:06 <gasuleg>	i want to know when he change
Jul 27 13:24:21 <ebassi>	gasuleg: Define "change"
Jul 27 13:26:05 <gasuleg>	ebassi, ok, I have a GactionEntry, I use : G_ACTION(g_action_map_lookup_action(G_ACTION_MAP(g_application_get_default()), "display_smartinfo")) to pull my GObject
Jul 27 13:26:23 <gasuleg>	and now I want to know when his state change
Jul 27 13:26:28 <ebassi>	json-debug.h    json-generator.h      json-gobject.c        json-marshal.list       json-path.c    json-scanner.h  json-utils.h          tests
Jul 27 13:27:11 <ebassi>	Again, this is ridiculous
Jul 27 13:27:26 <ebassi>	gasuleg: Okay, next time you should probably open with what you want to achieve
Jul 27 13:27:28 <ebassi>	;-)
Jul 27 13:28:33 <ebassi>	gasuleg: notify::state is the signal you want
Jul 27 13:29:04 <gasuleg>	ok, how can i use it?
Jul 27 13:29:11 <gasuleg>	sorry, I'm really novice
Jul 27 13:29:45 <ebassi>	g_signal_connect (action, "notify::state", G_CALLBACK (on_state_changed), NULL)
Jul 27 13:30:17 <ebassi>	The signal signature is the one for GObject::notify — you can check in the GObject API reference for it
Jul 27 13:31:28 <gasuleg>	but... with this line g_signal_connect don't know what GObject i want to check
Jul 27 13:31:52 <gasuleg>	tried something like that but not working : g_signal_connect(view, "notify::smartinfo_action", G_CALLBACK(display_smartinfo_view),NULL);
Jul 27 13:32:08 <Hussam>	baedert: done. got a 4MB valgrind log just umounting /dev/mapper/secondary disk and mounting it again :) going to file a bug report now.
Jul 27 13:32:20 <gasuleg>	with smartinfo_action who is my first line
Jul 27 13:32:22 <ebassi>	gasuleg: You use the action
Jul 27 13:32:27 <baedert>	Hussam: I assume that one includes possibly lost? :P
Jul 27 13:33:04 <gasuleg>	http://pastebin.com/NRPLVTUK what I'M doing wrong?
Jul 27 13:33:11 <halfline>	g_signal_connect (g_action_map_lookup_action(G_ACTION_MAP(g_application_get_default()), "display_smartinfo"), "notify::state", G_CALLBACK (on_state_changed), view);
Jul 27 13:33:30 <Hussam>	I guess so. definitely lost: 13,392 bytes in 213 blocks | indirectly lost: 5,654,822 bytes in 25,186 blocks |  possibly lost: 7,192 bytes in 28 blocks
Jul 27 13:33:33 <gasuleg>	hoooo
Jul 27 13:33:50 <gasuleg>	I will try that halfline thx
Jul 27 13:35:15 <halfline>	also on_state_changed should be void on_state_changed (GAction *action, GParamSpec *confusing_middle_arg_you_wont_use, WhateverView *view)
Jul 27 13:36:35 <gasuleg>	halfline, that work!!! I love you guys
Jul 27 13:44:45 <Hussam>	it won't accept my gvfs.log.tar.gz as attachment
Jul 27 13:46:19 <Hussam>	nevermind. it worked. auto mime-type detection didn't do it. I had to manually select tar
Jul 27 14:01:01 <phako>	is there any magic I have to do to make the menu bar set with gtk_application_set_menubar() appear in a gtkapplicationwindow under gnome shell? it should just be there, no?
Jul 27 14:29:09 <Hussam>	baedert: this is apparently caused by using libmount (was checked in 28 hours ago). I posted in both bugs.
Jul 27 14:56:58 <feaneron>	mclasen: updated the patches for bug 769205, they should be good now
Jul 27 14:56:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, NEW , Expose GtkShortcutLabel as a public widget
Jul 27 15:31:51 <bugbot>	georges.stavracas@gmail.com changed the Status on bug 769205 from NEW --- to RESOLVED FIXED.
Jul 27 15:31:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769205 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, Expose GtkShortcutLabel as a public widget
Jul 27 17:01:58 <bugbot>	calamandrei@gmail.com changed the Status on bug 762260 from NEW --- to RESOLVED FIXED.
Jul 27 17:01:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=762260 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED FIXED, Check boxes and radio buttons animate when inside a popover that is opened
Jul 27 17:37:42 <bugbot>	New glib bug 769245 filed by yury.usischev@phystech.edu.
Jul 27 17:37:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769245 gvariant, minor, desrt, NEW , is_valid_heap_iter define misses NULL pointer check
Jul 27 17:43:19 <rudrab>	hi, I am trying to add keyboard shortcuts to my Menu. I am trying something like https://paste.gnome.org/p3ziakvlq (non working)
Jul 27 17:43:56 <rudrab>	will somebody please tell me how to get this ?
Jul 27 17:59:20 <rudrab>	?
Jul 28 04:00:15 <bugbot>	oholy@redhat.com changed the Component on bug 769238 from udisks2 volume monitor to gio.
Jul 28 04:00:15 <bugbot>	oholy@redhat.com changed the Product on bug 769238 from gvfs to glib.
Jul 28 04:00:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769238 gio, normal, gtkdev, NEW , memory increases every time I umount and mount my secondary hard disk.
Jul 28 04:58:45 <bugbot>	New gtk+ bug 769258 filed by normvcr@telus.net.
Jul 28 04:58:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:07:24 <bugbot>	ebassi@gmail.com changed the Status on bug 769258 from NEW --- to RESOLVED NOTABUG.
Jul 28 05:07:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED NOTABUG, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:08:12 <ebassi>	"Let's create stuff in a tight loop without letting the main loop even run! Let's use `top` to check if there's a leak!"
Jul 28 05:13:37 <Hussam>	perhaps there should be a gnome release or two that address just applications that mis-use gtk+, glib, etc... without new features.
Jul 28 05:18:24 <ebassi>	Hussam: Volunteer work is not fungible — you cannot ask people to work on what you want and not what they want
Jul 28 05:18:30 <ebassi>	Oh, well
Jul 28 05:31:36 <bugbot>	normvcr@telus.net changed the Resolution on bug 769258 from NOTABUG to FIXED.
Jul 28 05:31:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:34:39 <bugbot>	ebassi@gmail.com changed the Resolution on bug 769258 from FIXED to NOTABUG.
Jul 28 05:34:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED NOTABUG, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 05:55:39 <bugbot>	normvcr@telus.net changed the Resolution on bug 769258 from NOTABUG to FIXED.
Jul 28 05:55:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769258 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Memory leak in [ gtk_file_chooser_dialog_new, gtk_dialog_run, gtk_widget_destroy ]
Jul 28 07:27:40 *	ChanServ sets mode +q on #gtk+ Company
Jul 28 07:27:40 *	ChanServ gives channel operator status to Company
Jul 28 08:45:42 <mclasen>	Company: your comment bug 769076 is unclear to me
Jul 28 08:45:43 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769076 gobject, normal, gtkdev, NEW , Fix warning: attempt to override closure->va_marshal with new marshal
Jul 28 08:45:53 <mclasen>	what are you referring to with "the code" ?
Jul 28 08:47:58 <mclasen>	oh, now I get it
Jul 28 09:23:39 <Company>	mclasen: My biggest issue with the code is that I'm not sure what the purpose of the marshaller is
Jul 28 09:24:04 <Company>	mclasen: ie if a marshaller may do extra work or if we expect it to be always the same generic piece of code
Jul 28 09:24:48 <mclasen>	its purpose is to marshal arguments
Jul 28 09:25:28 <Company>	yeah, but is something like the cairo_save/restore we do in GtkWidget::draw intended to be allowed?
Jul 28 09:27:25 <mclasen>	I think questions about intent and purpose are very often futile
Jul 28 09:27:35 <mclasen>	who could even answer that, and why does it matter ?
Jul 28 09:27:46 <Company>	because if it is allowed, then the fix you did would have fixed a real critical bug (because it'd bypass that save/restore)
Jul 28 09:28:19 <mclasen>	you mean the patch I attached to the bug ? or what fix ?
Jul 28 09:28:24 <Company>	and if that wasn't intended, then keeping the va marhsllers would be a good idea (because it improves performance in cases where people pass the default marshaller anyway)
Jul 28 09:28:29 <Company>	yeah, that patch
Jul 28 09:29:45 <mclasen>	one thing is clear: the va marshaller must be functionally equivalent to the marshaller
Jul 28 09:29:46 <Company>	also, it might be useful to write a testcase that checks marshallers get called
Jul 28 09:30:10 <mclasen>	if gobject somehow messes that up by using implicitly set va marshallers, then thats a bug
Jul 28 09:30:41 <Company>	one thing is not clear: Does the marshaller have to be functionally equivalent to the marshaller that glib-genmarshal would have generated?
Jul 28 09:57:06 <mclasen>	they commonly are, but I think that is not a strict requirement
Jul 28 09:57:42 <mclasen>	I would expect it to be documented if they aren't (as we do for ::draw)
Jul 28 10:07:34 <oholy>	mclasen, hey
Jul 28 10:07:47 <mclasen>	hi
Jul 28 10:07:48 <oholy>	mclasen, please see the following code https://paste.gnome.org/p86qvasrz and screencast http://webmshare.com/byzvv 
Jul 28 10:08:07 <oholy>	mclasen, the label has wrong size after changing visibility, is this duplicate of Bug 767076?
Jul 28 10:08:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767076 Widget: Other, normal, gtk-bugs, RESOLVED WONTFIX, GtkGrid strange behavior with GtkSizeGroup
Jul 28 10:08:17 <ipun>	hi does anyone know what gtk_tree_view_column_cell_get_position() signals it triggers? It is causing a recursive loop from our MeasureEvent listener
Jul 28 10:08:28 <oholy>	mclasen, we have this problem in g-c-c, see https://bugzilla.gnome.org/attachment.cgi?id=331967
Jul 28 10:08:45 <oholy>	mclasen, I am afraid that we don't want to add several GtkStacks to workaround this... isn't there another way?
Jul 28 10:08:49 <oholy>	feborges, ^
Jul 28 10:12:34 <pranavg189>	hi ! I am developing a search provider for gnome logs....how can I see the debug messages of my search provider module
Jul 28 10:12:48 <baedert>	journalctl?
Jul 28 10:13:33 <pranavg189>	I am outputting the debug messages using g_debug()...can I see it's messages in journalctl
Jul 28 10:14:18 <mclasen>	you can launch your search provider manually with G_MESSAGES_DEBUG=all from a terminal
Jul 28 10:14:54 <mclasen>	or you can prefix the commandline the service file with systemd-cat to redirect its output to the journal
Jul 28 10:15:53 <pranavg189>	ok..will try that...thanks
Jul 28 10:17:59 <jwendell>	hi folks, I'm using the GtkAssistent widget, and upon startup of my program I'm seeing: Gtk-CRITICAL **: gtk_assistant_set_page_has_padding: assertion 'child != NULL' failed
Jul 28 10:18:09 <jwendell>	I'm building it using glade
Jul 28 10:18:22 <jwendell>	is it something known?
Jul 28 10:18:58 <mclasen>	oholy: there's no other way around it that I'm aware of
Jul 28 10:19:45 <oholy>	mclasen: ok :-( thanks
Jul 28 10:22:13 <ericwill>	mclasen / Company can we get a comment for https://bugzilla.gnome.org/show_bug.cgi?id=768902
Jul 28 10:22:13 <bugbot>	Bug 768902: .General, major, gtk-bugs, NEW , Font too small when using gtk_widget_override_font()
Jul 28 10:22:49 <rishi>	jwendell:  Hard to say without looking at the code and/or XML, I guess.
Jul 28 10:23:49 <baedert>	ericwill: I didn't understand why using css only works for default/initial font size
Jul 28 10:24:04 <mclasen>	ericwill: "There is a font size problem" is not really very concrete, as a problem description
Jul 28 10:24:05 <Company>	ericwill: I think we have patches that change things to multiply with dpi somewhere
Jul 28 10:24:18 <mclasen>	and the the testcase is using override_font
Jul 28 10:24:37 <Company>	ericwill: maybe we need to do that too in the override_font case (actually in the assign vfunc of the font css property)
Jul 28 10:25:06 <baedert>	mclasen: What else would it use?
Jul 28 10:25:09 *	Company no idea, hasn't looked at override_font() in ages
Jul 28 10:25:17 <ericwill>	mclasen Company let me clarify: the change in 3.21.x that calculates font sizes returns a significantly smaller size using the new DPI system
Jul 28 10:25:42 <mclasen>	here is what the docs say: 3.16: This function is not useful in the context of CSS-based
Jul 28 10:25:45 <mclasen>	 *   rendering. If you wish to change the font a widget uses to render its text
Jul 28 10:25:46 <mclasen>	 *   you should use a custom CSS style, through an application-specific
Jul 28 10:25:48 <mclasen>	 *   #GtkStyleProvider and a CSS style class.
Jul 28 10:26:17 <baedert>	I know, but given the bug title, of course it uses override_font
Jul 28 10:26:38 <ebassi>	I thought the issue in Eclipse was that setting the font-size in CSS didn't work
Jul 28 10:26:40 <Company>	ericwill: so we need to do the same math (or the reverse version) in the override_font() case it seems to me?
Jul 28 10:27:14 <ericwill>	Company most likely, using CSS uses the correct sizing but it introduces other issues that would require a lot of work for us
Jul 28 10:27:16 <mclasen>	baedert: but the description of the bug talks about 3.21 changes unrelated to override_font
Jul 28 10:27:25 <ericwill>	it would be easier to continue to use override_font
Jul 28 10:27:33 <mclasen>	as I said, not crisp enough of a bug to incite action
Jul 28 10:29:46 <jwendell>	rishi, I see, thanks. I'll ask for help when the code is on github then :)
Jul 28 10:31:42 <ericwill>	Company mclasen maybe the bug title was a bit vague
Jul 28 10:32:26 <mclasen>	looks like Company has an idea for how to keep override_font limping along a bit better
Jul 28 10:32:49 <ericwill>	okay
Jul 28 10:32:58 <ericwill>	our investigations lead us to gtkcssenumvalue
Jul 28 10:33:12 <Company>	ericwill: I think something like https://paste.fedoraproject.org/396880/14697163/ might work
Jul 28 10:33:13 <ericwill>	where the font size returned by font_size * get_dpi() / 72.0 are too small
Jul 28 10:33:39 <ericwill>	Company yeah that looks promising
Jul 28 10:33:52 <Company>	ericwill: didn't compile that and i might have done the order wrong - could you try it?
Jul 28 10:34:29 <ericwill>	will do
Jul 28 10:34:43 <Company>	the issue is probably that we report font sizes in PX inside css while the pango code uses PT
Jul 28 10:35:11 <Company>	so making sure we transform between them everywhere is an ongoing task
Jul 28 10:38:26 <Company>	ebassi, mclasen: Do we need to talk about the versioning results from the hackfest in some GTK guadec talk?
Jul 28 10:38:54 <mclasen>	we should, probably
Jul 28 10:39:08 <mclasen>	given that I'm talk-less this time (yay!), it'll have to be yours
Jul 28 10:39:41 <Company>	yeah, i guess i'll do that
Jul 28 10:40:11 <Company>	wish there was a schedule so I knew how much time was between my talk and the GTK bof
Jul 28 10:40:21 <Company>	so people have enough time to think about things
Jul 28 10:57:05 <bugbot>	New gtk+ bug 769275 filed by bugs@londonlight.org.
Jul 28 10:57:05 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769275 .General, normal, gtk-bugs, NEW , Add "Open containing folder" option to File Open window
Jul 28 11:14:55 <pochu>	can I have a quick ack for trivial patches? :) https://paste.debian.net/785795/ http://paste.debian.net/785796/
Jul 28 11:15:00 <pochu>	Company: ^
Jul 28 11:15:06 <ericwill>	Company the patch is great except for the order
Jul 28 11:15:12 <ericwill>	it should 96.0 / 72.0
Jul 28 11:15:17 <ericwill>	fixes our issue
Jul 28 11:15:20 <ericwill>	*should be
Jul 28 11:15:44 <baedert>	how could you possbily replace one lime with two limes!
Jul 28 11:16:18 <Company>	pochu: thx for looking at the testsuite! Patches look great
Jul 28 11:17:26 <pochu>	Company: thanks :) both pushed
Jul 28 11:18:24 <Company>	ericwill: which one should be switched? assign or query?
Jul 28 11:18:36 <ericwill>	Company I switched both of them
Jul 28 11:20:31 <Company>	that seems like an awful lot of multiplications...
Jul 28 11:21:01 <Company>	actually, the query func is run everywhere all the time?!
Jul 28 11:23:23 <ericwill>	Company this is the working patch: https://paste.fedoraproject.org/396921/69719353/
Jul 28 11:23:26 <ericwill>	just swapped the numbers
Jul 28 11:24:28 <Company>	ericwill: line 18 of that patch should make all text everywhere 1.3x larger than before
Jul 28 11:24:32 <Company>	I think
Jul 28 11:24:41 <mclasen>	isn't it silly to stuff 100 into number_value_get only to scale the value afterwards ?
Jul 28 11:24:59 <Company>	mclasen: number_value_get() is a stupid function
Jul 28 11:25:19 <Company>	mclasen: because it takes the value for 100% as the 2nd argument - even for numbers that don't support percentages
Jul 28 11:25:33 <ericwill>	Company ah so maybe change it only for the assign function?
Jul 28 11:26:08 <ericwill>	let me try that
Jul 28 11:26:11 <Company>	ericwill: that seems wrong too, becauise then assigning multiplies but querying doesn't...
Jul 28 11:26:46 <Company>	ericwill: but it seems we already convert when querying the "font" property - just not when querying font-size
Jul 28 11:28:21 <Company>	ericwill: I think it might be useful to move the conversion
Jul 28 11:32:50 <Company>	ericwill: can you try https://paste.fedoraproject.org/396929/97199451/ ?
Jul 28 11:34:39 <ericwill>	Company sure
Jul 28 11:35:01 <Company>	without the first patch ofc
Jul 28 11:40:56 <ericwill>	Company yeah that patch works
Jul 28 11:40:58 <ericwill>	fixes the bug
Jul 28 11:41:15 <Company>	then let's go with that one
Jul 28 11:41:56 <ericwill>	Company okay, will you commit it?
Jul 28 11:42:06 <Company>	i'm about to
Jul 28 11:42:49 <ericwill>	awesome, thanks for your help
Jul 28 11:56:21 <bugbot>	lrn1986@gmail.com changed the Status on bug 769126 from NEW --- to RESOLVED FIXED.
Jul 28 11:56:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769126 Backend: Win32, normal, gtk-win32-maint, RESOLVED FIXED, Can't type astral plane characters into a GtkEntry using the Windows 10 touch keyboard
Jul 28 13:27:40 <bugbot>	mclasen@redhat.com changed the Status on bug 768902 from NEW --- to RESOLVED FIXED.
Jul 28 13:27:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768902 .General, major, gtk-bugs, RESOLVED FIXED, Font too small when using gtk_widget_override_font()
Jul 28 14:18:16 <bugbot>	New glib bug 769284 filed by msanchez@gnome.org.
Jul 28 14:18:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769284 general, normal, gtkdev, NEW , Don't enable libmount by default for now
Jul 28 14:29:57 <bugbot>	msanchez@gnome.org changed the Status on bug 769284 from NEW --- to RESOLVED FIXED.
Jul 28 14:29:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769284 general, normal, gtkdev, RESOLVED FIXED, Don't enable libmount by default for now
Jul 28 14:57:12 <tonyctl>	hey I'm having an issue where I call gtk_widget_show_all() on my widget and it doesn't get mapped
Jul 28 14:57:22 <tonyctl>	can anyone give me some tips on how to debug it?
Jul 28 14:57:50 <baedert>	... is the parent of the widget mapped?
Jul 28 14:58:44 <tonyctl>	it's not showing up on the screen
Jul 28 14:59:26 <baedert>	check the mapped status and allocation of the widget and all parent widgets with the inspector
Jul 28 14:59:45 <tonyctl>	I checked mapped status and it says it's mapped
Jul 28 15:00:49 <tonyctl>	I never get a createnotify from the x server
Jul 28 15:04:04 <swilmet>	tonyctl: gtk_widget_set_no_show_all() ?
Jul 28 15:07:14 <tonyctl>	swilmet: that didn't seem to affect it
Jul 28 15:07:55 <tonyctl>	I'm working on a bug in a complicated application framework called cef so I think it might be a threading issue
Jul 28 15:07:59 <swilmet>	tonyctl: I meant, if it's called somewhere, you should either remove it or call gtk_widget_show()
Jul 28 15:09:08 <swilmet>	tonyctl: gtk functions should be called only from the main thread
Jul 28 15:10:19 <tonyctl>	yeah I looked into that and it seems like everything is running on the main thread
Jul 28 15:11:34 <tonyctl>	also maybe like 1/20 times it works properly
Jul 28 15:12:14 <tonyctl>	here is the bug I filed in cef: https://bitbucket.org/chromiumembedded/cef/issues/1946/linux-cefclient-example-hangs-when-opening
Jul 28 15:56:39 <iulianradu>	there's no way to remove a single item from a GtkListBox?
Jul 28 15:56:56 <iulianradu>	Without binding a model to it
Jul 28 15:57:04 <baedert>	there's always gtk_container_remove
Jul 28 15:57:20 <iulianradu>	Oh, right
Jul 28 16:19:56 <tonyctl>	so cef has some calls that interact with the xwindow of the gtk widget
Jul 28 16:20:17 <tonyctl>	if I set xlib to make all its calls to be synchronous, I don't get that bug
Jul 28 16:21:02 <tonyctl>	I wonder if there was some bad interactions between gtk and xlib
**** ENDING LOGGING AT Thu Jul 28 16:34:33 2016

**** BEGIN LOGGING AT Thu Jul 28 16:34:59 2016

Jul 28 16:34:59 *	Now talking on #gtk+
Jul 28 16:34:59 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 28 16:34:59 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 28 16:39:19 <rudrab>	Hi Friends, Is it possible to add a MenuButton to a treeview? which property should it be in corresponding ListStore?
Jul 28 16:39:55 <halfline>	tonyctl: missing XInitThreads() call ?
Jul 28 16:40:38 <tonyctl>	halfline: a grep for XInitThreads turns up nothing
Jul 28 16:40:44 <tonyctl>	when should that be called in relation to gtk?
Jul 28 16:40:49 <halfline>	before gtk_init
Jul 28 16:46:21 <tonyctl>	halfline: that doesn't seem to help the problem
Jul 28 16:46:30 <halfline>	okay just a stab in the dark
Jul 28 16:46:32 <tonyctl>	but it does seem like a mistake not to call it
Jul 28 16:47:02 <tonyctl>	I think maybe they are missing a flush somewhere
Jul 28 16:47:05 <halfline>	honestly probably a better bet to move your X calls to the main thread
Jul 28 16:47:18 <halfline>	if possible
Jul 28 16:47:54 <tonyctl>	I haven't checked if all the X calls happen on the main thread, but that would probably be my next move
Jul 28 16:48:57 <halfline>	oh guess i misunderstood you
Jul 28 16:53:12 <bugbot>	New gtk+ bug 769287 filed by lists.ban@herbesfolles.org.
Jul 28 16:53:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769287 Widget: Other, normal, gtk-bugs, NEW , GtkMenuToolButton:show-menu is emitted twice and breaks dynamic menus
Jul 28 17:50:04 <rudrab>	anyone please?
Jul 28 21:02:32 <hugomg>	Hello there! I'm working on getting rid of deprecation warnings from an existing gtk program and right now the most common complaint  GTK has is the "use-stock" property in GtkButton
Jul 28 21:03:53 <hugomg>	However, I can't figure out how I'm supposed to change my code to get rid of this warning. The current system with "stock items" puts both a nice icon and a translated label in the button. Am I supposed to try to replicate this by hand using images (with appropriate "icon-name") and a separate label?
Jul 28 21:04:45 <hugomg>	Or should I get rid of one of  the two (the label or the icon)? I heard somewhere that GTK is discouraging developers from putting icons in buttons now.
Jul 28 21:28:08 <mclasen>	hugomg: if you want to keep both icon and label  in buttons without using deprecated api, use gtk_button_set_label and gtk_button_set_image
Jul 28 21:28:44 <hugomg>	the part that confuses me the most is whether I even should
Jul 28 21:29:02 <hugomg>	because in the new api they separated the icon and label, which used to be defined together
Jul 28 21:29:58 <mclasen>	buttons with icons and labels have certainly become unfashionable 
Jul 28 21:30:12 <hugomg>	I mean, whoever originally coded those button only made it have both image and label because thats what "use-stock" did.
Jul 28 21:30:25 <mclasen>	right
Jul 28 21:31:41 <mclasen>	in that case, just using gtk_button_new_with_label will give you a button with a label
Jul 28 21:32:01 <mclasen>	and gtk_button_from_from_icon_name will give you a button with an icon
Jul 28 21:32:42 <hugomg>	if I use a label I need to call some function to translate it don't I?
Jul 28 21:32:50 <hugomg>	The "use-stock" used to do that as well
Jul 28 21:32:56 <mclasen>	yes
Jul 28 21:34:16 <mclasen>	if your application is set up for translations with gettext, then just using _("My label") is enough
Jul 28 21:34:56 <hugomg>	the application is in Lua so I'll need to figure out what is its equivalent to the "_" bit
Jul 28 21:35:15 <hugomg>	but in any case, are there "default" labels for things like "Open" , "Close" and so on?
Jul 28 21:35:26 <hugomg>	and where would I find a list, if so?
Jul 28 21:36:44 <GvP>	hello I had a question regarding the theme for rhythmbox, I believe that it's hard to differentiate whether the shuffle and repeat buttons are selected using the visible indicator
Jul 28 21:37:25 <GvP>	and was thinking that there may be a way to display them better such as inverting or highlighting more
Jul 28 21:37:25 <mclasen>	well, thats what the stock system is
Jul 29 05:43:47 <nacho>	ebassi, hey
Jul 29 05:44:05 <nacho>	ebassi, any chance to release json-glib? :)
Jul 29 05:48:28 <ebassi>	nacho: Ah, yes. Will do it now.
Jul 29 05:49:54 <nacho>	ebassi, thanks
Jul 29 06:21:21 *	ChanServ sets mode +q on #gtk+ Company
Jul 29 06:21:21 *	ChanServ gives channel operator status to Company
Jul 29 08:04:47 <nicknameitis>	just so if anyone is interested (i removed signal and throtling in last minute, but they will be back soon), data binding poc has now much more improved. there is a working demo and tutorial (in demo) so it is really easy to see what it is about and how it does it if you simply check tutorial https://github.com/therebedragons101/data_binding_poc_vala
Jul 29 08:54:28 <visarion>	Weird problem for me. Whatever I do, even if I view the gtk3-demo, I can't see a Spinner using jhbuild 
Jul 29 09:17:51 <The_gull>	visarion: `jhbuild run gsettings set org.gnome.desktop.interface enable-animations true` ?
Jul 29 09:20:05 <visarion>	The_gull: I ran that command, but still I can't view the Spinner in gt3-demo
Jul 29 09:20:35 <visarion>	gtk3-demo *
Jul 29 09:21:22 <ebassi>	visarion: Are you running GNOME inside a VM?
Jul 29 09:21:32 <visarion>	ebassi: No
Jul 29 09:22:03 <ebassi>	visarion: Which desktop environment are you using to build gtk3-demo under jhbuild?
Jul 29 09:22:15 <visarion>	fedora 24
Jul 29 09:22:24 <ebassi>	Running GNOME?
Jul 29 09:22:28 <visarion>	yeah
Jul 29 09:22:36 <ebassi>	Mmh
Jul 29 09:22:52 <The_gull>	visarion: a custom theme ?
Jul 29 09:23:07 <visarion>	the spinner stopped showing while still on fedora23, I don't know why
Jul 29 09:23:18 <visarion>	never saw the spinner after that, under jhbuild
Jul 29 09:23:28 <visarion>	no custom theme
Jul 29 09:24:27 <visarion>	it's not a big problem for me, as I can test what I code regarding the Spinner outside of jhbuild
Jul 29 09:24:52 <baedert>	do you have adwaita-icon-theme built?
Jul 29 09:24:53 <ebassi>	visarion: What does `glxinfo | grep "renderer string"` say?
Jul 29 09:25:37 <visarion>	OpenGL renderer string: Mesa DRI Intel(R) HD Graphics 5500 (Broadwell GT2) 
Jul 29 09:26:12 <ebassi>	Okay, so the system is not disabling animations because it cannot keep up
Jul 29 09:26:30 <ebassi>	I'm out of ideas
Jul 29 09:26:45 <ebassi>	And I cannot reproduce, here on Fedora 24 and Intel
Jul 29 09:26:46 <baedert>	icon theme, svg loader?
Jul 29 09:28:49 <visarion>	baedert: I don't think I played with any of that
Jul 29 09:29:05 <visarion>	so they are default I guess
Jul 29 09:30:39 <baedert>	the default was gnome-icon-theme once and then switched to adwaita-icon-theme
Jul 29 11:10:24 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Jul 29 11:10:24 2016

**** BEGIN LOGGING AT Fri Jul 29 11:10:38 2016

Jul 29 11:10:38 *	Now talking on #gtk+
Jul 29 11:10:38 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 29 11:10:38 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 29 11:45:38 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Jul 29 11:45:38 2016

**** BEGIN LOGGING AT Fri Jul 29 11:45:52 2016

Jul 29 11:45:52 *	Now talking on #gtk+
Jul 29 11:45:52 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Jul 29 11:45:52 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Jul 29 11:46:57 <garnacho_>	the double emission is unfortunate though
Jul 29 11:51:27 <jmd>	In gtk3 I continually get lots of warnings like:
Jul 29 11:51:31 <jmd>	 Gtk-WARNING **: Drawing a gadget with negative dimensions. Did you forget to allocate a size? (node buttonbox owner PsppireVButtonBox)
Jul 29 11:52:14 <baedert>	missing chain up in size allocate?
Jul 29 11:53:42 <jmd>	baedert: Could be ...
Jul 29 12:45:10 <mgorse>	mclasen: I'm not sure if you're the person to ask, but do you know if anyone has looked at bgo#768738? I can't tell because the bug isn't public
Jul 29 12:45:56 <mclasen>	I asked Company to look at it, if thats the one I'm thinking of
Jul 29 12:46:34 <Company>	it isn't
Jul 29 12:46:43 <Company>	because i'm not authorized on that one :)
Jul 29 12:46:56 <mgorse>	Okay. Patch looks okay to me, fwiw. It's against gdk-pixbuf
Jul 29 12:47:05 <mclasen>	try now
Jul 29 12:47:36 <mclasen>	we had some existential questions around security of gdk-pixbuf
Jul 29 12:47:51 <mclasen>	and I think thats where we left things the last time we talked about it
Jul 29 12:49:17 <Company>	yeah
Jul 29 12:49:30 <Company>	every time another security bug rolls in about gdk-pixbuf I get existential
Jul 29 12:49:49 <mgorse>	Yeah, there have been quite a few of them
Jul 29 12:49:58 <Company>	plugging holes in swiss cheese doesn't feel very rewarding
Jul 29 13:54:38 <throwaway849>	does anyone know how to have a gtk program run when linux starts?
Jul 29 14:02:40 <lufimtse>	hullo folks. I have an async function that has a callback. I need to turn that into a syncronous call like "result = my_async_function()". Is there a good way of doing it? (I've looked at GTask, seems kinda complicated? anyone has a snippet?)
Jul 29 14:03:01 <baedert>	GTask is how you make something async, not sync
Jul 29 14:03:07 <lufimtse>	I see
Jul 29 14:03:13 <lufimtse>	any good method to go the other way?
Jul 29 14:03:30 <baedert>	you *could* create a new mainloop, but... why do you want to do that?
Jul 29 14:03:53 <lufimtse>	I"m a library developer, our call is syncronous, but underlying call is async
Jul 29 14:04:25 <lufimtse>	spin lock?
Jul 29 14:04:28 <baedert>	that's kind of useless, that sync call might block even undefined amount of time...
Jul 29 14:04:39 <baedert>	yes, essentially
Jul 29 14:04:46 <lufimtse>	it runs in it's own thread, so I guess... 
Jul 29 14:04:56 <lufimtse>	in it's own async thread
Jul 29 14:05:08 <lufimtse>	like an async thread calling another async thread...
Jul 29 14:05:34 <lufimtse>	baedert, do you know of any good spin lock mechanism, does glib have something build in or just regular pthreads?
Jul 29 14:08:57 <baedert>	I have only seen that being done in https://git.gnome.org/browse/librest/tree/rest/rest-proxy-call.c?h=librest-0-7#n1403
Jul 29 14:25:29 <lufimtse>	baedert, I guess go with GMutex instead?
Jul 29 14:25:43 <lufimtse>	considering it'll be run in the context of a single thread
Jul 29 14:26:25 <tonyctl>	hey how do I get a gtk window from a gtk widget?
Jul 29 14:27:15 <baedert>	gtk_widget_get_toplevel
Jul 29 14:27:52 <tonyctl>	oh ok then you can cast it to gtk window?
Jul 29 14:28:11 <baedert>	first check if it even is a GtkWindow
Jul 29 17:25:27 <tonyctl>	my gtk window is telling me it doesn't have focus when I know it does
Jul 29 20:15:02 <hotcfoch>	 is there a way to obtain the list of callbacks which were connected to a gobject?
Jul 30 03:57:27 <baedert>	Eh, isn't there always only one GdkDisplay?
Jul 30 05:31:14 <ernestask>	hey, garnacho_, will we get to see the fix for bug 764060 backported to 3.20?
Jul 30 05:31:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764060 Widget: GtkPopover, normal, gtk-bugs, RESOLVED FIXED, opening a second nautilus while a delete operation is in progress results in a broken window
Jul 30 05:32:20 <garnacho_>	oops, I thought it was
Jul 30 05:35:15 <garnacho_>	ernestask: it's now in gtk-3-20
Jul 30 05:35:32 <ernestask>	awesome, thanks, garnacho_
Jul 30 06:10:14 <LRN>	which version of gtk does the development version of gimp use?
Jul 30 06:12:04 <baedert>	it requires 2.24
Jul 30 06:21:09 <rudrab>	Hi, may someone kindly have a look at http://stackoverflow.com/questions/38672761/emmit-signal-when-a-cell-renderer-changes-without-editing
Jul 30 06:23:00 <bugbot>	New gtk+ bug 769326 filed by me@hussam.eu.org.
Jul 30 06:23:01 <bugbot>	Trace: gtk_scale_get_layout, gtk_scale_accessible_get_description, object_get_property, g_closure_invoke, signal_emit_unlocked_R (Possibly not interesting)
Jul 30 06:23:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, normal, gtk-bugs, NEW , gnome-control-center universal panel crashes with gtk-3-20 branch
Jul 30 06:23:27 <Hussam>	I also linked to the gtk+ checkin that introduced the crash.
Jul 30 06:26:33 *	baedert hides
Jul 30 07:06:29 <rudrab>	anyone please?
Jul 30 07:07:27 <rudrab>	basically I am trying to place a combobox inside a cell
Jul 30 07:12:26 <The_gull>	rudrab: inside a GtkTreeView, you mean ?
Jul 30 07:12:42 <rudrab>	The_gull:yes
Jul 30 07:13:47 <The_gull>	rudrab: there’s GtkCellRendererCombo
Jul 30 07:14:42 <rudrab>	The_gull: Thats what I am trying to do. But I am trying to only get the signal on click, but GtkCellRendererCombo is also replacing the string
Jul 30 07:15:08 <iulianradu>	I'd like to have a GSequence or a GList as a property. Do I need to make register that as a boxed type first?
Jul 30 07:15:30 <rudrab>	The_gull: I am following http://python-gtk-3-tutorial.readthedocs.io/en/latest/cellrenderers.html#cellrenderercombo
Jul 30 07:16:25 <rudrab>	while I just want to get the on_combo_changed activated, I dont want to replace the string
Jul 30 07:18:33 <The_gull>	rudrab: what are you trying to archive ? a combobox is something that let the user select something between multiple choice, is that really your need ?
Jul 30 07:20:40 <rudrab>	The_gull: yes. I just need to select something, rest will be done on the function
Jul 30 07:21:05 <rudrab>	But, as in the example, the choice is replaced in the string
Jul 30 07:21:11 <rudrab>	which I dont want
Jul 30 07:26:42 <The_gull>	rudrab: how do you want the user to know about the currently selected option ?
Jul 30 07:28:06 <rudrab>	The_gull: user will just click on the combobox option, and no option is selected by default
Jul 30 07:31:52 <The_gull>	rudrab: I’d suggest using a GtkCellRendererCombo with, as a first choice, a « -- Select your option -- » entry ; else, you’re on your own, because what you want is not a standard GtkCellRenederer, and such a design not even exists as a standard GtkWidget…
Jul 30 08:18:23 *	ChanServ sets mode +q on #gtk+ Company
Jul 30 08:18:23 *	ChanServ gives channel operator status to Company
Jul 30 08:30:27 <rudrab>	The_gull: ping
Jul 30 11:07:06 <nacho_>	ebassi, hey
Jul 30 11:07:20 <nacho_>	ebassi, fyi https://github.com/wingtk/gtk-win32/commit/db06b1960d1d04be9b8284f46ccfc9b43f979757
Jul 30 13:16:50 <Kostic>	Hi everyone. Where can I find the css with which I can turn GtkButtons to blue and red (as in gnome-screenshot and in gnome-sound-recorder)?
Jul 30 13:17:35 <Kostic>	Actually, this one is more for #gnome.
Jul 30 13:18:56 <borschty>	for red, add the "destructive-action" style class to a button
Jul 30 13:19:18 <Kostic>	Really? That's... Simple. :)
Jul 30 13:20:01 <borschty>	and blue is "suggested-action"
Jul 30 13:20:24 <borschty>	(of course the colors you will get depend on the theme)
Jul 30 13:20:32 <baedert>	https://developer.gnome.org/Buttons/
Jul 30 13:29:41 <baedert>	attente: hey, have you checked menubars in master? http://i.imgur.com/suIveVK.png
Jul 30 13:32:11 <Kostic>	Ok, how do I translate 'context = gtk_widget_get_style_context (button); gtk_style_context_add_class (context, "image-button");' to Python3? I've tried 'context = button.get_style_context(); button.add_class(context, "suggested-action")' but that obviously doesn't work.
Jul 30 13:35:10 <ernestask>	shouldn’t it be context.add_class()?
Jul 30 13:36:31 <Kostic>	Yes. You are right. :)
Jul 30 13:36:46 <Kostic>	Thanks borschty, baedert and ernestask!
Jul 30 13:38:08 <jmd>	It seems that if there is no dbus daemon running, g_spawn_async fails, yet returns TRUE.  Is this a bug?
Jul 30 22:52:39 <Rhetorical>	I'm having problems with a dark gtk 3.0 theme and nm-applet. The theme has applied to everything except the background of text boxes (e.g., the whole right-click menu for the icon, the dropdown lists, the connection information box, etc.), so I've ended up with light text on the default light background. I've done some googling, but not had any luck. Where
Jul 30 22:52:39 <Rhetorical>	would be a good place to start looking for a solution?
Jul 30 23:36:07 <Company>	Rhetorical: the easiest solution may be restarting nm-applet and hoping it's a bug resulting from switching the theme that goes away with the restart
Jul 31 05:53:52 <The_gull>	Rhetorical: open a bug against the theme..?
Jul 31 08:19:32 <baedert>	jadahl: hey, are menus under wayland with gtk master supposed to be correctly positioned or does the new positioning need a wayland impl first?
Jul 31 09:29:22 <jadahl>	baedert: the implementation is there, the protocol it depneds on is not yet
Jul 31 09:29:34 <jadahl>	there as in on a branch, not on master
Jul 31 09:37:31 <baedert>	jadahl: ah ok thanks
Jul 31 11:07:42 <The_gull>	I have warnings trying to unblock signals that are not blocked ; how can I check if a signal is blocked or not ?
Jul 31 11:33:27 <ElementW>	Hi, is it possible to change the window's shadow color/opacity when using a CSD-enabling HeaderBar at runtime ? I've tried the ".window-frame { box-shadow: none; }" trick, to no avail
Jul 31 12:10:55 <fmuellner>	ElementW: it depends on the gtk+ version you are using, "decoration { box-shadow: none; }" works here (with 3.20/master)
Jul 31 12:13:26 <ElementW>	Oh nice, it works. Thanks for the tip fmuellner
Jul 31 13:33:34 <ElementW>	Is there a way to prevent GTK3 from shading widgets when the windows is unfocused ?
Jul 31 13:52:36 <arun>	I have a treemodel that I would like to use with entrycompletion, but it seems that only the root nodes are used for completion. Is there a way to use all leaves in the tree for this?
Jul 31 22:05:10 <raymod2>	Is it feasible to compile a GTK application to run on both 32-bit and 64-bit Linux?
Jul 31 22:06:56 <raymod2>	When I compile the GTK application in a 64-bit Fedora VM it won't run on a 32-bit Fedora VM (which makes sense).  But also when I compile the GTK application in a 32-bit Fedora VM it won't ron on a 64-bit VM.  It complains about missing shared libraries (ie. libgtk-3.so.0).
Jul 31 22:09:17 <TingPing>	raymod2, just make two packages..
Jul 31 22:11:19 <raymod2>	I guess that is an option.  I don't think my application benefits from 64-bit, though, so I would rather distribute just one package.  That's my strategy on Windows.
Jul 31 22:12:17 <TingPing>	some distros support multilib, but that is generally only for proprietary things that can't be rebuilt
Jul 31 22:12:54 <raymod2>	OSX doesn't have this problem because they are 64-bit only.
Jul 31 23:34:17 <benwaffle>	OSX has multilib
Jul 31 23:34:35 <benwaffle>	multiple architectures in a single file
Aug 01 00:25:00 <raymod2>	benwaffle - yeah that's for older OSX versions - it's been 64-bit only for awhile
Aug 01 00:27:00 <raymod2>	OSX 10.7 (Lion) released in Oct 2010 dropped support for 32-bit processors
Aug 01 00:27:44 <raymod2>	ooops (July 2011)
Aug 01 00:52:43 <grawity>	distributing "only 32-bit" is going to be a pain in the ass for many people, too
Aug 01 00:53:05 <grawity>	esp. on distros like Arch, where the /huge/ majority is 64-bit
Aug 01 05:17:49 <ofourdan>	q
Aug 01 05:48:46 <iulianradu>	baedert: Hi! I'd like to retrieve some data from some widgets inside a dialog when the dialog is being destroyed. Where should I do that?
Aug 01 05:51:17 <baedert>	umm delete-event? dunno
Aug 01 05:55:54 <iulianradu>	baedert: Actually, I was hoping to override/connect to a signal of a child widget of that dialog (which is not a toplevel window) and save that from that widget when that widget is destroyed.
Aug 01 05:57:20 <iulianradu>	save data from it's children*
Aug 01 05:57:42 <iulianradu>	I tried overriding destroy () for that widget but sometimes it's children are destroyed before I can call get_text () and such
Aug 01 05:58:21 <baedert>	get_text on the toplevel?
Aug 01 06:02:49 <ebassi>	iulianradu: You cannot really know the state of the widgets during destruction
Aug 01 06:03:10 <iulianradu>	baedert: On a entry inside the widget whose signal I override.
Aug 01 06:03:50 <iulianradu>	ebassi: Is there a moment when I know their state before destruction?
Aug 01 06:03:58 <ebassi>	iulianradu: What kind of data are you trying to get, and for what purpose?
Aug 01 06:04:41 <ebassi>	iulianradu: In general, you don't gather data when you get to the destruction phase; you update your model whenever the widgets state change
Aug 01 06:05:15 <ebassi>	https://developer.gnome.org/gtk3/unstable/GtkWidget.html#GtkWidget-destroy — as per doc :-)
Aug 01 06:05:47 <iulianradu>	ebassi: Title/uri of a bookmark. I was hoping not to save everything to a file each time I change the text inside an entry
Aug 01 06:06:30 <baedert>	you can save on confirm and/or delete-event of the toplevel I guess?
Aug 01 06:07:06 <ebassi>	iulianradu: You can install a timeout and coalesce multiple changes
Aug 01 06:07:52 <ebassi>	iulianradu: But, in general, you should save to a file when the dialog is closed
Aug 01 06:08:09 <ebassi>	(assuming it's a GtkDialog, then it's a simple case of connecting to the "response" signal)
Aug 01 06:08:34 <ebassi>	iulianradu: You can save to file on destroy; what you cannot do is query the widgets during destruction
Aug 01 06:09:47 <ebassi>	iulianradu: Basically, you update a bunch of stored strings every time the GtkEntry changes; then, on the dialog's destruction you save those strings to a file — or, better yet, you queue an idle that saves to a file
Aug 01 06:09:51 <iulianradu>	baedert, ebassi: I'm also using my widget (a Grid) in a popover. I was hoping to save everything when the grid is destroyed, not it's toplevel
Aug 01 06:09:54 <ebassi>	to avoid blocking the widget destruction
Aug 01 06:10:29 <ebassi>	Or queue a GTask
Aug 01 06:10:35 <ebassi>	(even better)
Aug 01 06:12:13 <iulianradu>	ebassi: That would work
Aug 01 06:12:24 <ebassi>	If you want to get fancy, you could create a small object that holds the title and uri of a bookmark as two properties, and use a property binding to keep those two properties in sync with the GtkEntry:text one
Aug 01 06:12:53 <ebassi>	Then, when the grid gets destroyed, you pass the object to a GTask that saves the contents of the object into a file
Aug 01 06:13:53 <iulianradu>	ebassi: Oh! That's great! I already have the object
Aug 01 06:14:32 <iulianradu>	baedert, ebassi: Thanks for help!
Aug 01 06:20:29 <ebassi>	iulianradu: np
Aug 01 06:30:36 <jaeckel>	lo
Aug 01 06:34:57 <jaeckel>	I'm using GIOChannel from glib 2.44.1 to read data from a serial port, we just found out that if the serial device outputs a string that ends in ",B\r" the GIO channel seems to eat up the 
Aug 01 06:35:44 <baedert>	the suspense is killing me
Aug 01 06:35:53 <jaeckel>	",B" and it was never seen again... and it happens always... I roughly searched for it, but couldn't find any hint, is that familiar to someone else?
Aug 01 06:36:06 <jaeckel>	sorry for the accidental error in between :D
Aug 01 06:36:12 <jaeckel>	s/error/enter
Aug 01 06:37:13 <jaeckel>	and sorry for the bad grammar...
Aug 01 06:46:34 <mceier>	I assume that you're checking serial device output, by printing it on the console: \r is control code that means to return to the begining of line - if you're outputting ",B\r" to console, anything that follows will overwrite ",B". 
Aug 01 07:00:09 <jaeckel>	well, but that doesn't explain why it does that only for ",B" if I have ",[ACD]" it works fine...
Aug 01 07:15:45 <jaeckel>	what is also weird is that if I use g_io_channel_set_line_term(data_channel, "\r", -1); I receive nothing, if I add "\n" there I receive something... I also do g_io_channel_set_encoding(data_channel, NULL, NULL); ...
Aug 01 07:16:39 <jaeckel>	and just to make it clear, yes the serial device sends \r(0x0d) as line terminator
Aug 01 07:54:21 <jaeckel>	okay, the serial port has the ICRNL option set which explains the \r to \n translation
Aug 01 07:59:54 <jaeckel>	and ICANON
Aug 01 07:59:59 <jaeckel>	sorry for bothering you
Aug 01 08:02:34 <rudrab>	Hi, how I can add a row index to a treeview? I am currently doing that a bit artificially as https://paste.gnome.org/pamp65exv
Aug 01 08:02:49 <rudrab>	But this is giving more problem then solutions
Aug 01 08:07:23 <jaeckel>	thx for your help btw
Aug 01 08:07:24 <jaeckel>	bye
Aug 01 08:18:06 <garnacho>	rudrab: sounds like an usecase for Gtk.TreeViewColumn's set_cell_data_func()
Aug 01 08:30:54 <LRN>	what's the vala equivalent of #ifdef G_OS_WIN32 ?
Aug 01 08:32:51 <rudrab>	garnacho: thanks, but the problem is to get the row index itself. When I am editing, I can get the row number from get_selected_rows().get_indices(), but when inserting a new line(like opening from a file), how I will get the row number?
Aug 01 08:41:33 <garnacho>	rudrab: the cell data func is run to set up the cell renderer before doing anything involved with any given row. In the callback you are given the current iter that's being set up, if you pull the index from there and set it as the cell renderer text, you get a self-numbering column/renderer
Aug 01 08:41:41 <garnacho>	rudrab: see https://developer.gnome.org/gtk3/stable/GtkTreeViewColumn.html#GtkTreeCellDataFunc
Aug 01 08:54:59 <mclasen>	baedert: what commit did you mean in bug 769326 ?
Aug 01 08:55:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, critical, gtk-bugs, NEW , gnome-control-center universal panel crashes with gtk-3-20 branch
Aug 01 08:56:00 <bugbot>	mclasen@redhat.com changed the Status on bug 769194 from NEW --- to RESOLVED WONTFIX.
Aug 01 08:56:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769194 Themes, enhancement, gtk-bugs, RESOLVED WONTFIX, Adwaita: proof of concept of a red variant
Aug 01 09:17:31 <bugbot>	mclasen@redhat.com changed the Status on bug 769162 from NEW --- to RESOLVED FIXED.
Aug 01 09:17:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769162 .General, normal, gtk-bugs, RESOLVED FIXED, GtkTable: compute_expand buggy
Aug 01 09:26:29 <baedert>	mclasen: grml
Aug 01 09:27:02 <baedert>	mclasen: 38f71172f89d4f80a5d852a7b822bb944ba82934
Aug 01 09:28:46 <mclasen>	thanks'
Aug 01 11:08:27 <owen>	I add an action to a GtkApplicationWindow, I put a button in that window, I set the action-name of the button to <action_name> or win.<action-name>, it stays disabled - is there anything else i need to do?
Aug 01 11:09:18 <mclasen>	that should be sufficient
Aug 01 11:09:19 <owen>	(I can obviously hook it up manually, but trying to be "modern")
Aug 01 11:09:22 <mclasen>	let me find an example
Aug 01 11:10:11 <owen>	Oh, underscore vs. - problem
Aug 01 11:10:53 <mclasen>	ah
Aug 01 11:11:01 <owen>	convention seems to be actions are _ but I expected them to use - like signals/props so got confused and used a _ in one place and a - in another
Aug 01 11:11:07 *	mclasen ponders if we could have a helpful error message for that case
Aug 01 11:11:19 <mclasen>	a la 'did you mean foo_bar instead of foo-bar ?'
Aug 01 11:13:11 *	fmuellner don't remember ever seeing underscores in action names
Aug 01 11:13:35 <owen>	Perhaps, not sure that it common
Aug 01 11:13:59 <owen>	Probably would have been good to *forbid* underscores in action names, but too late for that
Aug 01 11:15:05 <owen>	Or maybe they were forbidden, in which case a warning could be added to the set-action-name code path
Aug 01 11:41:05 *	ChanServ sets mode +q on #gtk+ Company
Aug 01 11:41:05 *	ChanServ gives channel operator status to Company
Aug 01 12:48:57 <bugbot>	New glib bug 769391 filed by jeremie.galarneau@gmail.com.
Aug 01 12:48:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769391 gmodule, normal, gtkdev, NEW , g_module_open returns the wrong error when loading libtool convenience libraries
Aug 01 13:08:51 <hotcfoch>	hi
Aug 01 13:09:02 <hotcfoch>	is it possible to get the list of callback functions for a g_obect?
Aug 01 13:14:51 <swilmet>	hotcfoch: for a certain signal, call g_signal_lookup() and g_signal_handler_find()
Aug 01 13:18:21 <ebassi>	hotcfoch: I cannot think of any non-evil things you may want to do with that information
Aug 01 13:18:29 <ebassi>	hotcfoch: What is it that you're trying to achieve?
Aug 01 13:19:57 <swilmet>	there is a useful use-case: block all signal handlers temporarily
Aug 01 13:21:10 <swilmet>	when we set a certain value to a property temporarily (we re-set back the old value afterwards)
Aug 01 13:21:17 <hotcfoch>	ebassi: I have a attribute foo (gobject), and a method resetFoo that replaces foo by other (gobject) but keeping the connected signal handlers
Aug 01 13:24:02 <halfline>	hotcfoch: icky
Aug 01 13:24:27 <halfline>	hotcfoch: what about g_object_set_data ? what if the code that set up the handlers keeps a reference to the object outside the callback?
Aug 01 13:25:20 <halfline>	it'd be better to provide a way for the first object to subsume the data from the second object, but stick around i think.
Aug 01 13:31:43 <hotcfoch>	halfline: what info does data contain?
Aug 01 13:32:00 <halfline>	anything the user wants to put in it
Aug 01 13:34:48 <swilmet>	hotcfoch: create a property for the foo attribute, and on the notify signal the callbacks need to be connected on the new object (but this is done by the users of the class, not the class itself)
Aug 01 13:36:23 <swilmet>	hotcfoch: but it means that the users of the class need to keep around a pointer to the old object, so instead of notify, you could provide a signal foo-changed(old_foo, new_foo)
Aug 01 13:46:35 <tonyctl>	do I need to do anything special to make gtkglext work on gtk2?
Aug 01 14:02:15 <LRN>	gtk2 is soo-o-o last century
Aug 01 14:02:16 <ebassi>	tonyctl: You'll need lots of hope, most likely
Aug 01 14:02:33 <ebassi>	tonyctl: GtkGLExt hasn't been touched in many moons
Aug 01 14:02:44 <ebassi>	It *should* work
Aug 01 14:02:54 <tonyctl>	it only works in unity
Aug 01 14:03:22 <tonyctl>	I think it has something to do with compiz being an opengl compositor
Aug 01 14:03:45 <ebassi>	To be fair, anything newly written that still uses gtk2 and legacy GL in 2016 is probably not going to go far in terms of reliability and/or testing
Aug 01 14:04:01 <tonyctl>	oh it's not at all
Aug 01 14:04:06 <ebassi>	tonyctl: GL should work (on X11) regardless of the presence of a compositor
Aug 01 14:04:30 <tonyctl>	I'm getting x11 errors and my window isn't opening
Aug 01 14:04:42 <ebassi>	tonyctl: Which X11 errors are you getting?
Aug 01 14:05:14 <tonyctl>	I think they are badwindow
Aug 01 14:06:16 <ebassi>	Care to pastebin them?
Aug 01 14:07:19 <tonyctl>	X error received: type 0, serial 607, error_code 3 (BadWindow (invalid Window parameter)), request_code 1, minor_code 0
Aug 01 14:07:45 <tonyctl>	https://bitbucket.org/chromiumembedded/cef/issues/1946/linux-cefclient-example-hangs-when-opening
Aug 01 14:09:29 <ebassi>	Oh, ugh
Aug 01 14:09:44 <ebassi>	That's on CEF?
Aug 01 14:09:51 *	ebassi is not going to touch that
Aug 01 14:09:52 <tonyctl>	yeah
Aug 01 14:10:15 <tonyctl>	why not?
Aug 01 14:10:57 <ebassi>	Because it's a hell-hole of stuff that likely is using GTK in 20 different wrong ways
Aug 01 14:11:24 <tonyctl>	I think you are right because it doesn't work
Aug 01 14:11:26 <ebassi>	So, sorry; you'll have to debug it yourself :-/
Aug 01 14:12:22 <tonyctl>	can you give me any pointers on fixing that issue at all?
Aug 01 14:12:24 <ebassi>	It's likely something is creating a window with the wrong visual and GLX does not work; or something is passing the wrong window around
Aug 01 14:12:39 <ebassi>	"invalid Window parameter" seems to point to the latter
Aug 01 14:13:16 <ebassi>	You'll have to go around inside the code that creates the widgets and realizes them, and see which windows it creates
Aug 01 14:13:21 <tonyctl>	so the thing is that the call to `gtk_widget_show()` does nothing
Aug 01 14:13:25 <ebassi>	Other than that, I don't know
Aug 01 14:13:48 <ebassi>	tonyctl: gtk_widget_show() "just" causes a realization of the GtkWidget, and marks it as visible
Aug 01 14:14:16 <ebassi>	Look at the realize() implementation, and look at which GdkWindow it creates or uses with GtkGLExt
Aug 01 14:15:00 <ebassi>	Since GtkGLExt expects to have access to a real, native X11 window, you'll have to ensure that the window it uses is the right one
Aug 01 14:15:36 <tonyctl>	it gives me a x11 window back, but I never get a CreateNotify or MapNotify on the root window
Aug 01 14:15:54 <tonyctl>	so it's creating an id, but not the window
Aug 01 14:16:02 <tonyctl>	that id never gets into the tree
Aug 01 14:17:13 <ebassi>	Wait, are you trying to draw on the root X11 window?
Aug 01 14:17:21 <ebassi>	That's… That's not a good idea.
Aug 01 14:17:50 <tonyctl>	no, but you should get the CreateNotify when the window is created
Aug 01 14:18:20 <ebassi>	Why? The root X11 window is created by the X server
Aug 01 14:19:06 <tonyctl>	yeah and it gets notified when windows are created
Aug 01 14:19:26 <tonyctl>	try `xev -root` and then open a window and you will see a CreateNotify
Aug 01 14:19:39 <ebassi>	You need a specific event mask for that
Aug 01 14:19:55 <ebassi>	And I don't understand why you'd be creating children of the root window
Aug 01 14:20:04 <ebassi>	That only happens for top-levels
Aug 01 14:20:26 <tonyctl>	I'm just using that as evidence that the window never gets created or mapped
Aug 01 14:20:28 <ebassi>	And even then, I don't understand why you should track the creation of children of the root window, unless you're a compositor or a toolkit
Aug 01 14:21:24 <tonyctl>	it means that XCreateWindow never happens
Aug 01 14:21:51 <ebassi>	tonyctl: You could check that by looking at what calls XCreateWindow
Aug 01 14:22:02 <ebassi>	I think you're overcomplicating this by a large factor
Aug 01 14:22:31 <tonyctl>	well I'm trying to fix that bug and nothing simple has worked so far
Aug 01 14:22:45 <tonyctl>	isn't gtk supposed to call XCreateWindow behind the scenes?
Aug 01 14:23:00 <ebassi>	It depends, if the window is supposed to be backed by a native surface
Aug 01 14:23:05 <ebassi>	Which isn't the case by default
Aug 01 14:23:44 <tonyctl>	but it needs a window to show up on the screen right?
Aug 01 14:26:11 <ebassi>	Well, the top-level does
Aug 01 14:26:15 <ebassi>	Child widgets don't
Aug 01 14:26:30 <ebassi>	Some do — and GtkGLExt most definitely does
Aug 01 14:26:41 <tonyctl>	the top level is never gettings its window created
Aug 01 14:26:43 <ebassi>	But it's opt in
Aug 01 14:27:03 <tonyctl>	oh ok well maybe they're not opting in
Aug 01 14:27:09 <ebassi>	That I have more issues believing
Aug 01 14:27:15 <ebassi>	You don't see the whole window?
Aug 01 14:27:30 <tonyctl>	the first one is fine
Aug 01 14:27:50 <tonyctl>	the subsequent windows never show up
Aug 01 14:27:54 *	ebassi mutters something about being roped into debugging what he said he wouldn't debug
Aug 01 14:28:10 <tonyctl>	lol I appreciate the help though
Aug 01 14:28:23 <ebassi>	tonyctl: Then you probably want to check inside the code that creates the top levels in CEF and see what happens there
Aug 01 14:28:59 <tonyctl>	yeah I did and it looks fine
Aug 01 14:29:06 <tonyctl>	it even works on unity, but not on any other window manager
Aug 01 14:56:36 <baedert>	Let's say I'm doing a gdk_window_scrol(gtk_widget_get_window(widget), x, y) -- in gtk2 there was apparently a call to gdk_window_process_updates needed to "immediately display the result". Is that still true in gtk3?
Aug 01 15:50:01 <xjuan>	fmuellner: hi I have a test case for your gjs patch I cant make it work
Aug 01 15:50:26 <xjuan>	the patch being "object: Support external construction of gjs-defined GObjects"
Aug 01 15:50:34 <fmuellner>	ah, was about to ask :-)
Aug 01 15:50:36 <xjuan>	https://paste.fedoraproject.org/399490/47008074/
Aug 01 15:50:58 <xjuan>	that is a simple test case that creates an object class in JS
Aug 01 15:51:12 <xjuan>	and tries to instantiate it with g_object_new()
Aug 01 15:52:44 <xjuan>	but gets a segfault
Aug 01 15:52:52 <xjuan>	btw I also have a stand alone test case
Aug 01 15:53:00 <xjuan>	https://paste.fedoraproject.org/399492/14700811/
Aug 01 15:53:38 <fmuellner>	xjuan: yeah, pretty sure the issue is that you aren't adding a constructor
Aug 01 15:53:55 <fmuellner>	sth like "_init: function() { this.parent(); }"
Aug 01 15:53:59 <xjuan>	_init: function (props={})
Aug 01 15:54:07 <xjuan>	I tried
Aug 01 15:54:26 <fmuellner>	did you chain up?
Aug 01 15:54:52 <xjuan>	the standalone test have it
Aug 01 15:55:03 <xjuan>	yeah I did this.parent(props)
Aug 01 15:58:04 <xjuan>	fmuellner: backtrace https://paste.fedoraproject.org/399495/08146514/
Aug 01 16:01:21 <xjuan>	the funny thing is that you GObject class test case works
Aug 01 16:21:25 <fmuellner>	xjuan: sorry, I don't see anything obvious - will need to look into this with some time
Aug 01 16:22:32 <bugbot>	New glib bug 769398 filed by dmacks@netspace.org.
Aug 01 16:22:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769398 gio, normal, gtkdev, NEW , gio/tests/file.c: "du --bytes" is GNU extension
Aug 01 16:27:38 <xjuan>	fmuellner: sure no problem, now at least I know I was not missing something obvious
Aug 01 16:27:48 <xjuan>	just let me know if there is anything I can do to help you
Aug 01 18:41:04 <gnunn>	I've got a listbox and if the user presses the down arrow when on the last item I want the cursor to go to the top, similarly when at the top and pressing the up arrow. What's the best way to handle this, I've tried handling the KeynavFailed signal which works but then the arrow key behavior is pretty wonky
Aug 01 21:49:41 <bugbot>	New gtk+ bug 769402 filed by christian@hergert.me.
Aug 01 21:49:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769402 Backend: Wayland, normal, gtk-bugs, NEW , regression in menu positioning on wayland
Aug 01 22:49:36 <grim>	maybe not the right place, but is it possible to apply a texttag to a textbuffer in glade3?
Aug 02 00:02:58 <raymod2>	Why should a GTK application even care whether the installed GTK libraries are 32-bit or 64-bit?
Aug 02 00:06:12 <TingPing>	raymod2, thats more a question of how binaries and libraries work rather than anything to do with gtk specifically
Aug 02 00:25:30 <raymod2>	I don't see how it would matter unless the calling convention for the APIs was different.  I guess pointer arguments that are pushed onto the stack occupy 64-bits instead of 32-bits?
Aug 02 00:26:38 <TingPing>	obviously
Aug 02 00:28:19 <raymod2>	I guess score another win for Windows over Linux since Windows seems to handle all this seamlessly.
Aug 02 00:29:25 <TingPing>	it isn't a technical advantage its just linux distros have control over source so they moved on to 64bit years ago
Aug 02 01:29:46 <bugbot>	New gtk+ bug 769405 filed by christian@hergert.me.
Aug 02 01:29:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769405 .General, enhancement, gtk-bugs, NEW , GtkAssistant should allow hiding the sidebar
Aug 02 06:03:12 <samtoday_>	Hello!  Have I properly tagged this patch for review?  https://bugzilla.gnome.org/show_bug.cgi?id=757495
Aug 02 06:03:13 <bugbot>	Bug 757495: Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , GtkTreeView odd/even row styling no longer works
Aug 02 06:17:58 <ebassi>	samtoday_: Yes, you did
Aug 02 06:52:35 *	ChanServ sets mode +q on #gtk+ Company
Aug 02 06:52:35 *	ChanServ gives channel operator status to Company
Aug 02 07:27:31 <heftig>	raymod2: you have the same split on windows.
Aug 02 07:45:39 <bugbot>	New gtk+ bug 769419 filed by andreas.g.jhoss@gmx.de.
Aug 02 07:45:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769419 Widget: Other, normal, gtk-bugs, NEW , Layout change from gtk 3.13.3 to 3.14.14
Aug 02 07:59:51 <bugbot>	mclasen@redhat.com changed the Status on bug 769326 from NEW --- to RESOLVED FIXED.
Aug 02 07:59:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769326 .General, critical, gtk-bugs, RESOLVED FIXED, gnome-control-center universal panel crashes with gtk-3-20 branch
Aug 02 08:02:32 <bugbot>	mclasen@redhat.com changed the Component on bug 768949 from Widget: GtkScrolledWindow to Widget: GtkTextView.
Aug 02 08:02:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768949 Widget: GtkTextView, normal, gtk-bugs, NEW , black artifact after hiding revealer near scrolled window
Aug 02 08:06:34 <mclasen>	ebassi: did we figure anything out about bug 768415 ?
Aug 02 08:06:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768415 .General, major, gtk-bugs, NEW , GTK 3.21.3: Corrupted desktop redraws in non-Nautilus file browsers
Aug 02 09:22:29 <ebassi>	mclasen: I left a comment on the nautilus-fork bug, but I haven't heard anything else from the MATE devs
Aug 02 09:22:38 <mclasen>	I saw, thanks
Aug 02 09:22:51 <ebassi>	(at least, in private mail, where this started)
Aug 02 09:29:52 <gasuleg>	Hi, I want to display a text with some variables and carriage return. For the moment I use a lot of label display in vertical. Do you know a better widget to do that?
Aug 02 09:31:54 <baedert>	One wrapping label? GtkTextView?
Aug 02 09:46:28 <gasuleg>	baedert, what do you mean by wrapping label? I will try GtkTextView but that seem a good idea. Do you know some issues to using it with clutter and actor?
Aug 02 09:52:19 <baedert>	gasuleg: What do you want to display exactly? just multiline text?
Aug 02 09:55:24 <gasuleg>	I want to display some technical information in a video like the nerd stats on youtube ( you can found them in the right click menu) https://www.youtube.com/watch?v=fkkDvKGcNSo
Aug 02 09:56:27 <baedert>	looks lik a GtkGrid and a few labels?
Aug 02 09:56:37 <gasuleg>	so basicly I want to display some text + variables 
Aug 02 09:58:06 <gasuleg>	yeah, that what I did but that not really easy to add some new element in my architecture ( add new gtklabel, add to the clutter, add to the ui file and finally set text and that for all the label
Aug 02 09:58:28 <gasuleg>	i'm think we can do that in only one widget, no?
Aug 02 09:59:17 <baedert>	You can always just draw things using cairo if you want. But you don't want to do that.
Aug 02 09:59:41 <rrika>	what is the preferrable way of spawning a process from a program with glib main loop? running g_spawn_sync on a new thread, or running g_spawn_async_with_pipes(), and putting an IO channel on its stdout?
Aug 02 10:00:08 <gasuleg>	baedert, why I don't want to? difficult?
Aug 02 10:00:48 <gasuleg>	so, the GtkTextView is not the best widget to do what I want to do?
Aug 02 10:00:59 <baedert>	gasuleg: well now you have to do layout and measuring yourself, possibly ellipsize the labels, etc.
Aug 02 10:01:15 <rudrab>	Hi, Can I have a little bit of help? I am trying to populate a treeview from a list(either parsed from file, or other source). like, https://paste.gnome.org/pz2j2bueb
Aug 02 10:03:05 <gasuleg>	baedert, I'm ok with the label. I actually display all my information with it. I just wanted to know if some widget are better for what I want to do
Aug 02 10:03:24 <rudrab>	I am not sure how to index the row properly. This method is ok if I just read from a single source. If I am trying to append the treeview, the index is 0 again.
Aug 02 10:03:33 <xjuan>	gasuleg: GtkLabel + g_strdup_printf() should do the trick
Aug 02 10:04:09 <gasuleg>	xjuan, that what I do but can you do some carriage return?
Aug 02 10:04:34 <baedert>	what do you mean by carriage return?
Aug 02 10:04:35 <xjuan>	sure why not
Aug 02 10:04:40 <xjuan>	\n
Aug 02 10:04:49 <baedert>	so still a wrapping label?
Aug 02 10:05:14 <ernestask>	\r
Aug 02 10:05:17 <ernestask>	not \n
Aug 02 10:06:00 <gasuleg>	that what I doing actually: http://pastebin.com/UgpSUjbE
Aug 02 10:06:29 <gasuleg>	to much label for what I'm doing, isn't it?
Aug 02 10:07:31 <xjuan>	hmm
Aug 02 10:07:43 <xjuan>	you are leaking memory
Aug 02 10:08:16 <xjuan>	you have to free the string returned by g_strdup_printf() once you are done with it
Aug 02 10:08:19 <xjuan>	str = g_strdup_printf ("Value one: %d\nAnother value: %d\netc", v1, v2);
Aug 02 10:08:20 <xjuan>	gtk_label_set_text (label, str);
Aug 02 10:08:22 <xjuan>	g_free (srt);
Aug 02 10:09:15 <gasuleg>	hooo, that how we use g_free, thx for that
Aug 02 10:09:43 <gasuleg>	well, I will try \n and \r
Aug 02 10:09:51 <xjuan>	you could split the format string in multiple lines to make it look better
Aug 02 10:10:08 <xjuan>	gasuleg: you do not need \r
Aug 02 10:10:22 <xjuan>	new line is enough
Aug 02 10:11:03 <gasuleg>	but.... it's not better to use only one label?
Aug 02 10:11:42 <xjuan>	no i mean something like
Aug 02 10:12:19 <xjuan>	str = g_strdup_printf ("Value one: %d\n"
Aug 02 10:12:21 <xjuan>	                       "Another value: %d\n"
Aug 02 10:12:22 <xjuan>	                       "etc", v1, v2);
Aug 02 10:13:01 <gasuleg>	yeah yeah, ok, I see
Aug 02 10:13:18 <gasuleg>	I will try that, thx for you help guys!!!
Aug 02 10:13:18 <xjuan>	btw make sure you do not have to free the string returned by SmartInfoHub::instance().callID().toStdString().c_str()
Aug 02 10:13:36 <xjuan>	you might be leaking memory there too
Aug 02 10:16:29 <gasuleg>	xjuan, you said that cause it's a string? (sorry, I'm just... noob XD)
Aug 02 10:19:54 <xjuan>	just saying you need to check the docs
Aug 02 10:20:09 <gasuleg>	ok, thx xjuan 
Aug 02 10:20:10 <xjuan>	and see what SmartInfoHub::instance().callID().toStdString().c_str() returns
Aug 02 10:20:36 <gasuleg>	well... I program it... XD he return string
Aug 02 10:20:54 <gasuleg>	and I free nothing
Aug 02 10:23:38 <xjuan>	yeah if toStdString() returns what it says it does (a std:string) then c_str() should be a pointer to the internal buffer
Aug 02 10:23:47 <xjuan>	so you do not have to free it
Aug 02 10:25:48 <rudrab>	any help please?
Aug 02 10:26:09 <gasuleg>	so with g_free (srt); what I free exactly?
Aug 02 10:33:27 <xjuan>	gasuleg: the memory allocated by g_strdup_printf() in the str pointer
Aug 02 10:34:13 <xjuan>	gasuleg: you really need to read about memory
Aug 02 10:34:48 <xjuan>	specially if you want to program in C/C++
Aug 02 10:56:23 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 744456 from NEW --- to RESOLVED FIXED.
Aug 02 10:56:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=744456 gio, normal, gtkdev, RESOLVED FIXED, Structured logging API
Aug 02 11:43:45 <gasuleg>	have you got an idea why my variables are not align? http://pastebin.com/
Aug 02 11:44:09 <gasuleg>	oups http://pastebin.com/TGX2aPYc
Aug 02 11:56:15 <tonyctl>	do gtk widgets automatically grab the focus when they are clicked?
Aug 02 11:56:20 <tonyctl>	for their window?
Aug 02 11:56:41 <baedert>	some do
Aug 02 11:57:21 <tonyctl>	I have a window that I never want to have focus and it is taking focus on clicks
Aug 02 11:57:32 <tonyctl>	even if I do override redirect
Aug 02 12:05:12 <bugbot>	New gtk+ bug 769441 filed by jonrysh@pacbell.net.
Aug 02 12:05:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769441 Themes, normal, gtk-bugs, NEW , Breeze theme makes evolution crash in gtk3
Aug 02 12:36:12 <bugbot>	New glib bug 769442 filed by michele.dionisio@gmail.com.
Aug 02 12:36:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769442 gio, enhancement, gtkdev, NEW , xattr add possibility to remove an extended attribute
Aug 02 13:04:04 *	ebassi mutters something about ::draw() calling gtk_css_gadget_draw() which calls parent_class->draw()
Aug 02 13:04:25 <ebassi>	Making a container implement get_render_node() is hard work, these days…
Aug 02 13:18:19 <bugbot>	New gtk+ bug 769445 filed by philm@manjaro.org.
Aug 02 13:18:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769445 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Folder selection broken since gtk2-2.24.30+95+g876b5f7-1
Aug 02 13:45:47 <ebassi>	mclasen: If you want to have a look at wip/ebassi/gsk-renderer, I just landed the port of GtkBox from ::draw to ::get_render_node(), alongside with a first stab at gtk_css_gadget_get_render_node()
Aug 02 13:46:06 <mclasen>	I will, certainly!
Aug 02 13:46:19 <ebassi>	I have a small rendering artefact on the headerbar — likely some offset
Aug 02 13:46:22 <mclasen>	anything is better than poking at pixbuf loader crashes
Aug 02 13:46:26 <ebassi>	And popovers are popunders
Aug 02 13:46:51 <ebassi>	Because I need to sort them at the end of the GtkWindow get_render_node()
Aug 02 13:47:09 <ebassi>	But it's surprisingly holding together quite well, even halfway through
Aug 02 13:50:02 *	mclasen builds
Aug 02 13:51:01 <ebassi>	I'm usually testing with gtk3-demo
Aug 02 13:51:24 <ebassi>	gtk3-widget-factory is a pain — even without GSK
Aug 02 13:53:44 <mclasen>	why, too big ?
Aug 02 13:56:24 <ebassi>	mclasen: A bit too much invalidation going on
Aug 02 13:56:39 <ebassi>	My CPU is noticeably busier when running it
Aug 02 14:07:31 <mclasen>	ebassi: I'm getting a bunch of !widget->priv->alloc_needed assertions
Aug 02 14:09:53 <mclasen>	getting 5fps in widget-factory
Aug 02 14:11:20 <halfline>	YOU WERE WARNED AND YOU DIDNT LISTEN
Aug 02 14:14:21 <jmd>	halfline: no need to shout.
Aug 02 14:14:40 <halfline>	HUH ? CAN YOU REPEAT THAT ?
Aug 02 14:20:38 <bugbot>	New gtk+ bug 769448 filed by pyzahl@ymail.com.
Aug 02 14:20:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769448 Backend: X11, critical, gtk-bugs, NEW , GtkDrawingArea: draw callback only randomly called.
Aug 02 14:21:53 <baedert>	wtf
Aug 02 14:24:08 <mclasen>	ebassi: so, running GSK_DEBUG=opengl gtk3-widget-factory, I see ~13 nodes getting rendered
Aug 02 14:24:17 <mclasen>	I was expecting much more, am I missing something ?
Aug 02 14:25:06 <ebassi>	mclasen: Nope; it's just that not every widget that overrides ::draw has been ported
Aug 02 14:25:28 <ebassi>	A bunch of containers decide to chain up which is interpreted as a fallback
Aug 02 14:25:36 <mclasen>	but with GtkBox ported, shouldn't most of the widget tree be reflected in render nodes ?
Aug 02 14:26:04 <mclasen>	ah
Aug 02 14:26:12 <mclasen>	so if I see something that says Fallback<GtkFrame>
Aug 02 14:26:33 <mclasen>	that means the entire widget tree inside the frame won't show up as render nodes ?
Aug 02 14:26:35 <ebassi>	It means that everything contained inside GtkFrame is drawn to a single node
Aug 02 14:26:38 <ebassi>	Yep
Aug 02 14:27:05 <ebassi>	Working my way through the containers right now; Box was the obvious first choice because of the GtkCssGadget use
Aug 02 14:28:05 <mclasen>	I'm not sure I've seen a render node coming out of a gadget yet
Aug 02 14:28:53 <ebassi>	GtkHeaderBar should output a background and a border node
Aug 02 14:29:09 <mclasen>	right, I've seen those
Aug 02 14:29:09 <ebassi>	The log is a bit noisy with the matrices
Aug 02 14:29:17 <ebassi>	I'll split it up
Aug 02 14:30:08 <ebassi>	Bin is where things choke up because it inherits the GtkContainer::draw implementation
Aug 02 14:38:52 <mclasen>	can't it then also inherit the get_render_node implementation ?
Aug 02 14:43:23 <ebassi>	I cannot give GtkContainer a get_render_node() implementation, otherwise all GtkContainers will have it, and the fallback code that lets non-ported containers draw something will not be called
Aug 02 14:44:04 <ebassi>	But I can implement GtkBin::get_render_node()
Aug 02 14:45:26 <mclasen>	ah, ok
Aug 02 14:45:46 <mclasen>	so you're adding get_render_node implementations from the leaves of the class hierarchy upwards ?
Aug 02 14:47:33 <ebassi>	Pretty much; I'm ignoring leaf widgets right now because they would end up rendering to a texture anyway, so we can use the fallback code; I'm mostly trying to figure out a way to port containers and gadgets without adding special cases in the public API, which seems to be working
Aug 02 14:58:25 <jmd>	What is the easiest way to enable accelarators in a GtkWindow?
Aug 02 16:05:33 <bugbot>	New gtk+ bug 769451 filed by directaction@hushmail.com.
Aug 02 16:05:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769451 .General, blocker, gtk-bugs, NEW , Build failure of 3.21 (master) in Debian Unstable  since 7-26-2016
Aug 02 17:15:32 <bugbot>	ebassi@gmail.com changed the Status on bug 769451 from NEW --- to RESOLVED NOTABUG.
Aug 02 17:15:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769451 .General, blocker, gtk-bugs, RESOLVED NOTABUG, Build failure of 3.21 (master) in Debian Unstable  since 7-26-2016
Aug 02 19:47:02 <mclasen>	ebassi: pushed a patch for your here: wip/matthiasc/gsk-renderer
Aug 03 00:17:00 <rrika>	How can I read "as much as available" from a giochannel?
Aug 03 00:17:13 <rrika>	Which is using the 'fd' of a pipe that leads to a different process.
Aug 03 00:19:55 <rrika>	It seems to me that "g_io_channel_read_line" or "g_io_channel_read_to_end" could block if I run them in the bytes-available-callback
Aug 03 03:34:58 <sumustinis>	HI there, have a question here.. Then I connect to a signal editing-started on cell renderer sometimes I would like to cancel this (for example a lock was not acquired on database row). How should I do it?
Aug 03 04:21:21 <bugbot>	andreas.g.jhoss@gmx.de changed the Status on bug 769419 from NEW --- to RESOLVED OBSOLETE.
Aug 03 04:21:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769419 Widget: Other, normal, gtk-bugs, RESOLVED OBSOLETE, Layout change from gtk 3.13.3 to 3.14.14
Aug 03 04:40:55 *	desrt wonders if we ever talked about what happens with openat("..") in flatpak
Aug 03 05:08:15 <rudrab>	Hi, I am trying to use a Gtk.CellRendererCombo() as https://paste.gnome.org/pwcnlzday.
Aug 03 05:09:14 <rudrab>	The problem is, there is no visual notation that the cell is clickable, and looks somewhat hidden
Aug 03 05:16:27 <rudrab>	any idea please?
Aug 03 05:20:38 <TingPing>	rudrab, i can at least say its not your usage, that just seems to be how they are themed, not sure it is easily themable either
Aug 03 05:22:14 <rudrab>	:(
Aug 03 05:48:03 <bugbot>	afranke@gnome.org marked bug 768628 as a duplicate of unknown bug.
Aug 03 05:48:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768628 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED DUPLICATE, Sometimes file or folder open by single click
Aug 03 06:59:55 <baedert>	andlabs: Do you happen to know whether osx/win allow row-based scrolling instead of pixel-based and how the API looks like form an app dev POV?
Aug 03 07:12:48 <ebassi>	jjardon: Why did you add config.rpath to the EXTRA_DIST in gtk, when you ported to upstream gettext?
Aug 03 07:15:16 <mclasen>	ebassi: sent a few contributions to wip/matthiasc/gsk-renderer
Aug 03 07:15:31 <mclasen>	the button and frame patches need more work, but the grid one is good
Aug 03 07:18:11 <ebassi>	mclasen: Yeah, I saw them; I'm going to merge the branch into mine
Aug 03 07:18:16 <ebassi>	Thanks!
Aug 03 07:18:30 <ebassi>	Any early feedback on the API?
Aug 03 07:19:55 <mclasen>	didn't really use much of it
Aug 03 07:20:42 <mclasen>	I need to sit down and actually understand the relationships between widget coordinates (allocation), gadgets, and render nodes
Aug 03 07:21:20 <ebassi>	Yeah, that's tricky; I need to write down some thought on that, and try to make it a bit more automatic
Aug 03 07:21:53 <ebassi>	There's also the whole clip != allocation thing to consider
Aug 03 07:22:24 <ebassi>	I was actually thinking of adding a function called gtk_widget_create_render_node() that set up the transformation and bounds
Aug 03 07:22:55 <mclasen>	I noticed that the 'trivial'  case basically has the same get_render_node implementation
Aug 03 07:23:14 <mclasen>	ie simple containers - you just need the gadget, and then you add the children
Aug 03 07:23:33 <mclasen>	the implementation that 'should be' gtk_container_get_render_node
Aug 03 07:24:26 <ebassi>	Yeah, we should add a gtk_container_get_render_node() that did that
Aug 03 07:24:45 <ebassi>	Or gtk_container_get_simple_render_node() :-)
Aug 03 07:25:57 <samtoday_>	Is there an idiomatic way to unfocus an entry?
Aug 03 07:26:23 <mclasen>	you can't unfocus widgets; you can only focus something else
Aug 03 07:26:50 <mclasen>	hmm
Aug 03 07:27:21 <mclasen>	jadahl: it appears we have menu placement regressions in master on wayland - is that because your part hasn't landed yet ?
Aug 03 07:28:25 *	ChanServ sets mode +q on #gtk+ Company
Aug 03 07:28:25 *	ChanServ gives channel operator status to Company
Aug 03 07:30:30 <mclasen>	ebassi: the only part of that simple implementation that varies is finding the gadget
Aug 03 07:34:40 <ebassi>	Yeah, that kind of complicates things a bit
Aug 03 07:35:08 <ebassi>	Especially if we want to make that function public
Aug 03 07:55:55 <andlabs>	baedert: on Windows yes, since you have to decide what a single scrolling increment means
Aug 03 07:56:09 <andlabs>	in fact the native list box and list view controls already work like this
Aug 03 07:56:29 <andlabs>	OS X I don't think you can do it unless you effectively reimplement NSScrollView itself
Aug 03 07:56:35 <andlabs>	it works like GtkScrolledWindow
Aug 03 08:03:49 <baedert>	andlabs: How does it work on windows? Is there a GtkAdjustment equivalent? Can the increment change during scrolling does it have to stay the same?
Aug 03 08:07:12 <andlabs>	each window handle can have horizontal and vertical scrollbars provided by the system; you use the function SetScrollInfo() to set the scrolling information and actually perform scrolling in your WM_HSCROLL and WM_VSCROLL handlers
Aug 03 08:07:21 <andlabs>	the first few articles on The Old New Thing talk about it
Aug 03 08:08:14 <andlabs>	afk
Aug 03 08:11:40 <mclasen>	Company: have you looked at reftests recently ? I can't figure out why box-shadow-changes-modify-clip fails
Aug 03 08:49:20 <LRN>	something changed in latest versions of gtk?
Aug 03 08:49:47 <LRN>	it seems that gtk somehow picks up my system locale
Aug 03 08:49:56 <LRN>	that's new
Aug 03 09:09:52 <LRN>	If i create a dialog and then do "g_signal_connect (dialog, "delete-event", G_CALLBACK (gtk_widget_destroy), NULL);", would it leak?
Aug 03 09:11:01 <ebassi>	LRN: Well, it would not be correct, since gtk_widget_destroy() does not have a return value and delete-event handlers expect it
Aug 03 09:11:16 <ebassi>	Also, the default delete-event handler is gtk_widget_destroy() already
Aug 03 09:22:38 <andlabs>	baedert: need any more help?
Aug 03 09:29:09 <jadahl>	mclasen: wayland uses the same method as x11, so there shouldn't be more regessions on wayland than x11 (in theory)
Aug 03 09:30:28 <baedert>	jadahl: the other day you told me that there was some private protocol that's not merged yet?
Aug 03 09:31:01 <baedert>	andlabs: I didn't really understand how that (row-based scrolling) would work from a GtkScrollable implementation
Aug 03 09:31:03 <jadahl>	baedert: indeed. except its not private
Aug 03 09:31:13 <mclasen>	jadahl: then it is probably just a regression
Aug 03 09:31:20 <jadahl>	when that has landed, and we have ported over the shell protocol to that version, we should have proper manu placement
Aug 03 09:31:29 <mclasen>	looking at widget-factory page 2, the menus pop up way too far the left
Aug 03 09:31:32 <jadahl>	now, we get "as good" as before (except there seems to be a regression)
Aug 03 09:31:42 <andlabs>	baedert: I don't know either
Aug 03 09:31:46 <andlabs>	I know I did it once, somehow
Aug 03 09:32:01 <andlabs>	I could try to dig out the code if you want
Aug 03 09:32:14 <jadahl>	mclasen: well, there was some bug olivier looked on that made thing funny on wayland but not x11, maybe its related
Aug 03 09:32:48 <jadahl>	mclasen: does it reproduce on any of the menus on testpopupat?
Aug 03 09:32:59 <mclasen>	lets try that
Aug 03 09:33:23 <jadahl>	hmm. tried it now, there seems to be some kind of regression
Aug 03 09:33:52 <jadahl>	they pop up to far to the left and to far up
Aug 03 09:34:13 <baedert>	sub menus are worse :P
Aug 03 09:34:20 <jadahl>	indeed
Aug 03 09:34:22 <mclasen>	all the menus in testpopupat seem somewhat broken
Aug 03 09:34:34 <mclasen>	the menubuttons mostly work
Aug 03 09:35:33 <jadahl>	the application menu page does not however
Aug 03 09:36:02 <mclasen>	works fine under X, afaics
Aug 03 09:36:24 <jadahl>	will take a look
Aug 03 09:36:24 <mclasen>	uh, there's more tabs
Aug 03 09:36:33 <mclasen>	this thing tests _all the menus_!
Aug 03 09:36:44 <jadahl>	yea its awesome
Aug 03 09:36:51 <jadahl>	it even has the super tall menu
Aug 03 09:36:53 <jadahl>	and super deep
Aug 03 09:38:09 <mclasen>	there's something fishy with the filechooser sidebar - don't get the context menu popover there
Aug 03 09:38:24 <jadahl>	on x11?
Aug 03 09:38:29 <mclasen>	both
Aug 03 09:38:42 <mclasen>	instead, I get something that looks like a notebook tab menu
Aug 03 09:40:39 <baedert>	I get the popover
Aug 03 09:41:26 <visarion>	I have a box with to objects in it. One of it is always shown and the other's visibility is toggled on/off. How do I make sure that the first one doesn't move when the other one is shown/not shown ?
Aug 03 09:42:29 <baedert>	you can put the second in a stack and control the visibility using that
Aug 03 10:35:19 <andlabs>	baedert: if you're still interested here's a shell archive with the code I had for line-based scrolling http://sprunge.us/QfAR but you'll have to figure it out at this point, sorry
Aug 03 10:54:54 <mclasen>	Company: around ?
Aug 03 11:17:31 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug  3 11:17:31 2016

**** BEGIN LOGGING AT Wed Aug  3 11:17:45 2016

Aug 03 11:17:45 *	Now talking on #gtk+
Aug 03 11:17:45 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:17:45 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 11:25:54 *	Disconnected (Connection reset by peer)
**** ENDING LOGGING AT Wed Aug  3 11:25:54 2016

**** BEGIN LOGGING AT Wed Aug  3 11:26:07 2016

Aug 03 11:26:07 *	Now talking on #gtk+
Aug 03 11:26:07 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:26:07 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 11:28:22 <bugbot>	walters@verbum.org changed the Status on bug 769245 from NEW --- to RESOLVED FIXED.
Aug 03 11:28:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769245 gvariant, minor, desrt, RESOLVED FIXED, is_valid_heap_iter define misses NULL pointer check
Aug 03 11:56:42 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug  3 11:56:42 2016

**** BEGIN LOGGING AT Wed Aug  3 11:56:55 2016

Aug 03 11:56:55 *	Now talking on #gtk+
Aug 03 11:56:55 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 03 11:56:55 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 03 12:41:19 <pmike>	Hi, not sure if this is the right place but can i make question regarding GIO (Sockets) in here?
Aug 03 12:44:06 <fmuellner>	yup
Aug 03 12:44:32 <pmike>	Ok @fmueliner, thanks.
Aug 03 12:44:53 <pmike>	I'm working on a App that runs ok on GTK3.18 but it fails on 3.20
Aug 03 12:45:38 <pmike>	been following the problem and it comes to attaching a source, or a SocketSource more precisely on to a socket
Aug 03 12:47:07 <pmike>	went to github to check gsocket.c and it seems that the g_socket_create_source has started to return null if the socket is a TCP (stream) socket instead of a UDP (Datagram)
Aug 03 12:48:53 <pmike>	i'm trying to read any document suggestion how to handle this but cannot find anything
Aug 03 12:50:02 <pmike>	the idea is, after connecting to a server, get the socket, create a source and set a callback to the IOCondition.IN
Aug 03 12:50:44 <pmike>	but the create_source will return NULL if the Socket type is TCP... Is this normal?
Aug 03 12:52:09 <pmike>	well, it wasn't but it is now. And the documentation says that the DatagramBased interface will work on both (connection oriented and connection-less) kind of streams
Aug 03 12:58:29 <pmike>	i can get more detailed if needed... my first time on IRC, *blush*
Aug 03 12:59:43 <mclasen>	I think the datagrambased stuff was done by pwithnall 
Aug 03 12:59:49 <mclasen>	maybe he can chime in
Aug 03 13:00:14 <pwithnall>	hello
Aug 03 13:00:18 <pmike>	Hi
Aug 03 13:01:10 *	pwithnall takes a look at the code
Aug 03 13:01:20 <pmike>	thanks @mclasen and @pwithnall
Aug 03 13:03:14 <nicknameitis>	is it possible to invoke gtk-inspector from my code with already specific object selected?
Aug 03 13:03:26 <pwithnall>	pmike: I don’t see how it’s possible for g_socket_create_source() to return NULL
Aug 03 13:03:50 <pwithnall>	unless you’re violating one of its preconditions, in which case you should get a critical warning
Aug 03 13:05:33 <pmike>	pwithnall: thanks for your time. What i'm doing it's simple, use g_socket_client to connect and get a g_socket_connection
Aug 03 13:05:52 <pmike>	from the g_socket_connection, get the g_socket
Aug 03 13:06:30 <baedert>	nicknameitis: no
Aug 03 13:06:55 <pmike>	then i try to create a source, from the socket, g_socket_create_source with IOCondition IN
Aug 03 13:07:07 <pmike>	but it return null
Aug 03 13:07:53 <pwithnall>	pmike: have you checked that the GSocket is non-NULL?
Aug 03 13:07:55 <nicknameitis>	baedert: this sucks, i'll have to reinvent whole thing. thanks
Aug 03 13:08:07 <pwithnall>	because that’s the only reason I can see for g_socket_create_source() to return NULL
Aug 03 13:08:14 <pmike>	yes, it's non-null
Aug 03 13:09:05 <pmike>	with gtk 3.18 (fedora 23) it's working but fails on gtk 3.20 (fedora 24)
Aug 03 13:10:47 <pmike>	on gsocket.c has a condition now "if (!check_datagram_based (self, null)) return NULL;
Aug 03 13:11:45 <pmike>	and this function will return false on: case G_SOCKET_TYPE_STREAM
Aug 03 13:12:25 <pwithnall>	pmike: You’re calling g_datagram_based_create_source(), not g_socket_create_source()?
Aug 03 13:12:31 <pmike>	pwithnall: i'm not sure, i was just trying to figure out why... i may be wrong on my assumptions
Aug 03 13:13:43 <pmike>	well, i'm using Vala, let me check which one is being called on thec generated file
Aug 03 13:14:19 <pwithnall>	g_datagram_based_create_source() is what’s being called
Aug 03 13:14:48 <pwithnall>	The code is correct, and the documentation which says GDatagramBased works for connection-oriented and connection-less objects is also correct, although not especially helpful
Aug 03 13:15:08 <pwithnall>	GDatagramBased explicitly does not work with stream-based objects, such as TCP connections
Aug 03 13:15:35 <pmike>	yes and i understand the logic
Aug 03 13:15:40 <pwithnall>	Note that you can have a connection-oriented, non-stream-based connection: SCTP is an example
Aug 03 13:15:46 <pwithnall>	I’ll clarify that documentation
Aug 03 13:16:34 <pmike>	yes, i know but i'm using TCP and the set_callback on a socket seems to appear only on the GDatagramBased interface
Aug 03 13:17:25 <pwithnall>	You mean the create_source() only seems to appear on the GDatagramBased interface?
Aug 03 13:18:04 <pwithnall>	My Vala is rusty, but I think the following should work:
Aug 03 13:18:17 <pwithnall>	(my_socket_variable as GLib.Socket).create_source(…)
Aug 03 13:19:02 <pmike>	http://www.valadate.org:8000/#!api=gio-2.0/GLib.Socket
Aug 03 13:19:34 <pmike>	the create_source method moved to the DatagramBased interface
Aug 03 13:19:45 <pmike>	maybe it's a vala/valac problem
Aug 03 13:19:58 <smcv>	if a class C implements an interface I
Aug 03 13:20:08 <smcv>	and both C and I have a create_source() method
Aug 03 13:20:22 <smcv>	I would expect my_C_instance.create_source() to mean C.create_source, not I.create_source
Aug 03 13:20:41 <smcv>	just from a general argument of "interfaces are a bit like base classes"
Aug 03 13:20:49 <smcv>	but perhaps Vala doesn't follow that rule
Aug 03 13:21:33 <pwithnall>	it might require an override
Aug 03 13:21:40 <smcv>	if Vala doesn't do that, it seems like a recipe for accidental API changes - implementing a new interface shouldn't make your Vala API magically change
Aug 03 13:21:52 <smcv>	surely?
Aug 03 13:22:19 <pwithnall>	pmike: I think you need to file a bug against Vala; this definitely looks like a Vala bug to me
Aug 03 13:22:44 <pmike>	i also come from gtk/glib on C but i'm on a project, alone, and i needed to speedup the coding so i turned to vala
Aug 03 13:23:08 <smcv>	you had a problem, you solved it with vala, and now you have a different problem
Aug 03 13:23:17 <smcv>	not an unfamiliar story tbh
Aug 03 13:23:43 <pmike>	ok, just check the 3.18 c and 3.20
Aug 03 13:24:02 <pmike>	the 3.20 it's using g_datagram_based_create_cource
Aug 03 13:24:07 <pmike>	*source
Aug 03 13:25:19 <pmike>	i must check with the vala guys then, thanks pwithnall and smcv
Aug 03 13:25:26 <pwithnall>	np
Aug 03 13:25:29 <pmike>	sorry fot the time taken
Aug 03 13:25:30 <pwithnall>	Good luck
Aug 03 13:25:39 <pmike>	thanks ;) keep up the good work 
Aug 03 14:21:01 <LRN>	when is the next gtk release?
Aug 03 14:21:39 <mclasen>	you mean the next devel snapshot, or the next stable release ?
Aug 03 14:21:49 <LRN>	stable
Aug 03 14:22:02 <LRN>	roadmap doesn't seem to have any dates anymore
Aug 03 14:23:12 <mclasen>	not sure it ever had forward-looking dates
Aug 03 14:23:22 <mclasen>	anyway, Sep 21
Aug 03 14:24:02 <LRN>	okay
Aug 03 14:30:20 <jmd>	How do I define accelerators in a GMenuModel ?
Aug 03 14:47:27 <jmd>	I have tried to set a keyboard accelerator in my app like this:    const gchar *xx[]={"<Ctrl>Q", 0};
Aug 03 14:47:27 <jmd>	  gtk_application_set_accels_for_action (GTK_APPLICATION (app), "quit", xx);
Aug 03 14:47:27 <jmd>	 
Aug 03 14:47:42 <jmd>	But it doesn't seem to do anything.  What have I missed?
Aug 03 14:51:56 <mclasen>	impossible to answer that. compare https://git.gnome.org/browse/gtk+/tree/examples/bp/bloatpad.c for a working example
Aug 03 16:24:12 <bugbot>	New gtk+ bug 769485 filed by bugzilla@tecnocode.co.uk.
Aug 03 16:24:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769485 .General, normal, gtk-bugs, NEW , Eliminate use of g_test_expect_message()
Aug 03 17:00:16 <bugbot>	New glib bug 769486 filed by bugzilla@tecnocode.co.uk.
Aug 03 17:00:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769486 general, normal, gtkdev, NEW , Deprecate g_test_expect_message() with structured logging
Aug 03 18:12:50 <pwithnall>	mclasen: bang, and the g_test_expect_message() is gone: https://bugzilla.gnome.org/show_bug.cgi?id=769485
Aug 03 18:12:51 <bugbot>	Bug 769485: .General, normal, gtk-bugs, NEW , Eliminate use of g_test_expect_message()
Aug 03 18:13:12 <pwithnall>	(see also its dependent bugs if you’re in a documentation review mood; they could do with some review)
Aug 03 18:48:48 <bugbot>	New gtk+ bug 769498 filed by sworddragon2@aol.com.
Aug 03 18:48:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, NEW , Scrollbars are broken
Aug 03 19:13:40 <Tyrant>	Hey guys! I have a hierarchical TreeStore and chose a ComboBox to display its contents. It works fine, but I want to be able to select parents as well as children. Currently, I'm only able to select children, parents are only used for sorting. How can I achieve that?
Aug 03 20:55:41 <bugbot>	New gtk+ bug 769500 filed by christian@hergert.me.
Aug 03 20:55:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769500 Themes, minor, gtk-bugs, NEW , adwaita: GtkWidget:sensitive animation should not cause "On" to be readable
Aug 04 01:41:32 <kung>	I have a GtkVBox, which has a statusbar, which is always at bottom, tho I wanna add a widget after it, but the new widget is always added before
Aug 04 01:41:41 <kung>	is this a pack-type "issue"?
Aug 04 01:41:49 <kung>	I tried: gtk_container_child_set(GTK_CONTAINER(gtk_widget_get_parent(statusbar)), statusbar, "pack-type", GTK_PACK_START, NULL);
Aug 04 01:41:55 <kung>	but that doesnt change anything 
Aug 04 01:42:16 <LRN>	pack statusbar with GTK_PACK_END?
Aug 04 01:42:57 <kung>	hm, isnt that already GTK_PACK_END?
Aug 04 01:43:01 <kung>	gonn try to change
Aug 04 01:43:04 <LRN>	dunno
Aug 04 01:43:18 <LRN>	i would suggest you try it out in Glade - faster that way
Aug 04 01:47:31 <kung>	LRN, oh thanks for the glade tip, I just realized in glade that pack-type means something different what I thought xD
Aug 04 01:48:18 <kung>	I thought it's forcing a widget to be always "last" in box, but it actually just means it located at bottom 
Aug 04 01:49:37 <kung>	oh or not
Aug 04 01:55:59 <kung>	nice, solved the problem, glade is really useful to understand whats going on
Aug 04 04:25:31 <bugbot>	New glib bug 769504 filed by johne53@tiscali.co.uk.
Aug 04 04:25:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769504 gobject, blocker, gtkdev, NEW , 'gobject.c' (in git master) fails to compile with MSVC
Aug 04 05:43:11 <bugbot>	New glib bug 769507 filed by bugzilla@tecnocode.co.uk.
Aug 04 05:43:11 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769507 general, normal, gtkdev, NEW , gmessages: Don’t require is_journald() call before writer_journald()
Aug 04 06:32:17 <bugbot>	ebassi@gmail.com changed the Status on bug 769504 from NEW --- to RESOLVED FIXED.
Aug 04 06:32:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769504 gobject, blocker, gtkdev, RESOLVED FIXED, 'gobject.c' (in git master) fails to compile with MSVC
Aug 04 06:43:47 <mclasen>	ebassi: I tracked down the headerbar positioning
Aug 04 06:44:37 <ebassi>	mclasen: Oh, thanks; was going over the coordinate space issues today — spent some time in the profiler yesterday
Aug 04 06:46:57 <mclasen>	pushed a possible fix in my branch
Aug 04 06:47:35 <ebassi>	Cool, I'm looking at it right now
Aug 04 06:48:58 <ebassi>	I wonder if we shouldn't just add the offset to the transformation matrix when setting it up
Aug 04 06:49:24 <ebassi>	But I'll have a got at it
Aug 04 06:49:26 <ebassi>	Thanks again!
Aug 04 06:51:04 *	ebassi needs to figure out why the first frame on hidpi is painted correctly and every other frame is not
Aug 04 06:51:36 <mclasen>	there may be other places where we need to handle the clip / allocation discrepancy
Aug 04 06:52:26 <mclasen>	I haven't looked at what the css render nodes do wrt to outer shadows, e.g
Aug 04 06:56:08 <ebassi>	In theory, that's what the bounds.origin should do — an additional translation applied when rendering. I'm likely not applying it correctly, especially when it's negative.
Aug 04 06:56:48 <mclasen>	the problem I found is that gtk_widget_get_render_node sets it right
Aug 04 06:57:01 <mclasen>	and gtk_container_propagate_render_nodes overrides it wrong
Aug 04 06:58:04 <mclasen>	splitting out that offset was a way to avoid that interference
Aug 04 06:58:20 <ebassi>	Likely something I misunderstood from the code in gtk_container_propagate_draw()
Aug 04 06:59:04 <mclasen>	no, I think the code is right
Aug 04 06:59:24 <mclasen>	it positions children according to their allocation
Aug 04 06:59:56 <mclasen>	just that when you have a nontrivial clip, the top left corner of the allocation can not be where you position your surface, in must extend beyond that
Aug 04 07:04:17 <ebassi>	The "bounds" of a GskRenderNode are the equivalent of the clip - the renderable area, including an eventual offset to be applied on top of the transformation of the top-left corner. Render nodes also have a child transform, which is applied to children only, on top of their own transformation.
Aug 04 07:04:31 <ebassi>	Containers should undo the clip offset as part of the child transformation
Aug 04 07:04:59 <ebassi>	So that children get drawn where their allocation is, but their renderable area can have a different offset
Aug 04 07:05:43 <ebassi>	Would that make sense?
Aug 04 07:07:25 <mclasen>	I briefly looked at the child transform, but couldn't see any use of it; I guess that would work fine
Aug 04 07:07:42 <mclasen>	although I'm not sure in what sense one of these transform is 'child' and the other isn't
Aug 04 08:41:16 <rrika>	Is it acceptable to call XGetWindowProperty on the UI thread?
Aug 04 08:41:39 <rrika>	I was wondering if there was an asynchronous version of this
Aug 04 08:55:39 <baedert>	Does the GtkCssValue redefinition in all the c files also confuse gdb?
Aug 04 09:06:48 <ebassi>	rrika: You can only call it inside the GUI thread; any other use is undefined behaviour
Aug 04 09:06:58 <ebassi>	rrika: XCB has asynchronous variants
Aug 04 09:07:39 <rrika>	gtk/gdk uses xlib, right? so I can't use xcb on the same connection, right?
Aug 04 09:10:35 <mclasen>	why are you worried about XGetWindowProperty being sync ?
Aug 04 09:12:00 <rrika>	I'm just generally wary about everything that's sync on a UI thread. I didn't bench anything.
Aug 04 09:12:08 <rrika>	If it's not a problem in practice then that's fine too.
Aug 04 09:14:03 <mclasen>	its not something I would worry about
Aug 04 09:15:57 *	ChanServ sets mode +q on #gtk+ Company
Aug 04 09:15:57 *	ChanServ gives channel operator status to Company
Aug 04 09:16:08 <rrika>	okay
Aug 04 09:20:10 <Redfoxmoon>	...
Aug 04 09:20:41 <Redfoxmoon>	Is there anything in glib's build system with regards to libtool causing race conditions?
Aug 04 09:21:32 *	mclasen not sure how anyone would answer that
Aug 04 09:23:18 <xjuan>	fmuellner: hola!, how are you? did you have time to take a look at the issue I mention the other day?
Aug 04 09:23:23 <andlabs>	question for others I guess http://stackoverflow.com/questions/38765080/delete-the-automatic-popover-shown-on-gtk-entry
Aug 04 09:23:34 <andlabs>	never heard of this before
Aug 04 09:23:35 <fmuellner>	xjuan: no, sorry
Aug 04 09:23:48 <xjuan>	no problem, do you have any pointers?
Aug 04 09:24:17 <baedert>	andlabs: that should only appear if a touchscreen is in use and in that case can't be deleted.
Aug 04 09:28:25 <mclasen>	more precisely, it should only appear if the entry sees touch events
Aug 04 09:28:38 <mclasen>	I don't think we show it on focus-in
Aug 04 09:30:30 <Redfoxmoon>	mclasen, was that /me for me? :p
Aug 04 09:30:39 <mclasen>	yes
Aug 04 09:30:54 <Redfoxmoon>	right, so...asking because there's a new C implementation of libtool
Aug 04 09:31:09 <Redfoxmoon>	which, when used with glib causes race conditions
Aug 04 09:31:12 <mclasen>	first time I hear about it, have a pointer ?
Aug 04 09:31:19 <Redfoxmoon>	*only* glib, no other packages
Aug 04 09:31:22 <Redfoxmoon>	Oh, right, yes, sec
Aug 04 09:31:51 <Redfoxmoon>	mclasen, http://midipix.org/ http://git.midipix.org/cgit.cgi/slibtool
Aug 04 09:31:53 <mclasen>	but my basic take on that would be: you replaced one piece in a very complicated puzzle, and now there's a problem... I would start by looking at the new piece
Aug 04 09:31:53 <Redfoxmoon>	:-)
Aug 04 09:32:05 <Redfoxmoon>	oh, it's been looked into a lot..
Aug 04 09:32:31 <Redfoxmoon>	a bunch of race conditions have been fixed, but glib remains
Aug 04 09:33:43 <mclasen>	on a meta-level I think replacing libtool with a new implementation is missing the larger picture...
Aug 04 09:34:01 <mclasen>	the problem with libtool is not so much that it is written in shell
Aug 04 09:34:07 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769507 from NEW --- to RESOLVED FIXED.
Aug 04 09:34:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769507 general, normal, gtkdev, RESOLVED FIXED, gmessages: Don’t require is_journald() call before writer_journald()
Aug 04 09:34:08 <mclasen>	but that it shouldn't really exist in the first place
Aug 04 09:40:41 <Redfoxmoon>	mclasen, it does exist, and has limitations
Aug 04 09:40:59 <Redfoxmoon>	like being unable to make shared libraries when cross compiling, slibtool doesn't care about that
Aug 04 09:41:02 <Redfoxmoon>	speed, etc
Aug 04 09:41:18 <Redfoxmoon>	of course if we COULD remove libtool from existence, that would be the best solution; but we can't
Aug 04 09:44:32 <smcv>	"unable to make shared libraries when cross compiling" [citation needed]
Aug 04 09:44:54 <Redfoxmoon>	smcv, just try building a library with libtool for midipix by cross compilation.
Aug 04 09:44:58 <Redfoxmoon>	you will not get a shared library :-)
Aug 04 09:45:05 <smcv>	I have no idea what midipix is
Aug 04 09:45:17 <smcv>	but every libdbus commit builds shared libraries for Windows on travis-ci
Aug 04 09:45:25 <Redfoxmoon>	libtool goes "hmmm....I don't know this platform, therefore no shared libraries!"
Aug 04 09:45:35 <Redfoxmoon>	midipix is a POSIX layer for windows
Aug 04 09:45:44 <Redfoxmoon>	unlike cygwin, it doesn't suck :-)
Aug 04 09:46:02 <smcv>	if you take a tool that contains knowledge of platform-specific quirks
Aug 04 09:46:12 <smcv>	and try to use it for a platform it doesn't know about
Aug 04 09:46:18 <Redfoxmoon>	it shouldn't matter
Aug 04 09:46:19 <smcv>	you are not going to have a good time
Aug 04 09:46:25 <Redfoxmoon>	uhm.
Aug 04 09:46:37 <Redfoxmoon>	libtool shouldn't go to a "known list for shared libraries"
Aug 04 09:46:53 <smcv>	knowing which hoops you need to jump through to get a shared library, on which platforms, is exactly the point of libtool
Aug 04 09:46:53 <Redfoxmoon>	it COULD check against a list of broken platforms, sure
Aug 04 09:47:09 <Redfoxmoon>	normal PE target
Aug 04 09:47:23 <Redfoxmoon>	"libtool: different triplet, therefore NOPE."
Aug 04 09:47:26 <Redfoxmoon>	uh.
Aug 04 09:47:27 <smcv>	now, perhaps the world has got better since libtool started, and "most" relevant platforms can be lumped into equivalence classes
Aug 04 09:47:39 <Redfoxmoon>	it has AFAIK
Aug 04 09:47:45 <Redfoxmoon>	most platforms are sane :(
Aug 04 09:50:15 <andlabs>	what do you mean
Aug 04 09:50:20 <andlabs>	we still need to support xenix and 2.2BSD
Aug 04 09:50:32 <Redfoxmoon>	:-)
Aug 04 09:50:44 <Redfoxmoon>	trololo
Aug 04 09:51:32 <andlabs>	when will gtk3 for amiga workbench be out =P
Aug 04 09:51:41 <mclasen>	anyway, to get back to the beginning of this discussion, I think showing the failure you see might be more productive than asking about race conditions in general
Aug 04 09:59:49 <gnunn>	I've got a user complaining about huge icons in GTK 3.16 when using my app. The app uses custom SVG icons and only my custom icons are showing up huge, the icons taken from the theme are the correct size. Any chance this is a known issue in GTK 3.16? Here's my bug report: https://github.com/gnunn1/terminix/issues/428
Aug 04 10:01:01 <gnunn>	I went through bugzilla and while there are some bug reports for huge icons they all seem to be all or nothing, i.e. all icons are huge, whereas in my case some icons are huge some are normal
Aug 04 10:01:47 <baedert>	gnunn: are you storing symbolic icons in scalable/?
Aug 04 10:02:30 <gnunn>	baedert: They are in a scaleable folder in my resource file yes. It works fine in other GTK versions as far as I can tell
Aug 04 10:03:13 <baedert>	gnunn: opensuse sets the min size of scalable/ to 64px
Aug 04 10:03:30 <baedert>	you have to use symbolic/ for symbolics
Aug 04 10:03:49 <baedert>	which increases the icon theme spec whatever package version you need because symbolic/ only exists in the latest version
Aug 04 10:04:07 <baedert>	... which you can work around by using symbolic pngs
Aug 04 10:04:22 <gnunn>	baedert: I think mine are smaller then that
Aug 04 10:04:47 <baedert>	then 32, doesn't matter
Aug 04 10:05:02 <baedert>	https://github.com/baedert/corebird/issues/451
Aug 04 10:05:52 <gnunn>	baedert: Thanks very much for that link, this saves me a ton of time in trying to figure out the problem!
Aug 04 10:07:48 <baedert>	gnunn: The end result was https://github.com/baedert/corebird/commit/84a11623e24ac3bd58a86847b7262d373005eb53 ...
Aug 04 10:10:06 <gnunn>	baedert: OK, that seems pretty reasonable. Thanks again for this, saves me a ton of time
Aug 04 10:17:44 <Redfoxmoon>	mclasen, will try do that later and post the log
Aug 04 10:42:50 <al>	can a GSocket of type G_SOCKET_TYPE_STREAM be used with g_dtls_server_connection_new ?
Aug 04 10:51:36 <pmike>	al: I suppose it cannot, looking from the source code, but pwithnall: knows better
Aug 04 11:02:32 <kung>	anybody knows a C++ IDE written in GTK?
Aug 04 11:02:52 <pmike>	anjuta? 
Aug 04 11:02:58 <kung>	gonna google :)
Aug 04 11:03:34 <kung>	nice, gonna install
Aug 04 11:03:38 <pmike>	;)
Aug 04 11:03:48 <pmike>	geany also
Aug 04 11:16:42 <ebassi>	gnome-builder
Aug 04 11:17:33 <mclasen>	eclipse ?
Aug 04 11:33:53 <baedert>	Company: http://paste.fedoraproject.org/401281/24711147/
Aug 04 11:36:38 <mclasen>	looks fine to me
Aug 04 11:41:17 <baedert>	Company: Also, totally unrelated, but do you want to look into bug 763517? :)
Aug 04 11:41:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=763517 .General, normal, gtk-bugs, NEEDINFO , Selected sidebar item in file chooser briefly has wrong color on cursor leave
Aug 04 11:43:58 <al>	thanks pmike, i dont' think GSocket should implement GDatagramBased interface. Not all sockets are DatagramBased, e.g. TCP.
Aug 04 11:44:00 <al>	There should be a new object GDatagramBasedSocket that inherits from GSocket and implements GDatagramBased. This will GError if try to create TCP socket with it. The changes to GSocket are causing problems with Vala. The idea of a conditional interface based on constructor argument is dubious in my view
Aug 04 11:52:11 <pwithnall>	al: It’s not a conditional interface, it’s an interface which will return an error if you call its methods on a stream-based socket
Aug 04 11:52:29 <pwithnall>	It’s no worse than socket() being a gateway to all sorts of different types of connections with totally different semantics
Aug 04 11:53:04 <pwithnall>	and I suspect less painful than having a DatagramBased and StreamBased copy of a lot of classes and interfaces
Aug 04 11:53:54 <pwithnall>	But to answer your original question, as pmike said: you cannot use a stream-based socket with GDtlsServerConnection
Aug 04 11:54:03 <pwithnall>	It will throw errors as soon as you try sending or receiving data
Aug 04 11:54:21 <al>	hmm, if it errors then it doesn't implement the method so it is not implementing the interface. my understanding was that GObject brought OOP methods to C. this seems like a corruption of that
Aug 04 11:55:25 <al>	and makes it difficult for bindings
Aug 04 11:55:56 <al>	what purpose does the interface serve?
Aug 04 11:57:55 <DimStar>	Hi all. the fresh 3.20.7 tarball is 'broken' insofar that it requires an unstable glib2 version due to https://git.gnome.org/browse/gtk+/commit/configure.ac?h=gtk-3-20&id=a01ee5a7b0a9a7170d4be3c64314ee51dd502cab
Aug 04 12:47:01 <nacho_>	LRN, sorry for the late response
Aug 04 12:47:04 <nacho_>	LRN, just made the review
Aug 04 12:47:17 <LRN>	just pushed
Aug 04 12:47:52 <LRN>	IIRC you've agreed that these are OK for master and asked me to hold up the 2.24 backport last time we spoke
Aug 04 12:47:59 <DimStar>	mclasen: Hi - I think you joined after I posted it:  fresh 3.20.7 tarball is 'broken' insofar that it requires an unstable glib2 version due to 
Aug 04 12:48:03 <DimStar>	                 https://git.gnome.org/browse/gtk+/commit/configure.ac?h=gtk-3-20&id=a01ee5a7b0a9a7170d4be3c64314ee51dd502cab
Aug 04 12:48:04 <LRN>	so i just wanted a non-IRC confirmation
Aug 04 12:48:11 <nacho_>	LRN, this one is pushed? https://bugzilla.gnome.org/show_bug.cgi?id=768722
Aug 04 12:48:12 <bugbot>	Bug 768722: Backend: Win32, major, gtk-win32-maint, NEW , Keyboard shortcuts for russian characters doesn't work
Aug 04 12:48:15 <LRN>	yes
Aug 04 12:48:32 <LRN>	also, pushed the other one, from bug 569581
Aug 04 12:48:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=569581 Backend: Win32, minor, gtk-win32-maint, NEW , Using the US-Intl keyboard layout causes unexpected character combinations
Aug 04 12:48:33 <nacho_>	ah!, mind fixing the minor issues pointed out and push a patch?
Aug 04 12:48:49 <mclasen>	DimStar: arr, I meant to skip that
Aug 04 12:49:17 <DimStar>	mclasen: I was pretty sure you did not mean to require an unstale glib in stable gtk
Aug 04 12:50:29 <mclasen>	reverted
Aug 04 12:51:05 <DimStar>	will you do a new release tarball or shall I just revert it in the packages too?
Aug 04 12:51:21 <mclasen>	let me do that quickly
Aug 04 13:15:47 <heftig>	mclasen: gtk 3.20.7 depends on glib 2.29.1
Aug 04 13:15:56 <heftig>	er, 2.49.1
Aug 04 13:16:11 <mclasen>	3.20.8 won't
Aug 04 13:16:21 <heftig>	ah, okay, thanks.
**** BEGIN LOGGING AT Thu Aug  4 13:52:14 2016

Aug 04 13:52:14 *	Now talking on #gtk+
Aug 04 13:52:14 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 04 13:52:14 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
**** BEGIN LOGGING AT Thu Aug  4 14:02:44 2016

Aug 04 14:02:44 *	Now talking on #gtk+
Aug 04 14:02:44 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 04 14:02:44 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 04 15:00:43 <hergertme>	hrmm, do we not get a notify on active-id when a comboboxtext changes?
Aug 04 15:01:05 <jmd>	Using gtk_widget_add_accelerator, from where to I get the accel_group pointer?
Aug 04 15:01:35 <hergertme>	certainly *looks* like it should, hrmm
Aug 04 15:03:36 *	hergertme wonders why his GBinding isn't working
Aug 04 15:12:33 <mclasen>	b4n: garnacho was looking at it
Aug 04 15:13:07 <mclasen>	if thats the bug I'm thinking of
Aug 04 15:13:22 <garnacho>	oh right
Aug 04 15:19:27 <tobias47n9e>	What is the GTK locale for Dari language? fa_AF does not seem to work.
Aug 04 15:21:32 <mclasen>	we do have a fa.po
Aug 04 15:24:07 <tobias47n9e>	mclasen, fa starts with RTL but fa_AF not. Is that maybe a bug?
Aug 04 15:25:08 <mclasen>	both fa and fa_AF come up in rtl here
Aug 04 15:26:14 <tobias47n9e>	mclasen, Thanks. I guess then it is an issue on my side
Aug 04 15:27:02 <mclasen>	how are you setting it ? my guess would be that setlocale fails for one of your two tries
Aug 04 15:34:38 <jmd>	What's the shift key called in Variant speak?
Aug 04 15:37:03 <tobias47n9e>	mclasen, Now I know what the problem is. fa_AF in Windows 7 is prs_AF
Aug 04 15:37:39 <tobias47n9e>	I will have to catch all of these differing local labels
Aug 04 15:37:55 <mclasen>	ugh
Aug 04 15:39:17 <b4n>	mclasen, garnacho great, thanks :)
Aug 04 16:06:31 <tonyctl>	is it possible to hide a gtk window with css?
Aug 04 16:27:34 <hergertme>	tonyctl: no
Aug 04 16:28:13 <tonyctl>	can I make it transparent enough to be invisible?
Aug 04 16:28:42 <hergertme>	you might need to make sure it has an rgba visual (although maybe that is default by now?)
Aug 04 16:29:54 <hergertme>	hrmm, setting the opacity property works for me, but not window { opacity: 0.3 }
Aug 04 16:30:07 <hergertme>	probably due to visuals
Aug 04 16:31:01 <tonyctl>	hm
Aug 04 16:31:24 <tonyctl>	I'm trying to make a unity theme where I hide parts of the ui
Aug 04 16:33:12 <The_gull>	* { color:transparent; background:none; border:none;  } ?
Aug 04 16:33:31 <The_gull>	looks quite… transparent
Aug 04 16:34:06 <mclasen>	as long as you don't expect to click on the button from the window underneath...
Aug 04 16:43:16 <tonyctl>	that might work but I don't know if I have the right selector
Aug 04 17:25:41 <rudrab>	Hi, please, how can I add a pixbuf image to a GtkCellRendererPixbuf?
Aug 04 17:25:55 <rudrab>	must be silly, but please help
Aug 04 17:26:30 <rudrab>	https://paste.gnome.org/pc2skadlc is the part, 
Aug 04 17:26:49 <rudrab>	where i want to pack a pixbuf
Aug 04 17:32:46 <bugbot>	carlosg@gnome.org changed the Status on bug 769287 from NEW --- to RESOLVED FIXED.
Aug 04 17:32:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769287 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, GtkMenuToolButton:show-menu is emitted twice and breaks dynamic menus
Aug 04 17:39:22 <b4n>	garnacho: thanks
Aug 04 17:39:33 <b4n>	would it be possible to have it backported to the affected stable branches?
Aug 04 17:42:58 <garnacho>	b4n: yeah, I'll push to gtk-3-20 too, not sure the previous will get that much further attention
Aug 04 17:43:38 <b4n>	well, I would hope for things like Ubuntu to update to a newer 3.18 if it happened
Aug 04 17:44:02 <b4n>	maybe I'm too optimistic about them, but well
Aug 04 17:50:07 <rudrab>	Do I must have a liststore defined for this?
Aug 04 17:53:19 <b4n>	rudrab: if you don't have a liststore how do you use the renderer?  but no, you can g_object_set(renderer, "pixbuf", pixbuf, NULL);
Aug 04 18:11:49 <rudrab>	b4n: like this: https://paste.gnome.org/pdxowpffm
Aug 04 18:11:50 <rudrab>	?
Aug 04 18:24:30 <b4n>	Redfoxmoon: hum, no
Aug 04 18:25:00 <b4n>	sorry, wrong HL
Aug 04 18:25:05 <b4n>	he's gone
Aug 04 18:26:01 <Redfoxmoon>	happens :-)
Aug 04 19:53:43 <ebassi>	mclasen: Pushed some more gadget -> render node work; I still have a weird offset in the contents of the header bar, but I can't find where it's coming from
Aug 04 19:54:05 <mclasen>	I just built that branch, will have another look
Aug 04 19:54:17 <ebassi>	Cool, thanks
Aug 04 22:41:52 <tonyctl>	hey does gtk respect WAYLAND_DISPLAY env variable?
Aug 04 22:46:42 <tonyctl>	I see it does in weston
Aug 05 01:17:22 <mclasen>	ebassi: pushed a fix for headerbar allocation
Aug 05 02:38:08 <rudrab>	Hi, with python3+Gtk3, how can I add 2 cell renderer(text+pixbuf) to a single treeview?
Aug 05 02:38:55 <rudrab>	I am trying https://paste.gnome.org/pps9ccnwe
Aug 05 02:40:19 <TingPing>	rudrab, just make two renderers and pack them both in
Aug 05 02:40:40 <TingPing>	rudrab, an example: https://python-gtk-3-tutorial.readthedocs.io/en/latest/treeview.html#the-view
Aug 05 02:41:54 <rudrab>	TingPing: I am trying to do that ...the problem is, is it possible to load data to cellrenderer without a liststore? e.g. set_property?
Aug 05 02:42:20 <rudrab>	see the code please
Aug 05 02:43:50 <TingPing>	rudrab, sure, but the property you want is probably "icon-name"
Aug 05 02:44:29 <TingPing>	rudrab, http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/CellRendererPixbuf.html#properties
Aug 05 02:45:19 <rudrab>	ah...ok
Aug 05 02:45:22 <rudrab>	thanks a lot
Aug 05 02:49:03 <rudrab>	TingPing: will you have a little more time plz?
Aug 05 02:50:28 <rudrab>	https://paste.gnome.org/phmomfmiv is what I am trying to do....a cellrenderercombo. The icons is working great, but that is not clickable
Aug 05 02:51:33 <rudrab>	I am trying to get the icon clickable, not the text (both is ok)
Aug 05 02:51:54 <TingPing>	is the text clickable?
Aug 05 02:52:51 <rudrab>	yes
Aug 05 02:53:32 <rudrab>	when i click the text, the on_combo_changed works
Aug 05 02:53:35 <TingPing>	hmm, well im not certain the best solution, but you could probably just connect to the clicked signal of the treeview and if its the icon activate the combo instead
Aug 05 02:56:53 <rudrab>	hmm...already did that...unfortunately CellRendererPixbuf does not have a clicled/edited signal
Aug 05 02:57:08 <TingPing>	that is why i sad the treeview
Aug 05 03:00:28 <rudrab>	Actually it should open a cellrenderercombo
Aug 05 03:41:53 <bugbot>	New glib bug 769534 filed by jan.steffens@gmail.com.
Aug 05 03:41:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769534 general, normal, gtkdev, NEW , g_unix_signal_source_new does not support SIGWINCH
Aug 05 03:50:03 <bugbot>	mcrha@redhat.com changed the Component on bug 769263 from general to Backend: Wayland.
Aug 05 03:50:03 <bugbot>	mcrha@redhat.com changed the Product on bug 769263 from evolution to gtk+.
Aug 05 03:50:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, NEW , [Wayland] Changes parent menu selection on hover of a child
Aug 05 07:10:57 <mclasen>	ebassi: the css nodes need to take outer shadows into account, I think
Aug 05 07:16:35 <ebassi>	mclasen: I thought that was part of the computation when drawing
Aug 05 07:16:43 <ebassi>	the background, I mean
Aug 05 07:17:19 *	ebassi is going to leave for the weekend in about an hour, so it'll have to wait until Monday morning
Aug 05 07:17:46 <mclasen>	if you look at the shadows example in gtk3-demo, you'll notice some are missing
Aug 05 07:17:51 <mclasen>	I may look at it a bit
Aug 05 07:18:00 <mclasen>	we may just be clipping them away
Aug 05 07:18:16 <ebassi>	Yeah, it's probably a case of missing clip
Aug 05 07:18:31 <ebassi>	i.e. using the allocation instead of the clip to determine the size of the node
Aug 05 07:18:52 <ebassi>	The frame rendering is also a bit bust: the label is drawn over the frame border
Aug 05 07:19:10 <ebassi>	Likely because it expects to be rendering on the same cairo_t
Aug 05 07:19:18 <ebassi>	With a clip
Aug 05 07:31:42 <The_gull>	what’s the correct way (if there’s one) to “scroll to the selected row” in a GtkListBox inside a GtkScrolledWindow ? it looks really hard to do
Aug 05 07:34:31 <baedert>	get the selected row, get its coordinates relative to those of the listbox, gtk_adjustment_set_value to that?
Aug 05 07:39:39 <The_gull>	using get_allocation () or something like that ?
Aug 05 07:40:13 <baedert>	yes
Aug 05 07:40:32 <baedert>	gtk_widget_translate_coordinates if you have to
Aug 05 07:42:54 <The_gull>	ok, thanks, I’ll try that
Aug 05 07:43:08 <The_gull>	(but I think it’s quite complicated for something that should be trivial)
Aug 05 07:44:29 *	ChanServ sets mode +q on #gtk+ Company
Aug 05 07:44:29 *	ChanServ gives channel operator status to Company
Aug 05 08:41:33 <bugbot>	New gtk+ bug 769554 filed by andreas.pokorny@gmail.com.
Aug 05 08:41:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769554 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Touchpad scrolling not as smooth as it should be
Aug 05 09:46:22 <bugbot>	New gtk+ bug 769557 filed by andreas.pokorny@gmail.com.
Aug 05 09:46:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769557 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Gtk applications crash when user attempts to drag
Aug 05 11:26:42 <garnacho>	mclasen: I btw consider wip/wayland-tablet-v2 ready for review/landing, I'm now writing the missing API docs
Aug 05 11:27:01 <mclasen>	ok!
Aug 05 11:36:06 <baedert>	garnacho: what's a hardware id? *hint* :)
Aug 05 11:40:37 <garnacho>	baedert: I'm on it :P. it's a "serial number" of sorts, a number only that stylus/GdkDeviceTool has
Aug 05 14:15:04 <bugbot>	New gtk+ bug 769562 filed by db0451@gmail.com.
Aug 05 14:15:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769562 Widget: GtkComboBox, normal, gtk-bugs, NEW , ComboBox does not propagate has_focus from child ToggleButton or provide any real way to check focus/activation state
Aug 05 15:59:18 <behdad>	is there an easy way to get a ctypes-compatible pointer from g-i python bindings?
Aug 05 15:59:32 <behdad>	eg. the raw pointer?  I suppose the id() does that still?
Aug 05 17:46:23 <gregier>	behdad: id() will probably give you the wrapper, not the actual object instance, looks like you want GObject.Object().g_type_instance 
Aug 05 18:02:57 <gnunn>	Arch recently upgrade to GTK 3.20.8 and I'm seeing this warning now everytime I run my app "(terminix:5674): Gtk-WARNING **: Allocating size to GtkScrollbar 0x247b5e0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?". Checked bugzilla but didn't see anything
Aug 05 18:26:25 <bugbot>	New gtk+ bug 769566 filed by gerald.b.nunn@gmail.com.
Aug 05 18:26:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769566 Widget: GtkRange, normal, gtk-bugs, NEW , GtkScrollbar warning "How does the code know the size to allocate?"
Aug 05 20:36:35 <bugbot>	New gtk+ bug 769568 filed by dhgutteridge@hotmail.com.
Aug 05 20:36:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769568 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Modification date display incorrectly wraps calendar days (and is inconsistent with GTK2 and Nautilus)
Aug 05 20:37:51 <grim>	so if gtk_dialog_set_alternative_button_order is deprecated, how do I add a button to an existing dialog?
Aug 05 22:56:42 <jmd>	Where is the format for the attribute name="accel" properties of GMenuModel documented ?
Aug 06 03:00:59 <rudrab>	Hi, given the CellRendererCombo remains almost hidden (no visual for presence of a combo, eg. dropdown arrow of a normal combobox), I am trying to add a pixbuf in the same cell
Aug 06 03:01:28 <rudrab>	e.g. https://paste.gnome.org/ptnqluhzf
Aug 06 03:02:09 <rudrab>	problem is the cellrendererpixbuf is not clickable. any idea how to use it?
Aug 06 03:05:25 <rudrab>	http://picpaste.com/Screenshot_from_2016-08-06_09-02-41-kxfR8zgu.png is how my corresponding treeviewcolumn is. 
Aug 06 03:05:59 <TingPing>	rudrab, the index is what has a combo?
Aug 06 03:06:11 <rudrab>	yes
Aug 06 03:06:32 <TingPing>	rudrab, seems like drag n drop is a better way to set an order than a combobox
Aug 06 03:07:02 <TingPing>	though i suppose it might be resortable
Aug 06 03:08:47 <rudrab>	so, you mean there is no easy way to make the pixbuf clickable (or the full TreeViewColumn)?
Aug 06 03:09:39 <TingPing>	well i told you an option yesterday
Aug 06 03:11:29 <rudrab>	TingPing:True, but was not very clear to me..as you can see, I am still fighting
Aug 06 03:14:42 <rudrab>	I have tried making the column clickable. as column_combo.connect("clicked", self.on_combo_changed)
Aug 06 03:14:49 <rudrab>	but no effect
Aug 06 03:15:38 <TingPing>	rudrab, well, at a glance the rough details is, 'button-press-event' of the view, then get_path_at_pos(), somehow get that to a cellrenderer, and call activate() on the combo
Aug 06 03:16:48 <TingPing>	if i were you i just wouldn't shove an icon there, i don't think it makes it much more clear
Aug 06 03:17:10 <TingPing>	if the view isn't sortable, just enable drag n drop and that solves that
Aug 06 03:24:59 <rudrab>	TingPing: tell me one thing, plz
Aug 06 03:26:00 <rudrab>	The TreeViewColumn is clickable; and I have added one more widget(the cellpixbuf) to the column. 
Aug 06 03:26:28 <rudrab>	So, should it not have the properties of the treeviewcolumn?
Aug 06 03:27:19 <TingPing>	clickability of columns refers to the header
Aug 06 03:28:09 <TingPing>	as the docs say: http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/TreeViewColumn.html#Gtk.TreeViewColumn.props.clickable
Aug 06 03:34:31 <rudrab>	one last help: is it possible to make the pixbuf clickable, not the int itself?
Aug 06 06:19:21 <heftig>	qt5, chrome and firefox can all display colored emoji, now just gtk seems be missing here
Aug 06 06:45:55 <jmd>	heftig: Gtk+ copes well with colours for me.
Aug 06 06:46:10 <heftig>	jmd: perhaps that is new in 3.21
Aug 06 06:46:34 <jmd>	Err.  I think it's been like that at least since 2.0
Aug 06 06:46:47 <jmd>	Maybe you have a configuration issue.
Aug 06 06:47:17 <heftig>	wat
Aug 06 06:48:00 <heftig>	jmd: i'm pretty sure this is a problem that goes deep down the stack into cairo, which can't load colored glyphs
Aug 06 06:48:12 <heftig>	that is, colored glyphs are converted to grayscale
Aug 06 06:48:52 <jmd>	I don't know about that.  There are so many different standards for fonts.
Aug 06 06:49:27 <heftig>	i'm having that behavior with both "Noto Color Emoji" and "Apple Color Emoji"
Aug 06 06:49:42 <jmd>	I don't know what they are.
Aug 06 06:52:04 <heftig>	jmd: emoji fonts
Aug 06 06:53:33 <jmd>	Again, I'm not a font expert.  But I know there are so many "standards" and non-standards for fonts, so you could be right.  Perhaps this particular class of font is not fully supported.
Aug 06 06:53:56 <TingPing>	heftig, behdad has certainly mentioned it, no clue if anything came from that
Aug 06 06:54:48 <heftig>	jmd: you do know what i'm talking about?
Aug 06 06:55:29 <jmd>	I guess the thing is, if some random person suddenly announces "Hey! I have invented a new standard for fonts", it is unreasonable to expect the Gtk devs to drop everything and suddenly implement that standard.
Aug 06 06:55:32 <TingPing>	heftig, https://lists.cairographics.org/archives/cairo/2016-April/027357.html
Aug 06 06:56:34 <heftig>	jmd: no, the colored glyph loading is implemented in freetype
Aug 06 06:56:45 <heftig>	TingPing: thanks
Aug 06 07:42:11 <hadess>	heftig, you should read my blog post, which explains the different font standards, and how to get colour emojis in gtk+
Aug 06 10:24:33 *	ChanServ sets mode +q on #gtk+ Company
Aug 06 10:24:33 *	ChanServ gives channel operator status to Company
Aug 06 11:55:40 <ic2000>	ah found the right channel. i've just got a little question; how is the performance of gtk applications on windows? i've heard it has a bad reputation and i'm just here to confirm if it's as slow as people say
Aug 06 12:55:01 <pmike>	ic2000: not sure what you mean by slow, just try, for example, gimp on windows and take your conclusions
Aug 06 13:00:49 <ic2000>	pmike, yeah i've used it quite a lot. the loading times are quite slow, i'm not sure if this is gtks fault or the application design itself
Aug 06 13:01:27 <pmike>	is your pc old somehow? other software runs good quit?
Aug 06 13:02:22 <baedert>	gimp startup times are long because of all the plugins etc.
Aug 06 13:02:24 <pmike>	in my experiencie i see no difference but there are many variables that can change ones experience
Aug 06 13:04:30 <ic2000>	pmike, nah my pc is definitely not old lol - another thing is photoshop loads twice as fast. but i think baedert's conclusion could be the case
Aug 06 13:05:25 <pmike>	indeed, instead of the loading, check how the application performs while working, does it seems slow? slow rendering?, slow mouse and high cpu?
Aug 06 13:05:41 <baedert>	... and then remember that gimp is gtk2
Aug 06 13:05:48 <pmike>	exactly
Aug 06 13:06:42 <ic2000>	pmike, apart from the loading and some certain art options (like cubify) it works fine
Aug 06 13:06:53 <ic2000>	i was also told to use gtk2 over gtk3 as it's less bloated?
Aug 06 13:07:39 <baedert>	mitch: ... which reminds me that I have a rebased version of the gtk3-port branch (with a few additional commits). The rebase is not perfect and needed a fixup later but not sure how important that is to you
Aug 06 13:07:42 <pmike>	some plugins are cpu intensive, it's normal. Also, dont forget that gimp, unlike photoshop, it's not a commercial grade software, there are differences
Aug 06 13:08:39 <baedert>	ic2000: if you never ever want to change your codebase, gtk2 is perfect
Aug 06 13:09:26 <ic2000>	baedert, i don't have a codebase :) i'm looking for a gui lib to use. it's either learn C++ and use Qt, or use gtk and C
Aug 06 13:09:31 <ic2000>	i really don't want to learn C++ atm
Aug 06 13:09:41 <pmike>	ic2000: depends on your goals with gtk
Aug 06 13:10:04 <pmike>	ic2000: gtk has bindings to a lot of languages
Aug 06 13:10:30 <pmike>	dont need to go to gtkmm
Aug 06 13:10:53 <baedert>	if less "bloat" is you only goal you might as well just use ncurses.
Aug 06 13:11:05 <pmike>	xD
Aug 06 13:44:36 <mitch>	baedert: i meant to rebase it soon, too, dunno what is "not perfect", but maybe you can drop me the additional commits?
Aug 06 13:46:04 <mitch>	ic2000: when somebody says "bloat", stop listening to them
Aug 06 13:58:22 <baedert>	mitch: well there's one "Fix build" commit after the rebase :)
Aug 06 13:58:49 <mitch>	baedert: i guess i'll hit that myself
Aug 06 14:13:21 <baedert>	mitch: https://paste.xinu.at/m-OeLL/ Some of those are silly but 0252 was particularly tricky to track down.
Aug 06 14:18:40 <arun>	Hi, I'm usig a flowbox and am backaging a boxes in it, each box has itself several boxes again. When I use the cursors to move around, I would like it to only iterate over the flowbox children, but it also goes a level deeper and iterates over the box children... how do I disable this?
Aug 06 14:56:20 <bugbot>	New gtk+ bug 769581 filed by agalakhov@gmail.com.
Aug 06 14:56:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769581 Printing, normal, gtk-bugs, NEW , Color profile in print dialog is displayed incorrectly
Aug 06 17:14:13 <bugbot>	mclasen@redhat.com changed the Status on bug 769485 from NEW --- to RESOLVED FIXED.
Aug 06 17:14:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769485 .General, normal, gtk-bugs, RESOLVED FIXED, Eliminate use of g_test_expect_message()
Aug 06 18:22:54 <mitch>	baedert: oh wow that's quite some patches, thanks
Aug 06 18:23:40 <mitch>	baedert: can you tar those up and mail me?
Aug 06 18:56:58 <Hussam>	Anyone noticed this before? https://dl.dropboxusercontent.com/u/105616579/csd.png some of the edge pixels are transparent.
Aug 06 19:44:04 <borschty>	Hussam, they are supposed to be. The window border uses a slightly transparent box-shadow instead of an actual border.
Aug 06 19:45:06 <Hussam>	Ah ok. I just thought I would ask because it looks a bit smudged on Totem :)
Aug 06 19:45:28 <Hussam>	well, the dark theme.
Aug 06 21:26:39 <TingPing>	hadess, did any of the color patches get merged in cairo?
Aug 06 22:06:03 <kung>	Anybody can imagine a reason why every OpenGL widget won't draw textures anymore just because I added a new OpenGL widget to the window?
Aug 06 23:10:47 <heftig>	kung: perhaps you're uploading textures to the wrong context?
Aug 06 23:11:55 <kung>	heftig, the strange thing is, I removed all code which messes with texture loading/uploading but the issue still exists
Aug 06 23:12:32 <kung>	literally removed all code, so it's just an empty widget 
Aug 07 03:10:20 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769486 from NEW --- to RESOLVED FIXED.
Aug 07 03:10:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769486 general, normal, gtkdev, RESOLVED FIXED, Deprecate g_test_expect_message() with structured logging
Aug 07 03:11:42 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 682794 from NEW --- to RESOLVED FIXED.
Aug 07 03:11:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=682794 docs, enhancement, gtkdev, RESOLVED FIXED, Add usage guidance to logging documentation
Aug 07 03:23:01 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 712760 from NEW --- to RESOLVED FIXED.
Aug 07 03:23:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=712760 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, Clang static analysis fixes
Aug 07 05:48:58 <bugbot>	fpeters@0d.be changed the Component on bug 769601 from developer.gnome.org to Documentation.
Aug 07 05:48:58 <bugbot>	fpeters@0d.be changed the Product on bug 769601 from website to gtk+.
Aug 07 05:48:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769601 Documentation, minor, gtk-bugs, NEW , dead link in faq
Aug 07 07:44:55 <mitch>	baedert: thanks :) I'll squash some of those with much earlier commits on the branch because they essentially undo stuff that was needed on earlier gtk3 versions
Aug 07 07:45:06 <mitch>	but not today... sunny sunday outside
Aug 07 08:33:01 <bugbot>	New gtk+ bug 769603 filed by dominik@strehlke.info.
Aug 07 08:33:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, NEW , gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 08:50:01 *	ChanServ sets mode +q on #gtk+ Company
Aug 07 08:50:01 *	ChanServ gives channel operator status to Company
Aug 07 10:41:18 <ochosi>	hey folks, this might be a silly question but where is all the gnome-specific theming in adwaita? it doesn't seem to be in the core (that is baked into gtk+), correct?
Aug 07 10:41:45 <baedert>	app-specific css in is shipped with apps
Aug 07 10:42:16 <ochosi>	so e.g. theming for the .floating-bar in nautilus should be there..?
Aug 07 10:42:39 <baedert>	yep
Aug 07 10:42:41 <ochosi>	(there == nautilus sources)
Aug 07 10:42:42 <ochosi>	ok
Aug 07 10:42:44 <ochosi>	thanks!
Aug 07 10:43:50 <ochosi>	baedert: hm, can't seem to find it, could you give me one more hint for nautilus specifically?
Aug 07 10:44:05 <ochosi>	or is it not in a separate css file?
Aug 07 10:44:22 <bugbot>	kris@loopnest.org changed the Component on bug 767091 from General to Backend: Quartz.
Aug 07 10:44:22 <bugbot>	kris@loopnest.org changed the Product on bug 767091 from GIMP to gtk+.
Aug 07 10:44:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767091 Backend: Quartz, normal, gtk-quartz-maint, NEW , Gimp Crashes dragging pattern to overlay layer
Aug 07 10:45:31 <baedert>	ag says src/resources/css/Adwaita.css
Aug 07 10:46:34 <ochosi>	awesome, thanks a lot!
Aug 07 13:03:29 <bugbot>	kris@loopnest.org changed the Status on bug 753992 from REOPENED --- to RESOLVED FIXED.
Aug 07 13:03:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=753992 Input Methods, normal, gtk-bugs, RESOLVED FIXED, im-quartz discard_preedit segmentation fault
Aug 07 14:12:03 <swilmet>	ochosi: you can use the find command to find all *.css files in a directory (or sub-directory)
Aug 07 14:12:20 <swilmet>	find . -name "*.css"
Aug 07 14:30:25 <ochosi>	swilmet: yup i know, i was browsing git online though and wasn't entirely sure what i was looking for
Aug 07 14:30:31 <ochosi>	thanks for the hint though!
Aug 07 14:31:36 <nicknameitis>	if anyone is interested in databinding, here it is in action (live inspector) https://www.youtube.com/watch?v=-9Sv2Tkj6Gk and (full demo of all features that work) https://www.youtube.com/watch?v=HDNQg7ShnDg
Aug 07 15:17:14 <fahrvergnugen>	In C, I'd make a greasources.xml file to put gtk/menus-appmenu.ui and gtk/menus-traditional.ui to choose the menus intelligently depending on whether we're in GNOME 3 or some other GUI.  How do you do the same in a dynamic-language binding like PyGObject?
Aug 07 15:28:09 <fahrvergnugen>	hmm; looks like you can compile to a gresource file instead of a .c and .h file ( http://stackoverflow.com/questions/30308748/what-is-a-resource-path-that-have-to-be-used-with-gtk-builder-new-from-resource )
Aug 07 15:29:06 <fahrvergnugen>	It would be even better if you could just have it as a constant string in your program; any way to do that, but still have it intelligently choose which one based on desktop environment?
Aug 07 16:04:32 <bugbot>	New gtk+ bug 769608 filed by db0451@gmail.com.
Aug 07 16:04:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769608 Widget: GtkComboBox, normal, gtk-bugs, NEW , ComboBox Button automatically sizes to fit model's values... ONLY upwards. It won't shrink back down.
Aug 07 16:13:20 <bugbot>	mclasen@redhat.com changed the Status on bug 769603 from NEW --- to RESOLVED FIXED.
Aug 07 16:13:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, RESOLVED FIXED, gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 16:14:52 <bugbot>	mclasen@redhat.com changed the Status on bug 769498 from NEW --- to RESOLVED FIXED.
Aug 07 16:14:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, RESOLVED FIXED, Scrollbars are broken
Aug 07 17:03:50 <Creak>	hello!
Aug 07 17:05:09 <Creak>	I've got a label that has plenty of space in his GtkBox, but it's allocated width expands as soon as there is a text in it. Is there a way to work around that?
Aug 07 17:05:20 <Creak>	*its
Aug 07 17:08:00 <kung>	Creak, does the label or box expand? Maybe set padding to 0
Aug 07 17:09:39 <Creak>	kung: the box expand for sure, I suppose it's because of the content of the label. I'll try to make a small test to understand the problem
Aug 07 17:10:22 <kung>	What often helps is to to rebuild the layout in Glade and play with the options
Aug 07 17:11:18 <Creak>	yeah, I'm forking an existing project that didn't use Glade to do the layout (I plan to do that in a later improvement ;))
Aug 07 17:21:09 <Creak>	hmmm... with a simple test I don't have the problem. I'll dig deeper into this ;)
Aug 07 17:21:19 <Creak>	thanks anyway kung 
Aug 07 17:22:11 <kung>	Creak, your welcome ^^ Just tried to help a bit since I'm new to GTK
Aug 07 19:40:16 <bugbot>	dominik@strehlke.info changed the Status on bug 769603 from RESOLVED FIXED to REOPENED ---.
Aug 07 19:40:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, REOPENED , gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 07 19:55:18 <bugbot>	New gtk+ bug 769611 filed by mkrmdk@gmail.com.
Aug 07 19:55:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 .General, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 07 21:06:05 <muhannad__>	Hi, I'd like to know what IDE/Editor u guys use to develop in C (I'm not looking to the best but I want to know yyou guys use)
Aug 08 02:37:41 *	ChanServ gives channel operator status to alex
Aug 08 03:18:38 <nacho_>	hey behdad 
Aug 08 03:18:54 <nacho_>	behdad, I think you are or you were working on fontconfig?
Aug 08 03:19:02 <nacho_>	behdad, any chance you could have a look at https://github.com/wingtk/gtk-win32/blob/master/fontconfig/fontconfig.patch ?
Aug 08 03:20:33 <behdad>	nacho_: I don't maintain it anymore.  Can you file at fdo or send an email to the mailing list?  Thanks.
Aug 08 03:23:08 <nacho_>	behdad, ok thanks
Aug 08 03:23:14 <behdad>	np
Aug 08 05:22:59 <rudrab>	Hi, I am trying to update the HeaderBar when a file is opened,  with the filename, as https://paste.gnome.org/p55uziash
Aug 08 05:24:02 <rudrab>	But it seems, I cant access the headerbar from the calling function, though it is defined global. Is it possible to update the headerbar dynamically?
Aug 08 05:39:45 <TingPing>	rudrab, sure you could, i think even window.set_title() still works
Aug 08 05:41:27 <TingPing>	rudrab, using globals is a poor way to pass around information though, i think it is just a question of a cleaner design. your MenuManager class sounds like an oddity
Aug 08 05:43:50 <rudrab>	TingPing: I guess, that is the problem. my Window class imports MenuManager. So, I can't find a way to get the window/headerbar variable from Window to MenuManager
Aug 08 05:45:01 <TingPing>	rudrab, the 'modern' way to do menus is with GAction and GMenu, so i think you should probably look into that for a cleaner design
Aug 08 05:46:00 <rudrab>	TingPing: thats true, and I have done this way. The MenuManager is actually the filechooserdialogs
Aug 08 05:46:39 <TingPing>	is your project hosted anywhere so i could have useful context?
Aug 08 05:47:24 <rudrab>	a older version is in github, but i can commit it now
Aug 08 05:47:35 <rudrab>	just give me few second
Aug 08 05:49:13 <rudrab>	TingPing: https://github.com/rudrab/mkbib
Aug 08 05:51:30 <TingPing>	very weird design
Aug 08 05:53:42 <rudrab>	TingPing: Thats might be true. I am from fortran background, and possibly that reflects in my python, too
Aug 08 05:54:43 <TingPing>	rudrab, the actions apply to the window.. so the actions should be within the context of the window
Aug 08 05:55:05 <TingPing>	rudrab, MenuManager 1) has nothing to do with menus, 2) is a subclass of Gtk.Window.. for no reason
Aug 08 05:55:17 <TingPing>	it just moves window logic to another file to complicate things
Aug 08 05:55:33 <TingPing>	rudrab, also in general i think Gtk lends itself better to inheritance than composition
Aug 08 05:56:38 <TingPing>	rudrab, also random note gi.require_version() has to be called before importing.. otherwise its meaningless
Aug 08 05:57:16 <rudrab>	TingPing: so, you think, contents of  MenuManager should be inside Window class?
Aug 08 05:57:38 <TingPing>	its a window action, yes it should be within the window class
Aug 08 05:58:16 <rudrab>	ah..ok. I guess, that will solve a lots of problems
Aug 08 06:00:04 <TingPing>	rudrab, also blocking IO on the main thread is no good, check out Gio for async reading files and whatnot
Aug 08 06:01:52 <rudrab>	blocking IO on the main? you mean the Gtk.events_pending?
Aug 08 06:02:48 <TingPing>	with open(...): read()
Aug 08 06:02:59 <TingPing>	that blocks the UI thread freezing the application
Aug 08 06:05:23 <TingPing>	rudrab, also if you are fiddling with events_pending() you are probably doing something wrong in the first place
Aug 08 06:06:08 <TingPing>	ah yea http
Aug 08 06:06:28 <TingPing>	you can either use libsoup for http which integrates with the mainloop, or do threading yourself
Aug 08 06:08:15 <TingPing>	rudrab, here is an example of libsoup, https://github.com/TingPing/transmission-remote-gnome/blob/master/trg/client.py
Aug 08 06:08:32 <TingPing>	rudrab, example of threading - https://github.com/pithos/pithos/blob/master/pithos/gobject_worker.py
Aug 08 06:16:45 <rudrab>	TingPing: sorry...got dc
Aug 08 06:18:10 <rudrab>	TingPing: so I don't need urllib at all. 
Aug 08 06:18:32 <TingPing>	libsoup would replace urllib, yes
Aug 08 06:19:03 <TingPing>	rudrab, did you get my example link?
Aug 08 06:19:09 <rudrab>	yes
Aug 08 08:16:31 <mclasen>	ebassi: around ?
Aug 08 08:17:57 <ebassi>	mclasen: Yes
Aug 08 08:18:10 <ebassi>	Got your emails
Aug 08 08:18:25 <mclasen>	would love ot hear your opinion on transforms
Aug 08 08:19:22 <ebassi>	I thought about it, this morning, and I think adding non-drawing nodes to deal with clip != allocation cases makes the most sense to me
Aug 08 08:20:20 <mclasen>	I get some 'texture doesn't exist' warning currently for non-drawing nodes
Aug 08 08:20:25 <ebassi>	Non-drawing nodes will be skipped when rendering, and each node has its own world coordinates matrix
Aug 08 08:20:32 <ebassi>	Mmh, that's a bug :-)
Aug 08 08:21:25 <mclasen>	in general, the conversions are surprisingly easy
Aug 08 08:22:50 <ebassi>	As for fallbacks, yes: dropping into a CairoRenderer should be a quick stop gap solution
Aug 08 08:23:05 <mclasen>	needs some new gsk api
Aug 08 08:23:34 <ebassi>	gsk_renderer_get_fallback() :-)
Aug 08 08:23:56 <mclasen>	also need a render() api that takes a cairo_t instead of a GdkDrawingContext
Aug 08 08:24:07 <mclasen>	or a way to create 'freestanding' drawing contexts
Aug 08 08:25:50 <mclasen>	the big outstanding conversions are scrolled window, notebook and stack - after those, most of gtk3-demo should turn into render nodes
Aug 08 08:26:54 <ebassi>	mclasen: Sounds good
Aug 08 08:27:13 <ebassi>	Then we can start porting leaf widgets like TextView and TreeView
Aug 08 08:27:38 <mclasen>	do you have a plan to fix the 'excessive invalidation' problem in widget-factory ?
Aug 08 08:27:53 <mclasen>	I couldn't really find a way to cache any textures or nodes across frames
Aug 08 08:28:57 <ebassi>	mclasen: Yeah, nodes should not be cached; ideally, like alex said on the mailing list, we should have a "surface cache" between GTK and GSK to keep rasterizations around between frames, and invalidate them only when the widget changes
Aug 08 08:29:10 <alex>	not only surfaces
Aug 08 08:29:16 <alex>	any buffers
Aug 08 08:29:28 <alex>	i.e. vertex buffers or whatever
Aug 08 08:30:03 <ebassi>	alex: Texture ids are cached across frames, if they have the same size; just the content is different
Aug 08 08:30:22 <ebassi>	I can also easily cache the VAOs if the quads are the same
Aug 08 08:30:28 <alex>	good
Aug 08 08:30:38 <ebassi>	The main issue is invalidations need to come from GTK
Aug 08 08:30:41 <alex>	yeah
Aug 08 08:30:52 <alex>	need new invalidation model for gtk
Aug 08 08:30:57 <alex>	(like in my mail)
Aug 08 08:31:15 <alex>	sorry for not replying to you btw
Aug 08 08:31:16 <mclasen>	ebassi: there's a bunch more conversions in my gsk-renderer branch, btw
Aug 08 08:31:19 <alex>	been offline mostly
Aug 08 08:31:25 <ebassi>	alex: No worries
Aug 08 08:31:46 <alex>	i'm hoping to be wowed at guadec though
Aug 08 08:31:47 <alex>	NO PRESSURE!
Aug 08 08:32:05 <ebassi>	heh
Aug 08 08:32:32 *	ebassi still has to write his talk, as usual
Aug 08 08:32:39 <alex>	do you do anything of css using custom shaders atm, or is it all texuturing from cairo drawn stuff?
Aug 08 08:33:06 <ebassi>	Nope, texturing; though there is the beginning of a CSS blend mode shader
Aug 08 08:33:24 <ebassi>	Untangling Cairo from GTK is going to take another cycle
Aug 08 08:33:47 <ebassi>	Too much stuff passes around a cairo_t, including the public API
Aug 08 08:34:12 <ebassi>	Gadgets already create different nodes for different bits — like border, background, and focus
Aug 08 08:36:17 *	mclasen was thinking of creating one node per css background
Aug 08 08:38:35 <alex>	ebassi: But will we not be creating assloads of textures?
Aug 08 08:39:10 <alex>	i.e. full size of widget surface/texture for everything that has a border
Aug 08 08:39:21 <alex>	or background
Aug 08 08:40:30 *	mclasen opens a color chooser and counts 124 textures
Aug 08 08:40:39 <alex>	at what sizes?
Aug 08 08:41:07 <mclasen>	most of them are for the individual color swatches, I think
Aug 08 08:41:19 <alex>	I mean, a 100x100 widget with a 1px black background and solid white bg, is that 2 100x100 textures?
Aug 08 08:41:51 <ebassi>	Currently, yes
Aug 08 08:41:58 <alex>	not ideal...
Aug 08 08:42:03 <ebassi>	We'd need a 9-slice texture node
Aug 08 08:42:10 <ebassi>	Or a border-specific node
Aug 08 08:42:26 <alex>	or 4 surfaces for the border
Aug 08 08:42:37 <alex>	+ wrapping 1x1 texture for solid bgs
Aug 08 08:42:48 <alex>	eh, repeating i mean
Aug 08 08:43:42 <ebassi>	To be fair, we don't have many solid colors
Aug 08 08:44:20 <ebassi>	Even borders have gradients :-/
Aug 08 08:44:52 <alex>	ebassi: Every toplevel has a solid bg, plus viewports
Aug 08 08:45:00 <alex>	ebassi: not a *lot* but often large
Aug 08 08:45:20 <mclasen>	do we plan on using gl for gradients ?
Aug 08 08:45:31 <mclasen>	as opposed to textures
Aug 08 08:45:45 <ebassi>	mclasen: AFAIR, Cairo has some code there, but it's pretty nasty
Aug 08 08:46:24 <ebassi>	For large textures I was thinking of adopting Cogl's sliced textures, but those make things like mipmapping much harder to achieve
Aug 08 08:46:25 *	mclasen would envision just sampling at a few points and letting gl do the interpolation as it sees fit
Aug 08 08:47:11 <ebassi>	mclasen: Should work mostly fine for small linear gradients, but it gets hairy for large/radial ones
Aug 08 08:47:28 <alex>	I think having a general textured fallback for things is fine
Aug 08 08:47:32 <mclasen>	right, radial won't work easily that way
Aug 08 08:48:08 <alex>	but for super common cases, like white bg for a textview bg, or the grey window bg, or a simple square black border 1/2px, we should do better
Aug 08 08:48:48 <ebassi>	alex: We could have a GskRenderNode.set_solid_color()
Aug 08 08:48:58 <alex>	yeah
Aug 08 08:49:02 <ebassi>	That would create a 1x1 texture with a repeat
Aug 08 08:49:15 <alex>	simple hack that probably helps bandwidth a lot
Aug 08 08:49:32 <alex>	as well as memory use
Aug 08 08:50:59 *	ChanServ sets mode +q on #gtk+ Company
Aug 08 08:50:59 *	ChanServ gives channel operator status to Company
Aug 08 08:51:20 <mclasen>	another question: whats the fate of the pixelcache with indirect rendering ?
Aug 08 08:51:36 <alex>	i also described that in my mail :)
Aug 08 08:52:02 <mclasen>	ah, great
Aug 08 08:52:18 <alex>	i.e. we want the system to do something similar but at the buffer level
Aug 08 08:52:23 <mclasen>	thats the 'gsk review' on -devel ?
Aug 08 08:52:35 <alex>	and track invalidation inside subwidgets
Aug 08 08:53:36 <alex>	https://mail.gnome.org/archives/gtk-devel-list/2016-July/msg00002.html and follow up which i think never hit the list, but ebassis reply has most of it: https://mail.gnome.org/archives/gtk-devel-list/2016-July/msg00024.html
Aug 08 09:00:41 <mclasen>	Company: any idea about this ? bug 769611
Aug 08 09:00:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 .General, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 08 09:02:29 <Company>	ugh
Aug 08 09:02:44 <Company>	* transitions transition everything, so I wouldn't even know what's going on there
Aug 08 09:03:06 <Company>	plus, i have no idea what happens when themes change
Aug 08 09:03:07 <mclasen>	but some of the text pretty clearly changes after the other stuff
Aug 08 09:04:09 <Company>	yeah, that probably shouldn't happen
Aug 08 09:04:27 <Company>	but from the test I have no idea why that's happening
Aug 08 09:05:01 <Company>	text is also changing color twice, which probably shouldn't happen either
Aug 08 09:05:39 <Company>	but I know stuff that looks like that can happen if opacity changes
Aug 08 09:06:34 <Company>	ie if you transition from white to transparent (which is transparent black), 50% means semi-transparent gray
Aug 08 09:07:28 <Company>	so it might in the end just be some bug about transitions in the parent widget causing transitions in the children to run (which they shouldn't but so far do)
Aug 08 09:07:51 <Company>	and the labels just being the ones where those are nested most deeply
Aug 08 09:08:28 <mclasen>	hmm
Aug 08 09:08:33 <Company>	because the label color transition runs after the button color transition runs after the box color transition runs after...
Aug 08 09:08:48 <mclasen>	shouldn
Aug 08 09:08:55 <mclasen>	t all transitions run at the same time ?
Aug 08 09:09:23 <Company>	a transition is started if a value changes
Aug 08 09:09:54 <mclasen>	and in this case some inherited value changes due to the 'parent transition' ?
Aug 08 09:10:02 <Company>	yes
Aug 08 09:10:15 <Company>	and we have color: inherit; transition: *
Aug 08 09:10:24 <mclasen>	but that would still make the child transition start as soon as the parent one gets ot changing values ?
Aug 08 09:10:33 <Company>	yes
Aug 08 09:10:38 <mclasen>	or does it continuously get restarted while the parent one runs ?
Aug 08 09:10:45 <Company>	and we'd start new ones all the time until the parent transition has finished
Aug 08 09:11:00 <mclasen>	thats...suboptimal
Aug 08 09:11:03 <mclasen>	does the spec require that ?
Aug 08 09:11:07 <Company>	no
Aug 08 09:11:28 <Company>	the specs require you to not start transitions if the change was caused by a transition
Aug 08 09:12:00 <Company>	but for that you need a framework that tracks why some value changed
Aug 08 09:12:27 <Company>	box-shadow: currentColor 1em 1em;
Aug 08 09:12:45 <Company>	that one shoudln't start transitions if the parent runs a transition for font-size or color
Aug 08 09:13:17 <Company>	so tracking that properly is hard
Aug 08 09:13:37 <Company>	and it's not been necessary because themes don't nest transitions
Aug 08 09:14:21 <Company>	ie we transition the button color, but not the color of it's label or the color of the box containing it
Aug 08 09:14:25 <Company>	so it works out in the end
Aug 08 09:14:47 <Company>	as long as you don't demo things in the inspector ;)
Aug 08 09:14:55 <mclasen>	I see
Aug 08 09:15:19 <Company>	it might of course be something else
Aug 08 09:15:54 <Company>	but we're not doing anything specific to fonts that I can think of in the CSS machinery
Aug 08 09:22:14 <iulianradu>	What are the steps to follow if I want to add some .svg files to an application?
Aug 08 09:22:43 <iulianradu>	I need to add them as gresources then use gtk_icon_theme_add_resource_path ()?
Aug 08 09:40:03 <bugbot>	New glib bug 769629 filed by msanchez@gnome.org.
Aug 08 09:40:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769629 general, normal, gtkdev, NEW , Re-enable libmount support by default
Aug 08 09:45:51 <Company>	iulianradu: you mean like https://wiki.gnome.org/HowDoI/ThemedIcons ?
Aug 08 09:46:20 <mclasen>	ebassi: oh, one question I pondered: what do you envision child-transform to be useful for ? the problem with using it to go clip->allocation is that it applies equally to all child nodes (widget ones and css ones)
Aug 08 09:48:06 <ebassi>	mclasen: I added child-transform from ClutterActor; actors use it to do things like "scrollable actors". You set the child transform on the parent with the scrolling offset, and then children are all automatically transformed, instead of changing the transformations on each child
Aug 08 09:49:06 <mclasen>	does that imply that there's some parent-child clipping then ?
Aug 08 09:49:55 <ebassi>	mclasen: Ideally, yes, there should be; right now there isn't.
Aug 08 09:50:05 <ebassi>	So I guess I should remove it
Aug 08 09:50:07 <iulianradu>	Company: Thanks! It seems don't have to call add_resource_path () at all if I add them in the right directory. If I use something like gtk_image_set_from_icon_name () do I have to also add the extension to the name parameter (e.g. my-icon.svg or my-icon)? 
Aug 08 09:50:15 <ebassi>	And add a note on adding stencil-based clipping
Aug 08 09:51:17 <Company>	iulianradu: just my-icon - treat it like any other system icon
Aug 08 09:51:27 <iulianradu>	Thanks
Aug 08 09:52:48 <mclasen>	ebassi: and another question: who is reponsible for setting up a widget node's transform ? the code seems a bit confused about that, currently - the widget functions set transforms, and the propagate_render_node function overrides them
Aug 08 09:55:59 <bugbot>	New glib bug 769630 filed by damien.lespiau@gmail.com.
Aug 08 09:55:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769630 gio, normal, gtkdev, NEW , gfile: G_FILE_MONITOR_WATCH_MOVES was actually introduced in 2.46
Aug 08 09:58:42 <ebassi>	mclasen: Yes, that's definitely suboptimal; ideally, the widget should do that, but now that the GtkContainer is allowed to override them it's a bit of a mess.
Aug 08 09:59:18 <ebassi>	mclasen: We have to solutions: one is to add a `gsk_render_node_get_transform()` and let the container modify the transform of the widget node
Aug 08 09:59:35 <ebassi>	mclasen: The other is to add a non-drawing node with the additional translation imposed by the container
Aug 08 10:02:04 <mclasen>	imo, the main thing we need is a definition of what get_render_node returns: does the node assume it is placed at the allocation, or at the clip
Aug 08 10:05:32 <mclasen>	this is somewhat related to clipping too: if we place the widget node at the allocation, we need to be able to add a larger node for the widget clip, without having the parent node clip it away
Aug 08 10:07:07 <ebassi>	mclasen: I would expect the parent node to be set to the clip, and then widget node to be set to the allocation
Aug 08 10:07:25 <ebassi>	[clip [allocation [children… ] ] ]
Aug 08 10:08:18 <fahrvergnugen>	I found a bug in the GIR; the second argument to g_regex_match_full is flagged as an array rather than a string, and I can't find any way to use it from lgi (Lua binding), even if I expand the string into an array of ASCII code points.
Aug 08 10:08:23 <mclasen>	that conflicts with what you said earlier (about having a non-drawing node at the allocation)...
Aug 08 10:09:09 <mclasen>	the 'widget node' in this terminology is what get_render_node returns, and what propagate_render_node places
Aug 08 10:10:17 <ebassi>	mclasen: Mmh, right
Aug 08 10:13:14 *	mclasen has to go do some trip preparation
Aug 08 10:13:29 <ebassi>	mclasen: Will think about it some more
Aug 08 10:14:28 <mclasen>	thanks
Aug 08 10:22:29 <garnacho>	fahrvergnugen: that's not too different from other places in API where string+length is given. Given there's no hitch in other languages (afaik), I'd think first that lgi is involved
Aug 08 10:22:42 <garnacho>	other places specify "element-type: guint8" though
Aug 08 10:24:03 <feborges>	after the changes in GtkScrolledWindow (bgo#766569), how should we approach scrolled windows which are unexpectedly expanding? by setting an arbitrary max-height-request?
Aug 08 10:25:41 <feborges>	for context: the g-c-c Printers panel is expanding because of the ScrolledWindow at the left listing the printers
Aug 08 10:25:43 <nacho_>	hey guys
Aug 08 10:26:23 <feborges>	http://i.imgur.com/345Gf5f.png
Aug 08 10:26:25 <nacho_>	for the gsettings macro how about having a gsettings_ENUM_PATH?
Aug 08 10:26:59 <nacho_>	so on non recursive makefiles I can provide a proper path for the generated file
Aug 08 10:27:07 <nacho_>	instead of having it in the root dir
Aug 08 10:28:06 <rudrab>	TingPing: ping
Aug 08 10:29:07 <nacho_>	http://paste.fedoraproject.org/404375/66535147/ <- something like this
Aug 08 10:30:07 <nacho_>	ebassi, ^^ thoughts?
Aug 08 10:30:52 <ebassi>	ew :-P
Aug 08 10:31:29 <nacho_>	ebassi, yeah... super ugly :(
Aug 08 10:43:44 <ebassi>	nacho_: I'd like to understand the issue, though
Aug 08 10:44:16 <ebassi>	nacho_: Why is it an issue if it's in the builddir?
Aug 08 10:45:04 <nacho_>	ebassi, in a non recursive makefile if I do NAMESPACE = pipo/my-namespace I want the generated enums.xml in pipo/ but I do not want pipo to be part of the namespace
Aug 08 10:45:08 <ebassi>	jjardon: Hey; last week I asked you if you remember why you had to add build-aux/config.rpath to the EXTRA_DIST
Aug 08 10:45:31 <jjardon>	ebassi: sorry, completely missed that; I was on holidays
Aug 08 10:45:38 <ebassi>	jjardon: No worries
Aug 08 10:45:45 <jjardon>	ebassi: its added automatically by gettextize
Aug 08 10:45:58 <ebassi>	jjardon: How?
Aug 08 10:46:19 <ebassi>	jjardon: You added it to Makefile.am/EXTRA_DIST
Aug 08 10:46:28 <ebassi>	It's a generated file, it should not be added to the dist
Aug 08 10:47:09 <jjardon>	ebassi: what module is this? gettextize modify the Makefile.am when you run it
Aug 08 10:47:19 <ebassi>	jjardon: gtk+
Aug 08 10:47:44 <jjardon>	(gettextize should only be run one time by the maintainer to add gettext support)
Aug 08 10:47:49 *	jjardon checking
Aug 08 10:48:13 <ebassi>	jjardon: https://git.gnome.org/browse/gtk+/tree/Makefile.am#n25
Aug 08 10:48:37 <ebassi>	If gettextize is adding config.rpath to the EXTRA_DIST then gettextize is doing something dumb
Aug 08 10:49:00 <jjardon>	ah, yeah; that was gettextize; should we submit a bug report?
Aug 08 10:49:07 <ebassi>	Yes, please
Aug 08 10:49:56 <jjardon>	I will send it to gettext when I finish work if you don't beat me on it :)
Aug 08 10:50:55 <ebassi>	I don't even know where the gettextize bug tracker is
Aug 08 10:52:07 <jjardon>	ebassi: AFAIK is a mailing list: https://lists.gnu.org/archive/html/bug-gettext/
Aug 08 10:52:20 <ebassi>	Yey!
Aug 08 10:52:40 <ebassi>	And here I thought it would be Savannah. Instead, they use an even less useful tracker!
Aug 08 10:53:44 <ebassi>	Oh, GNU.
Aug 08 10:54:32 <jjardon>	ebassi: http://savannah.gnu.org/bugs/?func=additem&group=gettext 
Aug 08 10:55:03 <ebassi>	\o/
Aug 08 10:57:01 <ueno>	was even thinking to move it to debbugs.gnu.org, anyway
Aug 08 10:58:10 <ebassi>	ueno: That would be a step up :-)
Aug 08 11:07:36 <bugbot>	New gtk+ bug 769635 filed by cfergeau@redhat.com.
Aug 08 11:07:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769635 Widget: Other, normal, gtk-bugs, NEW , Using gtk_event_box_set_above_child() can result in spurious grab-broken events
Aug 08 11:14:13 <throwaway574>	I have a client trying to run a GTK program on their computer, but they have a high DPI setting and the program does not render correctly.  Is there a way to 'ignore' the DPI settings?
Aug 08 11:16:11 <aruiz>	throwaway574, what version of Gtk+? What desktop? What OS/version?
Aug 08 11:21:27 <throwaway574>	3.14.15, Windows.  I'm more curious as to whether or not there is anything in GTK itself that can ignore the DPI settings in any version/environment.  Just knowing if it is possible in any context is what I'm looking for.
Aug 08 11:25:34 <pmike>	g_data_input_stream_readline is supposed to block or return NULL if there is no more data left in the receiving buffer?
Aug 08 11:26:54 <pmike>	from the documentation: "...If there's no content to read, it will still return NULL..."
Aug 08 11:28:48 <aruiz>	throwaway574, I don't think so
Aug 08 11:28:54 <pmike>	i'm using the function but i'm having trouble findind a way to use it as it does not behave corretly
Aug 08 11:28:58 <aruiz>	throwaway574, but not sure
Aug 08 11:29:53 <throwaway574>	that's okay.  i've been looking and i don't think there's anything either.
Aug 08 11:30:27 <pmike>	imo, i think there might be a bug there, at least when working with sockets (DataInputStreams) but would like to consult with you guys first
Aug 08 11:35:11 <aruiz>	throwaway574, I'd be curious to see a screenshot, can you file a bug?
Aug 08 11:35:53 <aruiz>	throwaway574, in any case, 3.14 is kind of dated atm...
Aug 08 11:36:08 <aruiz>	throwaway574, any chance you could update the gtk+ version to something more recent?
Aug 08 11:36:46 <ebassi>	throwaway574: When you say "high DPI" you mean "HiDPI" — e.g. retina display?
Aug 08 11:46:01 <LRN>	throwaway574, https://bugzilla.gnome.org/show_bug.cgi?id=768081
Aug 08 11:46:03 <bugbot>	Bug 768081: Backend: Win32, normal, gtk-win32-maint, NEW , Enable HiDPI support for GDK-Win32
Aug 08 11:52:22 <pmike>	regarding the g_data_input_stream_read_line, a bit of context: I'm connection to a device via TCP sockets (similar to telnet), after sending a message i'll receive a bunch of data which is made of several lines terminated with CR+LF.
Aug 08 11:53:27 <pmike>	the receiving end, is a callback, attached to to the maincontext for G_IO_IN
Aug 08 11:55:09 <pmike>	the callback will be "fired up" a few times but not for all the lines that were really received (i've wireshark on and the device sent more lines than the ones displayed)
Aug 08 11:56:19 <pmike>	if i somehow trigger another message to the device, then the callback will be invoked for the remainder of the lines (the missing ones and the new ones, some or all...)
**** BEGIN LOGGING AT Mon Aug  8 11:57:56 2016

Aug 08 11:57:56 *	Now talking on #gtk+
Aug 08 11:57:56 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 08 11:57:56 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
**** BEGIN LOGGING AT Mon Aug  8 12:01:24 2016

Aug 08 12:01:24 *	Now talking on #gtk+
Aug 08 12:01:24 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 08 12:01:24 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 08 12:03:17 <throwaway574>	I probably could update GTK to a newer version.  I'm using PyGObject for Windows, and I believe that's been updated to 3.18.  I also create an executable with Py2exe to run the program on non-dev machines.
Aug 08 12:04:18 <throwaway574>	If I right-click on the exe and click 'Disable display scaling on high DPI settings', it almost works.  The text is still too large, but the widgets look better, so there's a solution in there somewhere.
Aug 08 12:30:30 <pmike>	it seems to work ok on non-presistent socket connection as the callback will be called an undetermined number of times after the other end closes the connection forcing the data to be received but on persistent socket connection it will not work the same way
Aug 08 12:30:57 <pmike>	e.g., telnet
Aug 08 13:10:57 <bugbot>	New gtk+ bug 769641 filed by pierluigi.fiorini@gmail.com.
Aug 08 13:10:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769641 Backend: Wayland, major, gtk-bugs, NEW , Mismatched application id with xdg-shell
Aug 08 14:25:52 <bugbot>	New glib bug 769642 filed by pmikepublic@gmail.com.
Aug 08 14:25:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769642 gio, normal, gtkdev, NEW , g_data_input_stream_read_line blocks instead of returning NULL as stated on the documentation
Aug 08 14:44:31 <pmike>	:q
Aug 08 14:59:44 <bugbot>	danw@gnome.org changed the Status on bug 769642 from NEW --- to RESOLVED NOTABUG.
Aug 08 14:59:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769642 gio, normal, gtkdev, RESOLVED NOTABUG, g_data_input_stream_read_line blocks instead of returning NULL as stated on the documentation
Aug 08 15:01:13 <Company>	ah yes, i need to talk to people about recording statistics again
Aug 08 15:03:15 <Company>	because we don't even know how many people are using gnome, but We Vibe records which women are the hottest when pleasuring themselves
Aug 08 15:03:31 <Company>	and people pay them to record that
Aug 09 10:30:21 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Aug  9 10:30:21 2016

**** BEGIN LOGGING AT Tue Aug  9 10:30:34 2016

Aug 09 10:30:34 *	Now talking on #gtk+
Aug 09 10:30:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 09 10:30:34 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 09 10:36:52 <jadahl>	garnacho: popovers should use the new menu positioning system. but I guess they shouldn't grab, thus won't be dismissed when clicking outside anything
Aug 09 10:37:10 <jadahl>	i.e. they'll be xdg_popups, but not part of a menu popup grab chain
Aug 09 10:42:36 <garnacho>	jadahl: I maybe should have a closer look to v6 :)
Aug 09 10:42:48 <garnacho>	baedert: looks good :)
Aug 09 10:42:59 <rudrab>	Hi, in most of the Gtk apps, e.g. epiphany, statusbar is shown as a slide, drawn over other existing widgets, and disappears after remove_all. i.e. it does not need a special place in grid
Aug 09 10:44:28 <rudrab>	is there any small example that shows this behaviour? I have tried to get it from epiphany, but thats too complex for my present understanding
Aug 09 10:46:34 <jadahl>	garnacho: i will hopefully nag you about gtk and mutter patches shortly
Aug 09 10:46:43 <jadahl>	review of that is
Aug 09 10:57:29 <garnacho>	jadahl: sure :)
Aug 09 10:58:04 <garnacho>	rudrab: there's several GtkOverlay demos in gtk3-demo
Aug 09 10:58:37 <bugbot>	New glib bug 769672 filed by sjoerd@luon.net.
Aug 09 10:58:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769672 gthread, normal, gtkdev, NEW , Assert threads for testcase 642026 are sucessfully created
Aug 09 11:01:36 <rudrab>	garnacho: ok...i didnt know the name...so, not sure what to search for
Aug 09 11:01:39 <rudrab>	thanks
Aug 09 11:01:57 <baedert>	well the think in epiphany is a NautilusFloatingBar fwiw
Aug 09 11:37:03 <bugbot>	New glib bug 769674 filed by simon.mcvittie@collabora.co.uk.
Aug 09 11:37:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769674 gio, normal, gtkdev, NEW , some GIO tests' arbitrary timeouts are too short
Aug 09 12:19:41 *	baedert ponders just removing the transitions from popovers again :)
Aug 09 12:28:14 <andlabs>	tempted to make an in-joke from work here
Aug 09 12:28:20 <andlabs>	(in response to baedert)
Aug 09 13:50:55 <rudrab>	Hi, is there any container with its own window that can pack the statusbar? (like epiphany)
Aug 09 13:54:21 <jmd>	rudrab: All containers can pack any widget.
Aug 09 13:56:09 <Hussam>	a gnome-terminal fix causes a crash. should I post a backtrace in the bug report whose fix introduced the crash or do I file a brand new report?
Aug 09 13:57:52 <rudrab>	jmd: yes...but they dont have their own window. e.g. I have tried to pack statusbar inside a Gtk.Box...but since it does not has its own window, the text remains transparent to the main window
Aug 09 13:58:23 <jmd>	The only GtkContainer with its own window, so far as I'm aware is GtkLayout.
Aug 09 13:58:59 <baedert>	rudrab: transparent?
Aug 09 13:59:03 <jmd>	But that should not have any bearing on the effect you describe.
Aug 09 13:59:24 <baedert>	Hussam: Doesn't really matter
Aug 09 13:59:38 <Hussam>	baedert: ok, I'll post in the same bug.
Aug 09 14:00:08 <rudrab>	https://paste.gnome.org/plmdvdvw5 is what i am doing
Aug 09 14:00:45 <rudrab>	since it is overlayed to another, statusbar writes over scroll
Aug 09 14:01:36 <rudrab>	so, if scroll also has text on the same coordinate, its a mess
Aug 09 14:02:00 <rudrab>	I am trying to achieve the statusbar like its sone in epiphany
Aug 09 14:02:21 <baedert>	But how do you want to fix that? Give the text a background?
Aug 09 14:02:56 <jmd>	rudrab: Typically you would pack a status bar into a GtkBox
Aug 09 14:03:22 <rudrab>	thats what I have doen
Aug 09 14:03:27 <rudrab>	isnt it?
Aug 09 14:03:36 <jmd>	I have no idea.
Aug 09 14:04:59 <rudrab>	https://paste.gnome.org/pdk3mwt3q is the code...plz have a look...6line only
Aug 09 14:06:07 <jmd>	You're using GtkOverlay.  That always complicates things.   Do you really need it?
Aug 09 14:08:07 <rudrab>	yes...actually, I don't want to waste space only for occasional status messages
Aug 09 14:08:58 <baedert>	"widget drawn without current allocation" is just the most useless warning ever :(
Aug 09 14:09:12 <rudrab>	but, actually there comes the problem. And thats why, I am looking for a container with its own window
Aug 09 14:09:39 <jmd>	You could always write one yourself.
Aug 09 14:14:11 <rudrab>	I have also tried GtkEventBox...
Aug 09 14:14:47 <baedert>	I still don't understand what you mean by container with its own window or why that would fix your issue.
Aug 09 14:15:07 <baedert>	Your problem so far is just that you have text overlayd over other text, which is unreadable?
Aug 09 14:16:39 <rudrab>	baedert: yes
Aug 09 14:17:02 <baedert>	rudrab: So you just want a background for your text?
Aug 09 14:17:44 <rudrab>	baedert: yes...i guess.
Aug 09 14:18:04 <baedert>	rudrab: you guess?
Aug 09 14:18:52 <rudrab>	I want a background to the text, sure. 
Aug 09 14:19:20 <baedert>	you get that by adding a style class to a widget and styling the class appropiately
Aug 09 14:21:29 <rudrab>	baedert: you mean css?
Aug 09 14:21:40 <baedert>	yep
Aug 09 14:21:53 <baedert>	or, well, in that case adding .background to the label might even work.
Aug 09 14:27:58 <rudrab>	self.eventbox.set_visible_window(True) has no apperent change
Aug 09 14:33:23 *	Notify: ipun is online (GIMPNet)
Aug 09 14:33:46 *	Notify: ipun is online (GIMPNet)
Aug 09 14:35:39 <lufimtse>	Question: is there a situation where a callback is not called? (besides system crash..)
Aug 09 14:36:37 <lufimtse>	GAsyncReadyCallback <
Aug 09 14:42:00 <baedert>	Did my response to the Nim editor author on gtk-list about using gdb to get a stacktrace for his warning not get through?
Aug 09 14:56:45 <ebassi>	baedert: It did — at least, I received it
Aug 09 15:12:49 <baedert>	ebassi: ok thanks
Aug 09 15:43:58 <bugbot>	New gtk+ bug 769685 filed by melarish@gmail.com.
Aug 09 15:43:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769685 .General, major, gtk-bugs, NEW , Make install fails with gtk+-3.20.8/gtk/.libs/libgtk-3.so.0: file too short
Aug 09 16:27:26 <nicknameitis>	how does gtk-inspector gets name from glade? name property just specifies class for me
Aug 09 16:43:24 <swick>	hey, is there anyone here who I can talk to about bug 604015?
Aug 09 16:43:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=604015 gio, normal, gtkdev, NEW , g_file_trash() works on partitions not listed in gvfs trash://
Aug 09 18:42:07 <jmd>	I have a problem: GtkGestures seem to inhibit my button_press_event handler from firing.  Do I have to call it explicitly from the gesture callback or what?
Aug 09 21:40:33 <raymod2>	I'm having trouble with HiDPI on a Windows laptop.  The change I made for OSX doesn't seem to be working on Windows 10.
Aug 09 21:40:51 <raymod2>	I used this:  scale = gtk_widget_get_scale_factor(widget);
Aug 09 21:41:42 <raymod2>	Then I multiplied my width and height by the scale factor when creating the image surface.
Aug 09 21:41:59 <raymod2>	And this: cairo_surface_set_device_scale(surface, scale, scale);
Aug 09 21:43:04 <raymod2>	So why doesn't this work on Windows 10?  My application is getting zoomed by the OS.  In other words I am rendering at 100x100 for example and it is displaying in a window that is 250x250.
Aug 09 21:43:50 <LRN>	raymod2, https://bugzilla.gnome.org/show_bug.cgi?id=768081
Aug 09 21:43:51 <bugbot>	Bug 768081: Backend: Win32, normal, gtk-win32-maint, NEW , Enable HiDPI support for GDK-Win32
Aug 09 21:47:15 <raymod2>	Oh, wow.  I thought this would have been implemented years ago.
Aug 09 21:54:33 <raymod2>	I read through the bug history.  When do you expect this work will be pulled in?
Aug 09 21:55:51 <raymod2>	Also, is HiDPI working on Linux?  Fedora and Ubuntu for example?
Aug 09 22:01:56 <raymod2>	Finally, is it possible to work around this missing support in the near term?  Can my application report to Windows that it is HiDPI capable to prevent the OS from scaling it, then check the screen resolution to see if it is HiDPI, and finally apply a manual scale factor to everything in GTK+?
Aug 09 22:04:06 <LRN>	HiDPI works on X11
Aug 09 22:04:23 <LRN>	no idea about workarounds or when this is going to be merged in
Aug 09 22:04:35 <LRN>	so far only fanc works on this
Aug 09 22:11:32 <raymod2>	Forgive my ignorance but do the default windows managers on Fedora and Ubuntu use X11?
Aug 10 04:26:25 <nacho_>	LRN, anything to review?
Aug 10 04:27:57 <LRN>	nacho_, no
Aug 10 04:28:08 <nacho_>	ok
Aug 10 04:57:46 <nacho_>	LRN, did you see this ?
Aug 10 04:57:49 <nacho_>	..\..\..\gtk\gtkspinbutton.c(1124): error C4013: 'snprintf' undefined; assuming
Aug 10 04:57:49 <nacho_>	 extern returning int [C:\gtk-build\build\Win32\release\gtk3\build\win32\vs12\g
Aug 10 04:57:49 <nacho_>	tk-3.vcxproj]
Aug 10 04:58:06 <LRN>	nope
Aug 10 04:58:12 <LRN>	since when does that happen?
Aug 10 04:58:23 <nacho_>	3.20.6 was building
Aug 10 04:58:25 <nacho_>	3.20.8 does not
Aug 10 04:59:01 *	LRN tries
Aug 10 05:01:56 <nacho_>	LRN, https://git.gnome.org/browse/gtk+/commit/?h=gtk-3-20&id=8d34a176c70d19fb58edb03ac7608f94d934c981
Aug 10 05:03:15 <nacho_>	it should be a matter of prefixing g_
Aug 10 05:08:35 <rendar>	is there a way to calculate at *compile time* how many bit are needed to store a number? e.g. if i have 15 it should return 4
Aug 10 05:20:20 <LRN>	nacho_, nope, compiles just fine
Aug 10 05:20:56 <LRN>	rendar, no idea
Aug 10 05:25:52 <LRN>	nacho_, ask fanc about it, probably a MSVC-only bug
Aug 10 06:05:03 <bugbot>	aruiz@gnome.org changed the Status on bug 751893 from NEW --- to RESOLVED NOTABUG.
Aug 10 06:05:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=751893 gdbus, normal, zeuthen, RESOLVED NOTABUG, GDBusConnection singleton doesn't honor/notice DBUS_SESSION_BUS_ADDRESS changes
Aug 10 06:29:44 <nacho_>	ebassi, http://paste.fedoraproject.org/405311/8249711/
Aug 10 06:41:13 <baedert>	garnacho: https://paste.xinu.at/PcQKg/
Aug 10 06:44:01 <baedert>	garnacho: Also https://paste.xinu.at/ZB4F/ was kind of confusing when testing :)
Aug 10 06:44:32 <ebassi>	nacho_: ACK
Aug 10 06:44:53 *	ebassi wonders what we could achieve if we stopped caring about sub-par compilers :-P
Aug 10 06:45:51 <TingPing>	save a lot of bytes on those g_ prefixes
Aug 10 06:49:58 <nacho_>	ebassi, it seems it was already fixed in master
Aug 10 06:51:42 <ebassi>	Ah, nice
Aug 10 06:52:26 <ebassi>	So, MSVC does not support the section of C99 that adds snprintf?
Aug 10 06:53:26 <TingPing>	2015 does
Aug 10 06:54:02 <garnacho>	baedert: looks mostly good from a cursory look :), although I think now you remove modality after the fade out animation, as opposed to before?
Aug 10 06:54:07 <nacho_>	it provides a non standard one
Aug 10 07:18:39 <nacho_>	TingPing, any news on using gtls on hexchat?
Aug 10 07:18:51 <TingPing>	nope
Aug 10 07:55:29 *	ChanServ sets mode +q on #gtk+ Company
Aug 10 07:55:29 *	ChanServ gives channel operator status to Company
Aug 10 08:22:47 <rudrab>	Hi, yesterday, I was talking about statusbar, which is yet to solve
Aug 10 08:30:43 <rudrab>	I have put a question at SO, with the image, and my aim:
Aug 10 08:30:55 <rudrab>	http://stackoverflow.com/questions/38866053/epiphany-chrome-like-statusbar-with-its-own-background
Aug 10 08:31:10 <rudrab>	may I request you a kindl look?
Aug 10 08:33:59 <TingPing>	rudrab, basically want this - https://github.com/GNOME/nautilus/blob/master/src/nautilus-floating-bar.c
Aug 10 08:35:58 <TingPing>	rudrab, here is the css - https://github.com/GNOME/nautilus/blob/master/src/resources/css/Adwaita.css#L64-L90
Aug 10 08:36:17 <TingPing>	rudrab, really it should be as simple as just apply that css to the box
Aug 10 08:38:06 <TingPing>	i swore i had a python example using that but i can't find it
Aug 10 08:39:00 <rudrab>	TingPing: thanks. I will try it. But, what I am thinking of is how the box will disappear with the statusbar message. May be I need to create it every time, and destroy. But I will check
Aug 10 08:39:15 <TingPing>	rudrab, just call hide()
Aug 10 08:39:39 <rudrab>	ah..ok
Aug 10 08:40:10 <csoriano___>	rudrab: that code has that handling too
Aug 10 08:40:44 <baedert>	garnacho: Um yes, is the important part here the modality or the input shape?
Aug 10 08:47:21 <nicknameitis>	i asked this yesterday and no answer. i'm trying to figure out how gtk-inspector gets the widget name as it is specified in glade. i looked at its sources, but failed to find it
Aug 10 08:47:43 <baedert>	nicknameitis: With the name you mean the name or the id?
Aug 10 08:50:00 <nicknameitis>	baedert: had to reopen glade, darn thing just crashed on me for the first time in 2 weeks. in glade it is ID
Aug 10 08:50:47 <baedert>	gtk_buildable_get_name?
Aug 10 08:51:11 <nicknameitis>	thanks, i'll try asap
Aug 10 08:51:33 <baedert>	object-tree.c:1089 fwiw
Aug 10 08:59:37 <garnacho>	baedert: both, removing modality makes the rest of the app responsive asap, the empty input shape prevents you from clicking again on the popover before it disappears
Aug 10 09:08:22 <nicknameitis>	baedert: thanks a ton, that works
Aug 10 09:08:54 <andlabs>	someone here should probably respond to this because I'm at a loss http://stackoverflow.com/questions/38871450/how-can-i-get-the-default-colors-in-gtk
Aug 10 09:12:35 <baedert>	Why? For a sufficiently complex widget, you'll have to style it yourself (or the theme has to), and that's it.
Aug 10 09:15:04 <nicknameitis>	andlabs: i asked this question quite a while ago and answers i got were: "you can't since move on css, at best you can do is draw it" and from more useful to me from lapoc "you can use @theme_selected_bg_color"
Aug 10 09:15:38 <nicknameitis>	i needed color of selected item when i asked this
Aug 10 09:16:05 <rudrab>	may be I am doing something very stupid, but statusbar.connect("text-pushed") is not working
Aug 10 09:17:27 <rudrab>	https://paste.gnome.org/pjd1pabiw
Aug 10 09:19:01 <andlabs>	nicknameitis: yeah, I'm at a loss of how to explain this in a convincing way
Aug 10 09:19:20 <andlabs>	I think the model that GTK+ devs want you to follow is use composite widgets unless absolutely necesary
Aug 10 09:19:24 <andlabs>	but
Aug 10 09:19:40 <visarion>	glib related, I try to open a file two times using g_open (path, O_RDWR)
Aug 10 09:20:16 <nicknameitis>	andlabs: truth is that with css really is nothing like color as you might specify gradient between two colors or bitmap for value
Aug 10 09:20:20 <visarion>	The second time I get -1 as a result. Isn't g_open suppose to behave like POSIX open and provide two fd to the same file ?
Aug 10 09:20:58 <TingPing>	visarion, on unix it literally is calling open()
Aug 10 09:21:16 <visarion>	Oh, ok
Aug 10 09:21:18 <visarion>	:)
Aug 10 09:22:24 <andlabs>	what OS
Aug 10 09:22:37 <andlabs>	and what's the full call
Aug 10 09:25:50 <baedert>	garnacho: https://paste.xinu.at/RivxH/
Aug 10 09:26:04 <baedert>	garnacho: Any ideas about naming? Pop*over*, pop*down* and pop*up*? :)
Aug 10 09:32:02 <garnacho>	baedert: not offhead... at least this one is consistent with GtkComboBox/Menu
Aug 10 09:32:08 <garnacho>	baedert: looks good IMO :)
Aug 10 09:37:17 <garnacho>	andlabs: the rationale is more or less that there's no "default colors", background might be a gradient/image, colors are animatable... you ideally just gtk_render_*() stuff and trust css, or get colors from the GtkStyleContext in a rather limited way
Aug 10 09:38:16 <garnacho>	andlabs: themes obviously want a base palette, but they can name those colors however they want, certainly not limited to background/foreground
Aug 10 09:48:03 <baedert>	garnacho: The other problem is that if the popover uses a subsurface, that still causes the toplevel to be drawn without an allocation (if the popover resizes)
Aug 10 09:48:48 <andlabs>	ah yes I forgot gtk_render_layout()
Aug 10 09:48:59 <andlabs>	even though I literally just used it the last time I wrote GTK+ a month or so ago
Aug 10 09:49:33 <andlabs>	but it's more that last comment there that irks me and that makes me unsure how to properly answer the question
Aug 10 09:49:34 <andlabs>	"Moreover, how would you react if you crashed a program just because you dared removing a single label somewhere? How would you react if changing the color of a label actually changed the color of other, completely unrelated, widgets? "
Aug 10 09:50:08 <andlabs>	like don't we *want* text to be the same color regardless of what widget it is?
Aug 10 09:50:42 <Company>	NO
Aug 10 09:50:51 <baedert>	I don't want my .destructive-action buttons to have the same color as normal buttons
Aug 10 09:50:55 <Company>	man, my caps key...
Aug 10 09:51:31 <baedert>	freudian caps
Aug 10 09:51:54 <Company>	no, i have an app where i use caps to look at a dashboard temporarily
Aug 10 09:52:52 <Company>	andlabs: the correct answer to that question is "there are no colors apart from the foreground color for your widget that you can query via gtk_style_context_get_color()
Aug 10 09:53:16 <Company>	andlabs: everything else is done via gtk_render_*() functions
Aug 10 09:53:44 <Company>	and whether those things use colors or not is none of your business
Aug 10 09:54:07 <Company>	(not colors = they use images most likely)
Aug 10 09:58:24 <andlabs>	yeah
Aug 10 09:58:26 <andlabs>	I figured
Aug 10 09:58:40 <andlabs>	and right, I know widgets that are supposed to stand out should have different colors
Aug 10 09:58:42 <andlabs>	I mean in general
Aug 10 09:58:55 <andlabs>	it'd be jarring if every button had rainbow text
Aug 10 09:59:08 <garnacho>	baedert: hmm, I think that'd hint a bug somewhere else...
Aug 10 09:59:29 <baedert>	garnacho: Yeah, but it was the bug I was initially trying to fix :)
Aug 10 09:59:48 <baedert>	garnacho: i.e. even if you apply that patch, you'll still get those warnings on wayland
Aug 10 10:17:36 <rudrab>	any help please
Aug 10 10:25:23 <sumustinis>	Hi there, I have a treeview and signal button-release-event connected to it. I pass coordinates to get_path_at_pos to get path and column. But if click in celleditable within treeview I can not know anymore is it coordinates of celleditable area or treeview area any suggestions?
Aug 10 10:47:35 <sumustinis>	Ok found a solution myself ... have to connect same signal to editable with connect_after and return true so it does not propagate to a treeview ...
**** BEGIN LOGGING AT Wed Aug 10 11:03:41 2016

Aug 10 11:03:41 *	Now talking on #gtk+
Aug 10 11:03:41 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 11:03:41 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 11:09:04 <bugbot>	New gtk+ bug 769706 filed by mail@baedert.org.
Aug 10 11:09:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769706 Widget: GtkPopover, normal, gtk-bugs, NEW , Add show/hide API to GtkPopover
Aug 10 11:18:30 <ebassi>	baedert: Would GTK use popup/popdown or show/hide, internally?
Aug 10 11:19:52 <ebassi>	win 6
Aug 10 11:22:35 <baedert>	ebassi: depends probably. GtkMenuButton for example would use popup/down, but if you want to hide it like any other widget, you'd use gtk_widget_hide.
Aug 10 11:46:23 <garnacho>	ebassi: probably, most places where we now show popovers would want popup()/popdown()
Aug 10 12:05:50 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug 10 12:05:50 2016

**** BEGIN LOGGING AT Wed Aug 10 12:06:03 2016

Aug 10 12:06:03 *	Now talking on #gtk+
Aug 10 12:06:03 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 12:06:03 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 12:20:05 *	ChanServ gives channel operator status to alex
Aug 10 13:06:05 *	ChanServ gives channel operator status to alex
Aug 10 13:36:36 <kalkin->	hi
Aug 10 13:37:11 <kalkin->	How do I add a menu with gtk3 to the gnome shell topbar?
Aug 10 13:37:31 <baedert>	https://wiki.gnome.org/HowDoI/ApplicationMenu
Aug 10 13:40:33 <kalkin->	baedert: thanks 
Aug 10 13:52:14 <kalkin->	Actually I don't want to have it left. I want to have it right next to the network/profile/shutdown menu
Aug 10 13:52:36 <baedert>	Then you have to write a shell extension
Aug 10 13:53:17 <kalkin->	But a shell extension only works if I'm using Gnome DE. The app should also work in KDE & XFCE. 
Aug 10 13:54:02 <baedert>	But neither of those have a bar at the top you could put your menu in.
Aug 10 13:54:27 <kalkin->	baedert: Currently I use AppIndicator3 for that
Aug 10 13:54:58 <kalkin->	But Gnome Shell puts stuff using AppIndicator3 hidden in the bottom left corner
**** BEGIN LOGGING AT Wed Aug 10 14:53:27 2016

Aug 10 14:53:27 *	Now talking on #gtk+
Aug 10 14:53:27 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 10 14:53:27 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 10 15:20:37 <benc>	is it possible to add docker.lang to gedit?
Aug 10 15:20:38 <benc>	https://github.com/ilogue/docker.lang
Aug 10 15:20:45 <benc>	I didn't create it
Aug 10 15:29:42 <TingPing>	benc, can look for an issue on the gtksourceview product on bugzilla.gnome.org
Aug 10 15:33:07 <benc>	thanks
Aug 10 15:36:18 <rudrab>	Hi, while running the code https://developer.gnome.org/gnome-devel-demos/stable/messagedialog.py.html.en, i am not getting the same thing as shown in the image
Aug 10 15:36:29 <rudrab>	(I mean no image, etc)
Aug 10 15:36:44 <rudrab>	http://picpaste.com/Screenshot_from_2016-08-10_21-32-44-418IxiKl.png is what I am getting
Aug 10 15:37:09 <rudrab>	is this due to change in Gtk and/or Adwaita?
Aug 10 15:39:15 <baedert>	yes
Aug 10 16:05:32 *	ChanServ gives channel operator status to alex
Aug 10 17:05:07 *	ChanServ gives channel operator status to alex
Aug 10 20:31:15 <norbert>	so... I'm old, and more than 15 years ago I wrote something using imlib that I'm looking into migrating to imlib2; I think imlib was gdkimlib, and I think gdk and gtk+ are/were kind of related, does anyone know if there are any migration guides from gtk+1 to 2 and/or 2 to 3, and (gdk)imlib1 to imlib2 ?
Aug 10 20:32:33 <norbert>	or, as a shorter and more general question, what happened to gdk_imlib.h
Aug 11 01:48:28 <bugbot>	New gtk+ bug 769725 filed by christian@hergert.me.
Aug 11 01:48:29 <bugbot>	Trace: wl_abort, wl_proxy_marshal_array_constructor_versioned, wl_proxy_marshal_array_constructor, wl_proxy_marshal, wl_data_source_offer (Possibly not interesting)
Aug 11 01:48:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769725 Backend: Wayland, normal, gtk-bugs, NEW , crash in gtktextview with clipboard on wayland
Aug 11 01:52:22 <bugbot>	New gtk+ bug 769726 filed by christian@hergert.me.
Aug 11 01:52:22 <bugbot>	Trace: gtk_box_get_content_size, gtk_css_custom_gadget_get_preferred_size, gtk_css_gadget_get_preferred_size, gtk_box_get_preferred_height_and_baseline_for_width, gtk_widget_query_size_for_orientation (Possibly not interesting)
Aug 11 01:52:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769726 .General, normal, gtk-bugs, NEW , gadget changes cause crash with gtksourceview
Aug 11 06:00:39 *	ChanServ gives channel operator status to alex
Aug 11 06:58:52 *	ChanServ sets mode +q on #gtk+ Company
Aug 11 06:58:52 *	ChanServ gives channel operator status to Company
Aug 11 07:07:52 <bugbot>	New gtk+ bug 769739 filed by emanuele.aina@collabora.com.
Aug 11 07:07:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769739 .General, normal, gtk-bugs, NEW , Add a more efficient way to draw EGLImages, gdk_cairo_draw_from_egl_image()
Aug 11 07:08:54 <bugbot>	mclasen@redhat.com changed the Status on bug 769603 from REOPENED --- to RESOLVED FIXED.
Aug 11 07:08:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769603 .General, normal, gtk-bugs, RESOLVED FIXED, gtk+-3.20.8: underlink issue with ld.gold - build fails: ./.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 11 08:10:10 *	ChanServ gives channel operator status to alex
Aug 11 08:48:37 <norbert>	hi folks, what does gtk+3 use instead of gtk_file_selection_get_filename() ?
Aug 11 08:49:11 <norbert>	at https://developer.gnome.org/gtk2/stable/GtkFileSelection.html#gtk-file-selection-get-filename it says "gtk_file_selection_get_filename is deprecated and should not be used in newly-written code." but it doesn't mention an alternative
Aug 11 08:49:50 <heftig>	norbert: create a GtkFileChooserWidget and use gtk_file_chooser_get_filename
Aug 11 08:49:53 <norbert>	oh actually, I think I found it, it's probably gtk_file_chooser_get_filename()
Aug 11 08:50:01 <heftig>	(GtkFileChooser is an interface)
Aug 11 08:50:02 <norbert>	yes, thanks heftig :)
Aug 11 08:50:47 <heftig>	er, actually it's GtkFileChooserDialog, sorry
Aug 11 08:50:52 <heftig>	the widget is the embedded one
Aug 11 09:11:16 <nicknameitis>	is the anal handling of gtk_list_box_check_model_compat really necessary at least what filtering is concerned? you can still use model perfectly normally with specifying "visible" property on row in filter method
Aug 11 09:12:02 <nicknameitis>	it constantly spews warnings on 100% working application of it
Aug 11 09:33:28 <NathanZhao>	Hi, is there any way to get the reference count of a GValue?
Aug 11 09:34:13 <bugbot>	mclasen@redhat.com changed the Status on bug 769601 from NEW --- to RESOLVED FIXED.
Aug 11 09:34:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769601 Documentation, minor, gtk-bugs, RESOLVED FIXED, Dead link in faq on gtk-question-index.html
Aug 11 10:15:16 <bugbot>	mclasen@redhat.com changed the Component on bug 769611 from .General to Class: GtkStyleContext.
Aug 11 10:15:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769611 Class: GtkStyleContext, normal, gtk-bugs, NEW , CSS text transitions are not smooth
Aug 11 10:43:59 <bugbot>	New glib bug 769745 filed by pgrunt@redhat.com.
Aug 11 10:43:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769745 gio, normal, gtkdev, NEW , gtask: Add guards for public functions
Aug 11 11:15:14 <bugbot>	mclasen@redhat.com changed the Status on bug 768663 from NEW --- to RESOLVED OBSOLETE.
Aug 11 11:15:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768663 .General, normal, gtk-bugs, RESOLVED OBSOLETE, x11-libs/gtk+-2.24.30 - ui-tests/send-shift-key fails: assertion failed: (gtk_widget_has_focus (button))
Aug 11 11:15:55 <bugbot>	mclasen@redhat.com changed the Status on bug 768662 from NEW --- to RESOLVED OBSOLETE.
Aug 11 11:15:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768662 .General, normal, gtk-bugs, RESOLVED OBSOLETE, x11-libs/gtk+-3.20.6 fails test accessibility-dump
Aug 11 11:19:01 <bugbot>	mclasen@redhat.com marked bug 766089 as a duplicate of unknown bug.
Aug 11 11:19:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766089 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED DUPLICATE, Unpredictable behaviour for single/double mouse clicks
Aug 11 11:50:44 <bugbot>	mclasen@redhat.com changed the Status on bug 766773 from NEW --- to RESOLVED WONTFIX.
Aug 11 11:50:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766773 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED WONTFIX, Publicize GtkCSSNode API
Aug 11 12:02:58 <bugbot>	mclasen@redhat.com marked bug 764126 as a duplicate of unknown bug.
Aug 11 12:02:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764126 Class: GtkStyleContext, normal, gtk-bugs, RESOLVED DUPLICATE, moving the mouse between gtk+ places leaves random ones highlighted/greyed out.
Aug 11 12:26:02 <bugbot>	mclasen@redhat.com changed the Status on bug 769568 from NEW --- to RESOLVED FIXED.
Aug 11 12:26:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769568 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED FIXED, Modification date display incorrectly wraps calendar days (and is inconsistent with GTK2 and Nautilus)
Aug 11 12:38:59 <bugbot>	william@attente.ca changed the Status on bug 768138 from NEW --- to RESOLVED FIXED.
Aug 11 12:39:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768138 Backend: Mir, normal, gtk-bugs, RESOLVED FIXED, Update the GDK-Mir backend to fix a few problems
Aug 11 13:41:03 <jmd>	How can I avoid a GtkApplication connecting to another instance of itself when starting?   I want to run two completely seperate applications.
Aug 11 13:45:08 <halfline>	i think GtkApplication is single instance by design, but you might be able to fake it with dbus-run-session your-application
Aug 11 13:46:41 <chpe>	use the G_APPLICATION_NON_UNIQUE flag when creating the GtkApplication
Aug 11 13:46:42 <jmd>	halfline: It's a real mis-feature.  I hope it is taken out of GTK soon.
Aug 11 13:46:59 <halfline>	chpe: oh interesting, didn't know about that
Aug 11 13:47:30 <jmd>	chpe: I want to be able to control it at runtime.  ./myapp --ignore-all-other-instances or something.
Aug 11 13:48:42 <chpe>	parse the command line before creating the app ? I guess gapplication cmdline parsing won't work for that
Aug 11 13:50:58 <TingPing>	jmd, can look how gnome-builder implements the --standalone flag
Aug 11 13:52:20 <TingPing>	jmd, looks trivial - https://github.com/GNOME/gnome-builder/blob/fec0655ee750f74eaba274bf6d82148288287796/libide/application/ide-application-command-line.c#L342-L349
Aug 11 13:55:14 <jmd>	TingPing: I'll  consider doing something similar.  Thanks.
Aug 11 16:16:48 *	ChanServ gives channel operator status to alex
Aug 11 23:01:49 <bugbot>	New glib bug 769778 filed by smspillaz@gmail.com.
Aug 11 23:01:49 <bugbot>	Trace: g_application_real_local_command_line, g_application_run, ffi_call_unix64, ffi_call, JS::Evaluate (Possibly not interesting)
Aug 11 23:01:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769778 gapplication, normal, gtkdev, NEW , Crash in gapplication.c:1014 when reading error message if dbus_register returns false without setting error
Aug 12 03:35:33 <baedert>	Can I check where gsettings gets its schemas from (like if it takes the one from /usr/local or /usr)?
Aug 12 03:55:47 <rudrab>	Hi, I am trying to close a method, when the window is destroyed.
Aug 12 03:56:23 <rudrab>	https://paste.gnome.org/ps9enne9r is what I am trying
Aug 12 04:12:35 <rudrab>	anyone please?
Aug 12 04:15:09 <LRN>	"close a method"?
Aug 12 04:15:16 <LRN>	must be something pythonic
Aug 12 04:15:49 <rudrab>	LRN yes. actually I want to kill the function itself when the window is closed
Aug 12 04:16:05 <LRN>	how do you normally kill a function?
Aug 12 04:16:35 <rudrab>	with a `return`
Aug 12 04:17:15 <LRN>	are threads involved?
Aug 12 04:17:21 <rudrab>	no
Aug 12 04:17:58 <LRN>	then i do not quite understand the control flow in your hypothetical program
Aug 12 04:18:33 <LRN>	gtk is, by itself, single-threaded and event-based, with a main loop running the app
Aug 12 04:19:49 <LRN>	what does the function (the one you want to kill) do?
Aug 12 04:20:29 <rudrab>	will it be helpful if I paste the complete function?
Aug 12 04:20:44 <LRN>	you can just explain in your own words
Aug 12 04:21:28 <rudrab>	it creates a a window and a treeview, and populate the treeview through a loop
Aug 12 04:22:04 <LRN>	and then?
Aug 12 04:22:33 <rudrab>	say, if I close the window, before the loop (and any other job) finished, I want the loop and the rest of the code to exit
Aug 12 04:23:03 <LRN>	how long does it take for the loop to populate the treeview?
Aug 12 04:24:08 <rudrab>	~20sec
Aug 12 04:24:51 <LRN>	is the window with the treeview the only window you have?
Aug 12 04:25:34 <rudrab>	no...its a side job. If its the main window I could have done Gtk.main_quit()
Aug 12 04:25:42 <LRN>	i see
Aug 12 04:26:00 <LRN>	do you understand the concept of a main loop and event processing in GUI applications?
Aug 12 04:27:59 <rudrab>	I have read that, but..
Aug 12 04:28:08 <LRN>	but what?
Aug 12 04:29:43 <rudrab>	i mean not sure abt ubderstanding
Aug 12 04:31:02 <LRN>	a GUI application (a GTK+-based GUI application, at least) works by running a main loop. Main loop does 3 things: 1) waits for something to happen, 2) turns that "something" into an event, 3) passes the event to the application
Aug 12 04:32:02 <LRN>	GTK+ handles many events internally, but some of them are turned into signals that *your* code can handle (such as button being pressed or a window being closed)
Aug 12 04:32:56 <LRN>	GTK+ is single-threaded internally. When an event is passed from the main loop to GTK+, the main loop stops fetching new events and waits for GTK+ to handle the event it already has
Aug 12 04:33:29 <LRN>	If that event causes a signal in your code to be sent, then while your signal handler is working, the main loop is still stopped
Aug 12 04:34:20 <LRN>	that is why any GUI code you have must work quickly. It absolutely cannot take 20 seconds to complete, because your application will freeze for these 20 seconds
Aug 12 04:34:57 <LRN>	there are three ways to get around that.
Aug 12 04:35:31 <LRN>	One is to split the work you need to do into small chunks and do it one chunk at a time
Aug 12 04:36:45 <LRN>	when a chunk is done, you queue a continuation (something like g_idle_add() or somesuch), telling the toolkit to go back to its thing and call your worker function again once it doesn't have anything better to do, so that you can do the next chunk
Aug 12 04:37:06 <LRN>	The second way is to do your work in a thread.
Aug 12 04:37:44 <LRN>	However, there are subtle difficulties in invoking GTK+ functions from another thread and passing data from your worker thread to GTK+ main thread
Aug 12 04:38:06 <LRN>	There are guides and code examples for doing this somewhere
Aug 12 04:39:12 <LRN>	The third way is to use asynchronous APIs to do your work. If such APIs exist. For example, most filesystem-related functions have asynchronous variants.
Aug 12 04:39:48 <LRN>	this is the same as using threads, but the OS (usually it's the OS) will hide the ugly details from you
Aug 12 04:40:21 <LRN>	obviously, complex mathematical functions or anything you write on your own will not be asynchronous
Aug 12 04:41:13 <LRN>	The fourth way is...um...i forgot what it is
Aug 12 04:41:22 *	LRN tries to remember
Aug 12 04:42:16 <LRN>	damn
Aug 12 04:42:33 <LRN>	anyway, back to your application
Aug 12 04:43:03 <LRN>	if you need examples, GTK has something similar - filechooser dialog search functionality
Aug 12 04:43:25 <LRN>	it has a treeview that is, over time, populated by the results of filesystem search (which is, by definition, a slow-ish process)
Aug 12 04:44:56 <The_gull>	baedert: not that I know
Aug 12 04:45:59 <LRN>	ah, i remembered the fourth way. The fourth way is to just do your work in a loop and have it regularly explicitly nudge the main loop
Aug 12 04:47:14 <LRN>	i think the function is g_main_context_iteration ()
Aug 12 04:47:30 <LRN>	i wouldn't recommend that though
Aug 12 04:50:36 <LRN>	anyway, your "kill the function" functionality will be done differently, depending on how you do your work
Aug 12 04:50:48 <LRN>	if it's a thread, you can cancel it like any other thread
Aug 12 04:51:26 <LRN>	if it's async API, you can cancel it like any other async API (glib async APIs are usually cancellable)
Aug 12 04:52:47 <LRN>	if it's split into chunks, you don't queue the next chunk
Aug 12 04:53:26 <LRN>	if you're manually cranking the main loop, you just check whether you should stop, and don't go on if you should
Aug 12 04:56:01 <LRN>	caveat emptor: in Python threads do not run in parallel, so the threaded way won't work for you
Aug 12 04:59:46 <rudrab>	LRN:thanks...looking for async threads
Aug 12 05:04:00 <rudrab>	*async & threads
Aug 12 05:55:03 <bugbot>	New glib bug 769785 filed by bugzilla@tecnocode.co.uk.
Aug 12 05:55:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769785 general, normal, gtkdev, NEW , gmessages: Expand documentation further for structured logging
Aug 12 06:04:52 <nacho_>	desrt, hey
Aug 12 06:05:04 <nacho_>	desrt, any chance to get a new glib stable release?
Aug 12 06:08:56 <bugbot>	New gtk+ bug 769788 filed by jadahl@gmail.com.
Aug 12 06:08:56 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769788 Backend: Wayland, normal, gtk-bugs, NEW , Fix stacking order of flatpak portals on Wayland
Aug 12 06:30:00 <bugbot>	New gtk+ bug 769791 filed by andreas.pokorny@gmail.com.
Aug 12 06:30:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769791 Backend: Mir, normal, gtk-bugs, NEW , [Mir] Small redraw improvement : Usage of GdkFramClock
Aug 12 07:21:55 <sanketdg>	hi I have a question and I am not sure if its the right place to ask
Aug 12 07:22:19 <Eclipser>	depends on the question -.-
Aug 12 07:22:48 <sanketdg>	I am trying to write a url parser, and apparenly I find gnome-terminal's url parsing thing is very accurate
Aug 12 07:22:56 <sanketdg>	could anybody point me to how its donw
Aug 12 08:16:51 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769785 from NEW --- to RESOLVED FIXED.
Aug 12 08:16:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769785 general, normal, gtkdev, RESOLVED FIXED, gmessages: Expand documentation further for structured logging
Aug 12 08:46:21 <The_gull>	is there a way to know at what position a popover is drawn ? (not what its favorite position is)
Aug 12 08:48:05 <The_gull>	or : I’m trying to attach a popover to a row at the left-right position where the mouse has right-click, but I want it to be attach at the top of the row when the popover will be drawn on top, and at the bottom of the row when the popover will be drawn on bottom ; how should I do ?
Aug 12 10:31:26 <tomtix>	i'm currently trying to make a popover searchbar that pop under the mouse when you press space (like in blender ui, or in glade ui when you double click on central pane); currently i just show the popover when the key-press-event is emitted on the window (top level) object but when the popover fades I get this error: (osux_editor:3431): GLib-GObject-WARNING **: gsignal.c:2635: instance '0x1fae350' has no handler with id '1101' (the adr
Aug 12 10:31:26 <tomtix>	ess is the one of the window)
Aug 12 10:32:42 <tomtix>	the popover is currently relative to some button in the window, and this error does not happen when it is shown by the clicked event on this button
Aug 12 10:32:58 <tomtix>	Can somebody explain what is happening to me?
Aug 12 10:34:20 <tomtix>	code and interface: https://paste.gnome.org/plzn1hsta  https://paste.gnome.org/pdzunhjql
Aug 12 10:57:16 <baedert>	tomtix: Can you run it inside gdb with G_DEBUG=fatal-warnings and see where the g_signal_disconnect is called?
Aug 12 10:59:16 <tomtix>	https://paste.gnome.org/pvcdanjpe
Aug 12 11:04:49 <LRN>	what kind of timezone is GUADEC on?
Aug 12 11:05:07 <LRN>	GMT+1?
Aug 12 11:06:48 <teuf>	LRN: UTC+2
Aug 12 11:06:58 <teuf>	LRN: it's 17:06 at the moment
Aug 12 11:14:58 <baedert>	tomtix: did you connect to the popover's close signal?
Aug 12 11:15:56 <tomtix>	no
Aug 12 11:16:29 <tomtix>	should I?
Aug 12 11:16:32 <baedert>	how do you create the popover?
Aug 12 11:17:35 <tomtix>	with glade and GtkBuilder https://paste.gnome.org/pdzunhjql#line-695
Aug 12 11:20:33 <bugbot>	mcrha@redhat.com changed the Status on bug 769263 from NEW --- to RESOLVED FIXED.
Aug 12 11:20:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, RESOLVED FIXED, [Wayland] Changes parent menu selection on hover of a child
Aug 12 11:30:17 <bugbot>	ofourdan@redhat.com marked bug 769263 as a duplicate of unknown bug.
Aug 12 11:30:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769263 Backend: Wayland, critical, gtk-bugs, RESOLVED DUPLICATE, [Wayland] Changes parent menu selection on hover of a child
Aug 12 11:38:45 <baedert>	tomtix: what gtk version?
Aug 12 11:39:46 <tomtix>	gtk3
Aug 12 11:40:27 <baedert>	tomtix: what gtk3 version?
Aug 12 11:40:37 <tomtix>	the precise version is 3.20.8-1
Aug 12 11:41:22 <tomtix>	from the archlinux package
Aug 12 11:53:47 <jmd>	How does one "register" a GApplication ?
Aug 12 11:56:03 <TingPing>	just a guess, g_application_register()
Aug 12 11:56:36 <TingPing>	i think that all normally happens under the hood
Aug 12 12:26:10 <pgrunt>	hi, what is proper way to get HWND from GdkWindow? gdk_win32_window_get_impl_hwnd / GDK_WINDOW_HWND ?
Aug 12 12:26:52 <pgrunt>	spice-gtk uses GDK_WINDOW_HWND but has rendering issues with CSD enabled
Aug 12 12:39:07 <LRN>	anyone interested in having colored structured logging output on Windows?
Aug 12 12:39:50 <LRN>	pgrunt, why do you need HWND?
Aug 12 12:40:13 <LRN>	also, which version of GTK+ does spice-gtk use?
Aug 12 12:40:28 <pgrunt>	the problems started with 3.20
Aug 12 12:41:21 <pgrunt>	LRN: we need it in some winapi https://cgit.freedesktop.org/spice/spice-gtk/tree/src/spice-widget.c#n715
Aug 12 12:44:22 <LRN>	gdk_win32_window_get_impl_hwnd() internally just calls GDK_WINDOW_HWND() after checking that the window is indeed a WIN32 one
Aug 12 12:44:35 <pgrunt>	LRN: it is different GDK_WINDOW_HWND
Aug 12 12:45:00 <pgrunt>	see gdkwin32misc.h
Aug 12 12:45:00 <LRN>	ah, yes, the internal one
Aug 12 12:45:34 <LRN>	anyway, it should work
Aug 12 12:45:50 <LRN>	why would spice-gtk have rendering issues if it doesn't render anything using that HWND?
Aug 12 12:45:57 <pgrunt>	yeah, my concern is that both are not very documented
Aug 12 12:46:04 <pgrunt>	LRN: it is because gdk_window_ensure_native
Aug 12 12:46:57 <LRN>	gdk_win32_window_get_handle() seems pretty reasonable
Aug 12 12:47:23 <LRN>	or not
Aug 12 12:47:45 <LRN>	yeah, definitely not
Aug 12 12:48:04 <LRN>	does it work better with gdk_win32_window_get_impl_hwnd()?
Aug 12 12:48:22 <pgrunt>	yes, it seems to work
Aug 12 12:48:39 <pgrunt>	we had the same issues with linux implementation
Aug 12 12:49:07 <pgrunt>	no rendering, because gdk_window_ensure_native steals the window, or something like that
Aug 12 12:49:13 <LRN>	creating new impl for each GdkWindow is definitely not a good idea, so do use gdk_win32_window_get_impl_hwnd()
Aug 12 12:49:52 <pgrunt>	LRN: thanks!
Aug 12 12:50:03 <LRN>	that's what gdk_window_ensure_native() does - it creates an impl for the window, unless it already has one tied to itself
Aug 12 12:50:34 <LRN>	normally only the toplevel has its own impl, all its children just use the one they get from their toplevel
Aug 12 12:51:20 <LRN>	you can probably work around this in user code by first doing gdk_window_get_toplevel() on the window, then getting its HWND
Aug 12 12:51:45 <LRN>	gdk_win32_window_get_impl_hwnd() is probably better though
Aug 12 12:53:09 <pgrunt>	and for me it is just s/GDK_WINDOW_HWND/gdk_win32_window_get_impl_hwnd/g ;)
Aug 12 12:54:57 <pgrunt>	LRN: thanks for explanation 
Aug 12 12:55:28 <LRN>	NP-complete
Aug 12 13:00:24 <pgrunt>	fidencio: the key part is: "creating new impl for each GdkWindow is definitely not a good idea, so do use gdk_win32_window_get_impl_hwnd()"
Aug 12 14:33:16 <norbert>	hey folks, which function will I use to get the text_length of a gtk_editable?
Aug 12 14:33:27 <norbert>	gtk_entry used to have gtk_entry_get_text_length()
Aug 12 14:33:58 <TingPing>	norbert, still does
Aug 12 14:34:04 <norbert>	I can do a conversion "gtk_entry_get_text_length (GTK_ENTRY (...))" but I'm not sure if that's the best solution
Aug 12 14:34:09 <norbert>	ok
Aug 12 14:34:38 <TingPing>	norbert, if you have an editable that IS an entry, it is safe to cast up yes
Aug 12 14:36:02 <norbert>	actually, now that I'm here, I have another question
Aug 12 14:36:46 <norbert>	when I change a gtk_table_attach to a gtk_grid_attach, the last 4 parameters disappear, including the padding; how can I bring back the padding?
Aug 12 14:38:53 <norbert>	I guess maybe the _spacing() functions? although from what I'm reading they don't function on a per-'cell' basis
Aug 12 14:39:09 <norbert>	they probably go for all columns or all rows
Aug 12 14:39:19 <TingPing>	norbert, the widgets margin property?
Aug 12 14:40:02 <norbert>	I don't know, how would I use the widget's margin property? can it have a different distance left/right versus top/bottom?
Aug 12 14:40:25 <TingPing>	yes, margin-top, margin-left, etc
Aug 12 14:40:29 <norbert>	oh, never mind the last question, I see margin-bottom, etc.
Aug 12 14:41:26 <norbert>	gtk_widget_set_margin_left() seems to be one of the functions I can use
Aug 12 14:41:33 <norbert>	alrighty, thanks
Aug 12 14:51:48 <norbert>	warning: implicit declaration of function ‘gtk_widget_set_margin’
Aug 12 14:52:07 <norbert>	is a bit weird though, you'd think if everything is, for example, 2, you could just use one function
Aug 12 14:52:44 <norbert>	similar to what css can do with margin in addition to margin-top etc.
Aug 12 14:53:11 <norbert>	I can of course put together my own function for this - probably will
Aug 12 14:53:39 <ernestask>	you could just set the “margin” property
Aug 12 14:54:01 <norbert>	ernestask, how can I do that?
Aug 12 14:54:03 <TingPing>	norbert, i mean, you could probably use css for this too
Aug 12 14:54:44 <norbert>	ernestask, I haven't touched GTK+ in 16 years :)
Aug 12 14:54:52 <norbert>	17, actually
Aug 12 14:55:45 <ernestask>	norbert, you could look into using CSS, as TingPing suggested, or use g_object_set (widget, "margin", margin, NULL)
Aug 12 14:56:47 <norbert>	thanks
Aug 12 14:59:34 <norbert>	the GTK+ documentation is pretty good, better than the SDL documentation; one thing that's a bit unfortunate is that occasionally it just says "... has been deprecated since version ... and should not be used in newly-written code" without mentioning alternatives
Aug 12 15:00:01 <baedert>	there are not always replacements
Aug 12 15:00:34 <norbert>	true, but I've been able to find them several times when they weren't mentioned
Aug 12 15:54:25 <norbert>	should I always be able to use "$ GTK_DEBUG=interactive ./application" and then Ctrl+Shift+i on any window to bring up something?
Aug 12 15:54:41 <grawity>	for apps which do not use dbus-activation
Aug 12 15:54:42 <norbert>	I'm trying to find out why there's space around images
Aug 12 15:55:13 <norbert>	I don't think I'm using dbus-activation, because I don't know what that is :)
Aug 12 15:55:18 <norbert>	but the debug window is not showing up
Aug 12 15:55:39 <norbert>	I'm on Linux, if that makes any difference
Aug 12 15:55:54 <grawity>	normally GTK_DEBUG=interactive makes the inspector visible by default
Aug 12 15:56:30 <TingPing>	norbert, also i presume you have gtk >= 3.14
Aug 12 15:56:53 <norbert>	I'm not sure how to check
Aug 12 15:56:59 <TingPing>	what distro
Aug 12 15:57:02 <norbert>	I tried "pkg-config gtk+-3.0 --version" but it says 0.26 for, I'm guessing, pkg-config
Aug 12 15:57:04 <norbert>	Mint
Aug 12 15:57:57 <norbert>	apt just says "libgtk-3-dev - development files for the GTK+ library" although.. lemme look up the apt command to see more info
Aug 12 15:58:08 <slaf>	pkg-config --modversion gtk+-3.0
Aug 12 15:58:11 <TingPing>	norbert, mint 17 is ancient with 3.10
Aug 12 15:58:20 <TingPing>	mint 18 is recent enough
Aug 12 15:58:38 <norbert>	ok, I'm using Mint 17.3
Aug 12 15:58:53 <norbert>	oh, I see 18 arrived 43 days ago
Aug 12 15:58:59 <norbert>	I guess I can dist-upgrade
Aug 12 15:59:02 <norbert>	I'll do that
Aug 12 15:59:10 <TingPing>	i thought mint doesn't support dist upgrades
Aug 12 15:59:19 <norbert>	it does
Aug 12 16:05:12 <norbert>	usually the Update Manager has something like https://www.linuxmint.com/pictures/screenshots/rosa/thumb_mintupgrade1.png
Aug 12 16:39:12 <norbert>	thanks again, I'm off
Aug 12 18:42:41 <bugbot>	New glib bug 769815 filed by bugzilla@tecnocode.co.uk.
Aug 12 18:42:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769815 general, normal, gtkdev, NEW , gmessages: Add a convenience function for logging details of a GError
Aug 12 19:24:27 <norbert>	I've upgraded to Mint 18 and GTK_DEBUG=interactive now works, the GtkImage seems to be the right size, but the GtkButton is larger than the image
Aug 12 19:25:31 <norbert>	on the button, there are about 6 pixels of gray around the image
Aug 12 19:26:12 <norbert>	the buttons also appear to be slightly rounded, but they should be as the square image
Aug 12 19:26:22 <norbert>	I really want 0 pixels around the image
Aug 12 19:26:33 <norbert>	any suggestions how I could tackle this issue?
Aug 12 19:30:30 <norbert>	the button says allocated size 42x37, clip area 42x38; the image on it is 24x24
Aug 12 19:32:15 <norbert>	very nice by the way that interactive tool
Aug 12 19:35:58 <norbert>	I do use gtk_widget_set_size_request() to pick 24
Aug 12 19:36:06 <norbert>	don't get why it's larger
Aug 12 19:40:29 <The_gull>	norbert: set CSS padding/border/margin to 0 ?
Aug 12 19:43:45 <norbert>	The_gull: I can just paste "padding:0px; border:0px; margin:0px;" in the CSS field of Objects to test?
Aug 12 19:46:26 <The_gull>	norbert: what version of GNOME / gtk+ are you using ?
Aug 12 19:46:55 <norbert>	I wish there was an easy gtk3-config --version
Aug 12 19:47:15 <norbert>	GTK+ 3.18.9
Aug 12 19:47:28 <The_gull>	in 3.20+, “headerbar button { padding:0; border:none;  margin:0; background:transparent; }” does some quite complete things
Aug 12 19:48:03 <grim>	like "pkg-config --modversion gtk+-3.0" ?
Aug 12 19:48:08 <The_gull>	in 3.18.n, it should be different (and there’s not anymore a “CSS field of Objects”, there’s just the generic CSS thing)
Aug 12 19:48:30 <The_gull>	.titlebar .button { … }, IIRC, should work
Aug 12 19:48:48 <norbert>	The_gull: yes, now it does something
Aug 12 19:50:17 <norbert>	when I use ".button { padding:0; margin:0; border:0; }" it removes a lot of space, but still not all
Aug 12 19:51:17 <The_gull>	there could be some margin around the image, also
Aug 12 19:51:18 <norbert>	but I should be able to figure things out this way, thanks
Aug 12 20:02:18 <norbert>	can status bars have newlines? \n doesn't work
Aug 12 21:58:17 <norbert>	it says gdk_cursor_new() is deprecated; I see the replacement gdk_cursor_new_for_display() but that requires a display parameter; can I just use gdk_display_open() with NULL to get/create one, and then pass that to this new function?
Aug 12 21:59:55 <The_gull>	norbert: IIRC there’s a gdk_display_get_default(), could help
Aug 12 22:00:31 <norbert>	I did see that function, but it returns a GdkDisplay
Aug 12 22:00:48 <norbert>	and gdk_display_open() needs a const gchar *display_name
Aug 12 22:01:23 <norbert>	oh, wait, you mean I can just use that one
Aug 12 22:02:54 <norbert>	yeah, thanks
Aug 12 22:02:59 <The_gull>	I think this has a chance to be the correct way to do that :·)
Aug 12 22:03:51 <norbert>	any thought on whether status bars can have newlines?
Aug 12 22:04:33 <norbert>	I'm porting a super old GTK+ application and back in the day \n worked, but it now displays a 000A block
Aug 12 22:04:49 <norbert>	a unicode character
Aug 12 22:05:03 <norbert>	instead of actually moving the next text to a newline
Aug 12 22:06:03 <norbert>	actually, now that I'm writing this
Aug 12 22:06:43 <norbert>	hm, no, I thought maybe &#10; would work but it doesn't
Aug 12 22:11:53 <norbert>	I should say migrating instead of porting
Aug 12 22:21:24 <norbert>	time to go to batman
Aug 13 03:33:20 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 768198 from NEW --- to RESOLVED FIXED.
Aug 13 03:33:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768198 build, normal, gtkdev, RESOLVED FIXED, Can't build glib with systemtap enabled
Aug 13 04:03:55 <rudrab>	Hi, how can I set preferences for future sessions? like, say, my project will save pdf file to some place. Currently, it is hard coded to Downloads dir. Can i give user a choice to reset it? 
Aug 13 04:14:44 <jmd>	What is the likelihood of GValue getting deprecated in the foreseeable future?
Aug 13 04:28:33 <baedert>	1.3%
Aug 13 04:29:22 <baedert>	rudrab: yes? you can always just save a path your user selected?
Aug 13 04:38:17 <jmd>	How can I define my own GVariantType ?
Aug 13 06:18:11 <jmd>	Why is it that the argument to g_variant_print is non const ?
Aug 13 06:33:43 <jmd>	According to the documentation for g_variant_bytestring:
Aug 13 06:33:49 <jmd>	If the array does not end with a nul terminator character, the empty string is returned. For this reason, you can always trust that a non-NULL nul-terminated string will be returned by this function.
Aug 13 06:34:03 <jmd>	This is self-contradictory.
Aug 13 06:34:23 <jmd>	The empty string IS null terminated.
Aug 13 07:01:07 <tomtix>	this means that if the the byte array contained in the gvariant is not a well formed string, the empty string is return instead, isn't it?
Aug 13 07:02:01 <jmd>	tomtix: Yes. I think that is what it means.
Aug 13 07:02:28 <jmd>	But like I say, the text of the documentation contradicts itself.
Aug 13 07:02:49 <tomtix>	why?
Aug 13 07:03:15 <jmd>	If the first sentence is true, the the second CANNOT be true.
Aug 13 07:04:37 <tomtix>	if the gvariant hold a well formed string, this string is returned, otherwise empty (well formed) string is return; In both case a well formed string is return. And NULL is never returned. This is what is means. I don't see where the contradiction is
Aug 13 07:05:06 <jmd>	You must be reading  a different text to me.
Aug 13 07:06:38 <tomtix>	I'm reading this: https://developer.gnome.org/glib/stable/glib-GVariant.html#g-variant-get-bytestring
Aug 13 07:07:11 <jmd>	Right.  It contradicts itself severly.
Aug 13 07:07:35 <tomtix>	can you explain more
Aug 13 07:07:40 <tomtix>	?
Aug 13 07:09:20 <jmd>	The empty string is null terminated.
Aug 13 07:09:30 <tomtix>	yes
Aug 13 07:09:48 <tomtix>	and?
Aug 13 07:10:15 <jmd>	I give up.
Aug 13 07:11:56 <tomtix>	the doc says this function must return only well formed (null terminated) strings, so if the byte array is not a well formed string, the empty string which is well formed and null terminated is returned instead of the byte array content.
Aug 13 07:12:19 <tomtix>	this is not a contradiction
Aug 13 07:13:24 <ork>	hey folks
Aug 13 07:14:29 <ork>	I'm subclassing Gtk.Image to display a resource image whil attempting to asynchronously loading with HTTP a remote image, and caching it
Aug 13 07:14:57 <ork>	Do you know of any existing implementation? That would be grand if I can skip that
Aug 13 07:17:30 <ork>	(I'm doing a Gtk3 Steam client http://ork.olol.eu/public/2016-08-13_13-17-00__wip-steam.png)
Aug 13 07:21:21 <TingPing>	ork, Lutris provides a launcher to steam games too
Aug 13 07:28:01 <rudrab>	baedert: sorry for awfully late response. So, basically, I need a .config file, where the user selected data will be stored and will be read from?
Aug 13 07:31:13 <TingPing>	rudrab, ideally you use GSettings
Aug 13 07:35:40 <rudrab>	TingPing: ok
Aug 13 07:46:19 <rudrab>	TingPing: do you have any idea of what contains GSettings in python? I am getting many things lke Gtk.Settings/GioSettings etc but not Gsettings
Aug 13 07:46:44 <rudrab>	https://wiki.gnome.org/Projects/PyGObject?
Aug 13 07:47:17 <TingPing>	rudrab, G prefix means GLib, which does have multiple namespaces in python, but this specifically is Gio.Settings
Aug 13 07:47:51 <rudrab>	ok...thanks again
Aug 13 07:48:52 <TingPing>	rudrab, you probably will want to consult the C docs for a higher level overview, you need to make a schema file and install/build it
Aug 13 07:50:33 <TingPing>	rudrab, if you *really* want to avoid it because it is complicated (though providing some nice features) you can just throw any text file in XDG_CONFIG_DIR and call it a day
Aug 13 07:51:22 <rudrab>	TingPing: nope...if Gsettings is the std way, I will do that
Aug 13 07:51:48 <rudrab>	possibly, I will come up with some stupid Q here
Aug 13 08:45:54 <baedert>	ork: Your image implementation displays a loading image (from a resource) while you download the actual image you want to show?
Aug 13 08:47:36 <jmd>	I continually get segfault calling g_variant_print
Aug 13 08:47:52 <jmd>	Do the contents from whcih the variant was constructed have to persist?
Aug 13 08:56:19 <mlundblad>	jmd: I'm not 100% sure, but I think g_variant_new would ref the stuff you pass to it (unless it's primitive types)
Aug 13 08:56:44 <ork>	yup baedert
Aug 13 08:58:58 <jmd>	mlundblad: OK,  I must read some more about GVariants
Aug 13 08:59:22 <baedert>	ork: so do you still use a uri for downloading it and hope gvfs/gio does it or are you using libsoup?
Aug 13 08:59:27 <bugbot>	New gtk+ bug 769835 filed by kritphong@mongkhonvanit.tk.
Aug 13 08:59:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769835 Widget: GtkGLArea, normal, gtk-bugs, NEW , On Wayland, application containing GtkGLArea stops responding to D-Bus messages if it's not on current workspace
Aug 13 09:06:18 <ork>	an async inputstream from libsoup baedert
Aug 13 09:06:48 <ork>	I'm working on the caching / etag checking part now
Aug 13 09:14:47 <baedert>	so you download stuff yourself, what do you need that Gtkimage doesn't yet have?
Aug 13 10:56:07 <bugbot>	New glib bug 769841 filed by bugzilla@tecnocode.co.uk.
Aug 13 10:56:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769841 general, normal, gtkdev, NEW , gapplication: Add an org.gtk.Debugging interface
Aug 13 11:30:54 <bugbot>	New gtk+ bug 769845 filed by arnaud.bonatti@gmail.com.
Aug 13 11:30:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769845 Themes, normal, gtk-bugs, NEW , Infobars’ warning/error/question/info CSS classes are similar
Aug 13 11:36:28 <bugbot>	New glib bug 769846 filed by bugzilla@tecnocode.co.uk.
Aug 13 11:36:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769846 general, normal, gtkdev, NEW , gmessages: Add timestamp to g_log_writer_format_fields()
Aug 13 11:55:12 <tomtix>	I'm currently looking at https://git.gnome.org/browse/gtk+/tree/examples/application4/exampleapp.c; and I try to understand how gobject works; In example_app_startup line 51 I suppose this is the "chain" call to the parent startup method but isn't 'example_app_parent_class' the same object that the 'class' variable in example_app_class_init? My first guest looking at the code is that the 'example_app_class_init' must have been called b
Aug 13 11:55:12 <tomtix>	efore and line 51 would end up in a recursive call (But practice proved me wrong) How does this work?
Aug 13 11:57:37 <chpe>	no, parent_class is the parent class of @class in class_init
Aug 13 11:59:05 <tomtix>	with the cast, it doesn't end up in the same field anyway?
Aug 13 12:01:01 <tomtix>	I think i'm missing something big
Aug 13 12:02:04 <chpe>	in class_init, the parent fields of @class are copied from the parent class, so if you override them you set them in @class not in @parent_class
Aug 13 12:06:36 <tomtix>	Like I said, I think i'm lacking too much knowledge about gobject and/or probably assuming some wrong things because this is not helping me
Aug 13 12:08:50 <tomtix>	I need to see what the define type macro is doing
Aug 13 12:22:55 <The_gull>	tomtix: the GObject documentation might help a little, if you didn’t start there
Aug 13 12:33:03 <tomtix>	Oh i think i got it
Aug 13 13:23:12 <bugbot>	New glib bug 769859 filed by lrn1986@gmail.com.
Aug 13 13:23:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769859 general, minor, gtkdev, NEW , structural logging does not support colored output to Windows console
Aug 13 13:25:42 <LRN>	*facepalm*
Aug 13 13:25:47 <LRN>	s/structural/structured/
Aug 13 14:18:26 <polochon>	Hi! I've made a GTK+ program with Glade, with a huge GtkTreeView, but when I scroll, I have warnings like « Allocating size to GtkWindow 0x55761a6082b0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate? », is it normal ?
Aug 13 15:24:07 <baedert>	polochon: always when scrolling?
Aug 13 15:25:03 <polochon>	baedert: yes !
Aug 13 15:25:08 <polochon>	or when new elements are added
Aug 13 16:22:01 <polochon>	baedert: do you have any idea where it comes from ?
Aug 13 16:37:04 <baedert>	polochon: nope, that should be gtk 3.20?
Aug 13 17:30:15 <norbert>	I'm having trouble with my gtk_statusbar; I used to be able to use \n for newlines, but this no longer works; as a solution I'm now trying to set the widget to a max width, but then I have no idea what to do/will happen if the text is longer than the width; also, I see no "width" or "wrap" or anything liek that at https://developer.gnome.org/gtk3/stable/GtkStatusbar.html
Aug 13 17:30:23 <norbert>	anyone here have any thoughts on this?
Aug 13 17:30:45 <norbert>	maybe I should get rid of the statusbar and just regular text?
Aug 13 17:31:52 <norbert>	I'm also looking for something like gtk_widget_set_size_request but to specify an exact size instead of something that will expand
Aug 13 17:33:02 <polochon>	baedert: yep, I'm on gtk 3.20
Aug 13 17:45:30 <norbert>	this is why I don't like widgets, I can never know what sizes things will be
Aug 13 17:53:40 <baedert>	norbert: not that I like the idea, bit GtkStatusBar is seriously no complex widget. Can always clone it yourself with your own GtkLabel that supports line wrapping
Aug 13 17:53:55 <baedert>	or file a bug, maybe its an oversight
Aug 13 18:45:24 <norbert>	hm, how would I apply CSS only to certain GtkButtons?
Aug 13 18:45:53 <norbert>	I'm currently using "GtkButton { padding:0; }" but I only want this for a specific group of buttons
Aug 13 18:46:57 <norbert>	I could do it for each widget, but maybe I can add a class-like thing?
Aug 13 18:47:35 <norbert>	oh, hey, gtk_style_context_add_class()
Aug 13 18:47:40 <norbert>	neato
Aug 13 20:03:42 <tonyctl>	are you allowed to use c++ member functions as gtk callbacks?
Aug 13 21:39:14 <bugbot>	New gtk+ bug 769873 filed by sadiq@sadiqpk.org.
Aug 13 21:39:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769873 Widget: Other, enhancement, gtk-bugs, NEW , Add reverse animation for check boxes and radio buttons
Aug 14 01:03:24 <bugbot>	New gtk+ bug 769876 filed by arnaud.bonatti@gmail.com.
Aug 14 01:03:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769876 Themes, normal, gtk-bugs, NEW , “linked” CSS class broken in rtl
Aug 14 01:30:37 <bugbot>	New gtk+ bug 769877 filed by arnaud.bonatti@gmail.com.
Aug 14 01:30:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769877 Themes, normal, gtk-bugs, NEW , [HighContrast(|Inverse)] dual-headerbars broken
Aug 14 02:48:16 <bugbot>	New gtk+ bug 769879 filed by arnaud.bonatti@gmail.com.
Aug 14 02:48:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769879 Themes, normal, gtk-bugs, NEW , [HighContrast(|Inverse)] tooltips problems
Aug 14 05:16:52 <bugbot>	New gtk+ bug 769881 filed by jpakkane@gmail.com.
Aug 14 05:16:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769881 .General, enhancement, gtk-bugs, NEW , Preliminary Meson build files
Aug 14 05:17:43 <rudrab>	Hi, I am trying to get contents of a file as a buffer to display in a textview
Aug 14 05:17:52 <rudrab>	https://paste.gnome.org/plze9wvj4 is what I am doing
Aug 14 05:18:20 <rudrab>	so, clearly, file_get_contents is not what I am looking for
Aug 14 05:21:22 <rudrab>	whats wronf here, please?
Aug 14 05:24:09 <teuf>	rudrab: hm, seems to be returning a tuple rather than directly the data
Aug 14 05:24:13 <teuf>	maybe it's (data, len)
Aug 14 05:24:37 <teuf>	(pdf_buf) = GLib.file_get_contents("..") or somethnig like that might work?
Aug 14 05:31:03 <rudrab>	teuf: ypu mean something like https://paste.gnome.org/pjnobo3vq?
Aug 14 05:32:16 <teuf>	rudrab: ah sorry maybe mixed up the name of the variable
Aug 14 05:33:03 <teuf>	rudrab: I meant, in your first paste, just replace the first pdf_buf on the first line with one with ()
Aug 14 05:33:23 <teuf>	rudrab: or just print/use repr on the pdf_buf you get which throw an error in the hope of getting more info
Aug 14 05:33:42 <teuf>	or maybe GLib.get_file_contents() has api doc
Aug 14 05:33:59 <rudrab>	teuf: thats what I did, didnt I?
Aug 14 05:34:16 <rudrab>	in my 2nd paste
Aug 14 05:34:25 <teuf>	rudrab: dunno, a create_textview() call appeared which was not there at first :)
Aug 14 05:34:36 <teuf>	and the first line of the second paste does not seem useful
Aug 14 05:36:40 <rudrab>	https://paste.gnome.org/pqntjokc0 shows, the pdf_buf is not a buffer
Aug 14 05:38:26 <teuf>	rudrab: but a tuple is a fairly standard python thing if I'm not mistaken
Aug 14 05:38:38 <teuf>	so should be possible to figure out what's in there and how to extract it
Aug 14 05:40:27 <rudrab>	teuf: :) thats not the problem. Problem is i expected  GLib.file_get_contents("bibtex.bib")
Aug 14 05:40:30 <rudrab>	to open contents of "bibtex.bib" as a buffer eg g_file_get_buffer
Aug 14 05:45:42 <teuf>	I don't know what you call "a buffer", I'm not familiar with the python bindings, but I expect you'll get some kind of byte array out of this function
Aug 14 07:33:17 <jmd>	I get the compiler warning "‘gtk_style_context_get_background_color’ is deprecated: Use 'gtk_render_background' instead".
Aug 14 07:33:23 <jmd>	Is this a mistake?
Aug 14 07:33:44 <jmd>	gtk_render_background has no means of returning the colour.
Aug 14 07:34:44 <baedert>	there is no single color so you should just render it instead of inspecting the color and doing something with that
Aug 14 07:35:30 <jmd>	I don't  follow ...
Aug 14 07:38:23 <jmd>	I want to fetch the background colour, so that I can create a similar colour to pass to gdk_cairo_set_source_rgba
Aug 14 07:39:26 <baedert>	yeah but the css background could be a gradient or an image or multitiple of all of those, you get the idea.
Aug 14 07:39:49 <jmd>	In my case it isn't.
Aug 14 07:40:20 <baedert>	then just use gtk_style_context_get_background_color and ignore the warning or add deprecation guards.
Aug 14 07:42:11 <jmd>	deprecation guards ?  
Aug 14 07:42:47 <jmd>	Can one do that on a granular basis?
Aug 14 07:43:21 <TingPing>	there is a define for it
Aug 14 07:43:45 <TingPing>	jmd, https://developer.gnome.org/Deprecations/
Aug 14 07:43:51 <TingPing>	G_GNUC_BEGIN_IGNORE_DEPRECATIONS
Aug 14 07:45:32 <pwithnall>	bear in mind that this function is deprecated because it will be removed in future, so you're only delaying doing the work to use gtk_render_background()
Aug 14 07:45:45 <pwithnall>	(removed in future = removed for GTK+ 4, whenever that is)
Aug 14 07:45:59 <lazka>	you could also render to a dummy image surface and use the resulting pixel color
Aug 14 07:46:05 <jmd>	TingPing: Thanks.
Aug 14 07:47:07 <jmd>	pwithnall: You are right there.  Developing with Gtk is a continual game of catchup.  Can I replace the deprecated functions faster than the Gtk devs can deprecate the new ones ....
Aug 14 07:47:53 <pwithnall>	jmd: did you want Benjamin Otte's presentation at this year's GUADEC?
Aug 14 07:48:04 <pwithnall>	it explains the thinking behind what's going on here
Aug 14 07:48:51 <jmd>	For example, I have recently Replaced the all my calls to _get_pointer to use (what I thought was) the modern GtkDeviceManager, only to discover that GtkDeviceManauger has been deprecated in 3.20 !!
Aug 14 07:53:11 <jmd>	One of this days I must get to GUADEC
Aug 14 07:53:21 <jmd>	where and when is the next one?
Aug 14 07:54:46 <pwithnall>	Not announced yet :)
Aug 14 07:54:54 <pwithnall>	but it will be in August 2017, somewhere in Europe
Aug 14 07:56:10 <pwithnall>	it's likely to be in Manchester, UK, since that's the only bid for hosting which has been received (I think?)
Aug 14 07:56:17 <pwithnall>	but that is not confirmed yet
Aug 14 07:56:28 <jmd>	UK isn't in Europe anymore.
Aug 14 07:57:50 <jmd>	So what would be the "correct" way to inspect/set the background colour of a widget?  I see that gtk_widget_override_background_color is also deprecated.
Aug 14 07:58:33 <pwithnall>	the UK is stil technically in Europe — we haven't triggered the legal stuff to leave yet
Aug 14 07:58:57 <pwithnall>	afaik, there is no correct way other than gtk_render_background(), since the background may well not be a solid colour
Aug 14 07:59:36 *	pwithnall -> a talk, afk
Aug 14 08:06:51 <jmd>	The other issue I have is with gtk_widget_override_font.  Presumably is the same story there too?
Aug 14 08:07:01 <polochon>	Hi ! If I want to set a background color for a gtkframe and set the boldness of a border with glade, is it possible ? Or is using CSS the most convenient way ?
Aug 14 08:07:17 <TingPing>	jmd, load css to set the font
Aug 14 08:07:46 <jmd>	TingPing: Is there an example anywhere I can use as a template?
Aug 14 08:08:51 <TingPing>	jmd, https://github.com/TingPing/irc-client/blob/a68db9536ca3f69bdd404c9c0339c5f00f4745a7/src/gui/irc-application.c#L140-L150
Aug 14 08:09:19 <baedert>	polochon: css
Aug 14 08:11:11 <polochon>	baedert: apart from http://www.gtkforums.com/viewtopic.php?f=3&t=988&p=195278&hilit=GTK3+with+CSS#p195278, is there any other good resources on the topic ?
Aug 14 08:12:29 <baedert>	wouldn't call that good :P
Aug 14 08:12:47 <baedert>	information about css is everywhere on the web of course
Aug 14 08:13:10 <baedert>	The 3.20 gtk+ docs for widgets includes names of their css nodes, etc
Aug 14 08:13:47 <polochon>	mh okay, I'll dig into it ! I didn't it was something that popular
Aug 14 08:13:50 <polochon>	+think
Aug 14 08:14:54 <polochon>	(btw, yesterday you answered my question about a gtkwarning about some window size, and replied to you that I was using gtk+ 3.20, but disconnected before you could answer, was it a known bug ?
Aug 14 08:15:34 <baedert>	no, not known
Aug 14 08:15:49 <baedert>	(I think)
Aug 14 08:17:14 <polochon>	I stumbled upon that thread https://bugs.eclipse.org/bugs/show_bug.cgi?id=486068 which seems related
Aug 14 08:17:15 <bugbot>	Bug 486068: SWT, normal, ericwill, REOPENED , [GTK3.20] Allocation warnings printed in error console
Aug 14 08:18:09 <polochon>	but I don't know whether I'm doing something wrong with glade, or if it's a gtk-related bu
Aug 14 08:18:12 <polochon>	g
Aug 14 08:18:14 <baedert>	well yes but that's for GtkFrame, not GtkWindow
Aug 14 08:18:24 <baedert>	I've never seen the warning for GtkWindow.
Aug 14 08:18:34 <polochon>	(I'm using this UI file: https://github.com/Polochon-street/leleleplayer/blob/master/resources/gui.ui)
Aug 14 08:18:46 <baedert>	polochon: if that's really just a treeview in a window and the warning appears, that's a bug and you should open one and attach a minimal reproducer.
Aug 14 08:21:32 <jmd>	TingPing: That example doesn't seem to work for me.  I must have misunderstood how it works.
Aug 14 08:21:59 <TingPing>	jmd, you just set a class for your widget and then set its font
Aug 14 08:22:26 <polochon>	okay, I'll try to make a minimal reproducer and report it, but I tend to think that the error is on my side :\
Aug 14 08:22:27 <jmd>	How do I "set a class for my widget" ?
Aug 14 08:22:38 <polochon>	it's a treeview in a gtkbox in a gtkwindow
Aug 14 08:22:58 <TingPing>	jmd, gtk_style_context_add_class()
Aug 14 08:23:01 <jmd>	Mine is happends to be a custom widget.
Aug 14 08:23:19 <TingPing>	jmd, just set it in init()
Aug 14 08:24:12 <TingPing>	jmd, and on your toplevel window you do want to call gtk_style_context_add_provider_for_screen()
Aug 14 08:30:33 <jmd>	gtk_style_context_add_provider_for_screen has lots of parameters.
Aug 14 08:31:16 <jmd>	What do I pass them?
Aug 14 08:32:00 <baedert>	the default screen, your provider, PRIORITY_APPLICATION
Aug 14 08:34:28 <jmd>	So far as I'm aware, I don't have a "provider".
Aug 14 08:35:34 <jmd>	Can I use gtk_css_provider_get_default ?
Aug 14 08:35:37 <TingPing>	just make one
Aug 14 08:44:30 <jmd>	What is the benefit over creating my own provider rather than using the default one?
Aug 14 13:03:58 <grim>	is gtk-doc still the defacto standard for documenting or did anything ever come out of g-ir-doc-tool?
Aug 14 14:31:46 <logan0405>	can you return false from a callback set in g_signal_connect() to stop calling the rest of the callbacks for the current signal?
Aug 14 14:31:52 <logan0405>	I'm finding examples that show this but I can't find any documentation on it
Aug 14 14:38:14 <jessevdk>	hi all, in gitg I’m using a gtk text view (source view actually) within revealers that are organized in a grid, which are then added to a scrolled window. Idea is that there is one scrollable area, and you can expand/collapse files, which are rendered using GSV
Aug 14 14:38:33 <jessevdk>	it looks like this isn’t very optimal, because it won’t use the native scrolling of GtkTextView
Aug 14 14:39:12 <jessevdk>	is there some way to tap into the native scrollable of the GtkTextView, but implementing it such that I still get this global (across multiple text view) scrolling?
Aug 14 14:39:18 <jessevdk>	would it be hard to do?
Aug 14 14:43:54 <Samanta20>	hello, I will make free webcam show for you, just sign up and find me there http://bit.ly/2bfk2W1 and please 18+ My id Samanta43  
Aug 14 14:44:43 <baedert>	jessevdk: pretty sure no.
Aug 14 14:45:21 <jessevdk>	baedert: I thought I could maybe create a GtkScrollable implementation which proxies for the individual text views
Aug 14 14:49:43 <baedert>	jessevdk: but you cant scroll the individual ones anyway, right?
Aug 14 14:50:24 <jessevdk>	it’s really more about allocation and informing GtkTextView the parts it needs to draw, efficiently
Aug 14 14:50:54 <jessevdk>	which I think is what GtkScrollable is for
Aug 14 14:51:50 <baedert>	yes, you can do that
Aug 14 14:53:13 <jessevdk>	but I don’t know enough about GtkScrollable to understand if it’s possible to do this or not
Aug 14 14:55:31 <baedert>	well you have knowledge about the scrolledwindow size and you can control what you draw
Aug 14 15:23:36 <kaushik>	hello all i am a newcomer and i was trying to run the todo build using jhbuild but i am facing some problem
Aug 14 15:23:49 <kaushik>	log:https://paste.gnome.org/pzizxrso2
Aug 14 15:24:08 <kaushik>	Gtk-Message: Failed to load module "overlay-scrollbar"
Aug 14 15:24:08 <kaushik>	Gtk-Message: Failed to load module "unity-gtk-module"
Aug 14 15:24:45 <kaushik>	i get these message while running the todo build.can someone please help me with this.
Aug 14 15:30:42 <baedert>	kaushik: what gtk theme are you using?
Aug 14 15:31:03 <TingPing>	seems like a unity issue
Aug 14 15:31:06 <baedert>	kaushik: and those  are just warnings, right? It works otherwise?
Aug 14 15:32:09 <kaushik>	no it doesn't work.it says failed to to load module for three of modules
Aug 14 15:33:49 <kaushik>	ok i just tried updating the modules.although i still have error but the app works now.
Aug 14 15:35:27 <kaushik>	can i ignore these warnings?
Aug 14 15:40:17 <Hussam>	I just updated from gtk-3-20 branch to trunk. it certainly feels more responsive.
Aug 14 15:42:01 <baedert>	\o/
Aug 14 16:45:45 <norbert>	hi folks, how could I check my GTK+ from the command-line again?
Aug 14 16:45:59 <baedert>	your gtk+?
Aug 14 16:46:03 <norbert>	version
Aug 14 16:46:06 <norbert>	sorry :)
Aug 14 16:46:12 <baedert>	use your package manager
Aug 14 16:46:33 <norbert>	I'm looking for the command I can use on the command-line
Aug 14 16:46:55 <baedert>	the command involves your package manager
Aug 14 16:47:10 <norbert>	I need something that works across distros
Aug 14 16:47:28 <norbert>	pretty sure someone here mentioned the command yesterday
Aug 14 16:47:33 <slaf>	pkg-config --modversion gtk+-3.0
Aug 14 16:47:43 <norbert>	yes, thanks
Aug 14 17:31:34 <rudrab>	Hi, can some one kindly help me using autotools in a python3+Gtk3 project?
Aug 14 17:31:50 <rudrab>	if I run it directly, its working fine
Aug 14 17:32:08 <rudrab>	but after make, make install, its giving error:
Aug 14 17:32:20 <rudrab>	 Gtk-CRITICAL **: New application windows must be added after the GApplication::startup signal has been emitted.
Aug 14 17:35:22 <rudrab>	https://paste.fedoraproject.org/408507/71210476/ is the files where windows are created
Aug 14 17:39:43 <TingPing>	rudrab, remove your run() override
Aug 14 17:44:46 <rudrab>	TingPing?
Aug 14 17:45:06 <TingPing>	rudrab, mkbib.run()
Aug 14 17:46:41 <rudrab>	TingPing: you mean in the main.py?
Aug 14 17:47:00 <TingPing>	yes..
Aug 14 17:56:17 <rudrab>	TingPing: I have added that from the examples I saw. You are bang on the problem, as the run() was added only for autotools. for running from python3 main.py, that function was not needed
Aug 14 17:56:47 <rudrab>	but, I am not getting any way to get the window without the run()
Aug 14 17:56:51 <TingPing>	rudrab, Gio.Application.run() *is* correct. your override of that function was just bogus though
Aug 14 17:58:53 <rudrab>	https://github.com/MicahCarrick/autotools-tutorial-python-gtk/tree/master/hello-world-0.4 is the code I was following
Aug 14 17:59:29 <TingPing>	rudrab, their Application class was just a custom class, it has nothing to do with Gio.Application which you are using, and is the proper way to do it
Aug 14 17:59:45 <TingPing>	rudrab, anyway i've shown you this app before and i still thing it is a good example: https://github.com/pithos/pithos/blob/master/pithos/application.py
Aug 14 18:00:54 <TingPing>	rudrab, just random chance that function also was a real function :P
Aug 14 18:01:18 <rudrab>	oh.
Aug 14 18:01:48 <rudrab>	actually thanks...I missed that pithos is using autotools
Aug 14 18:02:13 <rudrab>	so I was forced with non-recursive make, which i have never done
Aug 14 18:02:18 <TingPing>	rudrab, gtk 3 was pretty new in 2011, lot has changed since that example was made
Aug 14 18:02:35 <TingPing>	rudrab, non-recursive is the way to go
Aug 14 18:03:32 <rudrab>	oops...sorry..I mean recursive...a makefile.am in every dir...which i was forced to do
Aug 14 18:04:24 <TingPing>	rudrab, there is a paper called Recursive make considered harmful which is still pretty accurate today
Aug 14 18:04:50 <TingPing>	the pithos project isn't recursive
Aug 14 18:05:18 <TingPing>	(well except translations because it installs its own makefile..)
Aug 14 18:05:21 <rudrab>	yes...i know that...I use autotools fairly regularly for my fortran
Aug 14 18:06:03 <rudrab>	\
Aug 14 18:09:15 <andlabs>	someone might want to answer this here because I could never figure it out myself (and I mean actually answer it on the page) http://stackoverflow.com/questions/38946052/please-explain-glib-gtk-action-architecture
Aug 14 18:25:31 <Hussam>	only totem breaks with gtk+ 3.21.4git but I can use mpv so not the end of the world.
Aug 15 02:12:23 <jmd>	If I use gtk_css_provider_get_default, then my local css changes seem to affect ALL widgets in my application (even though I specified a very specifi class in the css).  Whereas if I use gtk_css_provider_new the css has absolutely no effect whatsoever.  
Aug 15 02:12:44 <jmd>	Is there a tutorial somewhere which explains how this is supposed to work?
Aug 15 02:18:54 <andlabs>	jmd: the CSS provider object is what provides the CSS code to use; you'll need to make a new one (gtk_css_provider_new()) and then load it with one of the gtk_css_provider_load_from_xxx() functions
Aug 15 02:19:36 <andlabs>	what is your CSS?
Aug 15 02:21:32 <jmd>	andlabs: I did that, and it works.  But, it resets the stlyes of all the other widgets that I have set.
Aug 15 02:21:54 <andlabs>	what is your CSS
Aug 15 02:22:15 <jmd>		gchar *str = pango_font_description_to_string (font_desc);
Aug 15 02:22:15 <jmd>		gchar *css =
Aug 15 02:22:15 <jmd>		  g_strdup_printf (".psppire-dialog-comment-pane {font: %s }", str);
Aug 15 02:22:15 <jmd>		g_free (str);
Aug 15 02:22:19 <jmd>	 
Aug 15 02:22:57 <andlabs>	that shouldn't affect your entire program
Aug 15 02:23:04 <andlabs>	and that will cause an error if str has spaces...
Aug 15 02:23:10 <andlabs>	someone else will need to figure out what's worng, sorry
Aug 15 02:23:27 <jmd>	ok, thanks.
Aug 15 02:23:54 <gregier>	that probably doesn't work anyways now that gtk+'s font support is more strict 
Aug 15 02:24:04 <gregier>	see: https://git.gnome.org/browse/gtk+/tree/gtk/gtkfontbutton.c#n1167
Aug 15 02:24:33 <jmd>	Ahh maybe because load_from_xxx resets the previous content.
Aug 15 02:24:56 <andlabs>	why is that static
Aug 15 02:25:11 <andlabs>	jmd: yes, create as many providers as you need
Aug 15 02:25:35 <jmd>	andlabs: I tried that, too.  But then it has absolutely no effect whatsoever.
Aug 15 02:25:56 <gregier>	andlabs: https://bugzilla.gnome.org/show_bug.cgi?id=768527
Aug 15 02:25:57 <bugbot>	Bug 768527: .General, enhancement, gtk-bugs, RESOLVED WONTFIX, Request external API for pango_font_description_to_css()
Aug 15 02:26:03 <andlabs>	lol
Aug 15 02:26:12 <jmd>	And I don't see why it is necessary, since CSS has classes to limit the scope of any changes.
Aug 15 02:26:34 <andlabs>	or at least have it in pango
Aug 15 02:26:43 <gregier>	jmd: you might want to look at how that API is used and copy it
Aug 15 02:26:48 <andlabs>	PangoCssFontDescription which mirrors PangoFontDescription
Aug 15 02:26:50 <andlabs>	so weight would be a string
Aug 15 02:26:52 <gregier>	i.e. it creates a new provider, sets the CSS, etc.
Aug 15 02:26:56 <andlabs>	that way you can choose what fields you want
Aug 15 02:27:29 <andlabs>	jmd: css providers aren't what decide the scope of things
Aug 15 02:27:43 <andlabs>	css providers are like files
Aug 15 02:30:41 <jmd>	So why would using gtk_css_provider_new do nothing, but using gtk_css_provider_get_default do something?
Aug 15 02:31:50 <gregier>	jmd: did you call gtk_style_context_add_provider()?
Aug 15 02:32:03 <gregier>	https://git.gnome.org/browse/gtk+/tree/gtk/gtkfontbutton.c#n1289
Aug 15 02:32:19 <jmd>	  gtk_style_context_add_provider_for_screen (gdk_screen_get_default (),
Aug 15 02:32:19 <jmd>						     GTK_STYLE_PROVIDER (gtk_css_provider_get_default ()),
Aug 15 02:32:19 <jmd>						     GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);
Aug 15 02:32:19 <jmd>	 
Aug 15 02:32:27 <jmd>	On the toplevel window, yes.
Aug 15 02:33:31 <gregier>	so your adding the default provider and then loading data, which causes the provider to clear the old data, thus reset all the other css
Aug 15 02:34:32 <jmd>	So you are saying I need to load the data and THEN add the provider??
Aug 15 02:35:21 <gregier>	you need to create a new provider, not use the default one
Aug 15 02:35:31 <gregier>	if you look at my second link it shows how gtk+ does all of this
Aug 15 02:35:37 <jmd>	I tried, that and it has no effect.
Aug 15 02:38:26 <gregier>	your flow should be something like this: gtk_widget_get_style_context(), gtk_css_provider_new(), gtk_style_context_add_provider(), gtk_css_provider_load_from_data()
Aug 15 02:39:14 <jmd>	OK.  I must read some more...
Aug 15 02:44:56 <jmd>	I can't say I'm terribly impressed with this API.  I have to use 20 lines where in Gtk2 I simply said gtk_widget_overide_font.
Aug 15 06:37:41 *	ChanServ sets mode +q on #gtk+ Company
Aug 15 06:37:41 *	ChanServ gives channel operator status to Company
Aug 15 07:32:06 <polochon>	Hi! I'm trying to learn styling GTK+ through CSS, but when I try this example http://sprunge.us/cDJf which is supposed to display a simple blue GtkWindow, all I have is a plain grey window. I'm running linux, is it normal ?
Aug 15 07:34:32 <baedert>	Change "GtkWindow{" to "window{" for gtk > 3.20
Aug 15 07:34:47 <baedert>	*>=
Aug 15 07:35:46 <polochon>	it worked \o/. Thanks !
Aug 15 07:35:58 <polochon>	are titles for buttons, etc changed too ?
Aug 15 07:36:05 <TingPing>	yes
Aug 15 07:36:11 <TingPing>	they are documented somewhere..
Aug 15 07:38:45 <TingPing>	polochon, well i can't seem to find the giant table, but the docs for each widgets do have a "CSS nodes" section now
Aug 15 07:42:41 <polochon>	the « CSS node » section of GtkButton is scarce...
Aug 15 07:43:02 <TingPing>	"GtkButton has a single CSS node with name button."
Aug 15 07:44:56 <polochon>	oh, right. I didn't understood it like that. Sorry !
Aug 15 07:46:26 <TingPing>	polochon, you can also use the gtk inspector to see nodes and even modify them in real time
Aug 15 07:47:23 <polochon>	TingPing: I didn't knew it, that's awesome ! Thank's very much !
Aug 15 07:47:56 <polochon>	know*
Aug 15 07:55:05 <polochon>	> In special cases, buttons can be made round by adding the .circular style class. How can I do apply this style to all buttons, for example ?
Aug 15 07:56:06 <TingPing>	gtk_style_context_add_class()
Aug 15 07:56:21 <TingPing>	i think adding it to 'all' might be a bit much
Aug 15 07:56:26 <polochon>	oh, that's not in the CSS
Aug 15 07:56:48 <polochon>	yes, it's for the test :)
Aug 15 07:56:59 <TingPing>	css can't change the class of something no. you could theme the normal button to match the circle one though
Aug 15 08:05:39 <bugbot>	New glib bug 769928 filed by gdesmott@gnome.org.
Aug 15 08:05:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769928 gio, minor, gtkdev, NEW , add g_assert_equal_variants
Aug 15 08:17:09 <polochon>	TingPing: but is « adding the .circular style class » different from adding a random .foo class to identify a widget ?
Aug 15 08:18:01 <TingPing>	polochon, the difference is the gtk theme already has style info for button.circular and not button.foo
Aug 15 08:19:36 <polochon>	yes, but that's something internal, right ? The procedure for addding the .circular class is the same as the .foo one ?
Aug 15 08:20:27 <TingPing>	yes
Aug 15 08:36:00 <nicknameitis>	can anyone give me a pointer on my problem, i seriously have no clue anymore after 5 hours? i have object model array that works all over the interface... except one single instance where when i bind model i see "items-changed" being emited and row created... and not inserted into listbox? if i assign any other model instance listbox shows items. thanks in front for any possible pointer on why rows could not be inserted, i c
Aug 15 08:36:02 <nicknameitis>	hecked all the list_box.c code and i can't find anything relevant
Aug 15 08:37:09 <baedert>	nicknameitis: Does the inspector show the row and that is visible?
Aug 15 08:37:59 <nicknameitis>	baedert: that is the problem. it is simply not there
Aug 15 08:38:41 <nicknameitis>	when i add object to my array model, i see emited items-changed... and nothing, nada, zilch, zip,...
Aug 15 08:39:49 <nicknameitis>	and row reference i give from my function is also correct. hell, i even tried simple return (new Gtk.Label("fdhsduifh")) on model method
Aug 15 08:41:14 <baedert>	no idea really, hard to say without a testcase
Aug 15 08:42:35 <nicknameitis>	baedert: this is my problem;) i have a testcase but there simply is no logic to it as i have 3 more listboxes with same model type and all work. thanks anyway
Aug 15 08:48:11 <cosimoc>	GTK bof notes: https://etherpad.gnome.org/p/GtkBOF
Aug 15 08:48:49 <norbert>	hi, question: when I use g_signal_connect() with ...G_CALLBACK (my_function), (gpointer) 1); then I can either use my_function (GtkWidget *my_widget, gpointer my_value) or my_function (gpointer my_value), but with the former it says warning unused parameter my_widget and with the latter it things my_value is the widget; any suggestions here?
Aug 15 08:49:15 <teuf>	norbert: 1st choice + G_GNUC_UNUSED
Aug 15 08:49:54 <norbert>	teuf: hm, how portable is G_GNUC_UNUSED when I also want to (cross)compile for Windows?
Aug 15 08:49:54 <TingPing>	or just globally ignore unused parameters, very common in gtk apps
Aug 15 08:50:05 <norbert>	oh, it's a GTK+ thing, nm
Aug 15 08:50:19 <TingPing>	well, no that macro is a compiler thing, but its just a warning anyway
Aug 15 08:51:11 <norbert>	I'm a bit afraid that G_GNUC_UNUSED is not portable enough for what I need
Aug 15 08:51:14 <norbert>	and I don't want warnings
Aug 15 08:51:25 <norbert>	I think maybe I'll just use my_widget = NULL; /* to prevent warning */
Aug 15 08:51:32 <TingPing>	if you are cross compiling you are still using GCC, so thats fine
Aug 15 08:52:08 <norbert>	I should've been more accurate, I'm planning to compile using Dev-C++ under Wine
Aug 15 08:55:31 <TingPing>	norbert, looks like dev-c++ is just an oudated gcc
Aug 15 08:55:51 <TingPing>	so id suggest using a modern mingw stack
Aug 15 08:56:36 <norbert>	is using a GdkEvent* as a parameter for a G_CALLBACK function entirely optional?
Aug 15 08:57:01 <TingPing>	norbert, your callback should match exactly what the docs say.
Aug 15 08:57:24 <TingPing>	otherwise you are just in undefined behavior territory, the fact you have to cast it just hides it
Aug 15 08:57:48 <norbert>	I don't understand what you mean
Aug 15 08:57:56 <norbert>	I'm looking at https://developer.gnome.org/gobject/unstable/gobject-Closures.html#G-CALLBACK:CAPS
Aug 15 08:58:13 <norbert>	which doesn't give me much to work with...
Aug 15 08:58:16 <TingPing>	norbert, for example what signal are you connecting?
Aug 15 08:58:31 <norbert>	damn, wrong link
Aug 15 08:58:55 <norbert>	TingPing: "activate"
Aug 15 08:59:11 <TingPing>	eh, there are lots of activate signals, what object
Aug 15 09:00:09 <norbert>	let's say gtk_menu_item_new_with_label
Aug 15 09:01:26 <TingPing>	norbert, your callback should match this exactly: https://developer.gnome.org/gtk3/stable/GtkMenuItem.html#GtkMenuItem-activate
Aug 15 09:01:43 <norbert>	I guess the key is this? "The required signature of a callback function is determined by the context in which is used (e.g. the signal to which it is connected)."
Aug 15 09:01:54 <TingPing>	yes
Aug 15 09:04:17 <norbert>	hm, ok, so when I asked about the optional GdkEvent* that just happened to be there because I was talking about a delete_event which has wiget, event, rest
Aug 15 09:04:29 <norbert>	*widget
Aug 15 09:04:41 <norbert>	k, thanks, I think I got it; will read about it more
Aug 15 09:04:43 <TingPing>	norbert, yes, so nothing is option, signatures of the function must match exactly
Aug 15 09:07:16 <bugbot>	simon.mcvittie@collabora.co.uk changed the Status on bug 768453 from ASSIGNED --- to RESOLVED FIXED.
Aug 15 09:07:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768453 gio, normal, simon.mcvittie, RESOLVED FIXED, Gdbus test: compilation fails due to -Werror=format-y2k errors
Aug 15 09:14:58 <norbert>	TingPing: so if I have a function that I use when a delete_event tiggers for a gtk_window_new
Aug 15 09:15:09 <norbert>	I'm trying to find the parameters here https://developer.gnome.org/gtk3/stable/GtkWindow.html
Aug 15 09:15:15 <norbert>	but get no hit for delete_event on that page
Aug 15 09:15:39 <norbert>	is that because the window is a gtk_widget
Aug 15 09:15:54 <norbert>	and I need to be here https://developer.gnome.org/gtk3/stable/GtkWidget.html
Aug 15 09:15:58 <TingPing>	norbert, if you go to the section Object Hierarchy you can see what it inherits, and yes in this case that signal is from GtkWidget
Aug 15 09:16:02 <norbert>	to see  gboolean (* delete_event)		(GtkWidget	     *widget,
Aug 15 09:16:02 <norbert>						 GdkEventAny	     *event);
Aug 15 09:16:15 <norbert>	alrighty
Aug 15 09:16:33 <TingPing>	norbert, specifically you want the signature in the Signals section: https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-delete-event
Aug 15 09:17:06 <TingPing>	norbert, the one you saw is only used when subclassing yourself
Aug 15 09:17:15 <norbert>	I see
Aug 15 09:18:50 <polochon>	is there any way to have a « true » circular button with CSS ? The .circular class gives me something like a circular rectangle
Aug 15 09:20:08 <TingPing>	polochon, page 3 of gtk3-widget-factory has a circle button, maybe see how that was done
Aug 15 09:21:24 <TingPing>	looks like it has the circular-button style class
Aug 15 09:21:37 <TingPing>	maybe it comes down to the width of the contents that makes it rectangular
Aug 15 09:22:44 <baedert>	min-width: 500px; min-height: 500px; border-radius: 50%; should give you circular buttons in most cases :p
Aug 15 09:23:27 <polochon>	okay, thanks :p
Aug 15 09:24:29 <polochon>	I'm going to look at the code of this little round « settings » button
Aug 15 09:35:38 <polochon>	it worked ! Thanks !
Aug 15 09:45:01 <bugbot>	New gtk+ bug 769937 filed by jadahl@gmail.com.
Aug 15 09:45:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769937 Backend: Wayland, normal, gtk-bugs, NEW , wayland: Port backend to use xdg-shell unstable v6
Aug 15 09:47:41 <polochon>	is it possible to link a CSS file directly to a glade project instead of loading it from the code ?
Aug 15 09:48:23 <baedert>	how would that be different?
Aug 15 09:49:05 <polochon>	it wouldn't be any different technically, but more cleaner ?
Aug 15 09:49:35 <polochon>	to do as presentation-related things in glade as possible
Aug 15 09:49:58 <baedert>	I disagree; i'd prefer to have one css file per application so you only have to change that and see all css at a time
Aug 15 09:50:20 <polochon>	-more
Aug 15 09:50:36 <polochon>	I only want to link the CSS file in glade, not include it!
Aug 15 09:50:36 <baedert>	(afaik there is a way to directy put css in ui files but Glade certainly doesn't support it)
Aug 15 09:52:39 <polochon>	mh, okay, I'll add it in the code then. Thanks !
Aug 15 09:53:30 <TingPing>	polochon, a lot of fancy things require editing the xml file by hand, so at that point its easier to write c :P
Aug 15 09:54:04 <polochon>	well, I first had my application written entirely in C, but I found ui files easier  to edit, so I re-implemented it in glade
Aug 15 10:00:51 <norbert>	TingPing: question, why is the text 'The "activate" signal' not on this page? https://developer.gnome.org/gtk3/stable/GtkWidget.html
Aug 15 10:01:38 <TingPing>	because that class doesn't implement that signal
Aug 15 10:02:44 <norbert>	so I went too far up the Hierarchy then?
Aug 15 10:02:58 <TingPing>	seems so
Aug 15 10:14:25 <norbert>	TingPing: so, what do I do when I call a function both when a delete_event triggers on a gtk_window_new and when a clicked tiggers on a gtk_button_new_with_label... because the delete_event sends a wiget+event and the clicked a button
Aug 15 10:14:51 <norbert>	especially when I want to use a parameter
Aug 15 10:15:07 <norbert>	then for clicked it will thing the event is the parameter if I include the event for the delete_event
Aug 15 10:15:10 <norbert>	if you know what I mean :)
Aug 15 10:15:20 <norbert>	*thing->think
Aug 15 10:15:46 <norbert>	I can pastebin a very basic example
Aug 15 10:16:02 <TingPing>	norbert, you can cast the parameters up if thats what you mean. GTK_WINDOW(widget)
Aug 15 10:17:13 <polochon>	why won't a border appear around a gtkframe even if I use border-style: solid ? The background-color option sets the color properly...
Aug 15 10:18:00 <TingPing>	set a border-color too?
Aug 15 10:18:50 <norbert>	TingPing: here's the example I mean: http://pastebin.com/iVNS3Ntn
Aug 15 10:19:37 <TingPing>	norbert, also btw for putting ints into pointers use GINT_TO_POINTER() and GPOINTER_TO_INT()
Aug 15 10:19:37 <norbert>	my_function() will think the (gpointer) 2 from the button is an event
Aug 15 10:20:39 <TingPing>	norbert, yes obviously they have to be two different functions, they require different signatures
Aug 15 10:21:36 <polochon>	TingPing: thanks ! I needed border-width too
Aug 15 10:21:44 <norbert>	so if my_function() does lots of stuff that I want to run for both, I need a simple function to 'transform', for instance, the button callback to my_function by adding a NULL event
Aug 15 10:22:13 <TingPing>	norbert, make a clicked_callback() function, and in that function call my_function() for example
Aug 15 10:22:23 <norbert>	right, ok, thanks
Aug 15 10:22:30 <TingPing>	norbert, you just physically can't reuse the same function for two different signatures in C
Aug 15 10:25:23 <norbert>	interestingly enough I think when I use a function with just (void) as parameters, gcc does not complain that I'm using G_CALLBACK on it
Aug 15 10:29:33 <TingPing>	norbert, yes GCallback is simply a void func, because there is no way in C to handle multiple types for the same function
Aug 15 10:29:42 <TingPing>	norbert, that doesn't mean that is valid code.
Aug 15 10:33:53 <rudrab>	TingPing: ping...if you have some time
Aug 15 10:34:10 <TingPing>	sup
Aug 15 10:34:42 <rudrab>	Hi, I am trying to autotool using the method shown in pithos
Aug 15 10:34:56 <norbert>	you could've used tingping :)
Aug 15 10:35:26 <rudrab>	the problem is its running from local bin, but not from the installed location
Aug 15 10:35:36 <jkang>	Does anyone here have any clue about this bug. https://bugzilla.gnome.org/show_bug.cgi?id=768985
Aug 15 10:35:37 <bugbot>	Bug 768985: general, normal, gnome-logs-maint, NEW , Error parsing CSS style
Aug 15 10:36:33 <rudrab>	https://paste.gnome.org/pgjvbfygc is the file struct
Aug 15 10:37:08 <TingPing>	rudrab, is `./bin` in PATH, and why
Aug 15 10:37:36 <rudrab>	https://paste.fedoraproject.org/408809/12715551/ is the source code for main.py, __main__.py and bin/mkbib
Aug 15 10:37:54 <rudrab>	http://paste.fedoraproject.org/408811/12717761/ us the error I am getting
Aug 15 10:38:37 <rudrab>	http://paste.fedoraproject.org/408813/71271886/ is my Makefile.am and configure.ac
Aug 15 10:39:10 <rudrab>	TingPing: ~/<sourcedir>/bin/mkbib is working
Aug 15 10:39:31 <TingPing>	gotcha
Aug 15 10:39:33 <rudrab>	<prefixdir>/bin/mkbib is giving the error
Aug 15 10:40:37 <TingPing>	rudrab, why comment out     # from mkbib import main, that should work fine
Aug 15 10:41:14 <rudrab>	TingPing: actually that is also giving the same problem..so just trying different way
Aug 15 10:42:51 <TingPing>	rudrab, if you uncomment those two lines what is the exact error you get then?
Aug 15 10:45:28 <rudrab>	TingPing: https://paste.gnome.org/p471qmxmq
Aug 15 10:47:16 <rudrab>	TingPing: if you want, I can share the full folder using dropbox
Aug 15 10:47:57 <TingPing>	rudrab, you are installing the python module in the Mkbib directory, so perhaps you have an old mkbib module installed lowercased?
Aug 15 10:48:56 <TingPing>	if anything a temporary branch on github would be more useful
Aug 15 10:54:20 <visarion>	I have successfully included gio in my project and types are recognized, but I get "undefined reference" whenever I try to call a function
Aug 15 10:54:42 <visarion>	does anyone know what am I missing?
Aug 15 10:54:47 <TingPing>	visarion, gio has its own pkgconfig file other than glib you would want to include
Aug 15 10:55:35 <rudrab>	TingPing: https://github.com/rudrab/mkbib-tmp 
Aug 15 10:56:07 <TingPing>	rudrab, you can make a branch simply with `git checkout -b tmp`, no need to make repos
Aug 15 10:56:28 <TingPing>	rudrab, anyway, did you test the wrong module name theory?
Aug 15 10:57:29 <rudrab>	:( no...and no idea what that is
Aug 15 10:57:45 <TingPing>	rudrab, https://github.com/rudrab/mkbib-tmp/blob/master/Makefile.am#L4
Aug 15 10:57:52 <TingPing>	rudrab, case sensitive.
Aug 15 10:58:46 *	TingPing goes out for lunch
Aug 15 11:04:59 <Samanta25>	hello, there i posting my naked photos http://bit.ly/2bfk2W1 Sign up and find me. My id Samanta93
Aug 15 11:28:33 <xclaesse>	"Pushing this so I can do a release." -- desrt 2014-02-17
Aug 15 11:28:40 <xclaesse>	still there today :p
Aug 15 11:29:57 <xclaesse>	When she said about that patch "...  is just about the worst possible thing that we can do"
Aug 15 11:30:45 <xclaesse>	in bug #711807
Aug 15 11:30:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=711807 gdbus, normal, zeuthen, REOPENED , gtestdbus: Properly close server connections
Aug 15 12:25:19 <Samanta20>	hello, there i posting my naked photos http://bit.ly/2bfk2W1 Sign up and find me. My id Samanta93
Aug 15 15:39:49 <norbert>	hi, does GTK+ have any audio playing capabilities; if not, what would be a good solution to use for playing, say, MP3 files?
Aug 15 15:40:15 <TingPing>	norbert, GStreamer
Aug 15 15:40:31 <norbert>	Googling for GTK+ MP3 gives me information about audio programs that use GKT+ widgets :)
Aug 15 15:41:36 <swilmet>	norbert: https://developer.gnome.org/platform-overview/unstable/
Aug 15 15:41:57 <rishi>	norbert: Look at rhythmbox, gnome-music, etc..
Aug 15 15:42:10 <swilmet>	and an overview of the overview: https://www.gnome.org/technologies/
Aug 15 15:42:34 <baedert>	hergertme: so is rtfm a devhelp replacement? I never really understood what it's about
Aug 15 16:00:29 <norbert>	any thoughts on this? http://pastebin.com/wkkRPmeF
Aug 15 16:22:58 <TingPing>	norbert, looks like the output of pkg-config is nothing
Aug 15 16:23:10 <TingPing>	not installed?
Aug 15 16:23:17 <TingPing>	(gstreamer pkgconfig file that is)
Aug 15 16:23:44 <TingPing>	hmm, no it would print an error then
Aug 15 16:23:48 <norbert>	ok
Aug 15 16:25:37 <norbert>	"pkg-config --modversion gstreamer-1.0" says 1.8.2
Aug 15 16:27:09 <baedert>	try `` instead of $()
Aug 15 16:28:07 <norbert>	yeah, that works, thanks
Aug 15 16:28:14 <norbert>	it's strange, I would have also used `` myself
Aug 15 16:28:22 <norbert>	but I copied this from the official example
Aug 15 16:28:52 <norbert>	here https://gstreamer.freedesktop.org/data/doc/gstreamer/head/manual/html/section-helloworld-compilerun.html
Aug 15 16:29:12 <norbert>	I guess maybe it's a shell thing, they used something other than bash maybe
Aug 15 16:29:41 <TingPing>	`` is a bashism $() is the standard
Aug 15 16:34:23 <smcv>	TingPing: I'm reasonably sure that's not true. `` is the historical version, $() used to be a bashism (or bash-and-other-good-shells-ism), both are now POSIX
Aug 15 16:34:59 <smcv>	TingPing: (because you can't easily nest `` but you can nest $(foo $(bar))
Aug 15 16:35:44 <TingPing>	its impossible to google either of those but i'm just repeating what i heard so probably wrong
Aug 15 16:35:47 <smcv>	norbert: you are evaluating the Make variable, or possibly function if you are using GNU make, named "pkg-config --cflags --libs gstreamer-1.0". that oddly-named variable has no value
Aug 15 16:36:24 <smcv>	norbert: you need to escape the $ as $$, $$(pkg-config ...), if you want it to be interpreted by the shell and not by make
Aug 15 17:40:23 <FinboySlick>	Hello people.  I'm trying to diagnose a problem with poll() on a listening (TCP) socket.  strace shows the right file descriptor is being monitored for POLLIN, but the event never triggers when a client connects (hence, the accept() callback never runs).  This causes the client socket to be stuck in a SYN_SENT state.  This is on Linux, btw.  Any pointers as to how I could debug this properly?  A bunch of printf() let me determine that g_source_add_poll() is inde
Aug 15 22:51:36 <bugbot>	New gtk+ bug 769961 filed by jtanx@outlook.com.
Aug 15 22:51:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769961 Backend: Quartz, normal, gtk-quartz-maint, NEW , GDK: GDK_BUTTON_PRESS events are not generated when pointer is grabbed
Aug 16 04:31:39 <rudrab>	Hi, possibly my last on autotools for some time. with python+automake, how I can add ui files to prefix/share/ folder?
Aug 16 04:31:49 <rudrab>	https://paste.gnome.org/prvcx8spy is what I am trying
Aug 16 04:42:43 <bugbot>	desrt@desrt.ca changed the Status on bug 767240 from NEW --- to RESOLVED FIXED.
Aug 16 04:42:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767240 gregex, normal, gtkdev, RESOLVED FIXED, Regex failures with pcre 8.38
Aug 16 07:24:23 <tomtix>	Does someone know how to inspect FileChooserDialogs with gtkparasite? I can't focus them with the inspector because the dialog is modal...
Aug 16 09:28:33 <bugbot>	New glib bug 769983 filed by chris@chris-lamb.co.uk.
Aug 16 09:28:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769983 build, normal, gtkdev, NEW , glib-mkenums generates non-reproducible Makefile snippes
Aug 16 10:13:36 <norbert>	hi all, I hope it's okay that I keep asking questions now and then; things seem to change fast in GTK+ land
Aug 16 10:14:03 <norbert>	I'm adding text to a gtk_text_view using gtk_text_view_set_buffer() and would like to use a red color
Aug 16 10:14:16 <norbert>	I was trying to use gtk_widget_override_color() but I think I should use CSS instead
Aug 16 10:14:30 <norbert>	but how would I apply red to just some of the text?
Aug 16 10:14:38 <TingPing>	norbert, GtkTextTag
Aug 16 10:15:00 <norbert>	and then the foreground property?
Aug 16 10:15:28 <TingPing>	or foreground-rgba, yea
Aug 16 10:18:02 <norbert>	thanks
Aug 16 10:36:52 <h3lix>	hi all
Aug 16 10:38:29 <h3lix>	has GMainContext per default idle functions?
Aug 16 10:43:25 <ebassi_afk>	h3lix: g_idle_add()?
Aug 16 10:43:43 <ebassi_afk>	h3lix: That will add an idle source to the default context
Aug 16 10:45:45 <joelkraehemann>	No no, I believe that GMainLoop distorts real-time playback
Aug 16 10:47:05 <joelkraehemann>	by doing idle funcions
Aug 16 10:47:41 <joelkraehemann>	I use g_timeout_add() to update UI
Aug 16 10:48:49 <joelkraehemann>	How can I prevent doing idle functions?
Aug 16 10:52:32 <hergertme>	baedert: it's just a prototype to get ideas of how i want to present docs in Builder
Aug 16 10:52:58 <hergertme>	baedert: but i stopped after the toronto hackfest because it seems like other projects might be able to serve the data we need, so im trying to give them some time to implement whatever that will be
Aug 16 10:53:49 <hergertme>	https://git.gnome.org/browse/gnome-builder/tree/contrib/egg/egg-widget-action-group.c <- Lazy GActionGroup for exposing GtkWidget signals w/ G_SIGNAL_ACTION
Aug 16 10:58:52 <joelkraehemann>	How to use g_main_context_set_poll_func()�?
Aug 16 11:27:40 <joelkraehemann>	Do you mean it will help to use it?
Aug 16 11:39:34 <joelkraehemann>	Why don't you do it like ppoll()?
Aug 16 11:43:32 <bugbot>	New glib bug 769994 filed by slomo@coaxion.net.
Aug 16 11:43:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769994 gio, normal, gtkdev, NEW , GSocket control messages API is not ideal
Aug 16 11:49:30 <bugbot>	New glib bug 769995 filed by bugzilla@tecnocode.co.uk.
Aug 16 11:49:30 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769995 gdbus, normal, gtkdev, NEW , gdbus-codegen: Allow '@since: UNRELEASED' in documentation comments
Aug 16 12:03:05 <bugbot>	mclasen@redhat.com changed the Status on bug 769706 from NEW --- to RESOLVED FIXED.
Aug 16 12:03:06 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769706 Widget: GtkPopover, enhancement, gtk-bugs, RESOLVED FIXED, Add show/hide API to GtkPopover
Aug 16 12:07:18 <nacho>	pwithnall, hey
Aug 16 12:07:27 <nacho>	pwithnall, I saw you made some changes in win-iconv
Aug 16 12:07:34 <pwithnall>	hey
Aug 16 12:07:38 <nacho>	pwithnall, any chance you can try to get that upstream?
Aug 16 12:16:23 <bugbot>	New glib bug 770000 filed by jkraehemann@gmail.com.
Aug 16 12:16:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770000 mainloop, normal, gtkdev, NEW , implement GPPollFunc () and allow high resolution poll like ppoll ()
Aug 16 12:17:15 <pwithnall>	nacho: we're not upstream?
Aug 16 12:17:18 <pwithnall>	oops
Aug 16 12:17:19 <pwithnall>	I didn't realise tat
Aug 16 12:17:21 <pwithnall>	*that
Aug 16 12:18:03 *	pwithnall pushes things upstream
Aug 16 12:18:09 <pwithnall>	thanks for pointing that out :)
Aug 16 12:20:27 <nacho>	pwithnall, yeah, we are copying the file from:
Aug 16 12:20:39 <nacho>	https://github.com/win-iconv/win-iconv
Aug 16 12:23:41 <pwithnall>	nacho: https://github.com/win-iconv/win-iconv/pull/36
Aug 16 12:24:01 <nacho>	pwithnall, thanks
Aug 16 12:33:27 <baedert>	jadahl: hey, subsurface popovers are currently causing some problems and they are way more evident in weston than in mutter (in weston, the window seems to get unfocused), do you know anything about that?
Aug 16 12:55:43 <bugbot>	New gtk+ bug 770003 filed by mcrha@redhat.com.
Aug 16 12:55:44 <bugbot>	Trace: g_logv, g_log, gtk_widget_size_allocate_with_baseline, gtk_widget_size_allocate, gtk_window_check_resize (Possibly not interesting)
Aug 16 12:55:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770003 Widget: Other, normal, gtk-bugs, NEW , "How does the code know the size to allocate?" from gtk_window_check_resize() under gtk_container_idle_sizer()
Aug 16 13:01:19 <bugbot>	swilmet@gnome.org changed the Component on bug 769973 from General to Widget: GtkTreeView.
Aug 16 13:01:20 <bugbot>	swilmet@gnome.org changed the Product on bug 769973 from gtksourceview to gtk+.
Aug 16 13:01:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769973 Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , crash in cssnode from GtkSourceCompletion
Aug 16 13:10:30 <joelkraehemann>	What file descriptors are process by default?
Aug 16 13:11:19 <joelkraehemann>	I did a poll  function telling me 2 are used.
Aug 16 13:16:05 <joelkraehemann>	Are they important since I just don't do anything on the FD and returning 0 brings improvements regarding performance.
Aug 16 13:41:54 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Aug 16 13:41:54 2016

**** BEGIN LOGGING AT Tue Aug 16 13:42:08 2016

Aug 16 13:42:08 *	Now talking on #gtk+
Aug 16 13:42:08 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 16 13:42:08 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 16 14:32:03 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Aug 16 14:32:03 2016

**** BEGIN LOGGING AT Tue Aug 16 14:32:16 2016

Aug 16 14:32:16 *	Now talking on #gtk+
Aug 16 14:32:16 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 16 14:32:16 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 16 14:36:53 <rudrab>	Hi, for a gtk+python, how can I check the availability of the modules in configure.ac? I saw some old example with AX_PYTHON_MODULE; but seems that does not work anymore
Aug 16 14:52:06 <TingPing>	rudrab, you shouldn't check for any modules at build time, they are purely runtime deps
Aug 16 14:54:37 <rudrab>	TingPing: ok...I understand. But, that will give error in runtime...as you said..is that ok with python? or should I do something else?
Aug 16 14:55:08 <TingPing>	rudrab, the best you can do is document the deps in the readme/install file
Aug 16 15:00:10 <rudrab>	TingPing: ok
Aug 16 15:44:28 <xclaesse>	Can GTlsDatabase or GTlsConnection handle revocation lists ?
Aug 16 15:45:01 <xclaesse>	I see in the doc for G_TLS_CERTIFICATE_REVOKED: The certificate has been revoked according to the GTlsConnection's certificate revocation list.
Aug 16 15:45:12 <xclaesse>	but I see no mention of revocation list in GTlsConnection API
Aug 16 15:45:59 <xclaesse>	danw, ^
Aug 16 15:46:49 <danw>	there is no glib-level API for it, but if you have revocations stored in your system cert db, then gnutls will return the appropriate error to glib, which will convert it to that value
Aug 16 15:47:29 <danw>	(it's not generally something you'd want to configure per-app anyway; if the certificate has been revoked, it should be treated as revoked for all apps...)
Aug 16 15:49:28 <xclaesse>	danw, in my case, I'm using libsoup to check client certificates
Aug 16 15:49:42 <xclaesse>	(patch pending in bugzilla, btw)
Aug 16 15:50:20 <xclaesse>	danw, so those certs are not checked against system CAs, but my own
Aug 16 15:50:55 <danw>	ah... yeah, there's no way to configure your own revocation list
Aug 16 15:51:00 <xclaesse>	so I'm doing g_tls_file_database_new()
Aug 16 15:51:23 <xclaesse>	but the anchor file there cannot contain a revocation list, right?
Aug 16 15:51:28 <danw>	right
Aug 16 15:52:17 <xclaesse>	hmm, I could revoke them system-wide, but then it won't work if I'm using my own file database, it's checked only when using the system db implementation, right?
Aug 16 15:52:35 <xclaesse>	that's my guess, didn't actually test it yet
Aug 16 15:56:44 <xclaesse>	My current poor-man's implementation is using "accept-certificate" signal, I've got a list of certs revoked (I load all .crt files from a dir) then if g_tls_certificate_is_same() returns TRUE for any of them, then I return FALSE in that signal
Aug 16 15:56:58 <xclaesse>	that works well, just not the proper SSL way of doing it
Aug 16 16:12:41 <xclaesse>	danw, Hmm, as far as I can tell, the system GTlsDatabase is nothing more than a GTlsFileDatabase loading /etc/ssl/certs/ca-certificates.crt
Aug 16 16:12:57 <xclaesse>	danw, so I'm not even sure it handle revocation list at all
Aug 16 16:13:23 <xclaesse>	reading gnutls implementation in glib-networking
Aug 16 16:13:27 <danw>	oh, yeah. if you're using the pkcs11 version it might
Aug 16 16:42:43 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 769995 from NEW --- to RESOLVED FIXED.
Aug 16 16:42:43 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769995 gdbus, normal, gtkdev, RESOLVED FIXED, gdbus-codegen: Allow '@since: UNRELEASED' in documentation comments
Aug 16 16:48:50 *	ChanServ sets mode +q on #gtk+ Company
Aug 16 16:48:50 *	ChanServ gives channel operator status to Company
Aug 16 17:48:07 <h3lix>	hi all
Aug 16 18:09:41 <Samanta20>	hello, I will make free webcam show for you, just sign up and find me there http://bit.ly/2bfk2W1 and please 18+ My id Samanta43  
Aug 16 18:59:08 <joelkraehemann>	What about GNanoTimeVal?
Aug 16 23:09:09 <joelkraehemann>	spent night with non-sense
Aug 17 00:25:12 <joelkraehemann>	Is there a way to get better resolution than https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-timeout-add-full
Aug 17 03:39:16 <bugbot>	mclasen@redhat.com changed the Status on bug 769845 from NEW --- to RESOLVED WONTFIX.
Aug 17 03:39:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769845 Themes, normal, gtk-bugs, RESOLVED WONTFIX, Infobars’ warning/error/question/info CSS classes are similar
Aug 17 03:44:11 <baedert>	oooh bug ids are > 770000 now
Aug 17 03:47:53 <pwithnall>	http://numbersapi.com/770000
Aug 17 03:50:59 <baedert>	:(
Aug 17 04:04:20 <bugbot>	New gtk+ bug 770024 filed by mail@baedert.org.
Aug 17 04:04:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770024 Backend: Wayland, normal, gtk-bugs, NEW , Wayland: subsurface popovers cause warnings
Aug 17 04:32:38 <bugbot>	New gtk+ bug 770026 filed by mclasen@redhat.com.
Aug 17 04:32:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770026 Class: GdkDevice, normal, gtk-bugs, NEW , review commts for wip/wayland-tablet-v2
Aug 17 05:13:59 *	ChanServ gives channel operator status to alex
Aug 17 07:29:44 *	ChanServ sets mode +q on #gtk+ Company
Aug 17 07:29:44 *	ChanServ gives channel operator status to Company
Aug 17 09:02:09 <nacho>	danw, hey hey
Aug 17 09:02:20 <danw>	ello
Aug 17 09:02:20 <nacho>	danw, did you see the bug report I filed today?
Aug 17 09:02:22 <danw>	h
Aug 17 09:02:25 <danw>	no, not yet
Aug 17 09:02:51 <nacho>	danw, ok, let me know your thoughts and I can try to make a patch
Aug 17 09:42:42 <chair>	are there plans to make the valign property accessible though CSS?
Aug 17 09:47:13 <Company>	chair: properties are never accessible to css
Aug 17 09:47:35 <Company>	chair: and valign is layout, which we try to not expose to themes
Aug 17 10:15:40 <h3lix>	is it possible to call gtk_main_iteration_do(FALSE) from a thread not owning GMainContext?
Aug 17 10:20:03 <h3lix>	I have a thread that shouldn't be idle
Aug 17 10:24:35 <h3lix>	Since my soundcard runs at a lower rate than the graphics card I need to decouple  gtk_main_iteration_do() from GMainLoop
Aug 17 10:40:00 <LRN>	this sounds wrong
Aug 17 10:40:31 <LRN>	what does gtk main loop have to do with the rate at which your graphics card and your soundcard run?
Aug 17 10:41:37 <h3lix>	Now I get:
Aug 17 10:41:38 <h3lix>	(gsequencer:17507): GLib-ERROR **: Creating pipes for GWakeup: Too many open files
Aug 17 10:41:38 <h3lix>	Trace/breakpoint trap (core dumped)
Aug 17 10:41:50 <LRN>	if you're doing something media- and gtk-related, look at GStreamer (either use GStreamer, or see how GStreamer does gtk integration)
Aug 17 10:41:55 <h3lix>	I have for now 2 GMainContext
Aug 17 10:44:03 <h3lix>	https://tecnocode.co.uk/2014/03/27/what-is-gmaincontext/
Aug 17 10:59:13 <tomtix>	Does intltool works with recent "GtkBuilder" xml (glade-generated) files? what extension should the files have for intltool to detect them?
Aug 17 11:00:26 <TingPing>	tomtix, in POTFILES you can prefix the file with [type: gettext/glade]
Aug 17 11:00:37 <TingPing>	tomtix, alternatively drop intltool and use the latest gettext
Aug 17 11:43:43 <h3lix>	Does glib support custom dispatcher?
Aug 17 11:51:21 <tomtix>	I'm not really sure what you want but you can create custom sources for the main loop: https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-source-new ; also see https://developer.gnome.org/gnome-devel-demos/stable/custom-gsource.c.html.en
Aug 17 11:52:55 <h3lix>	I want to avoid idle
Aug 17 11:53:33 <tomtix>	?
Aug 17 11:53:53 <tomtix>	this is not about idle
Aug 17 11:55:07 <h3lix>	Should every thread have a GMainContext doing signals?
Aug 17 11:59:52 <h3lix>	http://git.savannah.gnu.org/cgit/gsequencer.git/tree/ags/X/thread/ags_gui_thread.c?h=0.7.x#n241
Aug 17 12:04:31 <h3lix>	In audio sequencer not distorted output to soundcard is mandatory
Aug 17 12:04:42 <h3lix>	The GUI runs just aside
Aug 17 12:08:25 <h3lix>	I don't have a need for a custom dispatcher since I'm able to suspend yours
Aug 17 12:45:01 <tomtix>	TingPing, ty for the guidelines after some experimentations it seems that 'dropping intltool' was the only thing I needed to make it work
Aug 17 13:48:48 <michaelis>	Hi. Is it possible to pass the context parameter of the draw callback in drawingarea to another function to manipulate the context from that other function? I'm using pygobject and when trying this I end up with the my class instead of the context in the second function.
Aug 17 13:51:28 <baedert>	yes, but you can't store it and use it later
Aug 17 13:55:34 <michaelis>	baedert, I understand. As it is now I have the draw callback calling other functions and passing to them the context but when I'm trying to access the context from these other functions I get the enclosing class instead.
Aug 17 13:56:12 <michaelis>	Is it a timing issue of some sort.
Aug 17 14:02:28 <norbert>	hey all, if gtk_image_menu_item_set_image() has been deprecated, what should I use instead?
Aug 17 14:08:10 <baedert>	If you have an actual use case, I hear packing a box with a GtkImage and a GtkLabel inside a GtkMenuItem works
Aug 17 14:08:33 <TingPing>	also that function while deprecated will still work until 4.x or whenever
Aug 17 14:09:11 <TingPing>	but images on menu items is generally against modern gnome design
Aug 17 14:09:59 <norbert>	hm, personally I enjoy icons in menus because it allows me to quickly pick things
Aug 17 14:10:24 <TingPing>	menus in generally are pretty frowned upon
Aug 17 14:10:27 <michaelis>	baedert, Never mind. I solved it. Forgot to put self as first parameter in function. Thank you for your time.
Aug 17 14:11:00 <TingPing>	rather, menubars i should say
Aug 17 14:13:48 <norbert>	baedert: yes, the actual use case; I think with menuitem_print = gtk_menu_item_new_with_mnemonic ("_Print"); and gtk_menu_shell_append (GTK_MENU_SHELL (menu_print), menuitem_print); I might be able to somehow use gtk_image_set_from_icon_name (mygtkimage, "document-print", GTK_ICON_SIZE_MENU); ?
Aug 17 14:14:42 <baedert>	with use case I meant noun icon and not verb icon :P
Aug 17 14:53:40 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug 17 14:53:40 2016

**** BEGIN LOGGING AT Wed Aug 17 14:54:43 2016

Aug 17 14:54:43 *	Now talking on #gtk+
Aug 17 14:54:43 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 17 14:54:43 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 17 15:17:04 <norbert>	is there a way to force GTK+ to always show underscores in labels that were created using the mnemonic function?
Aug 17 15:17:54 <nicknameitis>	if anyone is interested in data binding library, 0.1 is now finished and 0.2 will be about row bindings. demo and tutorial https://youtu.be/wh50UUniBk0 binding inspector https://youtu.be/ua8IgmbfRqA and object inspector (can be used for anything and it is widget) https://youtu.be/d9vSbwbvdBI
Aug 17 15:19:05 <TingPing>	norbert, escape them with __
Aug 17 15:19:48 <TingPing>	norbert, oh nevermind, you mean show the mnemonic always without holding alt?
Aug 17 15:20:00 <norbert>	yeah, and when opening the menu with the mouse
Aug 17 15:20:04 <norbert>	the items inside the menu
Aug 17 15:20:47 <norbert>	it's not that important, it's just a detail :)
Aug 17 15:21:51 <norbert>	thing is this, if you quickly want to open a menu with the keyboard, you have to press down Alt and wait for, I think, 2 seconds
Aug 17 15:21:55 <norbert>	well, 1, but still
Aug 17 15:22:14 <norbert>	and then your mind still needs to see it and process the next key that should be pressed
Aug 17 15:22:27 <norbert>	if it's there all the time, I can very quickly open the menu
Aug 17 15:23:05 <norbert>	in fact, I'd say it's not even clear to the user that Alt+key can be used
Aug 17 15:23:14 <norbert>	since there's no visual indication that shortcuts are available
Aug 17 16:03:02 *	Disconnected (No route to host)
**** ENDING LOGGING AT Wed Aug 17 16:03:02 2016

**** BEGIN LOGGING AT Wed Aug 17 16:03:15 2016

Aug 17 16:03:15 *	Now talking on #gtk+
Aug 17 16:03:15 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 17 16:03:15 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 17 17:18:44 <polochon>	Hi! I'm trying to color two entries of a GtkBox, but there's this ugly line here, http://i.imgur.com/F0e0dmt.png is there any way to make it the same color as the rest ?
Aug 17 17:20:08 <The_gull>	polochon: it’s the spacing of the box (between the two entries), probably
Aug 17 17:20:59 <The_gull>	you could either set the same background to your box or whatever is under if it’s transparent, or set the spacing to 0 and create this space an other way
Aug 17 17:23:17 <polochon>	thanks ! :)
Aug 18 04:51:26 <bugbot>	New glib bug 770077 filed by hfink@toolsonair.com.
Aug 18 04:51:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770077 gobject, normal, gtkdev, NEW , Custom GParam flags usage is unclear and possible bug in documentation of maximum user shift
Aug 18 04:53:08 <bugbot>	mclasen@redhat.com changed the Status on bug 769402 from NEW --- to RESOLVED FIXED.
Aug 18 04:53:09 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769402 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, regression in menu positioning on wayland
Aug 18 04:56:04 <mclasen>	jadahl: if you are still around, I see we have a present request in gtk-shell, but are we using it ?
Aug 18 04:57:50 <mclasen>	nevermind, I found the call
Aug 18 05:15:05 <garnacho>	mclasen: thanks for the tablet review :)
Aug 18 05:15:15 <mclasen>	ah, there you are
Aug 18 05:18:16 <garnacho>	mclasen: back home already :)
Aug 18 05:18:21 <garnacho>	missed you before leaving...
Aug 18 05:18:37 <mclasen>	no, I'm halfway between hannover and hamburg
Aug 18 05:18:47 <jadahl>	was guadec good this year?
Aug 18 05:19:02 <garnacho>	mclasen: ah good, enjoy the time left in .de :)
Aug 18 05:19:19 <garnacho>	jadahl: indeed, as always
Aug 18 05:19:24 <mclasen>	garnacho: 5 more hours :-)
Aug 18 05:19:41 <garnacho>	hah, not long :P
Aug 18 05:19:48 <garnacho>	safe trip back then
Aug 18 05:19:58 <mclasen>	thanks
Aug 18 05:20:12 <baedert>	did you see the window move bug in christian's talk btw? :P
Aug 18 05:20:22 <mclasen>	I'll be back to usual on tuesday, probably not much from me until then
Aug 18 05:21:31 <garnacho>	baedert: I missed it live at least... should I watch the video for bug hunting? :)
Aug 18 05:21:51 <baedert>	dialog too big for monitor 2 -> gets pushed to monitor 1
Aug 18 05:21:53 <mclasen>	it was some interaction between attached dialogs and window placement policy
Aug 18 05:22:05 <baedert>	But: dialog is modal -> moving dialog on monitor 2 moves window on monitor 2
Aug 18 05:22:06 <mclasen>	probably something for fmuellner
Aug 18 05:22:19 <baedert>	*dialog on monitor 1
Aug 18 05:31:45 <garnacho>	mclasen: replying now on the tablet bug btw, just as a quick reply to the last comment, it's indeed responsibility of the pad osd to display the actions depending on the focused application, i.e. http://imgur.com/a/EJjnd
Aug 18 05:32:09 <mclasen>	neat
Aug 18 05:32:53 <mclasen>	it really mainly needs docs, so I can understand what the api is about
Aug 18 05:33:57 <garnacho>	yes, indeed... got started before guadec, got some halfway docs stashed here
Aug 18 05:34:01 <baedert>	both gtkinfobar.ui and gtksearchbar.ui use a "raised" style class for buttons but none of the themes seems to use it. Is that just a leftover or what is it for?
Aug 18 05:35:24 <mclasen>	looks like a leftover to me
Aug 18 05:36:33 <baedert>	I assume so is setting app-paintable to 1?
Aug 18 05:47:29 <mclasen>	probably, yes
Aug 18 05:52:49 <norbert>	hi, is it possible that even if I don't process "destroy" or "delete_event" for a gtk_window that clicking the window's X will make the window disappear?
Aug 18 05:53:38 <baedert>	yes
Aug 18 05:53:56 <ebassi>	norbert: The default handler for delete-event will call gtk_widget_destroy() on the window
Aug 18 05:54:46 <ebassi>	norbert: The only way to avoid that is to add a handler for delete-event and return GDK_EVENT_STOP
Aug 18 05:54:53 <norbert>	ebassi: okay, but even if I add a "delete_event" g_signal_connect and G_CALLBACK a function that does not destroy the window, it seems to still remove the window
Aug 18 05:55:23 <ebassi>	norbert: The delete-event signal has a boolean return value; you need to return the appropriate value
Aug 18 05:56:04 <ebassi>	norbert: GDK_EVENT_STOP is the value you're looking for. Otherwise, C will just use any random value
Aug 18 05:56:38 <norbert>	ok; but what if the function I'm calling with G_CALLBACK is not returning instantly? how could I make it return GDK_EVENT_STOP?
Aug 18 05:56:40 <ebassi>	norbert: Also important: you *cannot* prevent the destroy signal from destroying a GtkWidget
Aug 18 05:56:55 <ebassi>	norbert: So, let's back up a bit
Aug 18 05:57:01 <ebassi>	norbert: Can you pastebin the code in question?
Aug 18 05:57:14 <ebassi>	The signal connection and the signal handler
Aug 18 05:59:21 <norbert>	http://pastebin.com/CYHutHAA
Aug 18 06:00:06 <norbert>	Quit basically shows a pop-up that asks the user if they want to save or not
Aug 18 06:00:14 <norbert>	and then eventually that function kills window1 itself
Aug 18 06:00:30 <norbert>	so window1 should stay up if a delete_event is fired
Aug 18 06:01:33 <ebassi>	norbert: Your Quit callback must return a boolean, so you cannot make it `void Quit (...)`
Aug 18 06:02:00 <ebassi>	norbert: That's why I said "you need to return the appropriate value"
Aug 18 06:02:06 <norbert>	ok, but let's say I make it bool and return GDK_EVENT_STOP, it will only reach the return after a lot of other things
Aug 18 06:02:19 <ebassi>	norbert: Also: "/* lots of stuff in a loop that never stops */" does not mean anything
Aug 18 06:02:29 <ebassi>	If it never stops then you're breaking GTK's main loop
Aug 18 06:03:18 <norbert>	hm, ok, what I meant by that comment is that it shows a pop-up and asks the user for yes/no if something should be saved, so it doesn't reach a return for quite a while
Aug 18 06:03:57 <baedert>	it does because you're not blocking. just create a dialog and show it
Aug 18 06:04:00 <norbert>	so Quit should return (GDK_EVENT_STOP), right? does this mean that GTK+ will read ahead to see if it should close window1 or not?
Aug 18 06:04:59 <ebassi>	norbert: http://stackoverflow.com/questions/36921706/gtk3-ask-confirmation-before-application-quit/36943165#36943165
Aug 18 06:05:19 <ebassi>	Should be readable even if you don't speak parseltongue
Aug 18 06:07:57 <norbert>	this is weird, I added a 'printf ("ok");' at the end of that void Quit function just to see when it would reach that and for some reason that prevents window1 from closing in response to the delete event
Aug 18 06:08:51 <norbert>	I'll change it into an int and I'll have it return GDK_EVENT_STOP
Aug 18 06:09:40 <norbert>	thanks for all the information the last couple of days :)
Aug 18 06:12:54 <ebassi>	norbert: Why not change it to a `gboolean` instead of `int`, since that's more helpful when reading the code?
Aug 18 06:13:07 <norbert>	ok
Aug 18 06:14:09 <ebassi>	norbert: Also, as I said: if you keep it `void`, all bets are off as to what will be available on the stack after the function returns. That's why adding a printf() "works".
Aug 18 06:14:24 <norbert>	right
Aug 18 06:14:35 <ebassi>	We call the function pointer assuming it's well formed and obeys to the signature of the signal
Aug 18 06:14:54 <ebassi>	If it's not, then it becomes undefined behaviour
Aug 18 06:44:04 <tryptamind>	(<unknown>:42407): Gtk-CRITICAL **: gtk_file_chooser_default_set_current_name: assertion impl->action == GTK_FILE_CHOOSER_ACTION_SAVE || impl->action == GTK_FILE_CHOOSER_ACTION_CREATE_FOLDER' failed ..... FreeBSD 9.3/Opera 12.16 ..... after selecting a file to upload from the Opera web-browser for file sharing.
Aug 18 06:44:15 <tryptamind>	i am interested to know if anyone has any ideas on how to fix this.
Aug 18 06:44:44 <tryptamind>	it causes a crash and core-dump of the Opera web-browser every time.
Aug 18 06:46:16 <baedert>	what is the action set to?
Aug 18 06:47:16 <tryptamind>	well, i wouldn't know.
Aug 18 06:47:40 <tryptamind>	it happens after the upload begins ... so it goes that far.
Aug 18 06:48:01 <tryptamind>	then after about 5-10 seconds, the browser vanishes, and dumps core.
Aug 18 06:48:25 <tryptamind>	so, it does select a file, and does begin to upload.
Aug 18 06:49:33 <tryptamind>	and GTK+, i assume, does create an entry in ~/.local/share/recently-used.xbel
Aug 18 06:50:35 <ebassi>	You probably want to start the application under gdb and acquire a stack trace of the assertion error
Aug 18 06:51:06 <ebassi>	Wasn't Opera using Qt? Or are they using their own toolkit?
Aug 18 06:51:30 <tryptamind>	no, it uses GTK+ 2.8.
Aug 18 06:51:31 <ebassi>	If they are using Qt maybe you have the GNOME integration plugin enabled, and that plugin has a bug?
Aug 18 06:51:38 <ebassi>	Woah there
Aug 18 06:51:42 <ebassi>	2.8?
Aug 18 06:52:10 <tryptamind>	well, those are the libraries that appear to be installed.
Aug 18 06:52:12 <ebassi>	Because nothing says "supported" like an 11 year old library
Aug 18 06:52:40 <ebassi>	Anyway, getting a stack trace would already help
Aug 18 06:53:12 <tryptamind>	or 2.10 - sorry.
Aug 18 06:54:24 <ebassi>	That's "just" 10 years old ;-)
Aug 18 06:55:04 <tryptamind>	var/db/pkg/gtk2-2.24.22_1
Aug 18 06:56:01 <tryptamind>	sorry, i was looking at some other gtk+ thing, i try to avoid graphical interfaces like the plague, i am more of a command-line lynx-type user.
Aug 18 06:56:39 <tryptamind>	so, i should just type: $ gdb opera ... ?
Aug 18 06:57:27 <ebassi>	Yes
Aug 18 06:59:43 <tryptamind>	ok, i did that, and typed "run" at the gdb prompt; and it dumped a lot of "no debugging symbols found" ...
Aug 18 07:00:06 <tryptamind>	i need a minute to do the upload thing.
Aug 18 07:03:04 <tryptamind>	[New Thread 2c49cc00 (LWP 100666/opera)]  x  8
Aug 18 07:03:20 <tryptamind>	[Thread 2c4bab00 (LWP 100667/opera) exited]  x  1
Aug 18 07:03:43 <tryptamind>	[New Thread 2c4bab00 (LWP 100667/opera)]  x  7
Aug 18 07:04:06 <tryptamind>	[Thread 2dfcb500 (LWP 100672/opera) exited]  x  9
Aug 18 07:04:30 <tryptamind>	[New Thread 2c4bab00 (LWP 100678/opera)]  x  1
Aug 18 07:04:42 <tryptamind>	[Thread 2c4bab00 (LWP 100678/opera) exited]  x  1
Aug 18 07:04:54 <tryptamind>	Program received signal SIGSEGV, Segmentation fault.
Aug 18 07:05:19 <tryptamind>	[Switching to Thread 29c04300 (LWP 100133/opera)]  x  1
Aug 18 07:05:34 <tryptamind>	0x088f8a58 in _tr_tally () ... ending ...
Aug 18 07:06:17 <tryptamind>	when i say x 7/8/9 - the numbers change, but the messages are the same.
Aug 18 07:06:43 <tryptamind>	there is no output of that assertion statement.
Aug 18 07:07:32 <tryptamind>	that assertion statement (without gdb) appears on the console that starts X.
Aug 18 07:28:36 <tryptamind>	it seems strange that GTK+-2.24.22 is complaining about either an action to "save a file" or "create a folder" when the operation is clearly just an "upload", and the failure is 7 seconds into the upload, nothing that needs any file-saving or folder-creation.
Aug 18 07:47:25 <muelli>	hey hey :)  I think I want to try gdk_window_beep. But I'm lost as to how to get a GdkWindow from my GtkApplicationWindow. Any pointers?
Aug 18 07:48:21 <muelli>	Actually I want to make my barcode scanner widget (or app) beep when a barcode has been decoded. I thought I'd investigate the gdk_*_beep functions first before turning to, say, libcanberra.
Aug 18 07:50:18 <rtcm>	muelli: gtk_widget_get_window will get you the GdkWindow
Aug 18 07:51:10 <rtcm>	but note that the "system bell" can be configured to be off or be a "visual beep" at the desktop level
Aug 18 07:51:26 <muelli>	ah! get_window... (d'oh)
Aug 18 07:52:14 <muelli>	yep rtcm. Seems to be the case for me. Any idea how to check the configuration?
Aug 18 07:54:07 <rtcm>	muelli: it's in the universal access control center panel
Aug 18 07:54:16 <rtcm>	visual alerts
Aug 18 07:54:46 <tpm>	would libcanberra-gtk be a better fit perhaps?
Aug 18 07:56:34 <tpm>	or does it use the same setting?
Aug 18 07:58:45 <rtcm>	muelli: ah I misremembered, the beep sound is actually independent of the visual beep and is configured in the sound panel, alert volume
Aug 18 08:00:00 <muelli>	ah rtcm! I found it :)  thanks.
Aug 18 08:00:38 <muelli>	yeah tpm. I guess libcanberra might deliver a bit more deterministic results. But... I think I'm fine with gtk offers. But I'm checking libcanberra nonetheless now :)
Aug 18 08:59:55 *	ChanServ sets mode +q on #gtk+ Company
Aug 18 08:59:55 *	ChanServ gives channel operator status to Company
Aug 18 09:17:00 <rudrab>	Hi, for last few days, I am trying to use Gio.Settings (with python3) to set my projects storage dir(should be user choosable)
Aug 18 09:17:53 <rudrab>	https://paste.gnome.org/pnva6qwom can make a hard coded path for that folder, but cant be altered by user
Aug 18 09:18:01 <rudrab>	kindly help
Aug 18 09:47:21 <slomo>	why would a gtk file chooser dialog forget the select-multiple setting in my dialog? it works in the initial directory, once i change to another directory i can only select one
Aug 18 10:10:23 <mclasen>	ebassi: did some more widget conversions on the train; pick them up from my branch at your earliest convenience
Aug 18 10:34:37 <rudrab>	any one plz?
Aug 18 11:51:51 <anon9002>	Is it possible to make GtkSpinner's background transparent? I want to overlay it on top of a foreign window.
Aug 18 11:55:13 <anon9002>	The foreign window is attached to a GtkSocket wrapped inside a GtkOverlay. I tried putting the GtkSpinner in the overlay, but its background is opaque.
Aug 18 12:00:55 <baedert>	anon9002: Where is the background coming from? Your theme?
Aug 18 12:02:16 <The_gull>	anon9002: looks like “spinner { background:transparent; }” is the default
Aug 18 12:02:35 <The_gull>	anon9002: check if it’s not the spinner container that sets a background
Aug 18 12:11:25 <anon9002>	baedert: The background has the same color as an empty GtkWindow, so I think it came from the theme.
Aug 18 12:13:11 <baedert>	you can just style it away then
Aug 18 12:16:15 <anon9002>	baedert: How can I do that? I tried setting background:transparent using CSS, but it has no effect.
Aug 18 12:17:40 <baedert>	make sure the background is really set on the spinner and not a parent container
Aug 18 12:23:16 <anon9002>	baedert: I tried setting background-color:red which changes the background to red as expected. However, once I add background:transparent, the background reverts to the original color.
Aug 18 12:24:15 <anon9002>	I also tried opacity:0 separately, but that only makes the spinner itself disappear while leaving its background intact.
Aug 18 12:24:16 <baedert>	Dunno, maybe it *is* a problem with the foreign window, does a GtkLabel behave the same?
Aug 18 12:25:16 <anon9002>	baedert: GtkLabel behaves the same way.
Aug 18 12:58:44 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Thu Aug 18 12:58:44 2016

**** BEGIN LOGGING AT Thu Aug 18 12:58:57 2016

Aug 18 12:58:57 *	Now talking on #gtk+
Aug 18 12:58:57 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 18 12:58:57 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 18 15:35:40 *	Disconnected (Invalid argument)
**** ENDING LOGGING AT Thu Aug 18 15:35:40 2016

**** BEGIN LOGGING AT Thu Aug 18 15:35:53 2016

Aug 18 15:35:53 *	Now talking on #gtk+
Aug 18 15:35:53 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 18 15:35:53 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 18 18:07:40 <rudrab>	hi..any help please?
Aug 18 18:10:10 <rudrab>	TingPing: may I request your help once again pleasE?
Aug 18 18:11:28 <The_gull>	rudrab: I don’t understand the link between the code you posted and GSettings
Aug 18 18:11:35 <TingPing>	^
Aug 18 18:12:13 <The_gull>	(if that’s the problem ; I may have missed some things, if so please re-explain)
Aug 18 18:12:54 <rudrab>	The_gull: All I want is to let user set a directory using preference. And it should be preserved over session
Aug 18 18:14:31 <The_gull>	would https://wiki.gnome.org/HowDoI/GSettings help ?
Aug 18 18:15:01 <The_gull>	see also the complete documentation
Aug 18 18:16:40 <rudrab>	Not much...actually I have seen this long ago...
Aug 18 18:17:38 <The_gull>	so, where’s your problem ?
Aug 18 18:18:26 <The_gull>	the access of Gio.Settings functions in Python ?
Aug 18 18:19:13 <The_gull>	the installation of the schema with another build system than automake ?
Aug 18 18:19:58 <The_gull>	the type of the key to stock your data ? (string)
Aug 18 18:20:29 <rudrab>	Not really...but I am looking for some way to enable user configurations
Aug 18 18:20:48 <rudrab>	GSetting is what i think do that
Aug 18 18:20:57 <The_gull>	it is
Aug 18 18:21:00 <rudrab>	but no idea how to
Aug 18 18:21:10 <TingPing>	rudrab, so you make a schema as linked, you compile it, then you can use it within the application
Aug 18 18:21:40 <The_gull>	well ; GSettings is what stores the configuration ; you have to manage the widgets that permits the user to set its settings
Aug 18 18:21:55 <The_gull>	so a GtkFileChooser, in your case
Aug 18 18:23:42 <The_gull>	you create a preferences window, with a button that opens a filechooser ; you get a file path, you write it using GSettings in the configuration ; you close your application ; you reopen your application, you load the data in the configuration with GSettings, and you do whatever you want with it
Aug 18 18:24:52 <The_gull>	the user will also be able to change this configuration using the `gsettings` tool, or with `dconf-editor`
Aug 18 18:29:28 <rudrab>	The_gull: thanks...but do this means, user cant change the file using the filechooser buuton? he should use the dconf-editor for that?
Aug 18 18:30:00 <The_gull>	no, it could use whatever UI you present to him that changes this settings
Aug 18 18:30:31 <rudrab>	so, for my case, Gtk.FileChooserButton. Ok...thanks
Aug 18 18:31:46 <The_gull>	good luck, I’m going to bed, don’t hesitate to ping me tomorrow if needed
Aug 18 18:32:26 <rudrab>	The_gull: Thanks a lot
Aug 18 18:32:29 <rudrab>	GN
Aug 18 21:30:35 <tomtix>	Are there people who distribute their gtk application on windows here? Is it better to just ship all the dll dependencies in the executable directory or make a static build (I tried that,but either this is not possible or I didn't find the right configure/libtool options) or maybe another options?
Aug 18 21:34:14 <TingPing>	tomtix, shared and bundled
Aug 18 22:55:36 <swick>	so what's the best way to look at the private structure of a gobject instance from a debugger?
Aug 18 22:59:47 <jadahl>	I tend to -O0 and look at the variable _get_instance_private() returned.. maybe there is a better way though
Aug 18 23:04:18 <swick>	and if the class doesn't have a _get_instance_private function?
Aug 18 23:08:08 <swick>	G_DEFINE_TYPE (YelpSearchEntry, yelp_search_entry, GTK_TYPE_SEARCH_ENTRY)
Aug 18 23:08:14 <swick>	#define GET_PRIV(object) (G_TYPE_INSTANCE_GET_PRIVATE((object), YELP_TYPE_SEARCH_ENTRY, YelpSearchEntryPrivate))
Aug 18 23:10:57 <jadahl>	IIRC _get_instance_private() is a macro, so you'd still have to look at the resulting variable
Aug 18 23:12:01 <swick>	oh well, thanks
Aug 18 23:13:08 <swick>	would be cool to teach gdb how to do the pointer arithmetics so you don't have to recompile just to look at a variable 
Aug 18 23:15:06 <jadahl>	i agree. that being said, i haven't looked hard enough to see if there is a better way than what I have done so far
Aug 18 23:15:52 <swick>	also, both _get_instance_private and GET_PRIV are only defined in a single c file, so peeking at the private structure from another file requires some hacks
Aug 18 23:17:46 <jadahl>	maybe the gdb script can be extended some how
Aug 18 23:18:11 <jadahl>	yea, but the point of having a private is to not have it being peeked at by others
Aug 18 23:20:24 <swick>	well, you always can. it's just that you don't want anyone to depend on it so you can change it without side effects.
Aug 18 23:20:59 <swick>	but yeah, it explains why it's hard
Aug 19 01:47:42 <swick>	g_type_instance_get_private($VAR, ((GTypeInstance*)$VAR)->g_class->g_type)
Aug 19 01:48:08 <swick>	oh well, at least I get a better understanding of the type system now :)
Aug 19 02:04:47 <bugbot>	New gtk+ bug 770130 filed by slomo@coaxion.net.
Aug 19 02:04:47 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770130 Widget: GtkFileChooser, normal, gtk-bugs, NEW , File chooser dialog forgets "select-multiple" property after changing directories
Aug 19 02:05:58 <slomo>	↑ who cares about the file chooser these days? :)
Aug 19 02:11:25 <baedert>	mclasen mostly
Aug 19 03:28:04 <baedert>	slomo: you were talking about ctrl+click selection and not rubberband? the latter seems to keep working
Aug 19 03:32:21 <slomo>	baedert: indeed, i can't remember when i ever tried anything but shift+click or ctrl+click in the file chooser. thanks for noticing :)
Aug 19 04:38:48 <rudrab>	Hi, do I *must* need a schema to use GSettings? 
Aug 19 04:45:52 <pwithnall>	rudrab: Yes
Aug 19 04:51:24 <rudrab>	:(
Aug 19 04:54:11 <phako>	rudrab: why is that an issue?
Aug 19 04:58:13 <phako>	hm
Aug 19 05:00:50 <rudrab>	Because I cant manage it: I am struggling with setting a path for a week
Aug 19 05:00:58 <rudrab>	phako:^
Aug 19 05:01:30 <ebassi>	rudrab: Why are you setting a path?
Aug 19 05:01:43 <ebassi>	rudrab: Are you trying to run your application uninstalled?
Aug 19 05:02:50 <rudrab>	ebassi: No, I mean my app should store pdfs. As I am developing, its hardcoded to /var/tmp
Aug 19 05:03:16 <rudrab>	But I want to give user a choice to choose the directory
Aug 19 05:03:18 <bugbot>	db0451@gmail.com changed the Component on bug 769562 from Widget: GtkComboBox to Widget: Other.
Aug 19 05:03:19 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769562 Widget: Other, normal, gtk-bugs, NEW , Can Containers propagate/expose properties like can-focus, has-focus held by their child Widgets?
Aug 19 05:03:43 <ebassi>	rudrab: And?
Aug 19 05:05:42 <rudrab>	ebassi: so, after user choose a folder_name (with FileChooserDialoge withGtk.FileChooserAction.SELECT_FOLDER ), the folder should be users default folder to store pdf, from the next session
Aug 19 05:07:01 <ebassi>	I still don't understand what the problem with GSettings is; care to explain it?
Aug 19 05:07:16 <rudrab>	https://paste.gnome.org/pnva6qwom is what I am currently doing. 
Aug 19 05:08:00 <rudrab>	ebassi: oops ...no. Gsettings does not have any problem. Its about my understanding and using it
Aug 19 05:11:04 <rudrab>	I mean I have not managed to get the schema + settings ...actually far from it
Aug 19 05:13:39 <mcrha>	hi there, just triying to build the latest gtk+ release and even the configure succeeded, the build fails: gtk+-3.21.4/gdk/wayland/gdkdisplay-wayland.c:1142: undefined reference to `shm_open'; similar for shm_unlink. I guess a version bump is missing somewhere in the configure
Aug 19 05:20:15 <ebassi>	mcrha: Already fixed in master; it's a missing explicit dependency
Aug 19 05:20:17 <jadahl>	mcrha: could be a missing -lrt
Aug 19 05:20:40 <ebassi>	https://git.gnome.org/browse/gtk+/commit/?id=007ac65f19ac827cf9ee13f7974a5e39e33ef7ce
Aug 19 05:20:55 <mcrha>	I thought something like that, the 3.21.4 is rather old
Aug 19 05:27:19 <rudrab>	ebassi: can you remember any *simple* gnome code that uses schema and settings as I describe? HowDoI of Gsettings is not very helpful
Aug 19 05:32:10 <rudrab>	I am asking this, because, "There are several examples in the wild of projects that use .gschema.xml.in files. This is almost always wrong."....HowDoI/Gsettings
Aug 19 05:38:34 <The_gull>	rudrab: most GNOME programs use GSettings, you should find one maintained in the language you want, and have a look to git.gnome.org
Aug 19 05:53:33 <bugbot>	mcrha@redhat.com changed the Component on bug 770115 from general to .General.
Aug 19 05:53:33 <bugbot>	mcrha@redhat.com changed the Product on bug 770115 from evolution to gtk+.
Aug 19 05:53:34 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770115 .General, major, gtk-bugs, NEW , Crash under gtk_application_impl_dbus_startup()
Aug 19 05:57:34 <mcrha>	hi rudrab, I do not know whether this will be considered simple, bug using autotools you can do something like this: https://git.gnome.org/browse/evolution-data-server/tree/data/Makefile.am
Aug 19 05:58:14 <mcrha>	rudrab, with this in configure.ac: https://git.gnome.org/browse/evolution-data-server/tree/configure.ac#n73
Aug 19 05:59:58 <mcrha>	and if you compile into a custom prefix, then export first: GSETTINGS_SCHEMA_DIR=/my/prefix/share/glib-2.0/schemas
Aug 19 06:00:10 <mcrha>	thus the gsettings will find your schemas
Aug 19 06:00:57 <ebassi>	rudrab: https://developer.gnome.org/gtk3/stable/ch01s04.html#id-1.2.3.12.9 — there's a whole example in the API reference
Aug 19 06:04:15 <dbuch>	ebassi, i read your Gsk demystifying blogs - good stuff. What is the status, will it be ready for gnome 3.22?
Aug 19 06:05:41 <ebassi>	dbuch: We decided to punt it for the next cycle while we port widgets and improve performance
Aug 19 06:06:21 <ebassi>	Also to avoid breaking LibreOffice and Firefox after they finally got to GTK+ 3.x
Aug 19 06:06:48 <dbuch>	Sounds reason able :)
Aug 19 06:07:32 <dbuch>	Are there any overview available regarding widgets porting?
Aug 19 06:08:57 <ebassi>	dbuch: We're still figuring out a bit of the API, but the commits should be self-explanatory, like: https://git.gnome.org/browse/gtk+/commit/?h=wip/matthiasc/gsk-renderer&id=92e693548586f0ec49296fc450542e7b3a118501
Aug 19 06:12:09 <dbuch>	cool :) I guess we don't have to haste anything now its punt to next cycle. I was looking if i should dive in an provide porting help
Aug 19 06:13:54 <ebassi>	In general, there's no haste in porting leaf widgets; worse thing that can happen is that you render to an image surface that gets uploaded into a GL texture internally
Aug 19 06:14:13 <ebassi>	Containers are a slightly different story
Aug 19 06:14:39 *	ebassi needs to finish the generic fallback path and the resource cache
Aug 19 06:16:51 *	dbuch leaves GSK porting for awhile
Aug 19 06:17:36 <phako>	oh dear, that's going to be fun... 
Aug 19 07:17:40 <nacho>	hey aday 
Aug 19 07:18:05 <aday>	o/ nacho!
Aug 19 07:18:10 <nacho>	aday, I was wondering about what you think about having GtkScales with some kind of level bar
Aug 19 07:18:16 <nacho>	example coming
Aug 19 07:19:50 <The_gull>	I have a problem with markuped label translation ; I want part of the text to be bold, and as “<b>”··“</b>” are not correct in a UI file, I used “&#60;b&#62;”··“&#60;/b&#62;” (I thought this worked at one point)
Aug 19 07:20:24 <nacho>	aday, http://imgur.com/a/gxqJZ
Aug 19 07:20:27 <The_gull>	but, in the po files, that finishes without any change, and so finish also without change in the translation, and so that didn’t work and the english string is used
Aug 19 07:20:46 <The_gull>	how should I do that ?
Aug 19 07:22:00 <The_gull>	if I manually replace “&#60;” by ‘<’ and “&#62;” by ‘>’ in the UI file (both in the english text and the translation), that works as wanted
Aug 19 07:23:16 <The_gull>	(but of course, manually editing UI files is not xD )
Aug 19 07:23:45 <baedert>	yeah, who would do that
Aug 19 07:24:14 <The_gull>	that was just for testing where’s the problem :·)
Aug 19 08:11:26 <rudrab>	TingPing: I am trying to install your trg from source. syntax error near unexpected token `GLIB_GSETTINGS' is what I am getting
Aug 19 08:11:42 <rudrab>	I have glib2-devel installed
Aug 19 08:15:25 *	ChanServ sets mode +q on #gtk+ Company
Aug 19 08:15:25 *	ChanServ gives channel operator status to Company
Aug 19 08:32:23 <andlabs>	question for the vala folks to answer (preferably on the page itself) http://stackoverflow.com/questions/39035735/how-does-it-come-that-the-gtk-examples-in-vala-documentation-dont-cause-memory
Aug 19 08:35:58 <baedert>	I don't see the lambda taking a ref at all. But I somehow remember the poster being herer not too long ago, why not join #vala?
Aug 19 09:08:00 <norbert>	hey all, I'm done migrating my GTK+ 3.18 (and GStreamer 1.8) application and I'm now looking into also compiling it for Windows; what are my options? maybe cross-compiling? does this require me to pick older versions of the libraries (e.g. to be able to use gtk+-bundle 3.10)?
Aug 19 09:11:36 <gregier>	nacho: ^
Aug 19 09:11:52 <nacho>	hey gregier 
Aug 19 09:12:06 <nacho>	hey norbert 
Aug 19 09:12:19 <nacho>	norbert, https://github.com/wingtk/gtk-win32
Aug 19 09:12:38 <nacho>	norbert, https://blogs.gnome.org/nacho/2015/02/19/building-gtk-3-with-msvc-2013/
Aug 19 09:12:55 <nacho>	norbert, https://blogs.gnome.org/nacho/2014/08/01/how-to-build-your-gtk-application-on-windows/
Aug 19 09:13:09 <tomtix>	i was going to propose msys2 ^^
Aug 19 09:13:26 <nacho>	norbert, and if you check the guadec videos you have a video about cross compiling
Aug 19 09:13:31 <nacho>	so you have lots of options
Aug 19 09:14:09 <norbert>	at https://github.com/wingtk/gtk-win32 I don't think gst/gstreamer is included?
Aug 19 09:14:23 <norbert>	actually I don't have Visual Studio, so ignore that :)
Aug 19 09:14:46 <norbert>	I'll look into msys2, thanks
Aug 19 09:15:18 <tomtix>	if you are familiar with archlinux pacman, it's really great
Aug 19 09:17:09 <norbert>	I don't have Windows though, so I hope it'll work with Wine
Aug 19 09:25:07 <tpm>	norbert, gstreamer provides ready-made packages fwiw http://gstreamer.freedesktop.org/data/pkg/windows/ otherwise you'll need to use cerbero for cross-compiling with mingw32 from linux or natively on windows (http://cgit.freedesktop.org/gstreamer/cerbero/ )
Aug 19 09:26:26 <norbert>	I think I'
Aug 19 09:26:32 <norbert>	ll be using this automatically https://github.com/Alexpux/MINGW-packages/blob/master/mingw-w64-gstreamer0.10/PKGBUILD
Aug 19 09:27:09 <norbert>	when I use pacman -S mingw-w64-gstreamer0.10 after installing msys2 on wine
Aug 19 09:27:29 <tpm>	that's ancient stuff (0.10)
Aug 19 09:27:44 <tpm>	and please do mention that you're using that when asking for support
Aug 19 09:27:52 <norbert>	mingw-w64-gstreamer I mean
Aug 19 09:28:29 <norbert>	I don't know the exact pacman package yet, because I still need to finish installing msys2
Aug 19 09:30:59 <tomtix>	I'm am using GtkFileFilter with GtkBuilder just like in this example: https://developer.gnome.org/gtk3/stable/GtkFileFilter.html#id-1.3.14.11.8.5, By default the name of the filter (the one displayed in the file chooser dialog) is the 'id' property of the 'object' tag. Does someone know if this can be made translatable? (There is neither a label nor a title property for the object)
Aug 19 09:31:44 *	tomtix remove comma at link end
Aug 19 09:50:40 <norbert>	this is probably going a bit beyond #gtk+, but, so I got Wine staging, ran the latest msys2.exe installation and it said 'Error during installation process (com.msys2.root.base): Execution failed (Unexpected exit code: -2147483392): "C:\msys64\user\bin\bash.exe --login -c exit"' on which I used "Ignore", then I ran cd .wine/drive_c/msys64/, then wine start msys2_shell.bat, and it gave me: http://pastebin.com/9JQBiEc0
Aug 19 09:52:08 <norbert>	I'll ask at #msys2@OFTC
Aug 19 10:36:10 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Aug 19 10:36:10 2016

**** BEGIN LOGGING AT Fri Aug 19 10:36:24 2016

Aug 19 10:36:24 *	Now talking on #gtk+
Aug 19 10:36:24 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 19 10:36:24 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 19 11:29:19 <nacho>	hey danw, sorry to fuss you again but I am kind of blocked on this bug https://bugzilla.gnome.org/show_bug.cgi?id=770022
Aug 19 11:29:20 <bugbot>	Bug 770022: HTTP Transport, normal, libsoup-maint, NEW , Too low payload safety value on websockets
Aug 19 11:46:25 <danw>	nacho: i think having a limit is good. in many cases you know you never expect to receive a packet that large. maybe you could make it a gobject property
Aug 19 12:04:25 <nacho>	danw, that is fair enough for me
Aug 19 12:06:24 <nacho>	danw, max-payload-size is an ok name for you?
Aug 19 12:06:29 <danw>	sure
Aug 19 12:55:52 <andlabs>	when did GTK+ drop XP support?
Aug 19 12:56:34 <TingPing>	andlabs, 3.18
Aug 19 12:57:32 <andlabs>	ok
Aug 19 13:00:24 <ebassi>	A year ago or so
Aug 19 13:18:00 <andlabs>	I forget, how exactly do you submit a patch?
Aug 19 13:18:01 <andlabs>	https://git.gnome.org/browse/gtk+/tree/gtk/gtkfilechoosernativewin32.c#n200
Aug 19 13:18:06 <andlabs>	this is not valid use of Release()
Aug 19 13:18:19 <andlabs>	it does not return an HRESULT and should be taken to assume success
Aug 19 13:18:26 <baedert>	open a bug, attach a patch
Aug 19 13:19:16 <andlabs>	all right
Aug 19 13:19:42 <andlabs>	altso  that SendMessage is super suspicious
Aug 19 14:04:18 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Aug 19 14:04:18 2016

**** BEGIN LOGGING AT Fri Aug 19 14:04:31 2016

Aug 19 14:04:31 *	Now talking on #gtk+
Aug 19 14:04:31 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 19 14:04:31 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 19 14:29:09 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Aug 19 14:29:09 2016

**** BEGIN LOGGING AT Fri Aug 19 14:29:23 2016

Aug 19 14:29:23 *	Now talking on #gtk+
Aug 19 14:29:23 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto GTK+ Hackfest
Aug 19 14:29:23 *	Topic for #gtk+ set by Company (Mon Jun 13 12:40:28 2016)
Aug 19 15:01:20 <rudrab>	Hi, I have atlast managed to make some progress with Gsettings; now stuck with its installation
Aug 19 15:01:36 <rudrab>	https://paste.gnome.org/p5lkn8rwc is what I am dona and the error
Aug 19 15:02:02 <rudrab>	It can't find it at the installdir
Aug 19 15:02:26 <rudrab>	should I must put it in /usr/share/glib2/schema?
Aug 19 15:02:29 <TingPing>	rudrab, for non-standard dirs you have to set GSETTINGS_SCHEMA_DIR
Aug 19 16:51:55 *	ChanServ sets mode +q on #gtk+ Company
Aug 19 16:51:55 *	ChanServ gives channel operator status to Company
Aug 19 17:48:19 <baedert>	Company: the topic here is kindof outdated
Aug 19 17:55:38 <jpwhiting>	are there python bindings for gsettings/gio ?
Aug 19 17:56:39 <TingPing>	jpwhiting, pygobject
Aug 19 17:56:51 <TingPing>	jpwhiting, http://lazka.github.io/pgi-docs/index.html#Gio-2.0/classes/Settings.html#Gio.Settings
Aug 19 18:16:58 *	Company has changed the topic to: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 19 18:17:01 <Company>	baedert: better?
Aug 19 18:18:23 <jpwhiting>	TingPing: perfect, thanks
Aug 19 19:22:00 <norbert>	hi, short question: is there any way to prevent the taskbar from obscuring a fullscreen application when the user performs an action that opens another (non-fullscreen) application window?
Aug 19 19:22:51 <norbert>	worked a couple of hours to make Alt+Enter properly go fullscreen :)
Aug 19 21:04:35 <b3atr>	how to prevent TextView from rtl flipping?
Aug 19 21:04:50 <b3atr>	arabic, persian, etc in the same direction as english
Aug 19 21:04:53 <b3atr>	just like, notepad.
Aug 19 21:22:54 <Company>	b3atr: add a text tag with direction = ltr?
Aug 19 22:47:07 <bugbot>	mclasen@redhat.com changed the Component on bug 769873 from Widget: Other to Themes.
Aug 19 22:47:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769873 Themes, enhancement, gtk-bugs, NEW , Add reverse animation for check boxes and radio buttons
Aug 19 23:52:31 <joelkraehemann>	https://plus.google.com/+GsequencerOrg001/posts/HbEEhjSkgYh
Aug 19 23:53:03 <joelkraehemann>	Why aren't my interfaces public?
Aug 19 23:54:31 <joelkraehemann>	prior I looked at gtk-doc-tools scripts
Aug 19 23:54:49 <joelkraehemann>	and recognized it's tied to your new macros
Aug 19 23:54:59 <joelkraehemann>	I don't want them
Aug 19 23:56:09 <bugbot>	mclasen@redhat.com changed the Status on bug 768017 from NEW --- to RESOLVED FIXED.
Aug 19 23:56:09 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768017 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, [Wayland] menus opened from access keys (mnemonic menu items) hide instantly
Aug 19 23:58:45 <joelkraehemann>	You could close https://bugzilla.gnome.org/show_bug.cgi?id=770000
Aug 19 23:58:46 <bugbot>	Bug 770000: mainloop, normal, gtkdev, NEW , implement GPPollFunc () and allow high resolution poll like ppoll ()
Aug 20 04:15:53 <joelkraehemann>	howto make a interfact a known symbol with gtkdoc?
Aug 20 04:17:01 <joelkraehemann>	or better what makes a interface private?
Aug 20 06:00:36 <joelkraehemann>	I'd like to share modified gtkdoc-mkdb script I'm using to illustrate my needs
Aug 20 06:00:44 <joelkraehemann>	Do you have a place?
Aug 20 07:22:02 <bugbot>	New gtk+ bug 770166 filed by db0451@gmail.com.
Aug 20 07:22:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770166 Themes, normal, gtk-bugs, NEW , Can GtkButtons of arbitrary size be circular? The style class only accommodates the default size
Aug 20 07:38:46 <joelkraehemann>	https://savannah.nongnu.org/news/atom.php?group=gsequencer
Aug 20 07:39:02 <joelkraehemann>	Error in `./gsequencer': invalid fastbin entry (free)
Aug 20 07:40:59 *	ChanServ sets mode +q on #gtk+ Company
Aug 20 07:40:59 *	ChanServ gives channel operator status to Company
Aug 20 09:55:42 <L-Nemesis>	How can we be sure this is official.
Aug 20 09:58:39 <baedert>	What is?
Aug 20 09:59:08 <grawity>	the /topic, I assume
Aug 20 09:59:43 <baedert>	all people with the appropriate rights have refused to set a proper topic here for years so meh.
Aug 20 10:53:30 <bugbot>	mclasen@redhat.com changed the Status on bug 745754 from NEW --- to RESOLVED FIXED.
Aug 20 10:53:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=745754 general, enhancement, gtkdev, RESOLVED FIXED, Add gcc-style dependency output to glib-compile-resources
Aug 20 12:19:17 <bugbot>	ebassi@gmail.com changed the Status on bug 745754 from RESOLVED FIXED to REOPENED ---.
Aug 20 12:19:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=745754 general, enhancement, gtkdev, REOPENED , Add gcc-style dependency output to glib-compile-resources
Aug 20 15:07:35 <bugbot>	New glib bug 770175 filed by jpakkane@gmail.com.
Aug 20 15:07:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770175 general, normal, gtkdev, NEW , Add command line argument to mkenums and genmarshal to write output to a file
Aug 20 16:04:54 <polochon>	Hi ! I'm trying to open two different files with two GtkImages with glade, but when I change the field « folder » for one GtkImage, the other changes as well. Is it normal ?
Aug 20 16:07:30 <baedert>	Doesn't sound normal
Aug 20 16:10:35 <polochon>	well, it does that even with a bare Glade project and just two GtkImages. Could you try it, just to see if my config isn't the problem ?
Aug 20 16:15:09 <hans>	i'm playing with raw xlib programming and was just wondering, how are gtk widgets implemented on top of x11? e.g. is a gtk button implemented as subwindow, or is it just painted on the main window?
Aug 20 16:55:06 <sub_pop>	I'm looking for a good book on GTK+ programming. Many have mixed reviews on Amazon. Anyone have any recommendations?
Aug 20 16:55:51 <TingPing>	sub_pop, i don't think any modern ones exist
Aug 20 16:56:05 <sub_pop>	That's what I'm noticing.
Aug 20 16:56:16 <TingPing>	there is this work in progress - https://github.com/swilmet/glib-gtk-book
Aug 20 17:17:41 <robert_>	is it possible to absolutely position widgets within a GtkScrolledWindow?
Aug 20 17:27:38 <bugbot>	mclasen@redhat.com changed the Status on bug 745754 from REOPENED --- to RESOLVED FIXED.
Aug 20 17:27:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=745754 general, enhancement, gtkdev, RESOLVED FIXED, Add gcc-style dependency output to glib-compile-resources
Aug 20 17:30:06 <The_gull>	robert_: not that I know ; you might use a GtkOverlay
Aug 20 17:30:43 <The_gull>	(depending on what you call “absolutely position”)
Aug 20 21:33:57 <bugbot>	New gtk+ bug 770182 filed by kai.willadsen@gmail.com.
Aug 20 21:33:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770182 Widget: GtkToolbar, normal, gtk-bugs, NEW , Changing the visibility of GtkToolBar contents causes allocation warnings
Aug 20 22:27:02 <robert_>	hmm
Aug 20 22:29:09 <robert_>	this is roughly what I"m going for- http://seriss.com/people/erco/fltk/Resizable_Thumbnail_Browser.gif
Aug 20 23:12:43 <bugbot>	New gtk+ bug 770184 filed by kai.willadsen@gmail.com.
Aug 20 23:12:43 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770184 Widget: GtkRange, normal, gtk-bugs, NEW , Apparently spurious allocation warnings cause GtkRange to misbehave
Aug 20 23:13:16 <TingPing>	robert_, gtkflowbox or gtkiconview
Aug 20 23:15:05 <robert_>	well those boxes should be able to drag and drop them around a GtkScrolledWindow
Aug 21 01:46:13 <jayaura>	what is the gpointer equivalent for glib in Vala? I'm getting the "The type name `GPointer' could not be found"
Aug 21 01:46:43 <jayaura>	tried "gpointer" and Gpointer" too
Aug 21 01:48:12 <baedert>	try #vala.
Aug 21 01:48:27 <baedert>	(also just void*)
Aug 21 01:50:43 <jayaura>	baedert, thanks
Aug 21 03:24:08 <alex2851>	hello, I noticed when we run a Flatpak App, GTK ignores the XDG-Themes. Is this a bug, or we should pack Themes for Flatpak too?
Aug 21 03:24:30 <alex2851>	XDG_Themes, I mean the XDG_DIR for themes
Aug 21 05:51:29 *	ChanServ sets mode +q on #gtk+ Company
Aug 21 05:51:29 *	ChanServ gives channel operator status to Company
Aug 21 07:53:28 <gabrieliv>	Is it possible to remove an overlay added with gtk_overlay_add_overlay() ?
Aug 21 07:54:02 <gabrieliv>	Or at least hide it.
Aug 21 07:54:54 <baedert>	yes and yes, why not/
Aug 21 07:54:56 <baedert>	?
Aug 21 07:59:47 <gabrieliv>	baedert: How exactly? I'm looking at the GtkOverlay doc and don't see any remove function :)
Aug 21 08:00:05 <baedert>	gtk_container_remove
Aug 21 08:03:39 <gabrieliv>	Cool, thanks 
Aug 21 09:20:11 <dr_bibble>	hello. I was wondering what are the minimum specifications for building gnome-music?
Aug 21 09:23:56 <dr_bibble>	hi
Aug 21 09:59:46 <jmd>	Yelp crashes if one gives a section name on the command line.
Aug 21 13:09:26 <johncc3>	Hi all. I have a problem with Gtk3+Introspection. Some functions (like GooCanvas.Canvas.get_bounds) are supposed to *return* values through parameters, which is not possible in Python.
Aug 21 13:09:48 <borschty>	ebassi, could you have a look at https://bugzilla.gnome.org/show_bug.cgi?id=769097 ? I think you are most familiar with the involved code in gtk and clutter-gtk.
Aug 21 13:09:49 <bugbot>	Bug 769097: Movie player, normal, totem-general-maint, NEW , Totem with GTK+ 3.21.4 has the top controls bar constantly flickering on and off over the video frame
Aug 21 13:11:38 <johncc3>	How does that work? Eg. the above function defines get_bounds(left, right, top, bottom). help() gives the types as float. But this doesn't work: If I don't put parameters, I get an error. If I do put parameters, I get a Segmentation Fault
Aug 21 13:12:44 <johncc3>	Any suggestions?
Aug 21 13:12:53 <TingPing>	johncc3, pygobject should return a tuple of them assuming annotations are correct
Aug 21 13:14:01 <johncc3>	TingPing, ? The ....get_bounds does not return anything (I tried 'a, b, c, d = ...get_bounds()', but it requires the parameters.
Aug 21 13:14:23 <TingPing>	johncc3, the annotations are not correct so it cannot be used via introspection: https://github.com/GNOME/goocanvas/blob/master/src/goocanvas.c#L2221-L2226
Aug 21 13:17:28 <johncc3>	TingPing, I'm not sure I understand that. That seems to be the spec for C. How can I deduce that this means it can't be used for introspection? (No expert here)
Aug 21 13:18:16 <TingPing>	johncc3, gobject-introspection uses annotations in the documentation of a project to generate the bindings. these are incomlete thus not usable. goocanvas looks like a pretty dead project too so i wouldn't expect that to be fixed
Aug 21 13:19:54 <johncc3>	Oh... I did communicate with Damon (author of goocanvas) not sooo long ago. Goocanvas 2.0 is also not so old.
Aug 21 13:20:30 <johncc3>	Is there an alternative to GooCanvas? I couldn't find anything more recent.
Aug 21 13:21:25 <johncc3>	TingPing, Sorry - forgot to prefix with your handle.
Aug 21 13:21:51 <TingPing>	damon hasn't touched it in 3 years, the readme even says: NOTE: I am no longer actively developing GooCanvas
Aug 21 13:22:58 <TingPing>	as for alternatives i don't know much about it
Aug 21 13:23:57 <johncc3>	Ok. Generally speaking, would it be difficult to change and add the correct annotations? And, is there documentation about the process?
Aug 21 13:24:34 <TingPing>	fairly easy: https://wiki.gnome.org/Projects/GObjectIntrospection/Annotations
Aug 21 13:24:50 <TingPing>	in this case, see (out)
Aug 21 13:26:30 <johncc3>	TingPing, Great! Thanks for the pointers. I'll try, and if it works, maybe send the diffs to Damon - I think GooCanvas is a project worth pursuing.
Aug 21 13:26:49 <TingPing>	johncc3, the readme does say bugfixes accepted, but again nobody has touched it in years
Aug 21 13:27:56 <johncc3>	TingPing, I've hit this problem before, and solved it with workarounds. I suspect many have done the same.
Aug 21 13:28:27 <TingPing>	yea certainly worth a try
Aug 21 13:28:30 <johncc3>	I've seen quite a few programs using GooCanvas with weird solutions.
Aug 21 13:30:58 <johncc3>	I'll have a go. I'm using GooCanvas at the uni for a basic drawing program. When I switched to Python I bumped into these issues.
Aug 21 13:31:16 <johncc3>	Cheers,
Aug 21 14:15:56 <jmd>	I get lots of warnings like this: Gtk-WARNING **: Allocating size to GtkDrawingArea 0x1ecc3c0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?
Aug 21 14:23:34 <swilmet>	jmd: if you subclass a widget and override get_preferred_width/height(), you need to chain-up
Aug 21 14:27:05 <jmd>	swilmet: I don't think we are overrding that, but I will check.
Aug 21 14:27:54 <swilmet>	jmd: mmh, with a bit more thinking I think it's for a different warning/critical message
Aug 21 14:28:08 <swilmet>	(chaining-up)
Aug 21 14:28:43 <swilmet>	yes, it's for e.g. Gtk-CRITICAL **: gtk_widget_get_preferred_width_for_height: assertion 'height >= 0' failed
Aug 21 14:29:05 <swilmet>	so for your problem it's probably something different
Aug 22 03:57:14 <aleb>	Why is _g_string_appendi not found? https://paste.fedoraproject.org/412393/14718484/ I searched for g_string_appendi in the gtk+ repo and it's only used in gdk/quartz/gdkeventloop-quartz.c and I googled it and it seems to be nowhere! But then how did gdkeventloop-quartz.c  compile?
Aug 22 03:57:53 <aleb>	Should I make a patch to remove that "i" suffix? Seems the surrounding calls use g_string_append
Aug 22 04:02:14 <slomo>	aleb: sounds like nobody compiled that for a while :) was broken here https://git.gnome.org/browse/gtk+/commit/gdk/quartz/gdkeventloop-quartz.c?id=2a2d254a8b464e7d2176b9679a467f68fb45fb35
Aug 22 04:02:47 <slomo>	aleb: you probably just want to send a patch, it's obviously a typo :)
Aug 22 04:03:12 <aleb>	ok, thanks!
Aug 22 04:23:32 <ebassi>	aleb: Fixed in master
Aug 22 04:24:01 <ebassi>	aleb: Thanks for checking!
Aug 22 04:24:07 <aleb>	My chance to make a commit in gtk+
Aug 22 04:24:13 <aleb>	thanks! :)
Aug 22 04:25:10 <ebassi>	aleb: I'm *sure* there are a ton of issues with the quartz backend that you can help with :-)
Aug 22 04:25:18 <aleb>	haha
Aug 22 04:27:12 <nacho>	ebassi, hey
Aug 22 04:27:17 <ebassi>	nacho: Yo
Aug 22 04:27:33 <nacho>	ebassi, this guy seems to have some downstream patches for cogl
Aug 22 04:27:36 <nacho>	ebassi, https://github.com/wingtk/gtk-win32/pull/66
Aug 22 04:28:32 <ebassi>	nacho: Would it be possible for you, or him, to attach them to Bugzilla?
Aug 22 04:29:01 <nacho>	ebassi, I'll have a look at them and see if they make sense and put them on bugzilla when I have some time
Aug 22 04:29:13 <ebassi>	nacho: Thanks
Aug 22 04:29:32 *	ebassi doesn't really have time for Cogl these days
Aug 22 04:30:03 <ebassi>	And now that the Shell has taken it inside their repo, it's basically unmaintained
Aug 22 04:30:37 <nacho>	ebassi, I see, the patches are one liner though, and they seem fair enough
Aug 22 04:31:36 <baedert>	ebassi: have you seen wip/baedert/meson?
Aug 22 04:38:58 <hev>	why to compare the giomodule's ctime with giomodule.cache's mtime?  https://git.gnome.org/browse/glib/tree/gio/giomodule.c#n496
Aug 22 04:55:04 <ebassi>	baedert: For gtk?
Aug 22 04:55:34 <ebassi>	baedert: No, I haven't
Aug 22 04:55:42 <ebassi>	Was hacking on it a bit on the train
Aug 22 04:58:40 <baedert>	ebassi: that should build master (if you have the generated .gresource.xml files left from the autotools build)
Aug 22 05:02:26 <nacho>	ebassi, I just saw that you pushed a patch for quartz
Aug 22 05:02:33 <nacho>	ebassi, how do you build gtk on osx these days?
Aug 22 05:03:12 <baedert>	let aleb built it
Aug 22 05:03:13 <baedert>	:)
Aug 22 05:05:46 <ebassi>	nacho: I don't; in that simple case the typo was obvious and aleb confirmed it :-)
Aug 22 05:05:54 <ebassi>	nacho: But in general jhbuild still kind of works
Aug 22 05:06:40 <nacho>	ebassi, if jhbuild works, can't we add some continuous build machine?
Aug 22 05:06:48 <nacho>	isn't jhbuild what gnome-continous uses?
Aug 22 05:08:56 <aleb>	It's strange that the build went fine (homebrew package manager) but the missing method was reported at runtime: https://paste.fedoraproject.org/412393/14718484/ I'm still puzzled how this is possible. Would a continuous build catch this? Maybe with some strict settings?
Aug 22 05:11:23 <ebassi>	nacho: No, continuous does not use jhbuild
Aug 22 05:11:37 <ebassi>	nacho: And we'd need a permanently connected macOS machine
Aug 22 05:12:06 <nacho>	well, is it such a problem to have an osx machine?
Aug 22 05:12:09 <ebassi>	Or a Hackintosh
Aug 22 05:12:21 <ebassi>	nacho: Who's going to keep it secured and updated? :-)
Aug 22 05:12:35 <nacho>	good question
Aug 22 05:12:41 <ebassi>	I don't have access to the data center for the rest of the GNOME machines
Aug 22 05:13:20 <ebassi>	AFAIR, desrt managed to run macOS in a VM, but, still
Aug 22 05:13:39 <ebassi>	Also, Continuous builds the whole of GNOME, not GTK+. We don't have GTK-specific autobuilders
Aug 22 05:16:42 <quovadis>	Hi everyone, one (maybe stupid) simple question: how to create a GSource form a blocking function (waiting for events on an obscure way)
Aug 22 05:17:26 <quovadis>	I would like to attache this GSource to the main loop to handle it the right way without having to handle a separate thread sideway
Aug 22 05:17:49 <ebassi>	quovadis: If the blocking function exposes a pollable fd, then that's how you do it
Aug 22 05:18:00 <ebassi>	quovadis: Otherwise you need a thread
Aug 22 05:19:25 <quovadis>	ebassi: unfrotunatly it does not expose any fd ...
Aug 22 05:20:18 <quovadis>	ebassi: so if I spawn a GThread waiting on the function, how to trigger the mainloop when somthing happen ?
Aug 22 05:20:43 <quovadis>	I still have to make a source right ?
Aug 22 05:20:45 <ebassi>	quovadis: g_main_context_invoke()
Aug 22 05:21:06 <ebassi>	quovadis: The callback will be invoked in the main context you pass — or NULL for the default main context
Aug 22 05:21:19 <ebassi>	quovadis: I assume you want to update a UI when that function returns
Aug 22 05:21:24 <quovadis>	ebassi: yes but where and how do I setup my callbacks that shall be invoked in the GMainContext context ?
Aug 22 05:21:40 <ebassi>	quovadis: Okay, let's back up a bit
Aug 22 05:21:53 <ebassi>	What are you trying to achieve when that blocking function returns?
Aug 22 05:22:01 <quovadis>	ebassi: at this time just changing some FSM state but ui udpate is also to be considered
Aug 22 05:23:08 <quovadis>	ebassi: to be more concrete I'm using gphoto2 api and need to wait for the "photo done" event before allowing the user to get an other.
Aug 22 05:24:04 <quovadis>	ebassi: it seems that g_main_context_invoke() could do the job ?
Aug 22 05:29:13 <ebassi>	quovadis: g_main_context_invoke() will let you call the function you pass into the same main context as the gtk main loop (for instance). You can use the callback to notify that the thread has finished.
Aug 22 05:31:18 <quovadis>	ebassi: and this callback will run in the main context thread, so I do not have to protect variable with mutex ?
Aug 22 05:31:27 <ebassi>	Correct
Aug 22 05:31:45 <quovadis>	ebassi: Ok find, that's what I would like to achieve !
Aug 22 05:31:53 <quovadis>	ebassi: thx a lot pal !
Aug 22 05:52:08 *	ChanServ gives channel operator status to alex
Aug 22 07:13:49 <michaelis>	Hi. I have a vertical box with a toolbar at the top and thereafter a drawing area. But trying to draw on the area I notice that the drawing areas origin is relative to the box and not to the toolbar. I cannot draw on an area at the bottom equal the height of the toolbar. Any ideas?
Aug 22 07:14:38 <michaelis>	But the coordinates of the drawing area are OK.
Aug 22 07:16:26 <The_gull>	michaelis: can you show the code ? (also, are you using a Wayland session or not ?)
Aug 22 07:18:12 <michaelis>	The_gull: It's on another computer and written in python through the pygobject binding. I'm using arch and don't know if they've implemented wayland yet. I'll open up my other computer. Please wait.
Aug 22 07:24:09 <michaelis>	The_gull, http://pastebin.com/Y7pJZfDe
Aug 22 07:37:58 <michaelis>	The_gull, Are you still there?
Aug 22 07:38:12 <The_gull>	having a look
Aug 22 07:43:11 <The_gull>	michaelis: having “DrawArea” being a ScrolledWindow containing a box containing both your toolbar and your DrawingArea looks dangerous to me, you probably pick the wrong coords somewhere
Aug 22 07:44:40 <michaelis>	The_gull, What do you suggest?
Aug 22 07:48:51 <The_gull>	michaelis: “get_bounding_box” ? shouldn’t you rely on “get_allocation” or something like that ?
Aug 22 07:49:22 <The_gull>	“get_bounding_box” is a GtkGesture thing, no idea how it works
Aug 22 07:50:30 <The_gull>	michaelis: I’d probably subclass GtkDrawingArea (or just GtkWidget) to have my “drawing area” clearly a separate widget, with its drawing functions
Aug 22 07:51:21 <The_gull>	here, you’re using the “draw” call on a GtkScrolledWindow to try to draw on what of its children
Aug 22 07:52:07 <The_gull>	good path to follow for having it wrong
Aug 22 07:52:46 <The_gull>	on one* of its children
Aug 22 07:52:55 <The_gull>	(yeah, fingers)
Aug 22 07:53:28 <michaelis>	The_gull, I understand. You are right, I will change the code and try if it helps.
Aug 22 07:53:34 <michaelis>	Thank you for your help.
Aug 22 08:21:16 <bugbot>	calamandrei@gmail.com changed the Status on bug 770166 from NEW --- to RESOLVED FIXED.
Aug 22 08:21:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770166 Themes, normal, gtk-bugs, RESOLVED FIXED, Can GtkButtons of arbitrary size be circular? The style class only accommodates the default size
Aug 22 09:14:32 <ebassi>	aday: I did a couple additional tweaks to the versioning scheme blog post, but it looks great; thanks to you and Philip.
Aug 22 09:14:46 <ebassi>	I guess we'll need mclasen's review as well
Aug 22 09:15:12 <ebassi>	There's also the small issue of Wayland unstable protocols in 3.x to note
Aug 22 09:20:50 <dertiedemann>	hi
Aug 22 09:25:36 <aday>	ebassi: mclasen told me he'd checked it
Aug 22 09:25:42 <aday>	seemed happy
Aug 22 09:26:23 <aday>	ebassi: would be great to have philip more involved in the PR side of things
Aug 22 09:26:52 <ebassi>	Yep
Aug 22 09:29:05 <ebassi>	aday: He may be stretched a bit too thin, RT; but we'll see
Aug 22 09:46:42 <nacho>	danw, thanks for the review, attached the new version
Aug 22 10:58:35 <nacho>	danw, actually, I think this property should be named max-incoming-packet-size...
Aug 22 11:00:18 <ebassi>	That reads a bit weird; incoming-packet-max-size?
Aug 22 11:03:14 <nacho>	I'm ok with that too
Aug 22 11:03:31 <danw>	why is max-incoming-packet-size weird? sounds find to me
Aug 22 11:03:33 <danw>	fine
Aug 22 11:11:36 <ebassi>	danw: Dunno; 'max' refers to the 'size' fragment, so it feels a bit nicer to have those together
Aug 22 11:11:49 <ebassi>	But it's not my API :-)
Aug 22 11:12:51 <danw>	as both the package maintainer and the native english speaker here, i overrule you :)
Aug 22 11:13:02 <ebassi>	:-)
Aug 22 11:24:48 <bugbot>	New gtk+ bug 770236 filed by bugzilla@tecnocode.co.uk.
Aug 22 11:24:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770236 Documentation, normal, gtk-bugs, NEW , gtkbindings: Add an example for gtk_binding_entry_add_signal()
Aug 22 11:34:48 <LRN>	jimmac, i have a few patches for Adwaita icon theme
Aug 22 11:35:28 <LRN>	do i need to file bugs for each of them? Two of them are, IMO, trivial
Aug 22 11:51:29 <pwithnall>	garnacho: quick question about GtkBindingSet: do I need to add KEY_PRESS to a custom widget’s event mask to use it? What would I need to do to get it working with a widget inside a GtkScrolledWindow?
Aug 22 11:56:00 <garnacho>	pwithnall: iirc it basically needs can_focus and has_focus, key event mask was optional
Aug 22 11:56:35 <pwithnall>	garnacho: just the custom widget, or the GtkScrolledWindow too?
Aug 22 11:58:08 <garnacho>	pwithnall: just the custom widget
Aug 22 11:58:18 *	pwithnall gives it a spin
Aug 22 11:59:33 <pwithnall>	:(
Aug 22 12:02:41 <pwithnall>	garnacho: no luck; what’s the best way to debug key press/binding handling?
Aug 22 12:03:50 <pwithnall>	aah
Aug 22 12:03:57 <pwithnall>	gtk_widget_grab_focus() did the trick
Aug 22 12:04:22 <pwithnall>	I thought focus-on-click would take care of that, but apparently not
Aug 22 12:06:05 <pwithnall>	I suspect that’s because my click handler doesn’t handle focus-on-click
Aug 22 12:06:10 <pwithnall>	Thanks :)
Aug 22 12:10:14 <garnacho>	pwithnall: yay :)
Aug 22 12:11:31 <pwithnall>	garnacho: present for you: https://bugzilla.gnome.org/show_bug.cgi?id=770242
Aug 22 12:11:32 <bugbot>	Bug 770242: Documentation, normal, gtk-bugs, NEW , gtkbindings: Clarify that widgets need has-focus for bindings to work
Aug 22 12:11:47 <bugbot>	New gtk+ bug 770242 filed by bugzilla@tecnocode.co.uk.
Aug 22 12:11:47 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770242 Documentation, normal, gtk-bugs, NEW , gtkbindings: Clarify that widgets need has-focus for bindings to work
Aug 22 12:27:12 <kraghot>	Hi guys, Hi would I go about breaking text into pages, with Labels?
Aug 22 12:32:57 <ebassi>	kraghot: Sorry, I don't understand the question
Aug 22 12:33:04 <ebassi>	Labels are for short UI descriptions
Aug 22 12:33:09 <ebassi>	Not for paginated text
Aug 22 12:35:27 <iulianradu>	I'm trying to position the popover (gtk_popover_set_pointing_to ()) under the star (gtk_entry_get_icon_area ()), but the it seems the icon area is bigger than the icon itself and the popover is displayed a bit to the left
Aug 22 12:35:40 <iulianradu>	https://www.dropbox.com/s/422e3ijzqf0mvt2/Screenshot%20from%202016-08-22%2019-29-25.png?dl=0
Aug 22 12:36:12 <iulianradu>	Can I do something about that?
Aug 22 12:36:13 <baedert>	I assume you set some margin on that icon via css?
Aug 22 12:37:39 <baedert>	ah wait
Aug 22 12:38:04 <iulianradu>	baedert: Hmm, I didn't
Aug 22 12:38:17 <kraghot>	ebassi, what should I use for paginated text?
Aug 22 12:38:24 <baedert>	iulianradu: yeah maybe lapo did :P
Aug 22 12:38:50 <iulianradu>	baedert: Oh
Aug 22 12:38:55 <baedert>	yeah they get 6px margin-left
Aug 22 12:39:32 <ebassi>	kraghot: GtkTextView
Aug 22 12:39:40 <ebassi>	kraghot: You can mark it as non-editable
Aug 22 12:39:48 <kraghot>	ebassi, thank you very much
Aug 22 12:40:09 <iulianradu>	baedert: Then I'll add 3px as a hack for now
Aug 22 12:40:51 <iulianradu>	To my rectangle
Aug 22 13:07:33 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 770242 from NEW --- to RESOLVED FIXED.
Aug 22 13:07:34 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770242 Documentation, normal, gtk-bugs, RESOLVED FIXED, gtkbindings: Clarify that widgets need has-focus for bindings to work
Aug 22 13:21:35 *	ChanServ sets mode +q on #gtk+ Company
Aug 22 13:21:35 *	ChanServ gives channel operator status to Company
Aug 22 13:38:43 <peorhanj>	Hi! Where can I access API documentation for Python GObject bindings (Gtk+ and GStreamer)?
Aug 22 13:39:27 <slomo>	peorhanj: https://lazka.github.io/pgi-docs/ seems useful to me, if that's what you're looking for
Aug 22 13:40:15 <peorhanj>	slomo: Yes, this looks useful, thanks.
Aug 22 14:12:06 <norbert>	hello all, I have a question
Aug 22 14:12:21 <norbert>	I've created a very simple version of what I'm trying to do here http://pastebin.com/6UPVTTTK
Aug 22 14:12:58 <norbert>	the summary is that I'm looking for a way to get back a value from G_CALLBACK and then return it from the function where I created the G_CALLBACK
Aug 22 14:13:53 <teuf>	norbert: if MyFunction() is not running the mainloop, then AnotherFunction is likely to be called after you have returned from MyFunction
Aug 22 14:14:14 <teuf>	norbert: otherwise I'd just use gpointer data for that
Aug 22 14:14:17 <norbert>	right, so what to do... :)
Aug 22 14:14:34 <norbert>	yes, then I could use http://stackoverflow.com/a/5622018
Aug 22 14:14:44 <norbert>	hm
Aug 22 14:16:10 <norbert>	I could solve it by passing a lot of values to AnotherFunction
Aug 22 14:16:22 <norbert>	then I wouldn't need to return to MyFunction
Aug 22 14:16:30 <norbert>	but I only have the one gpointer data
Aug 22 14:16:55 <teuf>	norbert: this stackoverflow post is addressing that already
Aug 22 14:17:09 <norbert>	yes, a struct
Aug 22 14:17:11 <teuf>	« if you need to return several values, use a struct instead of an int. »
Aug 22 14:17:29 <norbert>	thanks, I guess this will solve the problem
Aug 22 14:24:36 <thumbnail>	I have written a networking app for windows and gnu/linux systems. Currently, I have a threaded epoll server for linux, and an iocp server for windows. Now, obviously this results in more code and possibly some debugging complexity. Should I keep this code, or migrate to what glib/gio has to offer?
Aug 22 14:31:27 <norbert>	teuf: so, if I want to pass both the struct and GINT_TO_POINTER(2) to the G_CALLBACK function... what do I do?
Aug 22 14:31:40 <jimmac>	LRN: still around?
Aug 22 14:31:46 <LRN>	yes
Aug 22 14:31:56 <teuf>	norbert: put the '2' in your struct
Aug 22 14:31:57 <jimmac>	show me them patches
Aug 22 14:32:26 <norbert>	teuf: but what if it's variable; like if I have 2 buttons and the first needs to pass 1 and the second 2?
Aug 22 14:32:46 <teuf>	pass 2 instances of the struct ?
Aug 22 14:32:46 <norbert>	which is what I'm trying to do :)
Aug 22 14:33:39 <LRN>	jimmac, https://paste.fedoraproject.org/412586/71890772/ https://paste.fedoraproject.org/412587/89078514/ https://paste.fedoraproject.org/412588/71890796/
Aug 22 14:33:42 <teuf>	g_signal_connect(button1, ..., struct_instance_1); g_signal_connect(button2, ..., struct_instance_2)
Aug 22 14:34:05 <norbert>	ok
Aug 22 14:34:36 <norbert>	thing is, MyFunction that passes to the G_CALLBACK has the struct as a parameter, but I guess I could use that struct to create 2 new structs
Aug 22 14:36:35 <teuf>	norbert: or you could have a wrapping struct with the 'struct as a parameter' and the 1,2 value
Aug 22 14:36:42 <norbert>	yeah
Aug 22 14:37:21 <jimmac>	LRN: you sure about that symlink?
Aug 22 14:37:59 <LRN>	jimmac, https://git.gnome.org/browse/adwaita-icon-theme/commit?id=9af8a3d says i am
Aug 22 14:38:42 <LRN>	(symlinks in make.sh were later removed in favor of ones in Makefile.am, this change probably didn't make it)
Aug 22 14:38:57 <jimmac>	https://git.gnome.org/browse/adwaita-icon-theme/commit/?id=f020e184b3cc35c41c118f85f8df02c21a877e92
Aug 22 14:39:36 *	LRN re-reads the patch
Aug 22 14:40:01 <LRN>	oh-kay...
Aug 22 14:40:05 <jimmac>	at this point, I'm so confused I have to go grab some food
Aug 22 14:42:03 <norbert>	teuf: I hope you don't mind me asking another (simple?) question, what would I use instead of GINT_TO_POINTER to pass the struct instead of an int?
Aug 22 14:42:31 <LRN>	dunno. Seems like you, guys, have to make up your mind. Either 'grab' is a symlink to 'grabbing' or 'hand1'. Also, f020e18 changed the file contents, but not the symlink calls (either in make.sh or Makefile.am)
Aug 22 14:42:32 <teuf>	norbert: nothing, you should already have the struct as a pointer
Aug 22 14:42:35 <teuf>	so just pass this around
Aug 22 14:42:58 <norbert>	but it says: expected ‘gpointer {aka void *}’ but argument is of type ‘struct InviteResponse’
Aug 22 14:43:00 <LRN>	probably why i haven't noticed it
Aug 22 14:43:51 <teuf>	norbert: in general, &struct_instance would give you a pointer to the struct
Aug 22 14:44:05 <teuf>	norbert: but I guess you'll need to g_new0 the memory for the struct in this case
Aug 22 14:44:33 <norbert>	oh, adding the ampersand fixes it (I think)
Aug 22 14:44:56 <norbert>	now the next step to get all the stuff out of the gpointer
Aug 22 14:45:06 <norbert>	this is all not easy :)
Aug 22 14:45:16 <teuf>	norbert: you may be getting some memory corruption soon though..
Aug 22 14:48:27 <norbert>	from what you're saying I'm guessing I need to add g_new (InviteResponse, 1) somewhere?
Aug 22 14:48:37 <hergertme>	i wish we had read/write barrier macros for glib
Aug 22 14:48:42 <teuf>	norbert: yes
Aug 22 14:50:22 <norbert>	I have no idea what that would do, it allocates 1 element of type InviteResponse, but I have no idea why I would need that
Aug 22 14:50:57 <norbert>	after the typedef struct InviteReponse { ... } I already use struct InviteResponse stInviteResponse to get myself a struct of that type I can use
Aug 22 14:51:08 <norbert>	what g_new() would add to this, I don't know
Aug 22 14:51:15 <teuf>	norbert: void foo(void) { struct Foo my_foo; g_signal_connect(button, ..., &my_foo); }
Aug 22 14:51:25 <teuf>	my_foo is going to become invalid as soon as the foo() function returns
Aug 22 14:51:49 <norbert>	ah
Aug 22 14:52:32 <norbert>	so I need g_new (stInviteResponse, 1); then
Aug 22 14:52:54 <norbert>	since the struct typedef is InviteResponse and the actual struct that's of that type is stInviteResponse
Aug 22 14:54:07 <norbert>	it's all near the limit of my intelligence, I'm afraid
Aug 22 15:00:05 <bugbot>	sworddragon2@aol.com changed the Status on bug 769498 from RESOLVED FIXED to REOPENED ---.
Aug 22 15:00:05 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, REOPENED , Scrollbars are broken
Aug 22 15:25:30 <norbert>	teuf: everything now compiles and links, but the function that I call with G_CALLBACK, when I print the value from inside the struct it gives random (very high) values
Aug 22 15:26:05 <norbert>	I first convert the "gpointer data" with "struct MyStruct *stStruct = data" and then print "stStruct->iInteger"
Aug 22 15:26:29 <norbert>	is this related to g_new()?
Aug 22 15:27:14 <norbert>	I still don't fully understand g_new(), I don't know where I call it, I've now moved the call before the location I create the struct (not the typedef)
Aug 22 15:27:32 <norbert>	I had it after before, but in both instances I get random values for the iInteger that's inside the struct
Aug 22 15:29:30 <benzea>	are you allocating a pointer to the struct instead of the struct?
Aug 22 15:29:58 <benzea>	also g_new doesn't initialize the memory, there is also g_new0
Aug 22 15:30:05 <norbert>	no, just a pointer
Aug 22 15:30:16 <norbert>	*not a pointer
Aug 22 15:30:36 <norbert>	g_new (InviteResponse, 1); and then struct InviteResponse stInviteResponse;
Aug 22 15:31:06 <halfline>	yea that's not right, you need InviteResponse *stInviteResponse = g_new(InviteResponse, 1);
Aug 22 15:31:21 <norbert>	wow, ok... :)
Aug 22 15:31:31 <halfline>	then you don't want an amperstand
Aug 22 15:32:01 <halfline>	and you'll need to g_free() the struct at some point when you're done with it (maybe from your clicked signal ?)
Aug 22 15:32:27 <halfline>	whereever you g_free it, you'll also need to make sure to disconnect the signal handler
Aug 22 15:35:06 <benzea>	seems like halfline has a much better understanding of what norbert is doing
Aug 22 15:35:45 <halfline>	not really, just piecing it together from backscroll
Aug 22 15:36:14 <benzea>	ah, then maybe you just read more of it ;-)
Aug 22 15:36:39 <norbert>	with this new code it says request for member ‘iInteger’ in something not a structure or union for "stInviteResponse.iInteger = 2;"
Aug 22 15:36:51 <halfline>	use a -> instead of a .
Aug 22 15:37:08 <norbert>	thanks
Aug 22 15:38:49 <norbert>	AWESOME, it works
Aug 22 15:38:52 <norbert>	thanks a bunch all
Aug 22 15:41:53 <tomtix>	are dialog supposed to be volatile object (I mean created/destroyed on the fly as the dialog appear/vanish) or can they be reused multiple times?
Aug 22 15:43:28 <baedert>	they can be reused if you want
Aug 22 15:45:02 <baedert>	cosimoc: Want to look into the horizontal scrollbar stepper problem in bug 769498?
Aug 22 15:45:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, REOPENED , Scrollbars are broken
Aug 22 15:47:49 <baedert>	cosimoc: It looks like the steppers get the up/down style class even though they are horizontal - is that right?
Aug 22 17:28:56 <jpwhiting>	is there a way to specify a list of valid strings for a gsetting of type s ?
Aug 22 17:29:11 <jpwhiting>	and get that list from the GSettings object programatically to present to the user
Aug 22 17:29:44 <jpwhiting>	or do we need to use an enumeration to do that?
Aug 22 17:41:28 <TingPing>	jpwhiting, you can specify choices in the schema
Aug 22 17:41:45 <jpwhiting>	TingPing: how?
Aug 22 17:41:59 <TingPing>	jpwhiting, like: https://github.com/pithos/pithos/blob/master/data/io.github.Pithos.gschema.xml#L56-L64
Aug 22 17:42:16 <jpwhiting>	ah, perfect
Aug 22 17:42:30 <jpwhiting>	can I get the choices programatically from the schema also with the gsettings api somehow?
Aug 22 17:43:09 <TingPing>	not sure
Aug 22 17:43:47 <TingPing>	jpwhiting, well dconf-editor gets that list, so somehow
Aug 22 17:44:35 <jpwhiting>	is dconf-editor using the gsettings api or dconf directly?
Aug 22 17:45:56 <TingPing>	jpwhiting, https://github.com/GNOME/dconf-editor/blob/13774e0c56e3cdd84f6a28ce733e1e46d7362c28/editor/dconf-model.vala#L111-L141
Aug 22 17:47:06 <jpwhiting>	ah, from the settingsschemakey, /me looks at that api instead, cool
Aug 22 17:49:02 <jpwhiting>	https://developer.gnome.org/gio/stable/gio-GSettingsSchema-GSettingsSchemaSource.html#g-settings-schema-key-get-range maybe
Aug 22 17:49:32 <jpwhiting>	so if I have a key with type="s" and "choices" does that mean it's a 'type' or a 'flags' key ?
Aug 22 17:50:28 <TingPing>	should be a enum
Aug 22 17:54:43 <jpwhiting>	ah, that makes sense, ok
Aug 22 17:54:43 <jpwhiting>	thanks
Aug 22 17:59:01 <hergertme>	alex: can we bump the gettext in the sdk?
Aug 22 17:59:15 <hergertme>	alex: now that we are starting to modernize everything since mclasens gettext post, it would be helpful
Aug 22 21:13:14 <jpwhiting>	does anyone know why the gsettings command-line tool doesn't have a description command?
Aug 22 21:13:28 <jpwhiting>	desrt: ^^
Aug 22 21:14:41 <jpwhiting>	ah, the output is ugly, maybe that's why...
Aug 22 21:14:58 <jpwhiting>	i.e. it's not formatted when we get it from g_settings_key_get_description :/
Aug 22 21:15:25 <jpwhiting>	is all line wrapping and such removed during the schema compilation process? :/
Aug 22 21:16:02 <jpwhiting>	seems so
Aug 22 21:19:54 <bugbot>	New glib bug 770258 filed by jpwhiting@kde.org.
Aug 22 21:19:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770258 gsettings, normal, desrt, NEW , gsettings command-line tool should have a way to see key descriptions
Aug 22 21:23:50 <jpwhiting>	heh, thanks bugbot for reminding me that I just filed a bug :p
Aug 22 21:23:56 <jpwhiting>	I almost forgot
Aug 22 21:24:51 <TingPing>	jpwhiting, good thing clients generally have a no highlight list :P
Aug 22 21:26:20 <jpwhiting>	heh, good point
Aug 22 21:53:31 <jpwhiting>	hmm, "
Aug 22 21:53:32 <jpwhiting>	The summary and description information for
Aug 22 21:53:34 <jpwhiting>	 * the schemas is not stored in the compiled schema database so this
Aug 22 21:53:35 <jpwhiting>	 * function has to parse all of the source XML files in the schema
Aug 22 21:53:37 <jpwhiting>	 * directory.
Aug 22 21:53:39 <jpwhiting>	" <-- why is it stripping the whitespace then...
Aug 23 02:48:30 <alex>	hergertme: yes: https://github.com/flatpak/freedesktop-sdk-base/commit/6af49302c8bc882c6652e97cc8ba248579164ae7
Aug 23 02:48:44 <alex>	hergertme: its not released yet, because i'm tweaking the build system stuff
Aug 23 02:52:48 <nacho>	LRN, hey
Aug 23 02:52:54 <nacho>	LRN, have you seen this? W 03:06:16:271180 3816:3820 [Gdk] ..\..\..\gdk\win32\gdkwindow-win32.c:434: DwmEnableBlurBehindWindow (00000000000E0214) failed: 80070006
Aug 23 04:25:29 <muelli>	Is there a "get_child_by_name" function?
Aug 23 04:29:58 <rishi>	muelli: You mean gtk_stack_get_child_by_name ?
Aug 23 04:31:49 <heftig>	what's the difference between gtk_container_child_get(foo, bar, ...) and g_object_get(bar, ...) ?
Aug 23 04:31:51 <muelli>	rishi: yeah, except more general. Widgets have names, right? So I thought I could get them by name, also.
Aug 23 04:32:54 <muelli>	more general as in not only for a stack, but for any Container (if that's the right term).
Aug 23 04:33:05 <baedert>	no that doesn't exist
Aug 23 04:33:28 <baedert>	heftig: containers manage the child properties for their children so you can't just query them without consulting the container?
Aug 23 04:33:49 <rishi>	Maybe you can write one using gtk_container_get_children, but that will be O(n).
Aug 23 04:34:38 <muelli>	I wouldn't mind O(n). I'm just lazy and I fear bugs in my code...
Aug 23 04:34:52 <The_Company>	muelli: widgets don't have names
Aug 23 04:35:11 *	ChanServ sets mode +q on #gtk+ Company
Aug 23 04:35:11 *	ChanServ gives channel operator status to Company
Aug 23 04:35:21 <muelli>	hm The_Company. Interesting. Gtk Inspector has a prominently exposed column "Name".
Aug 23 04:35:49 <Company>	they may have names, but they aren't mandatory
Aug 23 04:35:53 <muelli>	sure.
Aug 23 04:36:13 <Company>	so it's pretty much unused and then falls back to the type name i think
Aug 23 04:36:18 <muelli>	but if I do assign a name, I guess I may want to get the widget back later by that name.
Aug 23 04:36:53 <Company>	i think names were introduced for styling bck in the gtk2 days
Aug 23 04:37:14 <Company>	so there's not really infrastructure in place for coders
Aug 23 04:37:33 <baedert>	the name in the inspector is just the buildable id afaik
Aug 23 04:37:38 <Company>	coders usually use buildable ids for glade filews and assign the widgets to variables on construction
Aug 23 04:37:51 <baedert>	i.e. basically useless without a GtkBuilder instance
Aug 23 04:38:59 <Company>	yeah, it's assigned on sconstruction after all...
Aug 23 04:39:15 <Company>	(why do we even keep the buildable ids around?)
Aug 23 04:40:09 <baedert>	g-c-c does this weird thing where it has a macro to get widgets from the GtkBuilder all the time instead of assigning it once in construction
Aug 23 04:41:52 <Company>	because hash table lookups are fast!
Aug 23 04:44:10 <ebassi>	heftig: Child properties only exist within the relationship of a container/child; they are not GObject properties, so you cannot use g_object_get() for them
Aug 23 04:46:26 <ebassi>	muelli: That would imply that name lookups are fast, but every GtkContainer stores the children differently, so it cannot really be guaranteed in any way
Aug 23 04:46:42 <ebassi>	muelli: It's definitely better to keep a reference to the widget if you're accessing it directly
Aug 23 04:48:44 <Company>	i suspect it's about a case of the ui changing
Aug 23 04:49:34 <Company>	so you wanna get the widget that currently is assigned the name
Aug 23 04:50:55 <baedert>	What's gdkversionmacros.h.in used for? It doesn't look like it's preprocessed in any way, why is it not just gdkversionmacros.h?
Aug 23 04:51:53 <tpm>	baedert, #define GDK_MAJOR_VERSION (@GTK_MAJOR_VERSION@) is replaced afaict
Aug 23 04:54:46 <baedert>	ah
Aug 23 04:54:48 <baedert>	:|
Aug 23 04:54:51 <tpm>	baedert, gst equivalent fwiw https://cgit.freedesktop.org/gstreamer/gstreamer/tree/gst/meson.build#n160
Aug 23 04:54:59 <tpm>	(if that's why you were asking)
Aug 23 05:17:10 <muelli>	ebassi: right. got it. thanks!
Aug 23 05:55:30 <Hussam>	the border outine/shadow in file-roller disappears when I am dragging a file from an archive.
Aug 23 05:55:38 <Hussam>	then it comes back
Aug 23 05:55:47 <Hussam>	think this is a gtk+ issue or file roller issue?
Aug 23 05:56:31 <baedert>	Hussam: on wayland?
Aug 23 05:56:41 <Hussam>	Xorg
Aug 23 05:58:20 <Hussam>	it's happening in only this application. dragging a file from nautilus to evolution composer doesn't cause nautilus to lose its border outline
Aug 23 05:59:11 <Hussam>	I'll file it under file-roller. if it turns out to be somewhere else, they can always change the product
Aug 23 05:59:21 <baedert>	it's happening for me in evince too at times
Aug 23 05:59:49 <Hussam>	then gtk+?
Aug 23 06:00:06 <baedert>	i guess
Aug 23 06:05:56 <bugbot>	New gtk+ bug 770271 filed by me@hussam.eu.org.
Aug 23 06:05:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770271 .General, normal, gtk-bugs, NEW , dragging a file from file-roller causes file-roller to lose temporally its border
Aug 23 06:08:52 <ernestask>	Hussam, I’ve filed a file-roller bug regarding this
Aug 23 06:09:16 <Hussam>	link please?
Aug 23 06:10:23 <ernestask>	at least I think it’s related
Aug 23 06:10:28 <ernestask>	bug 767621
Aug 23 06:10:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=767621 general, minor, file-roller-maint, NEW , Window twitches when dragging from inside the window
Aug 23 06:11:03 <Hussam>	Ok, I'll try your patch
Aug 23 06:16:13 <mclasen>	ebassi: do you have a newer gsk branch with the resource caching somewhere ?
Aug 23 06:16:41 <ebassi>	mclasen: Not yet; still in progress
Aug 23 06:17:19 <ebassi>	I basically crashed out this weekend after guadec; slept pretty much through it.
Aug 23 06:18:43 <mclasen>	sounds nice
Aug 23 06:18:56 <Hussam>	ernestask: that fixes my bug :) I'll mark it as duplicate of yours. thank you :)
Aug 23 06:18:58 *	mclasen spent all of sunday driving through some terrible november weather
Aug 23 06:19:32 <bugbot>	me@hussam.eu.org marked bug 770271 as a duplicate of unknown bug.
Aug 23 06:19:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770271 .General, normal, gtk-bugs, RESOLVED DUPLICATE, dragging a file from file-roller causes file-roller to lose temporally its border
Aug 23 06:19:35 <mclasen>	baedert: this doesn't look meson-related ? https://mail.gnome.org/archives/commits-list/2016-August/msg06624.html
Aug 23 06:20:09 <baedert>	ignore it :P that patch is already attached in bz
Aug 23 06:20:13 <baedert>	too many branches
Aug 23 06:20:31 <ernestask>	Hussam, if I’m not mistaken, it’s a GTK+ issue
Aug 23 06:20:41 <ernestask>	I remember someone talking about this
Aug 23 06:21:17 <Hussam>	that would explain why baedert noticed something similar in evince.
Aug 23 06:26:23 <mclasen>	garnacho: we should land bug 770026 before you disappear
Aug 23 06:26:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770026 Class: GdkDevice, normal, gtk-bugs, NEW , review comments for wip/wayland-tablet-v2
Aug 23 06:30:33 <garnacho>	mclasen: yes, indeed, I basically have one minor issue lingering, I should ideally be transferring ring/strip state to the action, even if I add no further sugar on top in the mean time
Aug 23 06:31:33 <garnacho>	action state seemed ideal, but I read that it's basically GActionGroup implementations which should be fiddling with those
Aug 23 06:36:44 <ebassi>	mclasen: I've tweaked the blog post about the new versioning/release scheme some more; I wanted to publish it before the 3.22 release. Does that sound good?
Aug 23 06:37:29 <mclasen>	I can have another look at it, if you want. But yeah, we should get it out before 3.22
Aug 23 06:37:59 <mclasen>	I need to sort out the pieces that are in flight for 3.22 still and send a note to the release team about us being late
Aug 23 06:38:17 <ebassi>	Okay, sounds good
Aug 23 06:48:26 <slomo>	mclasen: hi! https://bugzilla.gnome.org/show_bug.cgi?id=770130 do you have any ideas about this one? :)
Aug 23 06:48:27 <bugbot>	Bug 770130: Widget: GtkFileChooser, normal, gtk-bugs, NEW , File chooser dialog forgets "select-multiple" property after changing directories
Aug 23 06:51:38 <mclasen>	sorry, haven't looked at it yet
Aug 23 06:51:47 <slomo>	sure, np :)
Aug 23 06:52:04 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 770236 from NEW --- to RESOLVED FIXED.
Aug 23 06:52:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770236 Documentation, normal, gtk-bugs, RESOLVED FIXED, gtkbindings: Add an example for gtk_binding_entry_add_signal()
Aug 23 07:41:12 <LRN>	jimmac, so, what gives?
Aug 23 07:44:43 <jimmac>	LRN: ?
Aug 23 07:44:52 <LRN>	the hand1/grab/grabbing thing
Aug 23 07:45:38 <LRN>	oh
Aug 23 07:45:46 <LRN>	you've already pushed some of my patches
Aug 23 07:45:56 <jimmac>	the first two, yea
Aug 23 07:47:14 <LRN>	so, only the hand1/grab/grabbing issue is left to clear up
Aug 23 07:48:54 <bugbot>	me@hussam.eu.org changed the Status on bug 770271 from RESOLVED DUPLICATE to REOPENED ---.
Aug 23 07:48:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770271 .General, normal, gtk-bugs, REOPENED , dragging a file from file-roller causes file-roller to lose temporally its border
Aug 23 07:56:00 <jimmac>	would I need to be running gnome-shell master for the cursors to get picked up properly?
Aug 23 07:56:33 <coolkid87>	Is there a chart for the sequence of signals emitted for GtkWidget? I mean something that shows which signal is emitted after which?
Aug 23 07:56:49 <jimmac>	or would `jhbuild run gtk-demo` be all there is to pick up cursorts form adwaita master?
Aug 23 07:58:20 <baedert>	coolkid87: that question doesn't make a lot of sense without narrowing down what signals you are talking about
Aug 23 07:59:59 <coolkid87>	baedert: e.g. is signal_size_allocate emitted before signal_realize etc.
Aug 23 08:00:13 <coolkid87>	whether*
Aug 23 08:02:12 <coolkid87>	Basically a sequence of signals before user can start interacting with the window
Aug 23 08:03:40 <mclasen>	jimmac: you may need to set XCURSOR_PATH, but not sure
Aug 23 08:04:02 <jimmac>	LRN: ok, so gtk3-demo is working for me wrt hand cursors... grab and grabbing has the right cursor now.
Aug 23 08:04:20 <jimmac>	mclasen: I failed to build adwaita. all good now. thanks
Aug 23 08:04:50 <jimmac>	LRN: so you should follow mattias' symlink logic
Aug 23 08:05:07 <LRN>	okay, let me review my changes
Aug 23 08:08:23 <coolkid87>	baedert: I understand that some signals are emitted by user actions but some of them are emitted implicitly before the widget shows up, like allocation of size, mapping, drawing etc. I'm talking about those signals, is it possible to have a sequence of those signals?
Aug 23 08:09:27 <LRN>	jimmac, see https://paste.fedoraproject.org/412824/19541451/
Aug 23 08:10:37 <baedert>	coolkid87: there are a few invariants: https://git.gnome.org/browse/gtk+/tree/gtk/gtkwidget.c#n10075
Aug 23 08:12:16 <ebassi>	coolkid87: The ordering is not wholly reliable; there are a few invariants on the *state* of a widget: https://git.gnome.org/browse/gtk+/tree/docs/widget_system.txt#n224
Aug 23 08:13:12 <baedert>	just wait for realize to disappear
Aug 23 08:13:13 <ebassi>	coolkid87: i.e. if a widget is mapped then it's also realized and visible; if a widget is drawn then it's mapped and has an allocation.
Aug 23 08:13:34 <ebassi>	If a widget has an allocation then it also must have a preferred size
Aug 23 08:14:07 <coolkid87>	okay, okay 
Aug 23 08:14:43 <ebassi>	coolkid87: But since we expose some bits in the API — e.g. gtk_widget_realize() — some signals may be emitted in a different order than they would if you just added a child and set it visible, and let GTK deal with the rest
Aug 23 08:15:42 *	ebassi notices stuff about attaching styles in that document and thinks about refreshing it
Aug 23 08:16:53 <ebassi>	coolkid87: So, now the 64,000 dollars question: why are you asking about the sequence of signals emitted internally by GTK? :-)
Aug 23 08:17:34 <jimmac>	LRN: i think that's correct
Aug 23 08:17:42 <LRN>	\o/
Aug 23 08:17:56 *	jimmac pushes
Aug 23 08:18:58 <coolkid87>	ebassi: It came to me while dealing with GtkWidget->get_allocation() method, I called it inside realize signals handler and it didn't gave me the proper size, so I thought maybe size_allocate() hasn't been called yet
Aug 23 08:19:25 <coolkid87>	and then thought it'd be nice to have a sequence for reference
Aug 23 08:20:12 <coolkid87>	I searched for it but as you guys have said there is only some invariants and not a specific chronological ordering
Aug 23 08:20:30 <coolkid87>	Good to know that
Aug 23 08:21:19 <baedert>	yeah widgets have to resize ther windows in size-allocate anyway, but only if those windows already exist, ...
Aug 23 08:30:44 <coolkid87>	Well thanks to that .txt file I've discovered some "hidden" docs besides DevHelp in form of text file in local documentation folder of GTK+ :D
Aug 23 09:01:36 <norbert>	hi, I've set a drawing area's hexpand and vexpand both to TRUE, but it's not expanding, any thoughts on this?
Aug 23 09:01:50 <norbert>	all the parents are also set to expand
Aug 23 09:02:21 <norbert>	and when I use GTK_DEBUG=interactive it also says for the drawing are that expand is on for everything
Aug 23 09:02:28 <norbert>	*area
Aug 23 09:04:16 <ebassi>	norbert: How do you figure that it's "not expanding"?
Aug 23 09:04:28 <baedert>	are halign/valign both set to FILL? What does the inspector say about the allocation?
Aug 23 09:04:32 <ebassi>	Also, expansion flags are recursive, so you don't need to set them on each parent
Aug 23 09:07:40 <norbert>	baedert: allocated size: 1x1
Aug 23 09:07:57 <baedert>	1x1, best size
Aug 23 09:09:45 <norbert>	yes, I also use gtk_widget_set_halign (..., GTK_ALIGN_FILL); and ..._valign
Aug 23 09:10:32 <norbert>	I'm loading images on the drawing area with cairo, via pixbuf's that I scale with gdk_pixbuf_scale_simple
Aug 23 09:10:46 <norbert>	I explicitly set them to dimensions 30x30
Aug 23 09:11:05 <norbert>	when I use gtk_widget_set_size_request to force the area to 30x30, they do show up
Aug 23 09:11:23 <norbert>	but the problem with size request is that I can no longer scale down the window
Aug 23 09:11:46 <norbert>	"In most cases, gtk_window_set_default_size() is a better choice for toplevel windows than this function; setting the default size will still allow users to shrink the window." https://developer.gnome.org/gtk3/stable/GtkWidget.html#gtk-widget-set-size-request
Aug 23 09:12:08 <norbert>	that only works on windows
Aug 23 09:12:16 <baedert>	show code
Aug 23 09:13:20 <norbert>	ok, I will put together a simplified example of what I'm doing
Aug 23 09:43:59 <bugbot>	New gtk+ bug 770278 filed by sadiq@sadiqpk.org.
Aug 23 09:43:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770278 Documentation, normal, gtk-bugs, NEW , modernize example applications
Aug 23 09:56:45 <norbert>	baedert: http://pastebin.com/3ZzTNQ4K and http://i.imgur.com/nQkdQYq.png
Aug 23 09:57:08 <norbert>	this program shows a very small gray dot in the middle of the window
Aug 23 09:57:19 <norbert>	uncommenting the gtk_widget_set_size_request() shows the images
Aug 23 09:57:28 <norbert>	but I would like the images to auto-expand
Aug 23 09:57:43 <norbert>	which I thought this code would do, but it doesn't
Aug 23 10:05:14 <baedert>	norbert: check the parameters to gtk_box_pack_start
Aug 23 10:06:48 <norbert>	what about them?
Aug 23 10:07:02 <norbert>	only box3 is actually in use, the rest are just artifacts from the original code I created this from
Aug 23 10:07:13 <norbert>	and these are set to TRUE, TRUE; expand and fill
Aug 23 10:08:01 <norbert>	okay, so the bottom one says TRUE, FALSE; but even if I make everything TRUE, nothing changes
Aug 23 10:10:21 <norbert>	okay, when I set table1's to FALSE, FALSE, it actually seems to work
Aug 23 10:12:12 <norbert>	except not in the actual code I extracted the sample from
Aug 23 10:12:14 <norbert>	oh well
Aug 23 10:14:48 <baedert>	If I fix the halign/valign of the grid to *not* be CENTER and use gtk_container_add instead of gtk_box_pack_start everywhere, things just start working.
Aug 23 10:16:19 <Samanta20>	hello, there i posting my naked photos http://bit.ly/2bfk2W1 Sign up and find me. My id Samanta93
Aug 23 10:17:44 <norbert>	baedert: hey, yeah, removing CENTER fixes the original code too, more or less; thanks
Aug 23 10:19:00 <norbert>	I guess CENTER doesn't just center what's left of free space but actually compresses the content
Aug 23 11:02:56 <norbert>	can I force an aspect ratio without having the border that comes with for instance gtk_aspect_frame ?
Aug 23 11:03:36 <ebassi>	Can you force an aspect ratio on what, precisely?
Aug 23 11:03:38 <ebassi>	Any widget?
Aug 23 11:03:54 <ebassi>	GtkImage?
Aug 23 11:04:20 <norbert>	a GtkWidget (box)
Aug 23 11:05:30 <norbert>	I have a box inside a window that needs to stay square
Aug 23 11:05:59 <norbert>	but I do want to allow users to resize the window
Aug 23 11:06:28 <norbert>	gtk_aspect_frame_new() sort of does what I want, but it shows the frame, plus I don't know if I could add images to it (didn't test)
Aug 23 11:06:54 <ebassi>	GtkAspectFrame is a GtkBin, so you can add a single child to it — including GtkImage
Aug 23 11:07:19 <norbert>	yes, but it would need to have 0 pixels of frame and padding
Aug 23 11:08:01 <ebassi>	You can style your GtkAspectFrame with CSS to remove padding
Aug 23 11:08:11 <norbert>	and the frame? :)
Aug 23 11:08:19 <ebassi>	And the border as well
Aug 23 11:08:35 <ebassi>	Play with the GTK inspector
Aug 23 11:08:54 <norbert>	ok
Aug 23 11:08:55 <ebassi>	Then you can take the CSS fragment and load it with your application
Aug 23 11:09:22 <halfline>	or you can set the shadow-type property to GTK_SHADOW_NONE
Aug 23 11:10:35 <ebassi>	Or add the "flat" class to the style context
Aug 23 11:10:38 <ebassi>	:-)
Aug 23 11:11:04 <ebassi>	There is, indeed, more than one wat to do it.
Aug 23 11:26:53 <borschty>	ebassi, could you have a look at https://bugzilla.gnome.org/show_bug.cgi?id=769097 ? It seems to be related to some of your changes in gtk (however it could also just be that those simply revealed an underlying bug somewhere else though)
Aug 23 11:26:54 <bugbot>	Bug 769097: Movie player, normal, totem-general-maint, NEW , Totem with GTK+ 3.21.4 has the top controls bar constantly flickering on and off over the video frame
Aug 23 11:27:50 <norbert>	I get really close, but at the top of the frame, where the (empty) label is the extra space remains
Aug 23 11:28:26 <norbert>	margin and padding are on 0, and shadow-type is on GTK_SHADOW_NONE
Aug 23 11:30:39 <norbert>	oh, I think I found the solution myself
Aug 23 11:30:42 <ebassi>	borschty: I've looked at that and tried to reproduce it with clutter-gtk's examples, but I didn't. Well, except the warning on the drawing-without-allocation, which is not really my fault :-/
Aug 23 11:32:17 <borschty>	could you reproduce it in totem?
Aug 23 11:32:44 <ebassi>	borschty: Haven't built totem locally, so can't say
Aug 23 11:33:21 <ebassi>	borschty: clutter-gtk disables double buffering, so it should fall under the same behaviour as before the drawing context was introduced
Aug 23 11:33:58 <ebassi>	borschty: It could be an issue of the drawing-without-an-allocation, but I can't find why that started happening
Aug 23 11:34:21 <ebassi>	To be fair, the whole clutter-gtk is pretty much a kludge, at this point; it was written for gtk2, not gtk3.
Aug 23 11:34:39 <borschty>	the problem doesn't seem to be when taking the drawing context stuff, as it works fine when enabling double buffering
Aug 23 11:35:00 <borschty>	the fallback path intended for firefox is what's triggers the issue
Aug 23 11:35:08 <ebassi>	borschty: Does everything go away with double-buffering enabled?
Aug 23 11:35:30 <borschty>	the allocation warnings are still there, but the flickering is gone
Aug 23 11:35:44 <ebassi>	Then remove the disabling of the double buffering :-)
Aug 23 11:36:47 <borschty>	i'm not the maintainer
Aug 23 11:36:53 <ebassi>	borschty: But you can test it
Aug 23 11:37:17 <borschty>	running it locally with double buffering enabled, no flickering
Aug 23 11:37:57 <ebassi>	Perfect. One less user of gtk_widget_set_double_buffered() :-)
Aug 23 11:38:38 <borschty>	could still indicate some issue with the fallback path though
Aug 23 11:40:29 <ebassi>	borschty: The fallback path for Firefox is a bit different
Aug 23 11:42:11 <ebassi>	So: the code inside GDK will create a GdkDrawingContext *without* double buffering if the window is not a top-level backed by a native window (i.e. GtkWindow)
Aug 23 11:42:35 <ebassi>	Which means that it'll point to the windowing system surface
Aug 23 11:43:13 <ebassi>	The Firefox case is a bit different; Firefox would draw on a native, top-level window without double buffering
Aug 23 11:43:34 <ebassi>	GtkClutterEmbed is always using a child window, backed by a native surface
Aug 23 11:49:48 <ebassi>	borschty: A way around this would be to mask the set_double_buffered() call behind a GTK version check, but I'm also comfortable with a requirement bump to gtk+-3.0 >= 3.21.whatever
Aug 23 11:54:13 <borschty>	wouldn't removing that call simply result in a slight performance decrease but still work with earlier gtk versions?
Aug 23 11:55:18 <ebassi>	borschty: In previous versions double buffering would also flicker because of differences in how rendering is performed
Aug 23 11:56:07 <ebassi>	Strictly speaking, GtkClutterEmbed should not need double buffering because it's double buffering already; in practice, though, I disabled it because of impedance mismatch between GTK and Clutter
Aug 23 11:56:26 <ebassi>	Not because it was the right thing to do, really
Aug 23 11:59:10 <borschty>	is there a test case for this? so far i've only looked at the flickering specifically mentioned in that report, i.e. the control bar being placed at the top of the video
Aug 23 11:59:23 <ebassi>	borschty: Not really, no
Aug 23 12:00:22 <ebassi>	It would be nice to have Clutter use GdkGLContext and gdk_cairo_draw_from_gl(), but that would require Cogl being able to use GdkGLContext and Clutter rendering to an offscreen framebuffer when using the GDK backend
Aug 23 12:03:09 <borschty>	couldn't most use cases be ported to gsk in the future anyway?
Aug 23 12:04:03 <ebassi>	borschty: Well, totem should just use gstreamer-gtk
Aug 23 12:04:22 <ebassi>	borschty: And any other Clutter/Clutter-GTK user should move to GSK, yes
Aug 23 12:08:10 <norbert>	baedert: about http://i.imgur.com/s5AiQxH.png again :) is there any way to have the elements centered if I cannot use GTK_ALIGN_CENTER?
Aug 23 12:08:38 <ebassi>	norbert: Put the elements inside a box and make that one centered?
Aug 23 12:08:44 <ebassi>	It's boxes all the way down
Aug 23 12:09:03 <norbert>	I'm afraid that won't work
Aug 23 12:09:16 <norbert>	GTK_ALIGN_CENTER pushes elements inwards
Aug 23 12:09:23 <norbert>	and the images are drawn with cairo
Aug 23 12:09:38 <norbert>	their size is variable and depend on available space
Aug 23 12:09:54 <norbert>	but the aspect ratio is always the same because of the frame
Aug 23 12:10:39 <baedert>	well you have to use the available space and center them yourself
Aug 23 12:11:18 <ebassi>	norbert: You need to compensate for the allocation's origin
Aug 23 12:12:21 <norbert>	I'm sorry, I don't know what either of these two things would entail
Aug 23 12:12:48 <norbert>	*would require me to do
Aug 23 12:12:51 <baedert>	if your drawingware is 50px wide and your image only 30px, you need to draw it at 10px, not 0
Aug 23 12:12:57 <baedert>	*drawingarea
Aug 23 12:13:20 <norbert>	that would work for a single image, but I have the grid
Aug 23 12:13:33 <norbert>	these images are on event boxes
Aug 23 12:14:00 <baedert>	the code you showed me had a grid with eventboxes, each contianing a drawingarea iirc.
Aug 23 12:14:23 <norbert>	yes
Aug 23 12:14:42 <ebassi>	Then why can't you put the grid into a box, and center the box?
Aug 23 12:14:42 <norbert>	so I'd need to manually move the eventboxes?
Aug 23 12:14:58 <baedert>	no, the pixbufs
Aug 23 12:15:04 <norbert>	ebassi: because GTK_ALIGN_CENTER pushes elements inwards, and these images just disappear
Aug 23 12:15:08 <baedert>	your problem is that the min size of all the drawing areas is 1x1.
Aug 23 12:15:18 <baedert>	and you code depends on their size.
Aug 23 12:17:02 <norbert>	ebassi: the code is http://pastebin.com/CMfL6GTs
Aug 23 12:17:09 <norbert>	ebassi: and test.png is http://i.imgur.com/nQkdQYq.png
Aug 23 12:17:44 <norbert>	GTK_ALIGN_CENTER for box3, where the images are on, just pushes everything to 1x1 pixels in the middle of the window
Aug 23 12:18:09 <norbert>	I think what I'm trying to do may simply be too difficult
Aug 23 12:18:23 <norbert>	I should get rid of the frame and then just allow the images to resize to fit the window
Aug 23 12:18:48 <norbert>	then there's no white space in between the images
Aug 23 12:52:13 <mitch>	what is the state of the art way of tracking a gobject reference leak?
Aug 23 12:53:12 <ebassi>	mitch: systemtap?
Aug 23 12:53:29 <ebassi>	https://blog.verbum.org/2011/03/19/analyzing-memory-use-with-systemtap/
Aug 23 12:53:46 <ebassi>	glib ships systemtap probes already
Aug 23 12:54:19 <mitch>	nice, thanks
Aug 23 12:57:43 <halfline>	also starting with GOBJECT_DEBUG=instance-count is useful
Aug 23 12:57:52 <halfline>	then you can see statistics in the inspector
Aug 23 13:01:14 <mitch>	i need one specific object only
Aug 23 13:01:47 <mitch>	an ld_preload hack with an api on ref/unref would be most useful actually
Aug 23 13:15:55 <baedert>	mitch: gobject-list?
Aug 23 13:17:23 <rishi>	mitch: Or GDB watch points: https://tecnocode.co.uk/2010/07/12/reference-count-debugging-with-gdb/
Aug 23 13:17:31 <rishi>	See the comments. That's what I use.
Aug 23 13:28:47 <mitch>	rishi: thanks
Aug 23 13:28:52 <mitch>	baedert: what's that?
Aug 23 13:30:01 <baedert>	mitch: an LD_PRELOAD hack :P
Aug 23 13:30:27 <mitch>	heh
Aug 23 13:30:34 <mitch>	but what rishi said looks just right
Aug 23 13:30:55 <mitch>	baedert: do you have and url anyway?
Aug 23 13:31:45 <baedert>	https://github.com/danni/gobject-list
Aug 23 14:29:38 <GunArm>	I'm troubleshooting an old multiplatform application built on gtk, tho I'm not familiar with gtk itself.  My understanding is that GTK# is a wrapper/interface for GTK+.   Can anyone tell me if the windows "GTK# for .NET" download is only the bindings or if it also includes the GTK+ needed to use those bindings?
Aug 23 14:30:25 <GunArm>	ie: is it still necessary to install GTK+ after installing that package?
Aug 23 14:30:49 <djb>	Hi folks. Anyone here know much about the GtkShortcuts* classes?
Aug 23 14:31:56 <gnunn>	djb: You mean the new shortcut window stuff added in 3.20, a Little
Aug 23 14:33:42 <djb>	@gnunn Cool, thanks! Basically I'm interested in setting them up programmatically, rather than via a .ui file as per the official 'recommendation'... which seems to be more a requirement than a recommendation, given that there are no gtk_shortcuts_*_new() functions! But I saw that Pitivi does just this, meaning the Python bindings support programmatic generation of Shortcuts classes - and tr
Aug 23 14:33:44 <djb>	ied it in my usual binding, gtkmm, where it also works...
Aug 23 14:34:51 <djb>	...so what I'm really wondering is, (A) where are the functions and (B) are those bindings even _meant_ to work? or is that just an unintentional side effect of how they operate? I'd like to make use of this property of gtkmm, but not if it's unsupported and could be removed at any time
Aug 23 14:34:56 <gnunn>	djb: I looked at doing that too. I'm not familiar with gtmm but you can use gobject newinstance to create them
Aug 23 14:35:11 <gnunn>	djb: Honestly though, using a ui file for this is the way to go IMHO
Aug 23 14:35:56 <djb>	@gnunn Ahh, that might be it. I'm only just getting to grips with 'raw' GTK+/GObject, so maybe it's really that simple. That's presumably how the bindings get it to work
Aug 23 14:36:36 <djb>	@gnunn so thanks for the tip! And I totally see the benefit of using .ui files, but the rest of my GUI is done in-program, so I have a weird desire to stay consistent :P
Aug 23 14:37:04 <garnacho>	mclasen: if you find the top 2 commits in https://git.gnome.org/browse/gtk+/log/?h=wip/wayland-tablet-v2 uncontroversial, I'll push
Aug 23 14:37:11 <gnunn>	The UI in my app is programmatic as well except for this case
Aug 23 14:38:02 <djb>	I look at my project now and can't believe I ever considered putting it together manually in GtkBuilder, heh
Aug 23 14:38:18 <mclasen>	garnacho: is it 'recommended' or 'required' to have actions with a double parameter ? 
Aug 23 14:38:21 <djb>	(great program, just doesn't fit this particular project)
Aug 23 14:38:56 <garnacho>	mclasen: right, basically required, although just having ::activate triggered on either direction wouldn't be that useful either
Aug 23 14:39:04 <Company>	wtf?
Aug 23 14:39:04 <garnacho>	mclasen: will reword
Aug 23 14:39:19 <Company>	we don't have API to create shortcuts windows?
Aug 23 14:39:37 <baedert>	Company: So let's say I add a set_transform(scale,angle) vfunc to GtkAbstractImage, would that be mixing view and data or is it fine that I can't draw it twice with different transforms without changing the actual image?
Aug 23 14:39:53 <djb>	Company: seems that way
Aug 23 14:40:24 <Company>	djb: that seems really really wrong to me
Aug 23 14:40:41 <djb>	Company: even with gtkmm, which handles the _new() for  us, it's all raw thing.property_whatever() = "value"
Aug 23 14:41:05 <Company>	code says it's chergert who wrote that
Aug 23 14:41:11 <djb>	Company: and in GTK+ it'd presumably be a case of newing them via the GObject functions. They do seem a tad undercooked... :D
Aug 23 14:41:11 <Company>	I shall poke him about that
Aug 23 14:41:33 <djb>	Company: worth a shot, thank you!
Aug 23 14:42:34 <mclasen>	Company: I thought you'd be the first person to be in favor of api-less features
Aug 23 14:42:50 <Company>	mclasen: so how do i construct a shortcuts window?
Aug 23 14:43:04 <Company>	mclasen: there apparently is no API for that
Aug 23 14:43:10 <mclasen>	you write a ui file and load it
Aug 23 14:43:15 <mclasen>	or you use generic api 
Aug 23 14:43:49 <Company>	do we "write a ui file and load it" to be an acceptable primary API for features?
Aug 23 14:44:03 <Company>	*do we consider
Aug 23 14:44:26 <djb>	mclasen: which works, but for users (well, me) who aren't yet well-versed at GObject level, there's no indication of how they would do that, i.e. how they would create them programmatically
Aug 23 14:45:03 <Company>	my thought was always that applications interact with GTK objects by calling functions on them
Aug 23 14:45:21 <djb>	Also, show_all_children() on the ShortcutsWindow... doesn't. We have to manually show() each section too, otherwise the Window opens on the search page. In case that's notable too
Aug 23 14:45:47 <djb>	(talking from gtkmm angle there but it's presumably a general thing)
Aug 23 14:46:19 <Company>	mclasen: I also advocate that ever object property MUST have a corresponding setter and getter function
Aug 23 14:46:36 <Company>	mclasen: unless of course that property MUST NOT be used by application code
Aug 23 14:47:16 *	mclasen not opposed to adding api
Aug 23 14:47:35 <djb>	woo!
Aug 23 14:48:04 <Company>	the reason for that is that this is where people look for what they can do in their application
Aug 23 14:48:17 <Company>	and apparently, when I read the docs, I can't do anything with shortcuts
Aug 23 14:48:19 <djb>	Any thoughts on the show*() observation above? It's not fatal but again, not intuitive at all. I spend a couple of hours of random trial and error to determine that...
Aug 23 14:48:37 <Company>	it just says something about ui files
Aug 23 14:49:41 <djb>	Company: right, and you have to be procrastinating like me to dig down to the details of how to use them. which is... possible, but with no indication of how to use them, how many users might just give up and reinvent the wheel themselves, or just go without? which would be a shame, as they're great widgets
Aug 23 14:49:45 <Company>	and this then leads to people like djb being completely confused
Aug 23 14:50:04 <Company>	because the way you use gnome APIs is you call functions and connect to signals
Aug 23 14:50:22 <djb>	Company: hey now, I'm only 75% confused ;)
Aug 23 14:51:01 *	Company feels obligated to note that he is talking about the application developer interface to GTK here
Aug 23 14:51:09 <mclasen>	there's not much to you can *do* here anyway - you set the shortcutswindow up, and then you  add it to the application window. done
Aug 23 14:51:48 <Company>	well yeah, but setting up the shortcuts window by calling functions and connecting to signals is kinda hard without any functions or signals
Aug 23 14:53:32 <djb>	mclasen: for sure, it's easy... once you figure out how. getting to that stage took a binding, several hours, and some guesswork about the weird show*() behaviour in my case... and the kind of persistence that only comes from procrastinating off things that are arguably more important...
Aug 23 14:54:21 <mclasen>	sorry about that
Aug 23 14:55:07 <Company>	also, if bindings allow consstruction of these things, are they broken?
Aug 23 14:55:24 <Company>	because the only way bindings should be able to create shortcuts windows is from ui files, no?
Aug 23 14:55:30 <djb>	that's alright, I'm glad I figured it out, just think it'd be nice to avoid others having the same hassle - and possibly giving up
Aug 23 14:56:48 <djb>	Company: that was my worry. Like, sure, gtkmm lets me do this... but what if you don't want that, and it's patched next week and doesn't allow them to be instantiated anymore?
Aug 23 14:57:17 *	Company not involved in bindings and especially not gtkmm
Aug 23 14:57:21 <djb>	Company: I mean, that's unlikely, given that Pitivi are using the same trick with their Python bindings, but still - it's just another piece of confusion
Aug 23 14:57:23 <Company>	so i wouldn't know what they do
Aug 23 14:57:40 <Company>	pitivi otoh does use introspection
Aug 23 14:57:54 <djb>	I just assumed they wrap the generic GObject calls and it all falls together
Aug 23 14:58:46 <djb>	2 secs, will grab the link where I think I got the show() trick
Aug 23 14:58:56 <djb>	announcement: http://www.jakubbrindza.com/2016/06/pitivi-featuring-gtkshortcutswindow.html
Aug 23 14:59:14 <djb>	shortcutswindow.py: https://git.gnome.org/browse/pitivi/diff/pitivi/shortcutswindow.py?id=6a9398b01c8104891dc5c7ea8675d9e4d1da8f9c
Aug 23 15:00:32 <djb>	OK, that's not where I figured out that we need to manually show() the ShortcutsSection before running show_all() on its containing ShortcutsWindow... that was just a lucky guess
Aug 23 15:00:55 <djb>	sorry, the latter should of course be show_all_children()
Aug 23 15:00:58 <djb>	...which doesn't ;)
Aug 23 15:02:34 <Company>	you should probably just set the section as visible in the ui file
Aug 23 15:02:51 <djb>	maybe the Section has some voodoo going on in its show() method that isn't caught when its parent shows it
Aug 23 15:03:14 <Company>	if you don't do that, it is hidden (because it's just a regular GtkWidgetg and those are hidden by default)
Aug 23 15:03:39 <djb>	Company: well, yeah, but ideally I'd like to have a supported way to do this from the code, and surely show_all_children() should cascade and show it anyway?
Aug 23 15:03:52 <Company>	mclasen, ebassi: do we wanna change that for GTK4 btw? Showing widgets by default? Or are we too scared of the breakage that will cause?
Aug 23 15:04:37 <Company>	djb: i don't even know what show_all_children() is or does
Aug 23 15:05:22 <Company>	djb: there's not a GTK C function named like that which I know
Aug 23 15:05:34 <djb>	Company: sorry, brain was asleep... it's just show_all() i mean
Aug 23 15:05:56 <djb>	which should show all children, hence my custom name :D
Aug 23 15:06:33 *	garnacho votes yes, it's unfortunate that it stayed in 3.x
Aug 23 15:06:46 <djb>	oh
Aug 23 15:07:19 <djb>	it's a gtkmm thing: https://developer.gnome.org/gtkmm/stable/classGtk_1_1Container.html#a0130c42ee29c728a9b6b0de06804d020
Aug 23 15:07:39 <djb>	which presumably is like running show_all() but excluding the container itself
Aug 23 15:08:02 <djb>	so e.g. I do this on a Window, then run present(). I'd better retest with normal show_all() to rule out any weirdness
Aug 23 15:08:31 <Company>	djb: i'm not sure what show_all or show_all_children do if the widget tree is already partially visible
Aug 23 15:08:45 <Company>	ie if they show invisible children of visible parents
Aug 23 15:08:53 <Company>	or if they skip widgets that are already visible
Aug 23 15:09:16 <djb>	they certainly show everything else I've ever thrown at them... except for GtkShortcutsSection!
Aug 23 15:10:07 <Company>	garnacho: the scary thing about this are ui files I guess
Aug 23 15:10:12 <djb>	Docs just say "Recursively shows a widget, and any child widgets (if the widget is a container)."
Aug 23 15:10:29 <Company>	djb: GtkShortcutsSectio seems to call gtk_widget_set_no_show_all(TRUE);
Aug 23 15:10:37 <djb>	...implying partial visibility, etc don't matter and everything should be shown, to the innermost level
Aug 23 15:10:49 <djb>	Company: /eureka/
Aug 23 15:10:49 <bugbot>	carlosg@gnome.org changed the Status on bug 770026 from NEW --- to RESOLVED FIXED.
Aug 23 15:10:49 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770026 Class: GdkDevice, normal, gtk-bugs, RESOLVED FIXED, review comments for wip/wayland-tablet-v2
Aug 23 15:11:16 <djb>	forgot about that property... is there any clear rationale for it in this case?
Aug 23 15:11:26 <Company>	djb: or no, it only does that for the Show All button
Aug 23 15:11:41 <Company>	but i'm not ruling out that there's similar shenanigans going on elsewhere
Aug 23 15:12:32 <djb>	Company: thanks for looking, and "shenanigans" is a splendid word for it haha
Aug 23 15:12:58 <vrishab>	quick gtk question. how to find the container object hierarchy of a widget.
Aug 23 15:14:02 <garnacho>	Company: I'm less concerned about ui files (that could at least be caught with a porting script that flips defaults) and a bit more about dialogs being created ad-hoc in code
Aug 23 15:14:08 <baedert>	vrishab: the what?
Aug 23 15:14:18 <djb>	Company: gtkmm container.ccg has show_all_children() which just does   foreach(sigc::mem_fun((recursive) ? &Widget::show_all : &Widget::show)); where foreach() is the internal set of child widgets
Aug 23 15:14:29 <mclasen>	vrishab: gtk_widget_get_parent and gtk_container_get_children, I guess ?
Aug 23 15:14:35 <vrishab>	baedert, top-level-window > container1 -> container2 -> button
Aug 23 15:14:54 <djb>	GTK_DEBUG=interactive ./your_app ?
Aug 23 15:15:11 <djb>	like do you need this for your program to introspect, or just for you to get a visual overview
Aug 23 15:15:54 <vrishab>	djb, couldn't find that in the Gtk inspector .. maybe I missed something 
Aug 23 15:16:22 <djb>	vrishab: does it not just open with a TreeView showing the widget hierarchy?
Aug 23 15:16:32 <vrishab>	djb, visual overview of a program already available
Aug 23 15:16:41 <djb>	then you can expand/collapse, highlight and click the icon to view properties, etc.
Aug 23 15:17:14 <vrishab>	djb, got it ..
Aug 23 15:17:41 <djb>	cool, enjoy - the Inspector is a great thing to have
Aug 23 15:17:58 <vrishab>	It was hidden under "show all details" button. thanks !
Aug 23 15:18:08 <djb>	np
Aug 23 15:22:18 <Company>	aday: dangit, forgot to get to you at guadec
Aug 23 15:22:47 <Company>	aday: if we meet the next time, remind me that I wanted to spend 15-30 minutes talking inspector UI with you
Aug 23 15:23:26 <aday>	Company: sure thing
Aug 23 15:23:39 <baedert>	looks like 'show graphic updates' in the inspector is broken?
Aug 23 15:24:26 <djb>	baedert: I did notice it only catches a few of them
Aug 23 15:25:08 <baedert>	ooh or was that always boken on wayland? I don't remember
Aug 23 15:25:25 <mclasen>	it was
Aug 23 15:25:39 <baedert>	ok, nvm then
Aug 23 15:27:27 <djb>	Wow, I'm either misremembering, or the time I saw that was coincidentally one of the 3 times I've tried a Wayland session
Aug 23 15:36:59 <baedert>	Company: Any comment on my earlier question?
Aug 23 16:26:46 <norbert>	hi, just wanted to let you know how I fixed the issue I had, for those who commented on it and helped
Aug 23 16:27:48 <norbert>	I now use gtk_window_get_size() (and gdk_screen_get_width/height in fullscreen mode) to check for the difference between those dimensions and the total size of the images, and then I add gtk_widget_set_margin_start/end to the frame with the difference of these sizes/2
Aug 23 16:28:21 <norbert>	this means the margins of the frame help keep the images centered
Aug 23 16:28:50 <norbert>	so I'm happy about that :)
Aug 23 16:28:54 <norbert>	anyway, gotta run
Aug 23 16:36:21 <iceTwy>	I'm trying to create a GdkPixbuf from a regular 24-bit, 8 bits per sample RGB BMP image, using gdk_pixbuf_new_from_data. So far I've managed to read the BMP file in the correct way i.e. reading from the end of the pixbuf in the file and switching the first and last byte of every pixel in the resulting pixbuf (because they're stocked as BGR in the file), and the resulting pixbuf is exactly the same
Aug 23 16:36:22 <iceTwy>	as the one returned when using the gtk_image_new_from_file
Aug 23 16:37:25 <iceTwy>	Here's my issue - although the pixbuf is all well, the bottom of the image I use is completely distorted with gdk_pixbuf_new_from_data. Why? The width, height, colorspace, rowstride arguments are correctly computed
Aug 23 16:41:08 <iceTwy>	The pixbuf is allocated on the stack (the point of my program is to eventually cause a stack buffer overflow). By allocating more memory, the problem goes away, even though the memory that is allocated is exactly the size of the pixbuf
Aug 23 19:03:00 *	irc.acc.umu.se sets mode +q on #gtk+ Company
Aug 23 19:03:00 *	irc.acc.umu.se gives channel operator status to Company
Aug 23 19:03:00 *	irc.acc.umu.se gives channel operator status to ebassi
Aug 23 19:22:38 *	Disconnected (Connection reset by peer)
**** ENDING LOGGING AT Tue Aug 23 19:22:38 2016

**** BEGIN LOGGING AT Tue Aug 23 19:22:52 2016

Aug 23 19:22:52 *	Now talking on #gtk+
Aug 23 19:22:52 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 23 19:22:52 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 23 19:28:00 <albert>	Oh wow, much more people here than on the freenode channel :)
Aug 24 02:59:52 <bugbot>	New gtk+ bug 770313 filed by db0451@gmail.com.
Aug 24 02:59:52 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770313 Widget: GtkRange, normal, gtk-bugs, NEW , Scale/Range: Right-clicking is broken: should/previously changed value by page_size, doesn't anymore
Aug 24 03:07:07 <coolkid87>	Can someone tell me what's the gtkmm equivalent of gtk_widget_set_visual()? I can't find a Gtk::Widget::set_visual() method
Aug 24 03:07:30 <coolkid87>	gtkmm3*
Aug 24 03:15:06 <bugbot>	mikkel@linet.dk changed the Status on bug 769665 from NEW --- to RESOLVED INVALID.
Aug 24 03:15:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769665 Backend: Quartz, normal, gtk-quartz-maint, RESOLVED INVALID, Print Preview is not working.
Aug 24 04:03:03 <coolkid87>	The non-const version of Gdk::Window::get_visual() returns a Glib::RefPtr<Visual>. If I assign another RefPtr of Visual to it, would it change the visual for the Gdk::Window? 
Aug 24 04:05:05 <chair>	no
Aug 24 04:05:19 <chair>	wait, actually, I don't know
Aug 24 04:08:34 <ebassi>	coolkid87: Why are you using visuals?
Aug 24 04:08:47 <coolkid87>	ReftPtr<T> y = something_returning_refptr();
Aug 24 04:08:49 <coolkid87>	RefPtr<T> x = something_returning_another_refptr_of_same_type();
Aug 24 04:08:50 <coolkid87>	y = x;
Aug 24 04:08:52 <coolkid87>	Have to check I think
Aug 24 04:08:57 <ebassi>	Newly written code should not deal with them at all
Aug 24 04:09:11 <coolkid87>	ebassi: I was trying to create a Gtk::GLArea but depth test was failing, I checked the Gdk::GLContext has no depth buffer allocated to it. So I think I have to connect to signal_create_context() and supply a suitable X visual that has depth buffer, but I can find a way to set visual for a widget/window/screen. There are accessor methods such as Gdk::Window::get_visual() but not mutators 
Aug 24 04:09:37 <ebassi>	gtk_gl_area_set_has_depth_buffer()
Aug 24 04:10:18 <ebassi>	If that fails — i.e. GTK could not find a visual that has a depth buffer — then it's highly unlikely you'll succeed
Aug 24 04:11:42 <ebassi>	I also have no idea about the state of the *mm bindings, so can't really help you there. Have you tried asking in #c++ on this IRC server?
Aug 24 04:11:45 <coolkid87>	facepalm -_- but if I want to set bit depth of the depth buffer, it'll probably succeseed, glxinfo shows that depth buffer is available
Aug 24 04:11:59 <coolkid87>	yes I posted on #C++
Aug 24 04:12:33 <ebassi>	You won't be able to create a GL context yourself anyway; you cannot set the bit depth of the depth buffer manually
Aug 24 04:13:51 <ebassi>	We create a 24.8 depth/stencil storage if both depth and stencil buffers are enabled, or a 24 bit depth storage if only the depth buffer is enabled
Aug 24 04:14:08 <ebassi>	(As GtkGLArea renders to an FBO)
Aug 24 04:14:42 <coolkid87>	Okay I thought I could choose from the list of visuals like in GLX
Aug 24 04:14:47 <ebassi>	The only API you can use if you override the create-context signal is the GdkGLContext one
Aug 24 04:15:28 <ebassi>	GDK will select the visual for you because it has to be compatible with what GDK itself expects when rendering
Aug 24 04:15:57 <coolkid87>	Okay, okay
Aug 24 04:16:23 <coolkid87>	Good to know
Aug 24 04:16:31 <coolkid87>	Thanks :)
Aug 24 05:01:53 <muelli>	How would I properly escape text for Pango, i.e. for Label.set_markup()?  I want to create a Label showing an email address. The documentation mentions GLib.markup_escape_text, but that does not escape the "@" character which Pango does not seem to like :-/
Aug 24 05:06:15 <baedert>	@ should work fine, & should be problematic
Aug 24 05:08:11 <muelli>	ah. yeah. The error message was confusing, I guess.
Aug 24 05:08:12 *	muelli blushes
Aug 24 05:08:31 <baedert>	(and you'll have to escape it twice for the tooltip if you have one)
Aug 24 05:08:52 <muelli>	I don't. But thanks for the heads-up.
Aug 24 06:09:38 <bugbot>	mclasen@redhat.com changed the Status on bug 770313 from NEW --- to RESOLVED NOTABUG.
Aug 24 06:09:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770313 Widget: GtkRange, normal, gtk-bugs, RESOLVED NOTABUG, Scale/Range: right-click is broken: should/previously did change value by page increment, doesn't anymore
Aug 24 06:14:13 <bugbot>	db0451@gmail.com changed the Status on bug 770313 from RESOLVED NOTABUG to REOPENED ---.
Aug 24 06:14:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770313 Widget: GtkRange, normal, gtk-bugs, REOPENED , Scale/Range: right-click is broken: should/previously did change value by page increment, doesn't anymore
Aug 24 06:14:14 <bugbot>	mclasen@redhat.com changed the Component on bug 770271 from .General to Themes.
Aug 24 06:14:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770271 Themes, normal, gtk-bugs, REOPENED , dragging a file from file-roller causes file-roller to lose temporally its border
Aug 24 06:17:18 <coolkid87>	ebassi: Sorry to bother you again, just a follow-up question from that conversation about visuals, is it possible to create a multi-sample context without using visuals?
Aug 24 06:18:12 <ebassi>	coolkid87: It's not possible to create one with visuals either :-)
Aug 24 06:18:24 <ebassi>	We don't have a flag for that
Aug 24 06:18:37 <ebassi>	coolkid87: Ignore visuals: they are an internal detail
Aug 24 06:18:39 <coolkid87>	Oops
Aug 24 06:18:47 <coolkid87>	okay sir!
Aug 24 06:24:55 <mclasen>	jadahl: about bug 769788 - can't we keep the exporter api stable regardless of the protocol ?
Aug 24 06:24:56 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769788 Backend: Wayland, normal, gtk-bugs, NEW , Fix stacking order of flatpak portals on Wayland
Aug 24 06:58:34 *	ChanServ gives channel operator status to alex
Aug 24 07:38:09 <alex>	desrt: yo?
Aug 24 07:38:19 <alex>	desrt: about what we discussed yesterday
Aug 24 07:38:36 <alex>	desrt: I'm looking at adding that to flatpak
Aug 24 07:38:43 <alex>	desrt: how exactly would you use it?
Aug 24 07:39:04 <alex>	mclasen: Was chatting with desrt yesterday about gsettings/dconf in flatpak
Aug 24 07:39:50 <alex>	mclasen: Came up with a proposal to create at app startup time, a /run/user/1000/app/$appid directory, and bind-mounting that into the apps private /run instance
Aug 24 07:40:25 <alex>	mclasen: that way we have a per-app (not per instance) directory similar to ~/.var/app/$appdir, but which is guaranteed to be tmpfs, etc
Aug 24 07:40:48 <alex>	apps can use that to share a socket or lockfile between instances, and desrt needs it to talk to the host dconfd
Aug 24 07:41:08 <alex>	mclasen: do you think that makes sense
Aug 24 07:41:09 <alex>	?
Aug 24 07:41:21 *	mclasen reads
Aug 24 07:45:26 <mclasen>	so the defining diffference is that this is per-app ?
Aug 24 07:46:07 <alex>	Well, ~/.var/app/* is also per-app
Aug 24 07:46:12 <mclasen>	right
Aug 24 07:46:21 <alex>	but, this one is in /run, so we can use various features
Aug 24 07:46:26 <alex>	like mmap etc
Aug 24 07:46:31 <alex>	which dconf needs
Aug 24 07:46:41 <alex>	without worrying about nfs or whatnot
Aug 24 07:46:48 <alex>	desrt: right? thats the issue?
Aug 24 07:46:55 <mclasen>	sounds very useful, then
Aug 24 08:14:19 <alex>	desrt: https://github.com/flatpak/flatpak/commit/24c691f645c2183edba20880dab7981277331cde
Aug 24 08:40:56 <bugbot>	New gtk+ bug 770332 filed by mcatanzaro@gnome.org.
Aug 24 08:40:56 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770332 Widget: GtkNotebook, normal, gtk-bugs, NEW , Notebook arrow icon wrong color after creating new tab
Aug 24 09:28:08 <bugbot>	New gtk+ bug 770333 filed by thomas@tommie-lie.de.
Aug 24 09:28:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770333 Backend: Wayland, normal, gtk-bugs, NEW , GdkSelection does not support arbitrary named clipboards/selections on wayland
Aug 24 09:32:10 <ebassi>	garnacho: ^^^ this one's for you
Aug 24 09:32:29 <ebassi>	Though I don't understand why file-roller is using a special GdkSelection
Aug 24 09:33:10 <mclasen>	there can't be a good reason for that...
Aug 24 09:34:22 <baedert>	... there are arbitrary named clipboards?
Aug 24 09:34:54 <ebassi>	Oh, copy-and-paste between windows
Aug 24 09:35:09 <ebassi>	So you copy a file in an archive in one window, and paste it in an archive in a second window
Aug 24 09:35:22 <ebassi>	That must be the most obscure feature ever…
Aug 24 09:36:01 <mclasen>	but why not use the regular clipboard for that ?
Aug 24 09:36:13 <ebassi>	No idea
Aug 24 09:36:48 <mclasen>	I guess there's a lesson here: if you offer an api, somebody will find a (bad) reason to use it
Aug 24 09:37:01 <garnacho>	indeed :)
Aug 24 09:37:20 <ebassi>	Also, using X11 like an IPC? That's so last century…
Aug 24 09:37:37 <feaneron>	who can take a look at https://bugzilla.gnome.org/show_bug.cgi?id=701843?
Aug 24 09:37:37 <bugbot>	llandwerlin@gmail.com changed the Component on bug 770307 from general to Backend: Wayland.
Aug 24 09:37:37 <bugbot>	llandwerlin@gmail.com changed the Product on bug 770307 from glade to gtk+.
Aug 24 09:37:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770307 Backend: Wayland, critical, gtk-bugs, NEW , Crash when closing a project
Aug 24 09:37:38 <bugbot>	Bug 701843: general, normal, nobody, NEW , Add support for Gtk Composite Templates
Aug 24 09:42:53 <jadahl>	mclasen: the only concern would be if we figure out a system that doesn't use strings
Aug 24 09:43:17 <jadahl>	like fds or something. any reason we must declare it stable now? for example we didn't mark the move_to_rect API stable yet
Aug 24 09:44:02 <mclasen>	we don't generally make things available as api if they're not stable; so this would be a new thing
Aug 24 09:44:12 <mclasen>	but ok, lets go with that
Aug 24 09:44:59 <ebassi>	jadahl: Right, the whole "this API is unstable" for the menu positioning was impressively odd
Aug 24 09:45:20 <mclasen>	its only backend api after all, and we don't expect it to be widely used
Aug 24 09:45:32 <jadahl>	ebassi: how come? the GDK thing is private for one version so we can verify it works
Aug 24 09:46:23 <ebassi>	jadahl: The signal added to GdkWindow is not private
Aug 24 09:46:51 <ebassi>	gdk_window_move_to_rect() is not private
Aug 24 09:47:06 <ebassi>	We just never did this kind of thing
Aug 24 09:47:33 <jadahl>	ebassi: but that signal is a signal in response to the private API
Aug 24 09:48:07 <jadahl>	gdk_window_move_to_rect is supposed to be private. at least we call it with GDK_PRIVATE_CALL (gdk_window_move_to_rect)
Aug 24 09:48:28 <ebassi>	Ah, right; I got fooled by the gtk-doc stanza
Aug 24 09:53:40 <ebassi>	Instead of having GTK call into GDK-backend-specific API can't we have a generic GDK API?
Aug 24 09:54:24 <ebassi>	jadahl: The reason why want to declare this stable now is that 3.22 should be the last release of the 3.x series. Otherwise we need to wait until 3.24.
Aug 24 09:54:39 <ebassi>	And, at some point, Wayland protocols do not dictate the GTK release schedule
Aug 24 09:55:00 <ebassi>	Otherwise we'd never be able to freeze 3.x
Aug 24 09:56:09 <jadahl>	ebassi: to be honest I think 3.22 is the wrong release to mark stable, at least for the wayland backend
Aug 24 09:56:16 <ebassi>	If we add another six months of development I'm pretty sure we're going to either: have a new wayland protocol to fix some random x11 porting issue; or the unstable protocols won't all be stabilized
Aug 24 09:56:17 <jadahl>	(as we've discussed in the other thread)
Aug 24 09:57:01 <ebassi>	jadahl: What's wrong with supporting multiple versions of a protocol? Isn't Wayland made for that?
Aug 24 09:57:09 <ebassi>	As I've asked in the email thread already
Aug 24 09:57:43 <jadahl>	the whole point of the unstable vs stable procedures has been to avoid technical dept and having at least a release to try a new technology out
Aug 24 09:58:03 <jadahl>	if we pretend our experimental protocols are stable, we just ignore idea of the whole thing
Aug 24 09:58:10 <ebassi>	I'm entirely comfortable in declaring Wayland support in 3.x experimental and unfinished because the platform is experimental and unfinished
Aug 24 09:58:24 <jadahl>	that i'd be fine with
Aug 24 09:58:38 <ebassi>	As long as applications don't crash, feature degradation over time is fine
Aug 24 09:58:57 <bugbot>	New glib bug 770335 filed by gdesmott@gnome.org.
Aug 24 09:58:57 <jadahl>	the problem is we add technical dept, and force it on every one else
Aug 24 09:58:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770335 gdbus, normal, gtkdev, NEW , gdbus-codegen: generated getter for 'ao' property is actually (transfer container)
Aug 24 09:59:27 <ebassi>	jadahl: The problem, from my perspective, is that we've been on the bleeding edge gravy train for far too long.
Aug 24 09:59:29 <jadahl>	where the whole point of doing things the way we are doing things is to avoid just that
Aug 24 10:00:27 <jadahl>	until we have a non-unstable base to build your wayland backend on, I don't think it makes sense to declare it as stable
Aug 24 10:00:32 <ebassi>	jadahl: At some point we need to stabilize this. Dropping technological debt every six months is unsustainable
Aug 24 10:00:47 <alex>	just because 3.22 is "stable" doesn't mean we can't do minor releases to fix wayland compat
Aug 24 10:01:11 <ebassi>	And I've see no indication from anybody dealing with Wayland that this trend is going to buckle
Aug 24 10:01:34 <jadahl>	alex: well we can't change the protocol, and we'll force every compositor implementation that ever wants to run a gtk3 flatpak to support our toy-shell protocol
Aug 24 10:01:38 <ebassi>	alex: Also, if we control the compositor, we *can* support multiple versions of protocols
Aug 24 10:01:42 <alex>	Its too easy to break backwards compat when you have no users
Aug 24 10:02:06 <jadahl>	we control *one* compositor, and gtk+ is not a "mutter clientside toolkit"
Aug 24 10:02:52 <alex>	do we completely break if the unstable protocol is not there with current gtk3?
Aug 24 10:03:17 <jadahl>	well we can let gtk3 fallback to x11 in all future gnome releases
Aug 24 10:03:17 <ebassi>	jadahl: Correct me if I'm wrong, but: compositors out there either don't implement all the things we kind of want already
Aug 24 10:03:21 <alex>	If not, its probably ok, and we can bump it in 3.22.1 and update the runtimes
Aug 24 10:03:31 <mclasen>	we fall back to x11
Aug 24 10:03:48 <ebassi>	jadahl: Or they implement our toy protocols and keep up with it
Aug 24 10:03:59 <jadahl>	ebassi: right, compositors are still babies, and will be babies for a while, but when they grow up, we should not make them implement our whole history of protocols
Aug 24 10:04:58 <jadahl>	if we do so we've just done things wrong IMHO
Aug 24 10:05:18 <ebassi>	jadahl: Then we clearly started pushing for Wayland way too early
Aug 24 10:05:53 <ebassi>	Anyway, as far as I'm concerned we can identify a subset of protocols we need, and we can't find them, we fall back to X11
Aug 24 10:05:56 <ebassi>	Problem solved
Aug 24 10:06:18 <ebassi>	We can keep updating the implementation inside 3.22 (as long as it's ABI compatible)
Aug 24 10:06:31 <jadahl>	that would solve it. for 3.22, that'd probably mean it'll use wayland for gnome 3.22, and x11 for everything else
Aug 24 10:07:24 <jadahl>	if we go with 3.24, there is a good chance we can push all the protocols we now depend on to stable versions
Aug 24 10:07:30 <ebassi>	Considering that there's nothing else outside of gnome that exposes wayland functionality (all compositors are babies and they won't implement a protocol until it's stable), then I can live with that
Aug 24 10:08:44 <jadahl>	how come 3.22 is to be the stable one? on the hackfest we talked about 3.24 or even 3.26
Aug 24 10:08:48 <jadahl>	IIRC
Aug 24 10:08:51 <alex>	jadahl: other parts of 3.24 will be quite unstable (the gsk stuff) so we don't want to freeze that
Aug 24 10:09:11 <alex>	way too early, and we don't want to delay that *another* cycle
Aug 24 10:09:28 <ebassi>	Or I could write my own toolkit based on GSK
Aug 24 10:09:31 <ebassi>	With booze
Aug 24 10:09:34 <ebassi>	And blackjack
Aug 24 10:09:38 <jadahl>	whats way too early?
Aug 24 10:09:43 <jadahl>	way too late yo umean?
Aug 24 10:10:31 <mclasen>	alex: gsk will be part of 3.90, no ?
Aug 24 10:10:40 <ebassi>	jadahl: It's too early in the GSK API development
Aug 24 10:11:07 <jadahl>	ah, right
Aug 24 10:11:13 <ebassi>	Well, if 3.90 happens after 3.24 then we're looking at another year
Aug 24 10:11:23 <alex>	mclasen: yes, but we want to land it post 3.x freeze
Aug 24 10:11:47 <ebassi>	Unless we make 3.24 wayland-only
Aug 24 10:11:50 <alex>	jadahl: its way to early to freeze gsk support forever
Aug 24 10:11:58 <jadahl>	well, we could branch of for 3.24 and "stabalize it" for one cycle, and go nuts on master
Aug 24 10:12:08 <alex>	I don't see why we would need to call it 3.24?
Aug 24 10:12:16 <alex>	we can just do backend work in 3.22.x
Aug 24 10:12:22 <alex>	its not breaking ABI for apps
Aug 24 10:12:29 <jadahl>	well, wait for one cycle and call it "4.0" :p
Aug 24 10:12:44 <alex>	Thats stupid
Aug 24 10:12:45 <jadahl>	alex: can we do it even if it changes what backend is used?
Aug 24 10:12:48 <mclasen>	jadahl: yes, the ideas about timing changed between hackfest and guadec; everybody seemed in favor of getting the stable thing out of the way now, so we can get gsk integrated
Aug 24 10:12:59 <alex>	you'd have to change every user from 3.x to 4.0 with no other changes
Aug 24 10:14:37 <ebassi>	alex: The problem is that some of these wayland backend changes expose public API
Aug 24 10:14:50 <ebassi>	alex: That has to be consumed by GTK bypassing GDK
Aug 24 10:15:04 <ebassi>	alex: We can declare all backend-specific API not really stable at all
Aug 24 10:15:28 <jadahl>	ebassi: only the inter-process-stacking stuff would be affected by that
Aug 24 10:15:31 <alex>	not stable, or "we can add apis to it"?
Aug 24 10:15:53 <jadahl>	but if we are making 3.22 the stable one, then maybe we should just mark it as stable, and if thinsg change underneith , work around it some how
Aug 24 10:15:56 <ebassi>	alex: Not ABI stable; functions may change
Aug 24 10:16:43 <jadahl>	ebassi: what API changes do you mean really? the only concerns i've been raising has been that various part stops working, or we fallback to X11
Aug 24 10:17:07 <mclasen>	jadahl: one question I've been asked today: https://fedoraproject.org/wiki/Changes/WaylandByDefault lists 'triple-monitor setups' - what do we need for that ?
Aug 24 10:17:09 <jadahl>	for example xdg-shell v5 -> v6 doesn't change any API/ABI. it just makes the current API/ABI work better
Aug 24 10:17:36 <jadahl>	mclasen: do we need anything? doesn't it work already? (I wouldn't know, i have only one external monitor)
Aug 24 10:17:42 <ebassi>	jadahl: You said that the export handle protocol may change argument type from strings to fds, if that's a better API in the stabilization phase
Aug 24 10:17:49 *	ChanServ sets mode +q on #gtk+ Company
Aug 24 10:17:49 *	ChanServ gives channel operator status to Company
Aug 24 10:17:54 <ebassi>	jadahl: That's what I'm talking about when I refer to ABI changes
Aug 24 10:18:05 <ebassi>	As I already said, I don't care about internal protocol changes
Aug 24 10:18:10 <mclasen>	jadahl: I have zero, so I wouldn't know either
Aug 24 10:18:31 <jadahl>	ebassi: I see.. my gut feeling is we wont change that from using strings
Aug 24 10:19:02 <jadahl>	I thought we worked with more than two monitors, there is nothing in the code that says we don't
Aug 24 10:20:10 <jadahl>	(that I know of)
Aug 24 10:20:17 <mclasen>	jadahl: halfline remembers a particular bug, digging for it now
Aug 24 10:21:06 <halfline>	https://bugzilla.gnome.org/show_bug.cgi?id=750610
Aug 24 10:21:07 <bugbot>	Bug 750610: wayland, normal, mutter-maint, NEW , wayland fails to start when too many monitors plugged in
Aug 24 10:21:19 <halfline>	"will look into this soonish" ← famous last words
Aug 24 10:22:17 <halfline>	i guess that bug technically isn't "triple monitor setups"
Aug 24 10:25:49 <jadahl>	could need some retesting as well, especially with MUTTER_STAGE_VIEWS=1 set
Aug 24 10:26:57 <mclasen>	stage-views=1 == multiple framebuffers ?
Aug 24 10:27:01 <jadahl>	yepp
Aug 24 10:27:07 <jadahl>	should switch that to default now I think
Aug 24 10:27:22 <garnacho>	jadahl: please :)
Aug 24 10:27:25 <jadahl>	i've been running it for a few days now, connecting and disconnecting monitors a few times
Aug 24 10:28:18 <mclasen>	garnacho: can I in good conscience mark tablet support as 'done' now ?
Aug 24 10:28:58 <jadahl>	does tablet functionality also have a x11 fallback
Aug 24 10:29:03 <jadahl>	?
Aug 24 10:30:45 <garnacho>	mclasen: I'm still missing the g-c-c bits (and some missing xf86-input-libinput configurability) to go full circle... writing a mail to release-team about it
Aug 24 10:31:19 <mclasen>	are the g-c-c bits in some branch ?
Aug 24 10:31:51 <garnacho>	mclasen: they are, wip/garnacho/wayland-tablet
Aug 24 10:33:13 <garnacho>	https://git.gnome.org/browse/gnome-control-center/log/?h=wip/garnacho/wayland-tablet
Aug 24 10:36:41 <mclasen>	we'll land it for 3.22 ?
Aug 24 10:39:50 <mclasen>	garnacho: any idea what "extra mouse buttons" on that wayland-by-default page refers to ?
Aug 24 10:39:58 <mclasen>	those should just work, no ?
Aug 24 10:41:36 <garnacho>	mclasen: right, they should
Aug 24 10:41:47 *	mclasen strikes that off the list
Aug 24 10:44:53 <garnacho>	mclasen: my idea/hope is to land it btw, we're in a not too comfortable position right now settings-wise (some in gsettings-desktop-schemas, some in g-s-d), although I guess some middle ground could be found if this is considered too risky
Aug 24 10:45:36 <garnacho>	mclasen: worst that would happen is that we rely on just-out-of-the-oven xf86-input-libinput
Aug 24 10:46:24 <mclasen>	maybe describe the tradeoffs and risks, in your release team mail
Aug 24 10:48:12 <garnacho>	yup, indeed
Aug 24 10:51:23 <jadahl>	garnacho: does the tablet stuff via xwayland as well (or will, eventually, if xwayland supports it)? asking because of the earlier discussion about having a set of required protocols for not fallbacking to x11 for 3.22
Aug 24 10:53:00 <garnacho>	jadahl: there's https://github.com/wayland-tablet/xserver/tree/tablet-support-20160329
Aug 24 10:53:26 <jadahl>	garnacho: assuming that'll land, then it would, I assume?
Aug 24 10:54:00 <garnacho>	jadahl: yup, it should :)
Aug 24 10:54:23 <jadahl>	neat
Aug 24 10:54:28 <jadahl>	\o/
Aug 24 11:03:21 <Company>	haha!
Aug 24 11:03:36 *	Company puts https://i.imgur.com/aVAMLLt.png into gtkcss*.c
Aug 24 11:05:34 <ebassi>	Company: Considering the amount of times I've had people submitting patches for Makefile.in and other autogenerated files, I'm not sure that technique works
Aug 24 11:06:18 <garnacho>	ebassi: generated from tarballs, obviously
Aug 24 11:06:37 <Company>	damn
Aug 24 11:06:48 <Company>	nothing is safe
Aug 24 11:06:53 *	mclasen marvels at # Makefile.in generated by automake 1.15 from Makefile.am.
Aug 24 11:06:56 *	mclasen # @configure_input@
Aug 24 11:07:00 <mclasen>	@configure_input@ ?
Aug 24 11:19:39 <ebassi>	garnacho: Of course
Aug 24 13:49:30 <Company>	jadahl, ebassi, mclasen, garnacho: Thinking about the unstable wayland protocols some more, I think only F25 is a distro that's gonna use Wayland in any important way?
Aug 24 13:49:46 <mclasen>	yes
Aug 24 13:49:50 <Company>	so in that sense the stability of Wayland doesn't really matter today
Aug 24 13:50:09 <Company>	and we can easily update compositors and GTK3, as long as we provide the same features to end users
Aug 24 13:50:59 <Company>	and I don't think there's gonna be many flatpaks or snaps targeting F25 on wayland that are gonna be used in 2020 (or even 2017)
Aug 24 13:51:22 <Company>	so I don't see any real world problem happening
Aug 24 13:52:00 <Company>	in the future however, we need to come up with something like our X11 situation in GTK, where we can fall back for missing features to the "core protocol"
Aug 24 13:52:08 <mclasen>	but we do want applications using the 3.22 runtime to keep working with a 3.24 or 3.26 compositor
Aug 24 13:53:11 <Company>	does the 3.22 runtime include GTK? Because in that case we can just upgrade gdk-wayland
Aug 24 13:54:01 <Company>	in any case, having a fallback infrastructure in place in gdk-wayland is a good idea
Aug 24 13:54:27 <mclasen>	it does include gtk
Aug 24 13:54:32 <Company>	even if that means not supporting some features (x11-core obviously doesn't do touch)
Aug 24 13:55:00 <mclasen>	currently, we fall back all the way to x11 if we don't find the right xdg-shell version
Aug 24 13:55:18 <Company>	yeah, that will need to change at some point I suppose
Aug 24 13:55:22 <mclasen>	the other unstable protocols are all optional anyway, I think
Aug 24 13:55:49 <Company>	either by making xdg-shell stable or by making it optional
Aug 24 13:55:53 <mclasen>	right
Aug 24 13:56:04 <Company>	because I expect people will want to compile GTK without X11 support
Aug 24 13:56:22 <mclasen>	xdg-shell is meant to be stable eventually, it just took much longer than expected
Aug 24 13:56:37 <mclasen>	and wl_shell is not enough to build a reasonable fallback on
Aug 24 13:56:39 <ebassi>	Well, if they do that, then they are not depending on the gtk provided by the GNOME flatpak runtime
Aug 24 13:56:58 <ebassi>	So they get to decide which version of GTK they want to bundle with their app
Aug 24 13:57:16 <ebassi>	We're going to ship with X11 enabled inside the GNOME runtime for the forseeable future
Aug 24 13:58:21 *	ebassi goes away while commuting home
Aug 24 14:01:45 <Company>	yeah, it depends on how much wayland and x1 features diverge
Aug 24 14:01:51 <Company>	&x11
Aug 24 14:01:58 <Company>	*x11
Aug 24 14:02:17 <Company>	and yeah, i was thinking people who include gtk in their bundle
Aug 24 14:02:43 <Company>	if the wayland protocol is not part of the API it doesn't matter anyway
Aug 24 14:03:47 <Company>	and I'm pretty sure we do not want to end up with a long-term API that includes both GTK and Wayland protocols
Aug 24 14:11:57 <bugbot>	mclasen@redhat.com changed the Status on bug 770332 from NEW --- to RESOLVED FIXED.
Aug 24 14:11:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770332 Widget: GtkNotebook, normal, gtk-bugs, RESOLVED FIXED, Notebook arrow icon wrong color after creating new tab
Aug 24 14:14:30 <bugbot>	mclasen@redhat.com changed the Status on bug 770115 from NEW --- to RESOLVED FIXED.
Aug 24 14:14:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770115 .General, major, gtk-bugs, RESOLVED FIXED, Crash under gtk_application_impl_dbus_startup()
Aug 24 14:34:47 <mvaello>	hi, how can add valign property to a gtk box? 
Aug 24 14:35:12 <mvaello>	I'm tring to put GTK_ALIGN_CENTER value
Aug 24 14:37:39 <baedert>	gtk_widget_set_valign
Aug 24 14:39:20 <Company>	or you create a builder object loading a ui file that creates a box and sets the valign property to CENTER
Aug 24 14:39:35 <Company>	that's the shortcuts way of doing it that I learned yesterday
Aug 24 14:40:20 <mvaello>	ok, i'm going to try
Aug 24 14:41:08 <mvaello>	ok, it works! Thanks baedert
Aug 24 15:31:56 <teuf>	hey, when using g_signal_new, is there any recommendation between setting class_offset to 0 or to != 0
Aug 24 15:32:00 <teuf>	?
Aug 24 15:32:10 <teuf>	I don't really expect that class to be inherited from very often
Aug 24 16:56:28 <Company>	teuf: connecting to signals is expensive
Aug 24 16:56:51 <Company>	teuf: so if you expect the class to provide a default function to handle things, you should have a vfunc
Aug 24 16:58:01 <Company>	teuf: if you don't expect the class to handle it (like a notify or so), it doesn't matter
Aug 24 16:58:35 <Company>	and of course, there's the API concerns - sometimes you need to keep backwards compat and the class struct fills up quickly
Aug 24 16:58:50 <Company>	that's roughly the recommendation
Aug 24 16:58:57 <Company>	that I follow
Aug 24 20:14:23 <bugbot>	New gtk+ bug 770362 filed by thomasstevenson88@aol.com.
Aug 24 20:14:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770362 Widget: Other, normal, gtk-bugs, NEW , FlowBox selection doesn't work as intended
Aug 25 00:45:29 <bugbot>	jadahl@gmail.com changed the Status on bug 769937 from NEW --- to RESOLVED FIXED.
Aug 25 00:45:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769937 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, wayland: Port backend to use xdg-shell unstable v6
Aug 25 02:49:33 <baedert>	jadahl: I assume I need mutter/g-s from master to test the wayland changes?
Aug 25 02:50:23 <baedert>	I don't think I'm running master from jhbuild really, the gedit test is still broken for me there :/
Aug 25 03:32:27 <jadahl>	baedert: yea, they (gtk/mutter) need each others masters now
Aug 25 03:33:19 <jadahl>	baedert: your test case is make gedit tiny, then open the hamburger menu. mine opens outside the window, and the arrow connecting the popover and the widget it was opened from are properly aligned
Aug 25 03:34:43 <baedert>	jadahl: my test case was have the gedit window big, then open the popover, then resize it to be tiny
Aug 25 03:34:52 <jadahl>	ahah
Aug 25 03:35:10 <jadahl>	ah, that doesn't work, true
Aug 25 03:38:15 <jadahl>	well, fwiw, it works even wore on X11 for me here
Aug 25 03:39:19 <jadahl>	as in, the top of the popover is simply not visible anymore
Aug 25 03:40:10 <baedert>	yeah, of course
Aug 25 03:40:35 <baedert>	Are popovers using the gdk menu positioning stuff now?
Aug 25 04:51:13 <heftig>	any recommended approach for displaying a zoomable graphviz graph?
Aug 25 04:51:19 <heftig>	in a widget, that is
Aug 25 04:56:03 *	baedert looks at his GtkImageView branch
Aug 25 04:56:05 <baedert>	Nope
Aug 25 05:10:00 <bugbot>	ofourdan@redhat.com changed the Status on bug 764413 from NEW --- to RESOLVED FIXED.
Aug 25 05:10:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764413 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, Wayland: not fullscreenable gtk+ apps can be fullscreened
Aug 25 05:27:57 <bugbot>	New glib bug 770372 filed by bugzilla@tecnocode.co.uk.
Aug 25 05:27:57 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770372 gdbus, normal, gtkdev, NEW , gdbus-codegen: Strip @since parameters before comparison
Aug 25 06:23:01 <bugbot>	New gtk+ bug 770374 filed by manuvarkey@gmail.com.
Aug 25 06:23:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770374 Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , Gtk Treeview Editable overshoots column width when column width is small
Aug 25 06:33:28 <muelli>	I have a ListBox and I connected to the row-activated signal to find out when the user committed to an entry. Would it be weird to also assign a LongPress gesture and react on that?  I don't know, maybe it'll be confused or something.
Aug 25 06:36:02 <baedert>	longepres why? as a right-click replacement?
Aug 25 06:36:45 <baedert>	*longpress
Aug 25 06:38:15 <muelli>	baedert: hm. I was thinking of that as sort of touch-enabling measurement. Because I imagine it to be hard to row-activate with a touch screen. But I'm wildly guessing, only.
Aug 25 06:38:34 <baedert>	ah because you have double click activation?
Aug 25 06:39:07 <muelli>	baedert: AFAIK row-activate is space bar, enter, or double-click.
Aug 25 06:39:32 <baedert>	there's a property on GtkListBox to use single-click
Aug 25 06:39:38 <baedert>	(which all the designers will tell you to use)
Aug 25 06:39:47 <muelli>	uh
Aug 25 06:39:52 <muelli>	hm.
Aug 25 06:43:06 <muelli>	yeah. I probably could do that. Initially I wanted to change sort of a "detail" widget based on the selection s.t. the user can sort of see what they selected. In that scenario activating on a single click would be unfortunate. But I can probably do without the details thing.
Aug 25 06:50:49 <bugbot>	bugzilla@tecnocode.co.uk changed the Status on bug 770372 from NEW --- to RESOLVED FIXED.
Aug 25 06:50:49 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770372 gdbus, normal, gtkdev, RESOLVED FIXED, gdbus-codegen: Strip @since parameters before comparison
Aug 25 06:51:00 <bugbot>	New gtk+ bug 770377 filed by db0451@gmail.com.
Aug 25 06:51:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770377 Widget: Other, normal, gtk-bugs, NEW , Add API for GtkShortcutsWindow, GtkShortcutsSection, GtkShortcutsGroup, GtkShortcutsShortcut
Aug 25 07:15:24 <DimStar>	Hi all - would it be worth to roll a tarball with gtk+ 2-24 once in a while? Quite a lot of fixes/cherry picks have been accumulated since 2.24.30
Aug 25 07:23:12 *	ChanServ sets mode +q on #gtk+ Company
Aug 25 07:23:12 *	ChanServ gives channel operator status to Company
Aug 25 07:34:07 *	ChanServ gives channel operator status to alex
Aug 25 07:40:26 <mclasen>	jadahl: thanks for landing the v6 patches - are there any other major wayland things outstanding ? I guess there's still the exporter
Aug 25 07:40:47 <mclasen>	I can confirm that fallback-to-x works as expected
Aug 25 07:45:20 <ebassi>	mclasen: Landed the GSK fallback renderer code
Aug 25 07:45:40 <mclasen>	I shall check that out right away
Aug 25 07:50:40 <mclasen>	Company: I think you touched cell renderer positioning last - does this look right to you ? https://bugzilla.gnome.org/show_bug.cgi?id=770374
Aug 25 07:50:41 <bugbot>	Bug 770374: Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , Gtk Treeview Editable overshoots column width when column width is small
Aug 25 07:52:44 <Company>	mclasen: not sure if 3 is too small and we should use 5 or 7 - but other than that it looks good
Aug 25 07:52:58 <rudrab>	Hi, I am trying to set preferences using Gsettings for last couple of week, and I am still struggling
Aug 25 07:53:12 *	mclasen makes it 5 then
Aug 25 07:53:22 <Company>	I guess 3 is useful if somebody decides to make a column for 1 char entries
Aug 25 07:53:30 <rudrab>	Can you kindly check the code and let me know where I am going wrong?
Aug 25 07:53:46 <Company>	"country code" or sth
Aug 25 07:53:55 <rudrab>	http://paste.fedoraproject.org/413778/72125894/ is the code
Aug 25 07:54:02 <Company>	though they can edit that number themselves I guiess
Aug 25 07:56:00 <mclasen>	yeah, there's a setup signal for tweaking the entry
Aug 25 07:56:49 <bugbot>	mclasen@redhat.com changed the Status on bug 770374 from NEW --- to RESOLVED FIXED.
Aug 25 07:56:49 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770374 Widget: GtkTreeView, normal, gtktreeview-bugs, RESOLVED FIXED, Gtk Treeview Editable overshoots column width when column width is small
Aug 25 07:57:01 <jadahl>	mclasen: yea, exporter. should we just leave it as stable, since 3.22 is the candidate for being that release
Aug 25 07:57:04 <jadahl>	?
Aug 25 07:58:10 <mclasen>	yes, lets do that; worst case, we'll have to deprecate it and introduce another api (should you go fd-based)
Aug 25 07:58:29 <jadahl>	mclasen: also considering adding a "can_export" bool function so that we can fallback on x11 in case the wrong protocol version exist (so gtk can do if use_portal and !wayland_can_export then dont_use_wayland_backend()
Aug 25 07:58:46 <jadahl>	going afk for a while, bbl
Aug 25 07:59:17 <mclasen>	ok
Aug 25 08:12:59 <bugbot>	New gtk+ bug 770385 filed by db0451@gmail.com.
Aug 25 08:12:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770385 Widget: Other, normal, gtk-bugs, NEW , ShortcutsWindow: show_all() doesn't, must manually show 1 Section before add(), else opens locked on Search Results
Aug 25 08:18:59 <rudrab>	any help please?
Aug 25 08:34:13 <muelli>	what are the actual consequences of toggling the "simulate touchscreen" switch in Gtk Inspector?
Aug 25 08:36:31 <ebassi>	muelli: Inside GTK+ the code paths for touchscreen will be triggered by the pointer device as a one-touch-point touchscreen
Aug 25 08:38:21 <muelli>	ebassi: yeah, I figured that it'd enable certain debug flags. https://git.gnome.org/browse/gtk+/commit/?id=7fa4d60bf3408d7c773fe8e84f6e610324e15bf9   but I'm still wondering what that enables me to do.
Aug 25 08:38:58 <ebassi>	muelli: I don't understand the question, then
Aug 25 08:39:13 <ebassi>	It enables the touch support code paths inside GTK
Aug 25 08:39:40 <ebassi>	It's only interesting to an application developer if they have custom widgets
Aug 25 08:40:02 <ebassi>	And they want to check if the widget is responding correctly with a (very limited) touch-based input
Aug 25 08:40:36 <muelli>	ebassi: right. I guess I don't understand what "touch support" means.
Aug 25 08:41:14 <baedert>	touch scrolling and touch input popovers in entryies/textviews most noticeably
Aug 25 08:42:36 <muelli>	ah! makes sense. So I could scroll my ScrolledWindow my dragging the contents up..?
Aug 25 08:42:47 *	muelli tries
Aug 25 08:43:07 <muelli>	yep. works :) Cool.
Aug 25 08:59:36 <bugbot>	New gtk+ bug 770388 filed by reiter.christoph@gmail.com.
Aug 25 08:59:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, NEW , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Aug 25 09:00:29 <rudrab>	TingPing: ping
Aug 25 09:23:27 <The_gull>	rudrab: did you progress since last time ?
Aug 25 09:24:07 <Drzacek>	now that's better
Aug 25 09:24:09 <Drzacek>	Hello :)
Aug 25 09:27:23 <rudrab>	The_gull: yes...actually I have managed to set up the Gsettings
Aug 25 09:27:52 <The_gull>	good :·)
Aug 25 09:27:58 <rudrab>	but, may be I am wrong in my understanding, but the binding is not working
Aug 25 09:28:33 <rudrab>	So, problem is that, I am not geting the variable bindings
Aug 25 09:29:31 <rudrab>	If you have little time to check the code, that will be of great help
Aug 25 09:31:00 <The_gull>	I’m reading the paste you gave previously
Aug 25 09:31:46 <rudrab>	https://paste.fedoraproject.org/413778/72125894/ ?
Aug 25 09:32:18 <The_gull>	yes
Aug 25 09:32:41 <rudrab>	thanks a lot
Aug 25 09:34:25 <The_gull>	rudrab: but what are you trying to bind with the setting ? that’s not a variable, is it ?
Aug 25 09:35:52 <The_gull>	I mean, what is “self.basedir” and it’s “label” property, in your mind ?
Aug 25 09:36:03 <The_gull>	(reading line 73)
Aug 25 09:39:46 <bugbot>	New gtk+ bug 770392 filed by db0451@gmail.com.
Aug 25 09:39:47 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770392 Backend: Win32, normal, gtk-win32-maint, NEW , "GLib-GObject-WARNING **: attempt to override closure->va_marshal [...] with new marshal" when compiling any GTK+ (or gtkmm, etc.) program on Windows (MSYS2/MinGW)
Aug 25 09:39:52 <rudrab>	The_gull: Actually I was trying to get the initial dir as the "basedir", as you see in line 22, which was static
Aug 25 09:40:31 <rudrab>	this is where the project will store the pdf files
Aug 25 09:41:23 <rudrab>	Now, I want to set the basedir so that it can be choosen by the user
Aug 25 09:41:56 <The_gull>	rudrab: “bind” is to sync a GObject property with a GSettings value ; here, what you are trying to do, is syncing it with a string
Aug 25 09:42:15 <The_gull>	(syncing the GSettings value with something that is not a GObject)
Aug 25 09:42:57 <The_gull>	but your “self” might be a GObject, and you can define a string “basedir” in it, then you’d be able to sync this string with your setting
Aug 25 09:43:18 <The_gull>	(it’s not, here, IIUC)
Aug 25 09:43:51 <The_gull>	you could bind the content (“label” property) of a GtkLabel with your setting, for example
Aug 25 09:44:37 <rudrab>	Yes...I have actually bid it with self.user_dir (button) and the trying to get the value from it
Aug 25 09:44:48 <rudrab>	but that is not working either
Aug 25 09:45:55 <rudrab>	like this: http://paste.fedoraproject.org/413838/14721327/
Aug 25 09:46:02 <The_gull>	rudrab: you probably could bind it to the “label” property of a GtkButton
Aug 25 09:46:36 <The_gull>	should work, yes
Aug 25 09:46:49 <rudrab>	The_gull: yes...that par is working...
Aug 25 09:47:37 <The_gull>	so, what’s not working ?
Aug 25 09:48:21 <rudrab>	But, then, if you see line 25, it will say, self.basedir is not defined, until I actually open the preference
Aug 25 09:49:07 <rudrab>	But, I want the code to check if the chosen folder exists at the start up, and if it does not, create it
Aug 25 09:49:38 <rudrab>	what it is doing in chk_rootdir with hardcoded value
Aug 25 09:51:37 <rudrab>	am I taking a wrong approach? or should I put everything at do_startup() ?
Aug 25 09:51:39 <bugbot>	lrn1986@gmail.com marked bug 770392 as a duplicate of unknown bug.
Aug 25 09:51:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770392 Backend: Win32, normal, gtk-win32-maint, RESOLVED DUPLICATE, Always get "GLib-GObject-WARNING **: attempt to override closure->va_marshal [...] with new marshal" when compiling with GTK+ (or gtkmm, etc.) on Windows (MSYS2/MinGW)
Aug 25 09:51:48 <rudrab>	i am confused to hell here
Aug 25 09:53:15 <The_gull>	rudrab: where/when are you calling chk_rootdir ?
Aug 25 10:06:36 <rudrab>	The_gull: in Gtk.ApplicationWindow class
Aug 25 10:10:38 <The_gull>	rudrab: you want the bind to be done before you call that, why not doing it in the __init__ ?
Aug 25 10:11:12 <bugbot>	db0451@gmail.com changed the Resolution on bug 770392 from DUPLICATE to FIXED.
Aug 25 10:11:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770392 Backend: Win32, normal, gtk-win32-maint, RESOLVED FIXED, Always get "GLib-GObject-WARNING **: attempt to override closure->va_marshal [...] with new marshal" when compiling with GTK+ (or gtkmm, etc.) on Windows (MSYS2/MinGW)
Aug 25 10:11:16 <The_gull>	have to go, back in half an hour
Aug 25 10:13:08 <rudrab>	The_gull: I will try. 
Aug 25 10:35:37 *	ChanServ sets mode +q on #gtk+ Company
Aug 25 10:35:37 *	ChanServ gives channel operator status to Company
Aug 25 10:45:39 <mclasen>	alex: I would appreciate a review in https://bugzilla.gnome.org/show_bug.cgi?id=769076
Aug 25 10:45:41 <bugbot>	Bug 769076: gobject, normal, gtkdev, NEW , Fix warning: attempt to override closure->va_marshal with new marshal
Aug 25 10:45:54 <alex>	woa, long time
Aug 25 10:45:55 *	alex & looks
Aug 25 10:54:47 <pikaro>	hi! is this a support channel? if not, sorry and please disregard my question. I have a weird issue with GTK since a recent dist-upgrade (debian unstable): context menus and parts of applications like menu bars and dialogs appear to be unaffected by themes. they just show as mostly text on gray - still usable, but without even highlighting hovered items and the like. this is the case independent of the theme. does that sound like a known bug? how to fix it?
Aug 25 10:56:25 <alex>	mclasen: I don't understand why nobody else got those warnings though?
Aug 25 10:57:11 <mclasen>	I think the warnings started when I added a few more va marshallers in gtk ?
Aug 25 10:57:22 <Company>	alex: nobody set va marshals for default types
Aug 25 10:57:25 <alex>	Did you see those warnings though?
Aug 25 10:57:40 <Company>	alex: usually people used NULL for the regular marshal and then didn't set a va marshal
Aug 25 10:57:54 <mclasen>	no, I don't recall seeing them
Aug 25 10:58:04 <alex>	Company: yeah, but the reporter got a warning from gtk3-demo...
Aug 25 10:58:21 <Company>	alex: yeah, everybody got those
Aug 25 10:58:24 <alex>	we should all have seen that since april..
Aug 25 10:59:03 <Company>	yes]
Aug 25 10:59:18 <Company>	everybody who ran master saw that
Aug 25 10:59:19 <alex>	Maybe i got them and just ignored it :)
Aug 25 10:59:22 <mclasen>	maybe it got drowned out by all those allocation warnings :-/
Aug 25 10:59:27 <alex>	yeah
Aug 25 10:59:31 <alex>	are those fixed?
Aug 25 11:24:39 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Thu Aug 25 11:24:39 2016

**** BEGIN LOGGING AT Thu Aug 25 11:24:55 2016

Aug 25 11:24:55 *	Now talking on #gtk+
Aug 25 11:24:55 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 25 11:24:55 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 25 11:36:30 <Company>	...
Aug 25 11:36:37 *	Company kicks gcc
Aug 25 12:01:10 <attente>	pwithnall: hey, i'm running into some build issues with g-o-i and desrt said you might be able to help
Aug 25 12:02:11 <attente>	https://www.irccloud.com/pastebin/MLOdU4A7/
Aug 25 12:03:25 <pwithnall>	hmm, never seen that before
Aug 25 12:03:32 <pwithnall>	attente: are you using jhbuild?
Aug 25 12:03:58 <attente>	pwithnall: yeah, with the caveat that i'm doing this in a clean fakechroot
Aug 25 12:04:56 <pwithnall>	that might explain why creatingt the ~/.cache directory is failing
Aug 25 12:05:08 <pwithnall>	I’d fix that before trying to work out what else is going on
Aug 25 12:05:40 <attente>	pwithnall: ah, ok. missed that
Aug 25 12:06:19 <attente>	yeah, that directory is there in the chroot so maybe g-ir-compiler is escaping somehow
Aug 25 12:06:45 <Company>	yeah, so
Aug 25 12:06:48 <Company>	go die in a fire gcc
Aug 25 12:06:57 <Company>	if (a)
Aug 25 12:06:59 <Company>	  {
Aug 25 12:06:59 <Company>	  }
Aug 25 12:07:04 <Company>	else if (b)
Aug 25 12:07:05 <Company>	  {
Aug 25 12:07:07 <Company>	  }
Aug 25 12:07:09 <Company>	else
Aug 25 12:07:10 <Company>	  {
Aug 25 12:07:11 <Company>	  }
Aug 25 12:07:28 <Company>	cannot be put in a macro according to gcc
Aug 25 12:07:47 <Company>	because then it'd look like the else guards if (a) instead of if (b)
Aug 25 12:08:08 <Company>	because gcc can't read
Aug 25 12:08:08 <Company>	if (a) { } else if (b) { } else { }
Aug 25 12:08:28 <Company>	you have to write it like this:
Aug 25 12:08:32 <Company>	if (a) { } else { if (b) { } else { } }
Aug 25 12:08:38 <Company>	for gcc to not complain
Aug 25 12:08:55 <Company>	clearly that makes macros way more readable if you can't have ifdefs...
Aug 25 12:09:03 <bugbot>	New glib bug 770401 filed by bugzilla@tecnocode.co.uk.
Aug 25 12:09:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770401 docs, normal, gtkdev, NEW , docs: Add type checking for GObject properties in tutorial
Aug 25 12:09:08 <Company>	s/ifdefs/else ifs/
Aug 25 12:32:02 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Thu Aug 25 12:32:02 2016

**** BEGIN LOGGING AT Thu Aug 25 12:32:16 2016

Aug 25 12:32:16 *	Now talking on #gtk+
Aug 25 12:32:16 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 25 12:32:16 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 25 12:42:25 <LRN>	nacho, what's that about not being able to build icons on windows?
Aug 25 13:12:49 <nacho>	LRN, with msvc
Aug 25 13:12:55 <LRN>	ah
Aug 25 13:12:59 <nacho>	LRN, though I see that fan added some scripts lately
Aug 25 13:13:01 <nacho>	I need to test them
Aug 25 13:40:56 <LRN>	nacho, which part of building icons is problematic for msvc?
Aug 25 13:42:14 <bugbot>	mclasen@redhat.com changed the Status on bug 769076 from NEW --- to RESOLVED FIXED.
Aug 25 13:42:14 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769076 gobject, normal, gtkdev, RESOLVED FIXED, Fix warning: attempt to override closure->va_marshal with new marshal
Aug 25 13:45:00 <nacho>	LRN, I recall having this discussion with fan, but maybe he figured out the details
Aug 25 13:45:14 <nacho>	I'll give it a try and see if I manage to make it build
Aug 25 14:01:07 <hergertme>	i guess it's not reasonable to expect gtk_icon_info_load_surface() to give an image surface
Aug 25 14:01:28 *	hergertme wonders what the right way to see the surface size given that size funcs are in the descendant classes
Aug 25 14:30:22 <jpwhiting>	mclasen: https://bugzilla.gnome.org/show_bug.cgi?id=770258 <-- look good now?
Aug 25 14:30:23 <bugbot>	Bug 770258: gsettings, normal, desrt, NEW , gsettings command-line tool should have a way to see key descriptions
Aug 25 14:31:18 <mclasen>	jpwhiting: looks good, thanks. For extra credit, add the new command to the man page...
Aug 25 14:31:34 <jpwhiting>	:) ok will do
Aug 25 14:35:47 <Company>	quiz question:
Aug 25 14:35:47 <Company>	https://git.gnome.org/browse/gtk+/tree/gtk/a11y/gtkaccessibility.c#n332
Aug 25 14:35:58 <Company>	should that reutnr be inside the if branch or not?
Aug 25 14:36:02 <Company>	*return
Aug 25 14:36:59 <Company>	because it's indented like it should...
Aug 25 14:37:51 <mclasen>	pretty sure the answer is no
Aug 25 14:38:06 <Company>	yeah, I think so, too
Aug 25 14:38:22 <mclasen>	you should thank dmalcolm for that warning
Aug 25 14:38:41 <Company>	it's what caused my else if rant
Aug 25 14:38:47 <Company>	so i'm not sure i wanna thank him yet
Aug 25 14:38:52 <mclasen>	it finds hard-to-spot bugs
Aug 25 14:39:23 <Company>	I run with -ftrack-macro-expansion=0
Aug 25 14:39:41 <Company>	(because that forces simpler diagnostic messages
Aug 25 14:39:43 <Company>	)
Aug 25 14:40:03 <Company>	but has the side effect of that warning looking at the expanded mess from macros
Aug 25 14:40:17 <Company>	like with g_return_if_fail()
Aug 25 14:40:22 <Company>	or G_IS_OBJECT()
Aug 25 14:40:31 <Company>	(and often both of them)
Aug 25 14:40:42 <Company>	and there is absolutely no indentation in there at all
Aug 25 14:40:55 <Company>	but loads of if statgements
Aug 25 14:41:57 <Company>	one simple thing that can't deal with is
Aug 25 14:42:09 <Company>	#define return_if_fail(foo) \
Aug 25 14:42:17 <Company>	  if (!(foo)) \
Aug 25 14:42:19 <Company>	    return;
Aug 25 14:42:48 <Company>	actually, it can deal with that short thing
Aug 25 14:43:12 <Company>	but if it has more statements it fails
Aug 25 14:43:15 <Company>	if (!foo)
Aug 25 14:43:18 <Company>	  bar;
Aug 25 14:43:20 <Company>	return;
Aug 25 14:43:23 <Company>	that will trigger
Aug 25 14:43:33 <Company>	because it evaluates to
Aug 25 14:43:39 <Company>	if (!foo) bar; return;
Aug 25 14:43:56 <Company>	and that looks like it's indented wrong because the return is not dependant on the if
Aug 25 14:44:42 <bugbot>	jpwhiting@kde.org changed the Status on bug 770258 from NEW --- to RESOLVED FIXED.
Aug 25 14:44:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770258 gsettings, normal, desrt, RESOLVED FIXED, gsettings command-line tool should have a way to see key descriptions
Aug 25 14:45:01 <Company>	but i'm not sure what the correct fix is
Aug 25 14:45:16 <Company>	i can't run glib master with -ftrack-macro-expansion=0
Aug 25 14:45:32 <Company>	beause the warnings will spam my stderr
Aug 25 14:45:43 <Company>	it's 10s to 100s per source file
Aug 25 14:46:22 <Company>	and http://paste.fedoraproject.org/414032/47215075/ looks pretty ugly
Aug 25 14:46:43 <Company>	the patch essentially adds as many { } as needed to make gcc shut up
Aug 25 14:48:57 <mclasen>	that may be the thing to do ? just to pacify gcc 
Aug 25 14:49:55 <Company>	mclasen: else  { if (foo) - like statements?
Aug 25 14:50:48 <Company>	or do we wanna break else if into
Aug 25 14:50:49 <Company>	else
Aug 25 14:50:50 <Company>	  {
Aug 25 14:50:54 <Company>	    if (foo)
Aug 25 14:51:18 <Company>	which is really kinda wrong, because we want people to think "else if"
Aug 25 14:52:18 *	Company wonders if ebassi or desrt have an opinion
Aug 25 14:52:48 <halfline>	i have a strong opinion for the format you think is kinda wrong, but not for any good reason
Aug 25 14:52:57 <mclasen>	the warning triggers for "else if" ?
Aug 25 14:53:05 <halfline>	else { if (foo) just makes me want to gag
Aug 25 14:53:16 <mclasen>	yeah, thats just wrong
Aug 25 14:53:26 <owen>	halfline: but in a macro definition?
Aug 25 14:53:41 <Company>	mclasen: if (a) {} else if (b) {} else {} makes it look as if the else belongs to the "a" but it belongs to the "b"
Aug 25 14:54:01 <halfline>	owen: i mean it doesn't really matter since i'll never see it, if that's what you're getting at
Aug 25 14:54:26 <mclasen>	so the problem is that the line continuation makes the indentation invisible to gcc ?
Aug 25 14:54:32 <djb>	Can you show an example of code causing this warning? I must be imagining it wrong as I can't seem to get it to trigger
Aug 25 14:54:42 <owen>	halfline: I mean that you'll never see it, unless you aer looing at the macro definition and gagging over a whole lot of other stuff - \ line continuations, weird indentation, extra parentheses, etc.
Aug 25 14:54:46 <Company>	mclasen: IF you run with -ftrack-macro-expansion=0
Aug 25 14:54:58 <djb>	ohh, macros
Aug 25 14:54:59 <halfline>	owen: right, it doesn't matter. it could all be on one line practically speakinb
Aug 25 14:55:00 <djb>	nvm
Aug 25 14:55:14 <halfline>	but he asked a binary "This way? or that way?" and i chimed in
Aug 25 14:55:30 <Company>	djb: in glib, run make CFLAGS="-ftrack-macro-expansion=0 -Wall"
Aug 25 14:55:58 <Company>	or in gtk
Aug 25 14:56:03 <Company>	or in anything using gobject
Aug 25 14:57:03 <djb>	Thanks, I get it now
Aug 25 14:57:44 <Company>	of course, the answer might just be "Company, stop using -ftrack-macro-expansion=0. Who does that?!?"
Aug 25 14:58:13 <Company>	but those are public headers, so we'd essentially not support that flag in glib
Aug 25 15:02:40 <halfline>	probably not the only one we don't support to be honest
Aug 25 15:03:24 <halfline>	also see this bug where gcc is insisting on more hoops https://bugzilla.gnome.org/show_bug.cgi?id=767882
Aug 25 15:03:25 <bugbot>	Bug 767882: build, minor, gtkdev, NEW , Bit shift overflow (-Wshift-overflow) warning in gparam.h
Aug 25 15:04:32 <halfline>	(with -Wpedantic)
Aug 25 15:14:06 <borschty>	what is responsible for triggering the actual allocation before a draw after setting alloc_needed?
Aug 25 15:23:03 <baedert>	umm, size-allocate?
Aug 25 15:23:42 <borschty>	where is it called from?
Aug 25 15:24:43 <baedert>	well from the parent container, or somewhere in gtkwidget.c, not sure what answer you want
Aug 25 15:26:10 <borschty>	i'm trying to figure out where the "... is drawn without a current allocation. This should not happen." warnings are coming from in totem/clutter-gtk
Aug 25 15:27:29 <borschty>	so far i've managed to get a backtrace from the last occurrence of a set_alloc_needed before the error message, but i'm not sure where to go from there
Aug 25 15:29:08 <baedert>	ah meh the warnings include GtkClutterOffscreen
Aug 25 15:29:29 <borschty>	yes, lots of fun
Aug 25 15:32:25 <borschty>	or could this just be a missing "alloc_needed = FALSE" in gtk_clutter_offscreen_size_allocate?
Aug 25 15:34:05 <baedert>	it should chain up
Aug 25 15:36:33 <borschty>	the odd thing is that sometimes alloc_needed gets set to FALSE successfully on the GtkClutterOffscreen widget
Aug 25 15:49:26 <borschty>	the (probably) same issue can be reproduced with gtk offscreen windows as well, without including clutter/clutter-gtk: in the gtk3-demo button rotation demo just use the inspector to change the label of the button and you get the same error message
Aug 25 16:17:26 <baedert>	garnacho: totem uses gtk_popover_set_transitions_enabled in a way that makes sense but is now impossible without depreation warnings btw: on a GtkVolumeButton (so it can't control what API is used t show it)
Aug 25 16:47:25 <garnacho>	baedert: uhm, right...
Aug 25 17:04:13 <jpwhiting>	hmm, is there a known behavior that g_signal_connect to GSettings changed:: signals don't carry over when daemonizing ?
Aug 25 17:04:41 <jpwhiting>	I have some connect to changed signals before speech-dispatcher daemonizes that aren't getting called when I daemonize
Aug 25 17:04:49 <jpwhiting>	but if I run without daemonizing they get called fine
Aug 25 17:09:57 <jpwhiting>	yep, it's not getting called at all when daemon is used :/
Aug 25 17:10:52 *	jpwhiting tries doing the connect again after daemon is called
Aug 25 17:22:49 <chair>	is there any way to set the scale for broadway?
Aug 25 17:22:56 <chair>	GDK_SCALE seems to be ignored
Aug 25 17:26:19 <ebassi>	GDK_SCALE is X11-only
Aug 25 17:26:42 <ebassi>	And I don't think Broadway was modified to support hidpi
Aug 25 17:26:51 <ebassi>	Actually, I'm pretty sure it hasn't
Aug 25 17:27:21 <chair>	:(
Aug 25 17:28:59 <ebassi>	chair: Broadway is a toy
Aug 25 17:29:07 <ebassi>	If you need features, you get to write them
Aug 25 17:29:22 <chair>	I have no problem with writing features
Aug 25 17:30:24 <ebassi>	I meant: nobody is actively working on Broadway
Aug 25 17:30:43 <chair>	ok
Aug 25 17:30:51 <chair>	but are patches welcome?
Aug 25 17:31:19 <ebassi>	Sure
Aug 25 17:31:43 <ebassi>	Not entirely sure who's going to review them — alex is kinda busy with flatpak, these days
Aug 25 17:51:28 <Company>	ebassi: we could just push them
Aug 25 17:51:45 <Company>	ebassi: if a toy gets broken, it's not that bad
Aug 25 18:03:38 <ebassi>	True
Aug 25 18:15:18 <jpwhiting>	Company: can you think of any reason why g_signal_connect (settings, "changed::my-setting", my_callback, NULL); would fail to call the callback when the setting changes?
Aug 25 18:15:26 <jpwhiting>	fork, setting object going away, etc.
Aug 25 18:17:12 <jpwhiting>	if I run speech-dispatcher without -d so it doesn't daemonize it's getting called on gsetting changes just fine, but if I run daemon(0, 0); it's not getting called for some reason
Aug 25 18:18:46 <Company>	jpwhiting: i have no idea about gsettings
Aug 25 18:19:01 <Company>	or the behavior of fork() or daemon()
Aug 25 18:19:21 <jpwhiting>	k
Aug 25 18:19:34 <Company>	i work on UIs, I don't need to know unix daemon magic ;)
Aug 25 19:05:55 <jpwhiting>	:) gotcha
Aug 25 19:15:28 <jpwhiting>	desrt: ^^ any idea why I'm not getting changed::default-module signals if the g_signal_connect is done before daemon() but if I don't call daemon() it works as expected?
Aug 25 19:16:02 <jpwhiting>	I am reading the default-module key after the g_signal_connect in both cases
Aug 25 19:47:32 <mtwebster>	hi guys.. i'm messing around with upower on dbus.  I used gdbus-codegen to create my generated .c and .h based on the interfaces I want - then I'
Aug 25 19:47:58 <mtwebster>	er sorry.. then i'm running the gir generation in my makefile to create introspection data for these proxies
Aug 25 19:48:57 <mtwebster>	it all works fine mostly, but I notice all property getter/setter methods are (skip)ped - I can still access them with proxy.set_property/get_property, but I'm just curious why this is so
Aug 25 19:49:19 <mtwebster>	and maybe it's some fiddling i need to do in my build (if this should not be so)
Aug 25 19:50:13 <mtwebster>	method calls are all fine (call_foo() and call_foo_sync() etc..), just the property setters/getters
Aug 25 19:52:08 <mtwebster>	one bug (I think) that I'm not sure who's to blame - for the upower EnumerateDevices method, I had to add '--annotate "org.freedesktop.UPower.EnumerateDevices()[devices]" org.gtk.GDBus.C.ForceGVariant true' to the gdbus-codegen line for it, or else I get utf-8 complaints (bad byte or soemthing) - this being in python3
Aug 25 19:54:29 <mtwebster>	thanks
Aug 25 20:03:05 <hergertme>	mtwebster: maybe just use Gio.DBusProxy() from python3?
Aug 25 20:08:13 <hergertme>	eek, that looks quite painful too
Aug 25 20:09:50 <TingPing>	its still usable
Aug 25 20:12:16 <mtwebster>	that's what i'm using  -gdbus-codegen just generates it for me, specific to a particular interface
Aug 25 20:12:30 <mtwebster>	yeah it's still useable, it was more curiousity i'm asking
Aug 25 20:13:40 <TingPing>	i thought about just making a codegen for python
Aug 25 20:13:43 <hergertme>	i was curious mostly because in Builder we don't use the generated code, and instead hand code a use of GDBusProxy for UPower
Aug 25 20:15:32 <mtwebster>	honestly i'm not sure how much time i saved doing this - but i have 9 other proxy classes i wanted to use, so i figured it would be neat to generate boilerplate for all of it
Aug 25 20:17:55 <mtwebster>	i wanted to eliminate dependency on python-dbus - i'm already using glib, why not use more of it
Aug 25 20:19:22 <TingPing>	like here is a random example of implementing org.freedesktop.Notifications purely in pygobject and async - https://github.com/JasonLG1979/possibly-useful-scraps/blob/master/SimpleDBusNotifications.py
Aug 25 20:25:13 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Thu Aug 25 20:25:13 2016

**** BEGIN LOGGING AT Fri Aug 26 10:47:07 2016

Aug 26 10:47:07 *	Now talking on #gtk+
Aug 26 10:47:07 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 26 10:47:07 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 26 10:57:02 *	Disconnected (Connection reset by peer)
**** ENDING LOGGING AT Fri Aug 26 10:57:02 2016

**** BEGIN LOGGING AT Fri Aug 26 10:57:22 2016

Aug 26 10:57:22 *	Now talking on #gtk+
Aug 26 10:57:22 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 26 10:57:22 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 26 10:57:24 *	irc.acc.umu.se sets mode +q on #gtk+ Company
Aug 26 10:57:24 *	irc.acc.umu.se gives channel operator status to Company
Aug 26 10:57:24 *	irc.acc.umu.se gives channel operator status to ebassi
Aug 26 12:13:33 <coolkid87>	Does renderbuffers need any special handling with GtkGLArea? When I'm drawing the contents directly to the default framebuffer it's fine, but when I draw to renderbuffers(color+depth) and then blit the result to default framebuffer, I get no output. Then I tried using a GLFW3 context instead of GtkGLArea's context with same code and strangely there I can see the output.
Aug 26 12:16:49 <coolkid87>	Well it's probably not possible to tell what's wrong without seeing the code, but if there is any known caveat with them specific to GtkGLArea...
Aug 26 12:19:36 <ebassi>	coolkid87: Not that I know of
Aug 26 12:21:35 <coolkid87>	ow...okay, do I need to swap front and back buffers manually in GLArea? I guess it's automatically done by Gtk, right?
Aug 26 12:22:04 <coolkid87>	I ask because I had to do that with GLFW3 context
Aug 26 12:24:07 <coolkid87>	Previous GL drawcalls(without renderbuffer) worked without having to swap them manually
Aug 26 12:24:31 <coolkid87>	in GLArea
Aug 26 12:28:08 <ebassi>	GLArea is drawing on an FBO; we take the backing texture and put on the window when we need to redraw.
Aug 26 12:28:15 <ebassi>	So: no, you don't need to swap buffers manually
Aug 26 12:29:35 <coolkid87>	Oh...so it itself is an FBO
Aug 26 12:32:06 <ebassi>	Yes, with its own renderbuffers, if you enabled depth and stencil buffers
Aug 26 13:01:52 <coolkid87>	So there is a backing texture where the scene is being rendered to. So while blitting I should probably not blit to default framebuffer and to the FBO containg backing texture... 
Aug 26 14:10:09 <hergertme>	hrmm, ive updated gtk+ to master and now im using X11 even though im on Wayland. is that expected?
Aug 26 14:10:14 <hergertme>	(lt-gnome-builder:19725): Gdk-WARNING **: Wayland compositor does not support xdg_shell interface, not using Wayland display
Aug 26 14:10:27 <hergertme>	(running 3.20.x shell)
Aug 26 14:10:28 <baedert>	yes
Aug 26 14:10:57 <baedert>	(but unfortunate of course)
Aug 26 14:11:00 <mclasen>	hergertme: need bleeding-edge mutter
Aug 26 14:11:02 <hergertme>	annoying. now i have to run an entire jhbuild session to develop for 3.22.
Aug 26 14:11:30 *	hergertme fires up the build server
Aug 26 14:11:31 <mclasen>	we don't fall back between unstable xdg-shell versions, but instead all the way to X
Aug 26 14:12:08 <baedert>	hergertme:  why does that require wayland?
Aug 26 14:12:09 <hergertme>	im sure it makes sense from a code cleanliness stance as long as we can
Aug 26 14:12:47 <hergertme>	because i care about a good out of box wayland experience? and things often are slightly different between x and wayland.
Aug 26 14:13:34 <baedert>	ok
Aug 26 14:13:52 <hergertme>	i need to be annoyed by the small things long enough to fix them :)
Aug 26 14:13:57 <hergertme>	(ie: window positioning of autocompletion)
Aug 26 14:18:35 <johrpan>	I need to call gst_init () and gtk_init (), which one first?
Aug 26 14:20:25 *	baedert calls gst_init first
Aug 26 14:20:31 <baedert>	pretty sure it doesn't matter though.
Aug 26 14:23:57 <johrpan>	baedert: Ok, thanks, I just was unable to decide.
Aug 26 14:48:37 <coolkid87>	I've just noticed that  "glBindFramebuffer(GL_FRAMEBUFFER, 0);" <------ putting this line in render signal's handler for GLArea before issuing any draw calls doesn't show any primitive in GLArea. 
Aug 26 14:49:07 <coolkid87>	It binds to default framebuffer
Aug 26 14:50:16 <coolkid87>	since GLArea maintains its own FBO is it possible that binding to default framebuffer redirects the output elsewhere?
Aug 26 14:58:07 <coolkid87>	And now I've noticed calling GLArea->attach_buffers() right after that brings back the output
Aug 26 14:59:31 <coolkid87>	So binding to default framebuffer probably breaks the FBO attachment that GLArea internally maintains to hold the scene?
Aug 26 15:41:00 <vrishab_>	This question is a repeat.
Aug 26 15:41:06 <vrishab_>	Is there a way to do the following in Gtk Message Dialog ? 
Aug 26 15:41:10 <vrishab_>	1. User clicks a button. 2. A dialog opens ( Not modal ) 
Aug 26 15:41:15 <vrishab_>	User repeats [1], the open dialog should get focus ( if already exists ) or create a new dialog 
Aug 26 15:41:34 <vrishab_>	This can be achieved using some property to remember ( if dialog already opened ), but I am encountering this in a few places, so wanted to know if there is a way to avoid the code duplication . 
Aug 26 15:43:29 <baedert>	there is no built-in way to do that.
Aug 26 15:43:57 <vrishab_>	baedert, so is there a recommended way, so to be consistent.
Aug 26 15:44:11 <baedert>	no, it sounds like you just want to keep a pointer to the dialog around...
Aug 26 15:45:28 <vrishab_>	ok.
Aug 26 15:46:30 <hergertme>	do we have an easy way to assert we are in the gtk thread?
Aug 26 15:46:44 <hergertme>	i just want to add a bunch of assertions to various APIs to shake out some hard to find bugs
Aug 26 15:47:04 <hergertme>	and g_main_context_default() == g_main_context_get_thread_default() sadly does not work
Aug 26 15:54:45 <coolkid87>	ebassi: blitting renderbuffer to framebuffer is now working with GtkGLArea context, I had to call gtk_gl_area_attach_buffer() function before setting the fbo for the renderbuffer as the read source. Previously I was setting the default framebuffer as the read target but attach_buffer() needs to be called to bind GLArea's FBO as read target
Aug 26 15:55:44 <halfline>	hergertme: g_main_context_is_owner (NULL) I think will sort of work, but your best bet probably is to call g_thread_self () and stash it away i think
Aug 26 15:56:06 <coolkid87>	Thanks for the information that GLArea copies an FBO instead of default framebuffer :)
Aug 26 15:56:57 <baedert>	would be great to have a g_return_if_fail(not_main_thread) in all the gtk api *cough*
Aug 26 16:03:28 <hergertme>	halfline: thanks, doing that now ...
Aug 26 16:51:59 <LebedevRI>	so, this time you people broke shortcuts? :)
Aug 26 16:53:01 <feaneron>	LebedevRI: shortcuts?
Aug 26 16:53:06 <feaneron>	what's broken?
Aug 26 16:53:15 <feaneron>	and who is "you people"?
Aug 26 16:57:04 <LebedevRI>	the gtk developers. something now prevents from assigning new shortcuts, maybe focus issue. gonna trying to look at git log..
Aug 26 16:58:38 <feaneron>	lebedevri: assingning shortcuts where? which application?
Aug 26 16:59:30 <LebedevRI>	in particular - darktable
Aug 26 17:01:47 <feaneron>	LebedevRI: which version of Gtk+ are you testing Darktable against?
Aug 26 17:02:09 <LebedevRI>	3.20.9-1
Aug 26 17:02:36 <LebedevRI>	and i know it's not our regression because it does not work on the old release either
Aug 26 17:03:24 <feaneron>	a quick overview doesn't shout me any input-related commits
Aug 26 17:03:46 <feaneron>	which version before 3.20.9 did Darktable use to work?
Aug 26 17:05:04 <LebedevRI>	can't say for sure yet, will try bisecting in a sec
Aug 26 17:05:10 <feaneron>	thanks
Aug 26 17:05:41 <feaneron>	is you find the relevant commit, please file a bug (and even better, provide a patch too)
Aug 26 17:12:51 <LebedevRI>	:( works on 3.14.15
Aug 26 17:37:31 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Aug 26 17:37:31 2016

**** BEGIN LOGGING AT Fri Aug 26 17:37:45 2016

Aug 26 17:37:45 *	Now talking on #gtk+
Aug 26 17:37:45 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 26 17:37:45 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 26 17:39:15 <grawity>	does the latter have to be a letter also?
Aug 26 17:41:45 <grawity>	'be' has µ/£ on the [\|] key, ù/% on the ['"] key
Aug 26 17:49:20 <tpm>	LRN, technically speaking the German ß has a capital letter equivalent, but a normal german keyboard will only produce the lower-case variant (the capital one is only used in very special circumstances); don't know if your "to which the concept applies" filter applies here or not :)
Aug 26 17:49:43 <tpm>	so shift+ß will be : or something
Aug 26 17:50:10 <LRN>	tpm, "to which the concept applies" is a stand-in for "gdk_keyval_to_upper() returns a character"
Aug 26 18:14:53 <bugbot>	New gtk+ bug 770458 filed by christian@hergert.me.
Aug 26 18:14:53 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770458 .General, normal, gtk-bugs, NEW , GtkAboutDialog issue with long credit lists and GtkScrolledWindow
Aug 26 18:18:16 <bugbot>	New glib bug 770459 filed by schaefer.pp@gmail.com.
Aug 26 18:18:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770459 docs, normal, gtkdev, NEW , Tutorial article is slightly wrong
Aug 26 18:37:22 <LebedevRI>	great, can't even compile half of the commits, fails with ../../gdk/.libs/libgdk-3.so: error: undefined reference to 'shm_open'
Aug 26 18:46:02 <TingPing>	yea that was fixed in a recent commit..
Aug 26 19:22:21 <LebedevRI>	the end is near... Bisecting: 0 revisions left to test after this (roughly 0 steps)
Aug 26 19:26:49 <LebedevRI>	e33e23a6d9403f634003e6fc611ba7d02b5cf950 is the first bad commit
Aug 26 19:26:49 <LebedevRI>	commit e33e23a6d9403f634003e6fc611ba7d02b5cf950
Aug 26 19:53:33 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Fri Aug 26 19:53:33 2016

**** BEGIN LOGGING AT Fri Aug 26 19:53:46 2016

Aug 26 19:53:46 *	Now talking on #gtk+
Aug 26 19:53:46 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 26 19:53:46 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** ENDING LOGGING AT Fri Aug 26 20:10:58 2016

**** BEGIN LOGGING AT Mon Aug 29 09:03:29 2016

Aug 29 09:03:29 *	Now talking on #gtk+
Aug 29 09:03:29 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 29 09:03:29 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 29 09:05:05 <heftig>	csoriano___: yes, since you're using a gtk marshaller
Aug 29 09:05:46 <csoriano___>	ok let me just push then..
Aug 29 09:06:48 <bugbot>	csoriano@gnome.org changed the Status on bug 770550 from NEW --- to RESOLVED FIXED.
Aug 29 09:06:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770550 .General, normal, gtk-bugs, RESOLVED FIXED, gtkplacessidebar: fix signal marshal
Aug 29 09:19:56 *	ChanServ sets mode +q on #gtk+ Company
Aug 29 09:19:56 *	ChanServ gives channel operator status to Company
Aug 29 09:22:48 <hadess>	alex, hey, around?
Aug 29 09:23:27 <hadess>	alex, got a question about gresource and static libs
Aug 29 09:33:02 <Company>	hahahahaha
Aug 29 09:36:05 <Company>	we're happily owning ourselves again
Aug 29 09:37:42 <mclasen>	?
Aug 29 09:38:28 <Company>	mclasen, csoriano___: That fix for 770550 should go into 3.20, too
Aug 29 09:38:36 <csoriano___>	Company: ok
Aug 29 09:38:46 <Company>	because it's an insta-crash with glib master
Aug 29 09:38:55 <Company>	because of bug 769076
Aug 29 09:38:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769076 gobject, normal, gtkdev, RESOLVED FIXED, Fix warning: attempt to override closure->va_marshal with new marshal
Aug 29 09:40:16 <csoriano___>	Company: done
Aug 29 09:41:06 <Company>	i wonder if we should use NULL as marshal there
Aug 29 09:41:28 <Company>	and everywhere we use glib's marshals
Aug 29 09:42:46 <alex>	hadess: ok?
Aug 29 09:43:38 <Company>	nacho: what's gedit developers' opinion with regards to GTK 4?
Aug 29 09:43:42 <mclasen>	Company: would make sense to me
Aug 29 09:45:39 <alex>	hadess: in general, static libs => no constructor => need to use the manual register callbacks
Aug 29 09:49:17 <Black_Prince>	you guys weren't kidding about GTK4?
Aug 29 09:50:30 <Company>	Black_Prince: nope
Aug 29 09:50:46 <Black_Prince>	:|
Aug 29 09:51:01 <Black_Prince>	yay for gtk4 when there are people still using gtk2
Aug 29 09:51:24 <owen>	Black_Prince: so gtk+ developers aren't allowed to work on gtk4 until the last person stops using gtk2?
Aug 29 09:51:53 <Black_Prince>	how many years have passed since first gtk3 release was out?
Aug 29 09:51:54 <Black_Prince>	5?
Aug 29 09:52:05 <Company>	Black_Prince: almost 10
Aug 29 09:52:20 <Black_Prince>	stable gtk3 release ...
Aug 29 09:52:21 <Company>	actually no
Aug 29 09:52:27 <owen>	Black_Prince: But yes, one driver is that the only way to make gtk3 stable for people who want *stable* is to stop doing significant feature work on it
Aug 29 09:52:27 <Company>	that's more since development started
Aug 29 09:52:28 <Black_Prince>	I think it was in 2011
Aug 29 09:52:31 <Black_Prince>	no?
Aug 29 09:52:33 <Company>	5.5 probably
Aug 29 09:53:06 <Black_Prince>	so, if you start gtk4 development now, it might be finished in 5 years? :P
Aug 29 09:53:18 <Black_Prince>	just kidding ... go for it
Aug 29 09:53:34 <Company>	Black_Prince: the idea is to never be finished
Aug 29 09:53:41 <Black_Prince>	oh?
Aug 29 09:54:01 <Company>	Black_Prince: we just do stable releases from the unstable branch from time to time
Aug 29 09:54:02 <owen>	Company: I think you are selling the scary story again
Aug 29 09:54:38 <Black_Prince>	well, people have been talking that similar thing was done for gtk+3 branch as it was never really stable for them
Aug 29 09:54:47 <Black_Prince>	I call rubbish, as that was mostly related to themes
Aug 29 09:54:55 <Company>	Black_Prince: yeah, that's the main reason
Aug 29 09:55:09 <Company>	Black_Prince: we want stable to be rock solid
Aug 29 09:55:10 <owen>	Black_Prince: What Company means is that the idea is not to have periods where we do major feature work on a branch and also call it "stable"
Aug 29 09:55:21 <Black_Prince>	yeah, I get it
Aug 29 09:55:33 <Black_Prince>	but the binary compatibility will exist?
Aug 29 09:55:39 <Black_Prince>	between x and y gtk4 snapshots?
Aug 29 09:55:53 <Black_Prince>	or will there be gtk5 if abi break is needed?
Aug 29 09:56:09 <Company>	Black_Prince: yes, once we've released it officially. If it doesn't we'll create GTK5
Aug 29 09:56:19 <Black_Prince>	cool
Aug 29 09:56:38 <Company>	during development there'll be api-unstable GTK4 releases
Aug 29 09:56:42 <Black_Prince>	any official roadmap/features you have planned?
Aug 29 09:56:54 <Company>	I think the versioning we decided on was 3.90, 3.91?
Aug 29 09:57:20 <Company>	Black_Prince: (1) Get rid of GdkWindow as child windows
Aug 29 09:57:35 <Company>	Black_Prince: (2) Do everything we always wanted to do but couldn't because of (1)
Aug 29 09:57:49 <Black_Prince>	as a non-developer, I don't understand that at all, but I suppose it's a good thing
Aug 29 09:57:51 <Company>	and lots of small stuff :)
Aug 29 09:58:24 *	Black_Prince would like to move window system specific stuff outside of gdk and into its own libs
Aug 29 09:59:11 <Black_Prince>	or at least into loadable modules
Aug 29 09:59:24 <Company>	Black_Prince: rotating and zooming of widgets, generic event handling (think hover working correctly everywhere), technicalities like that
Aug 29 09:59:26 <Black_Prince>	not sure how practical that would be
Aug 29 09:59:37 <Company>	Black_Prince: what for?
Aug 29 10:00:24 <Black_Prince>	no good reason, I'm afraid
Aug 29 10:00:56 <Black_Prince>	I suppose most valid reason is having toolkit not depend on window system, but the plugins themself
Aug 29 10:01:05 <Company>	we argued about keeping GDK a seperate library
Aug 29 10:01:10 <Black_Prince>	but then there are window system specific functions like gdk_x11_*
Aug 29 10:01:15 <Company>	and there were no reasons for it
Aug 29 10:01:26 <Company>	so we might just make it part of libgtk
Aug 29 10:01:49 <Black_Prince>	yeah, that makes sense
Aug 29 10:01:58 <Black_Prince>	everything that uses gtk will also use gdk
Aug 29 10:02:06 <Black_Prince>	and there are very few (if any) projects that only use gdk
Aug 29 10:02:24 <Black_Prince>	libgdk, that is
Aug 29 10:02:24 <owen>	Black_Prince: GDK *is* the window system specific stuff. 
Aug 29 10:02:31 <Black_Prince>	I know
Aug 29 10:02:37 <bugbot>	mclasen@redhat.com changed the Status on bug 770458 from NEW --- to RESOLVED FIXED.
Aug 29 10:02:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770458 .General, normal, gtk-bugs, RESOLVED FIXED, GtkAboutDialog issue with long credit lists and GtkScrolledWindow
Aug 29 10:02:39 <owen>	Black_Prince: So how would you move it outside GDK?
Aug 29 10:02:56 <Company>	owen: loadable modules are a neat idea to a bunch of people who wanna write their own thing
Aug 29 10:03:15 <Company>	Cairo had the same discussion from time to time
Aug 29 10:03:16 <owen>	Company: You want to make the backend interface a public API?
Aug 29 10:03:18 <Black_Prince>	if there was no need for having ws specific functions, it could be made similar to Qt's QPA thing
Aug 29 10:03:40 <Company>	owen: I don't, but I understand why Black_Prince thinks people like it
Aug 29 10:03:51 <swick>	btw, has there ever been a drm/kms backend for gtk+?
Aug 29 10:04:06 <Company>	swick: nobody wrote one yet
Aug 29 10:04:31 <Company>	swick: or rather: nobody submitted one for review - people told me they played with writing one
Aug 29 10:04:33 <owen>	Company: While it would allow for some interesting things (in particular needed to sanely replace Clutter in Mutter/GNOME-Shell with GSK), it's not a good idea in terms of GTK+ maintenance at all
Aug 29 10:04:52 <Company>	owen: yeah, I know
Aug 29 10:05:06 <owen>	swick: there was a linuxfb one for a while - really wasn't very useful in the end
Aug 29 10:05:07 <Company>	owen: same argument as in the Caior case
Aug 29 10:05:21 <swick>	ye, the clutter->gsk thing is why I asked
Aug 29 10:05:32 <Black_Prince>	gsk?
Aug 29 10:05:34 <Company>	swick: I want one so people can write Wayland compositors with GTK
Aug 29 10:05:50 <swick>	yes, that would be great
Aug 29 10:05:54 <owen>	swick: I think what we found with cogl/drm/kms is if you need that, you need to have a custom backend for your app, and a generic one doesn't work well
Aug 29 10:06:17 <Company>	Black_Prince: think Cluter in GTK - GTK Scenegraph Kit I think
Aug 29 10:06:24 <Black_Prince>	ah
Aug 29 10:06:31 <Black_Prince>	wait, isn't clutter gone now?
Aug 29 10:06:33 <swick>	owen: why is that?
Aug 29 10:06:36 <Black_Prince>	I saw it was merged into mutter
Aug 29 10:06:45 <Black_Prince>	but forgot why (I think I read the bug report on that)
Aug 29 10:06:46 <owen>	swick: or if a generic one works, it has to be a *lot* more lightweight than what is in cogl - more like "here's a buffer, draw GTK+ on this" than "set up everything for KMS for me"
Aug 29 10:07:09 <Company>	I still like the idea of having a KMS backend
Aug 29 10:07:19 <Company>	even if it turns out to be just the gnome-shell backend
Aug 29 10:07:50 <Company>	it might also turn out the gnome-shell and xfce compositor and LXDE compositor backend
Aug 29 10:08:16 <Black_Prince>	LXDE has its own compositor nowadays?
Aug 29 10:08:21 <Company>	no
Aug 29 10:08:30 *	Black_Prince thought LXDE was dead and LXQt is the way forward
Aug 29 10:08:31 <Company>	XFCE and LXDE are still X11
Aug 29 10:08:40 <Black_Prince>	yeah
Aug 29 10:08:53 <Black_Prince>	xfce has xfwm4, it's just a wm, not a compositing one either
Aug 29 10:09:02 <Black_Prince>	it has some basic xrender compositing in last version
Aug 29 10:09:02 <owen>	swick: basically that the manipulation of the KMS mode setup is much more of a compositor thing than a toolkit thing - say you want to add screen rotation, you either have to write a complicated screen rotation and shadow-buffer API into the gdk-kms.h, or you just write it against KMS, and get GTK+ to draw where needed
Aug 29 10:09:15 <Black_Prince>	as for openbox, which is commonly used by lxde/lxqt
Aug 29 10:09:21 <Black_Prince>	they might be better off using libweston itself
Aug 29 10:10:17 <Company>	Black_Prince: another interesting user might be installers
Aug 29 10:10:30 <Black_Prince>	yes, that's true
Aug 29 10:10:37 <Company>	Black_Prince: though it might be that installers are better off just running a simple compositor with just the installer app
Aug 29 10:10:58 <Black_Prince>	also true, especially since not every hw might support kms
Aug 29 10:11:06 <Black_Prince>	(well, have a kms driver available)
**** ENDING LOGGING AT Mon Aug 29 10:15:44 2016

**** BEGIN LOGGING AT Mon Aug 29 10:15:44 2016

Aug 29 10:20:52 <nacho>	Company, should we have an opinion?
Aug 29 10:21:47 <Company>	nacho: somewhere between "Awesome, we already created GTK4 branches for gedit and sourceview!" and "This sucks so much, we all crawled into a hole and want to die."
Aug 29 10:22:52 <nacho>	dunno, from my perspective I don't care as far as it continues to work on osx and win32 as well
Aug 29 10:24:27 <nacho>	clearly I don't have that much time anymore to put into gedit or gsv, I just put work on glib and libgit2-glib
Aug 29 10:24:32 <nacho>	and reviewing patches
Aug 29 10:24:40 <nacho>	so whatever you guys think is better then go for it
Aug 29 10:24:55 <Company>	I'd much like gedit to follow GTK4
Aug 29 10:25:14 <Company>	though nobody has brought up how well our releases should work on win/osx so far
Aug 29 10:26:08 <nacho>	Company, well, me and pbor and pretty much busy these days with work
Aug 29 10:26:18 <nacho>	so we do glib stuff because we use it at work
Aug 29 10:26:27 <nacho>	and we fix win32 issues because of the same reason
Aug 29 10:26:46 <nacho>	gedit and gsv is secondary for me right now as far as it works
Aug 29 10:27:08 <Company>	i'm a huge fan of you fixing GTK4 win32 issues over working on GTK3 issues
Aug 29 10:27:20 <Company>	though GTK3 would give you something that's stable
Aug 29 10:27:32 <nacho>	it depends on what we will choose for work
Aug 29 10:27:58 <nacho>	right now we are always on the bleeding edge since it is where we are fixing the bugs
Aug 29 10:28:23 <nacho>	but then again it is not like we use that many features from gtk
Aug 29 10:28:35 <nacho>	we are more interested in glib and wing
Aug 29 10:28:45 <Company>	"work" sounds like a good reason to go with GTK3
Aug 29 10:30:34 <nacho>	Company, I guess it depends on how hard it will be to keep up with gtk 4
Aug 29 10:30:57 <nacho>	if that means a crazy development cycle of one year as it was for gedit 2.30 to 3.0
Aug 29 10:31:04 <nacho>	then I am pretty sure we will not have time
Aug 29 10:31:24 <nacho>	if it means fixing some api break etc then I am pretty sure we can do it
Aug 29 10:31:47 <mclasen>	should we declare randomly named clipboards an x11-only feature and deprecate it ? looking at bug 770333
Aug 29 10:31:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770333 Backend: Wayland, normal, gtk-bugs, NEW , GdkSelection does not support arbitrary named clipboards/selections on wayland
Aug 29 10:32:29 <Company>	mclasen: can windows or osx do it?
Aug 29 10:32:42 <Company>	mclasen: if not, then yes, we should
Aug 29 10:33:24 <Company>	if yes: dunno - why do we need it other than clipboard/primary?
Aug 29 10:34:56 <mclasen>	apparently, file-roller uses its own private clipboard
Aug 29 10:35:06 <mclasen>	for no good reason at all that I can see
Aug 29 10:36:08 <Company>	ah yes, the "we used that code and it did what we wanted back then" reason
Aug 29 10:40:37 <nacho>	Company, dunno, why do you think we should stay with gtk3 instead of 4?
Aug 29 10:40:52 <nacho>	as far as I see it, we ship our own binaries
Aug 29 10:41:02 <nacho>	so those binaries are tested, and we track a specific version
Aug 29 10:41:14 <nacho>	so fixing some api breaks from time to time will not be the end of the world
Aug 29 10:41:28 <nacho>	I am though more worried if I lose features that we use
Aug 29 10:41:32 <nacho>	but that is another topic
Aug 29 10:43:31 <baedert>	And if that feature is maybe GtkSourceView? :)
Aug 29 10:44:09 <nacho>	baedert, what do you mean?
Aug 29 10:44:21 <nacho>	that is something that gedit will have to deal with
Aug 29 10:44:47 <nacho>	Company, any chance you could send me and pbor a mail with the stuff that worries you?
Aug 29 10:44:53 <baedert>	well GSK+no-gdk-window+gtkcontainer-in-gtkwidget are pretty heavy changes for every single custom widget afaiu
Aug 29 10:45:35 <nacho>	baedert, well, somebody will have to port gtksourceview but I do not see why it would not work with gtk 4
Aug 29 10:48:19 <nacho>	baedert, the point is, if there are breaks that can be fixed by porting gsv and so on, I am with it, if API is removed and then I cannot do the port then there is a problem
Aug 29 10:49:03 <nacho>	how easy it will be to do the port, or how many people will have time to port gsv to gtk 4 it will depend on whether we manage to port it for the first gtk 4 or for the second or third
Aug 29 10:52:09 <baedert>	nacho: yes, I agree.
Aug 29 10:52:43 <baedert>	But I also think that gedit is a poor test case for lots of other things, e.g. "lots of widgets in a single toplevel". it's mostly a GtkSourceView and chrome around it
Aug 29 10:53:47 <baedert>	So if the invidivual bumps require complete rewrites of all custom widgets in all apps, I think most of them won't keep up
Aug 29 10:54:46 <nacho>	it is not like there are so many custom widgets out there
Aug 29 10:55:39 <baedert>	a lot imo
Aug 29 10:56:00 <nacho>	most of the widgets are just about adding stuff to a container
Aug 29 10:56:08 <nacho>	but not doing custom drawing
Aug 29 10:56:12 <Company>	nacho: i don't think we'll remove API that people use
Aug 29 10:56:46 <Company>	nacho: but we might change APIs that require porting, though I don't think in the gedit case that will cause too much work
Aug 29 10:57:00 <Company>	gedit doesn't do crazy stuff with GdkWindows
Aug 29 10:57:17 <nacho>	Company, we did with overlays and we passed the ball to you :P
Aug 29 10:58:21 <Company>	you still do with gutters I think
Aug 29 10:58:28 <Company>	but that should turn into widgets, too
Aug 29 10:58:58 <nacho>	which would be great
Aug 29 10:59:05 <bugbot>	mclasen@redhat.com changed the Component on bug 770421 from Documentation to Language Bindings.
Aug 29 10:59:06 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770421 Language Bindings, normal, gtk-bugs, NEW , incorrect (out) annotation for gtk_text_iter_get_attributes
Aug 29 11:03:58 <nacho>	Company, so is there any decision already about the versioning stuff?
Aug 29 11:04:37 <Company>	nacho: I think we'll go libgtk4 and version 3.90, 3.91, ... until we release
Aug 29 11:05:03 <nacho>	sounds good to me
Aug 29 11:05:06 <Company>	so when we release an ABI/API-stable gtk4, it'll be 4.0
Aug 29 11:36:32 <xclaesse>	<Company> so when we release an ABI/API-stable gtk4, it'll be 4.0 --> sounds like wise decison
Aug 29 12:02:01 <Company>	xclaesse: yeah, there was an obvious solution out there
Aug 29 12:02:06 <Company>	xclaesse: we just had to figure it out ;)
Aug 29 12:03:50 <xclaesse>	Company, right, that's what every projects always did AFAIK. Just wondering what's 3.99+1 though :/
Aug 29 12:04:30 <xclaesse>	3.100 ? 3.910 ?
Aug 29 12:04:55 <Company>	xclaesse: we need to figure out something there I think
Aug 29 12:05:09 <Company>	xclaesse: especially because we wanna branch for Gnome releases
Aug 29 12:05:45 <nacho>	Company, and what about the pkg-config?
Aug 29 12:05:57 <nacho>	is it going to be called gtk 4 or gtk-preview or...?
Aug 29 12:05:58 <Company>	so in March 2017 when we release Gnome 3.24, it is with gtk4 3.??.0 - and then master goes to 3.??+1.0 and 3.24.1 gets 3.??.1
Aug 29 12:06:09 <xclaesse>	Company, the other idea is skip gtk4, do gtk5 for dev then gtk6.0 as stable, to keep the even-is-stable pattern
Aug 29 12:06:11 <Company>	nacho: I think we agreed on gtk4
Aug 29 12:06:30 <Company>	xclaesse: people didn't like that at guadec
Aug 29 12:06:35 <Company>	xclaesse: though i forget the reasons
Aug 29 12:07:15 <nacho>	ok
Aug 29 12:07:33 <xclaesse>	Company, could also do 3.999.x for dev, so you can infitely increment that x and you are unlikely to reach 3.999 in the stable branch
Aug 29 12:08:01 <Company>	xclaesse: stable branch doesn't matter because stable branch is gtk3, not gtk4
Aug 29 12:08:22 <xclaesse>	stable gtk3 is going to be 3.90 in 33 years, if it keeps the 6 months schedule, careful ! :D
Aug 29 12:08:29 <Company>	so gtk3 3.100 would not be confused with gtk4 3.99.1
Aug 29 12:08:48 <Company>	well, not by tools anyway
Aug 29 12:08:55 <Company>	lwn readers, not so sure...
Aug 29 12:09:06 <xclaesse>	Company, yeah, true, pkg-config will be fine, just thinking about the confusion that would be in comminucation
Aug 29 12:10:10 <xclaesse>	anyway, I find it much better than the idea of becoming stable at random point in 4.x :D
Aug 29 12:10:28 <xclaesse>	that would be terrible press release
Aug 29 12:10:40 <xclaesse>	"WOW, gtk 4.13 release!! party !!!"
Aug 29 12:18:55 <joe9>	I want to put realtime data on a gtk window. From here, http://stackoverflow.com/questions/27545878/gtk-3-0-signal-that-trigger-upon-change-in-variable , I gather that I need "notify". Any recommendations for learning about "notify" and its interaction with a "gobject" for a noob, please?
Aug 29 12:40:15 <bugbot>	New gtk+ bug 770565 filed by vrishab.in@gmail.com.
Aug 29 12:40:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770565 Documentation, normal, gtk-bugs, NEW , Missing "Since: " tag for widgets in widget documentation
Aug 29 12:43:01 <heftig>	Company: I suppose using version numbers like 4.0a1 wouldn't fit with the existing systems well?
Aug 29 12:45:35 <Company>	heftig: yeah
Aug 29 12:46:00 <Company>	heftig: there's a clear rule about which version is >= which other version
Aug 29 12:46:13 <Company>	heftig: but nobody knows those rules, so using them would not be very useful
Aug 29 12:47:37 <heftig>	yeah; once you go beyond the common subset of a static amount of numbers separated by dots, you can't find an ordering that everyone agrees on
Aug 29 12:56:18 <Hussam>	heftig: hi again :) could you take a look at this? https://bugzilla.gnome.org/show_bug.cgi?id=770563 it happens with both gnome-control-center 3.20.xx and git master. but it looks like a gtk+ bug?
Aug 29 12:56:18 <bugbot>	Bug 770563: Region & Language, normal, control-center-maint, NEW , gnome-control-center crashes on exit after previewing a keyboard layout
Aug 29 12:57:46 <heftig>	i guess g-c-c isn't removing a signal handler properly
Aug 29 12:59:30 <heftig>	Hussam: btw, i can't reproduce
Aug 29 12:59:39 <heftig>	in 3.20
Aug 29 12:59:46 <Hussam>	which gtk+?
Aug 29 13:00:06 <Hussam>	I think this worked fine under gtk+ 3.20.xx
Aug 29 13:01:23 <heftig>	hm
Aug 29 13:29:37 <bugbot>	mclasen@redhat.com changed the Status on bug 769788 from NEW --- to RESOLVED FIXED.
Aug 29 13:29:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769788 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, Fix stacking order of flatpak portals on Wayland
Aug 29 13:31:06 <ebassi>	whoopsie, today is bank holiday and forgot to do this week in gtk
Aug 29 13:31:26 *	ebassi catches up
Aug 29 13:39:52 <Hussam>	heftig: downgrading to gtk+ 3.20.9 fixes it :s
Aug 29 13:53:00 <dj-death>	mclasen: any comment on https://bugzilla.gnome.org/show_bug.cgi?id=770307 ?
Aug 29 13:53:01 <bugbot>	Bug 770307: Backend: Wayland, critical, gtk-bugs, NEW , Crash when closing a glade project
Aug 29 14:01:25 <mclasen>	dj-death: looks right to me
Aug 29 14:09:17 <mclasen>	dj-death: if you push it  quickly, I'll include it in my release
Aug 29 14:13:21 <mclasen>	nevermind, I'll just push it myself
Aug 29 14:14:09 <bugbot>	mclasen@redhat.com changed the Status on bug 770307 from NEW --- to RESOLVED FIXED.
Aug 29 14:14:09 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770307 Backend: Wayland, critical, gtk-bugs, RESOLVED FIXED, Crash when closing a glade project
Aug 29 14:25:24 <dj-death>	mclasen: thanks
Aug 29 14:56:38 <bugbot>	florian.muellner@gmail.com changed the Component on bug 770569 from search to gio.
Aug 29 14:56:38 <bugbot>	florian.muellner@gmail.com changed the Product on bug 770569 from gnome-shell to glib.
Aug 29 14:56:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770569 gio, normal, gtkdev, NEW , search complex name
Aug 29 18:55:32 <vrishab>	Hi .. what is the equivalent of GSList* gtk_accel_groups_from_object (GObject *object) in python GI ?
Aug 29 18:56:18 <vrishab>	Couldn't find that in the help(Gtk.AccelGroup)
Aug 29 20:29:13 <feaneron>	hey guys, i'm receiving loads of "GcalEventWidget <address> is drawn without a current allocation" when I unfocus my window
Aug 29 20:29:33 <feaneron>	I do call gtk_widget_size_allocate() on child events
Aug 29 20:29:52 <feaneron>	any ideas why does this only happens when the window is unfocused?
Aug 29 20:31:58 <bossjones>	Hi friends … been a while since I was here, work has been busy. Curious about some nice projects using Flatpak … Evaluating that, using Docker for my project. I know they aren’t exactly related at all, but theres a little bit of spill over, hence why i’m evaluating it.
Aug 29 21:48:46 <Company>	feaneron: usually that happens if a widget causes a call to queue_allocate()
Aug 29 21:48:55 <feaneron>	hm...
Aug 29 21:49:11 <Company>	feaneron: usually the parent calls child_set_something() and that calls queue_allocate()
Aug 29 21:49:35 <Company>	"usually" = in the few cases i've hunted those things down it was the most common reason
Aug 29 21:50:06 <Company>	queue_resize() too, of course
Aug 29 21:50:34 <feaneron>	does queue_draw() has this effect as well?
Aug 29 21:51:03 <Company>	no
Aug 29 21:51:30 <Company>	usually, what I do is set a breakpoint on my_widget_size_allocate
Aug 29 21:52:03 <Company>	and when that's reached, I set a breakpoint on gtk_widget_queue_resize() and gtk_widget_queue_allocate()
Aug 29 21:52:42 <Company>	and then use "finish" in gdb to run through the size allocate function to see if one of those 2 breakpoints triggers
Aug 29 21:53:02 <Company>	("finish" runs until the current function is finished)
Aug 29 21:53:43 <mclasen>	jadahl: ^ that might be helpful for the popover case too
Aug 29 21:54:43 <Company>	note that that can have false positives
Aug 29 21:55:13 <Company>	like when queue_resize() is called on a child *before* size_allocate() gets called on it
Aug 29 21:56:01 <feaneron>	damn
Aug 29 21:56:37 <Company>	if that's too complicated, file a bug against builder to make that easier ;)
Aug 29 21:57:22 <borschty>	i'm currently looking at a similar bug in totem/clutter-gtk causing the same error message
Aug 29 21:57:54 <feaneron>	i wish so hard that Calendar's month-view's size_allocate() wasn't such a shitstorm
Aug 29 21:58:59 <borschty>	there it's caused by changes to some some labels causing a queue_resize in their parents that doesn't seem to bubble to the window which i guess would trigger the actual resize before the draw
Aug 29 21:59:53 <borschty>	gtk_container_set_resize_mode (container, GTK_RESIZE_IMMEDIATE)
Aug 29 22:00:35 <borschty>	this seems to help, but that's deprecated and i'm not sure if it is the right thing to do anyway
Aug 29 22:01:48 <borschty>	still trying to understand how this stuff is supposed to work
Aug 29 22:04:19 <jadahl>	Company: how would one fix such a call chain though?
Aug 29 22:15:13 <Company>	borschty: it is not the right thing to do
Aug 29 22:15:29 <Company>	borschty: the way to fix it is to change the labels before size_allocate()ing them
Aug 29 22:15:45 <Company>	borschty: and in particular, before get_preferred_size()ing them
Aug 29 22:15:50 <Company>	jadahl: ^^^
Aug 29 22:17:19 <Company>	note: it's technically iffy to change labels in size_allocate() because the labels might change size to something that's too large and would require resizing the parent container - though it might be okay if you can guarantee the label will still fit
Aug 29 22:17:56 <Company>	(do labels queue_resize() if you set_text() them but they have a min-width-chars and a max-width-chars set?)
Aug 29 22:19:09 <borschty>	gtk_label_set_text -> gtk_label_recalculate -> gtk_widget_queue_resize
Aug 29 22:19:25 <Company>	yeah, i suppose nobody ever checked that
Aug 29 22:19:26 <borschty>	that's how this is triggered
Aug 29 22:19:54 <Company>	and then you never get_preferred_size() before you size_allocate() them
Aug 29 22:19:57 <Company>	and then you get a warning
Aug 29 22:20:34 <Company>	out of interest: why are you changing the text during size_allcoate()?
Aug 29 22:21:03 <borschty>	can be reproduced quite easily in gtk3-demo if you run one of the offscreen examples and use the inspector to change the label of a button
Aug 29 22:21:34 <borschty>	i didn't write the code, i'm just trying to figure out what's causing the error messages
Aug 29 22:21:43 <Company>	oh god, offscreen crap
Aug 29 22:21:54 <Company>	can we delete that in GTK4?
Aug 29 22:22:08 <jadahl>	please do
Aug 29 22:22:17 <borschty>	also the text is not changed during size_allocate
Aug 29 22:23:47 <borschty>	i have a backtrace of the call chain that triggered the last set_alloc_needed before the error message in totem: http://pastebin.com/KDX7y55b
Aug 29 22:24:32 <borschty>	this is triggered by a timeout that updates the remaining time label
Aug 29 22:27:51 <Company>	borschty: after that happens, do these 2 things happen:
Aug 29 22:28:12 <Company>	borschty: (1) alloc needed is set on the whole parent tree up to the toplevel
Aug 29 22:28:34 <Company>	borschty: (2) get_preferred_width/height() is called for all those widgets
Aug 29 22:28:51 <Company>	(I think you can use some GTK_DEBUG categories to print that, but I forget which)
Aug 29 22:29:00 <borschty>	is 2 triggered by 1 on the toplevel?
Aug 29 22:29:57 <Company>	indirectly yes,
Aug 29 22:30:10 <Company>	1 triggers a size_allocate() on the GtkWindow
Aug 29 22:30:22 <Company>	and that should get_preferred_size() to determine the size to allocate
Aug 29 22:31:00 <Company>	actually, it triggers a check_resize(), and that calls get_preferred_size() while computing the best size to allocate and then it calls size_allocate()
Aug 29 22:32:21 <Company>	now he broke something
Aug 29 22:34:42 <Company>	somebody should add a debug category that tracks alloc_needed
Aug 29 22:35:12 <Company>	so you can GTK_DEBUG=resize or so and get useful info about that
Aug 29 22:35:34 <Company>	not me today though because i'm on my way to bed
Aug 29 22:54:30 <borschty>	did I miss anything after: <borschty> is 2 triggered by 1 on the toplevel?
Aug 29 22:57:01 <mclasen>	yes
Aug 29 22:57:13 <mclasen>	Company>	indirectly yes,
Aug 29 22:57:15 <mclasen>	1 triggers a size_allocate() on the GtkWindow
Aug 29 22:57:17 <mclasen>	and that should get_preferred_size() to determine the size to allocate
Aug 29 22:57:19 <mclasen>	actually, it triggers a check_resize(), and that calls get_preferred_size() while computing the best size to allocate and then it calls size_allocate()
Aug 29 22:57:25 <mclasen>	Company>	now he broke something
Aug 29 22:57:27 <mclasen>	somebody should add a debug category that tracks alloc_needed
Aug 29 22:57:29 <mclasen>	so you can GTK_DEBUG=resize or so and get useful info about that
Aug 29 22:57:31 <mclasen>	not me today though because i'm on my way to bed
Aug 29 23:03:13 <borschty>	Thanks. Since the size_allocate() on the window seems to work and set the alloc_needed to 0 in some cases, I'm guessing there is a problem with alloc_needed not being called all the way up to the top level window in the offscreen case
Aug 29 23:04:58 <borschty>	that's probably also why GTK_RESIZE_IMMEDIATE on the offscreen container seems to help
Aug 30 02:59:47 <baedert>	Heh, now my tests fail because of the wayland warning
Aug 30 05:23:48 <iceTwy>	Hey. I'm trying to display a BMP image using gdk_pixbuf_new_from_data. Some tweaks have to be made (reading the pixbuf in the file from bottom to top, inverting pixels because they're stocked as BGR instead of RGB), but eventually I obtain the exact same pixbuf as the one gtk_image_new_from_data returns.
Aug 30 05:25:16 <iceTwy>	My issue is that even though the pixbuf I pass to gdk_pixbuf_new_from_data is "good", here's how it's displayed: https://i.imgur.com/rlgRRnP.png. And when I inspect the GdkPixbuf's pixbuf, the end is messed up and different from the one I passed
Aug 30 05:26:21 <iceTwy>	the end of the pixbuf*
Aug 30 05:28:38 <iceTwy>	The pixbuf that I pass is allocated on the stack, not on the heap through a malloc. If I increase its size to a bigger value (~2x the size of the pixbuf in the BMP file) then the image is displayed correctly 
Aug 30 06:11:35 <aday>	jonasdn: i assume there's wayland work to put in the 3.22 release notes?
Aug 30 06:12:07 <jonasdn>	wrong jonas
Aug 30 06:17:08 <jonasdn>	jadahl: see three lines above
Aug 30 06:25:29 <iceTwy>	noone to help me out?
Aug 30 06:44:47 <AlexisBRENON>	Hi guys. I'm trying to load pixels from a GdkPixbuf into a Torch tensor which is a 3D matrix of size {nchannels, height, width}. I think there is a problem with the strides because all what I get is a black image... Can you help me ?
Aug 30 06:48:04 <iceTwy>	so apparently gdk_cairo_surface_create_from_pixbuf does some invalid reads on my pixbuf..?
Aug 30 06:48:11 <iceTwy>	(according to valgrind)
Aug 30 07:00:41 <jadahl>	aday: thats probably true. still pretty much catch-up-with-x11 style stuff though, just that we are the closest ever now (tm)
Aug 30 07:01:12 <aday>	jonasdn: ugh, sorry!
Aug 30 07:01:46 <aday>	jadahl: that's fine. could you put the details on the release notes page? https://wiki.gnome.org/ThreePointTwentyone/ReleaseNotes
Aug 30 07:02:40 <jadahl>	aday: sure
Aug 30 07:02:51 <aday>	jadahl: thanks!
Aug 30 07:04:05 <jadahl>	aday: under what category? where do I look "for distributors" :P
Aug 30 07:04:43 <aday>	jadahl: depends on the changes. if it's user facing features that are now supported for wayland, "for users"
Aug 30 07:04:56 <aday>	if it's stuff developers might be interested in, "for developers"
Aug 30 07:05:17 <jadahl>	ok
Aug 30 07:05:58 <jadahl>	i guess things that doesn't fall under any, i.e. under "general improvements" doesn't need to be listed at all then
Aug 30 07:06:56 <jadahl>	since they are more like bug fixes, where its just wayland backends/protocols that have become better
Aug 30 07:13:23 <LRN>	IcewTwy, AlexisBRENON, GdkPixbuf is not considered a good API at the moment
Aug 30 07:14:05 <LRN>	unless you are forced to use it by 3rd-party code, using cairo surfaces is preferable
Aug 30 07:15:54 <AlexisBRENON>	LRN: OK. Do you have any pointer to a good doc for cairo ? It seems that there is doc on many websites, but often incomplete...
Aug 30 07:16:13 <LRN>	https://www.cairographics.org/ is the official one
Aug 30 07:16:51 <ebassi>	AlexisBRENON: The stride in GdkPixbuf depends on the "has-alpha" field
Aug 30 07:17:50 <ebassi>	AlexisBRENON: You'll probably need to pastebin some code, though
Aug 30 07:18:40 <AlexisBRENON>	ebassi: OK. But in fact I don't need the stride. If I define correctly the dims (checking for 'has-alpha') Torch builds everything OK. I just forgot to put a big white rectangle in the background because I trim the alpha channel
Aug 30 07:18:46 <ebassi>	AlexisBRENON: In general you get: width * (has_alpha ? 4 * 3)
Aug 30 07:21:05 <AlexisBRENON>	ebassi: It's Lua code, I don't know if most of you are fluent in Lua ^^ http://pastebin.com/vGysZ6uC
Aug 30 07:21:34 <ebassi>	Nope
Aug 30 07:22:04 <ebassi>	Also, I have no idea how the two interact
Aug 30 07:28:57 <AlexisBRENON>	ebassi: LuaJIT interpreter integrate the FFI library which allow you to call C functions from your Lua code http://luajit.org/ext_ffi.html
Aug 30 07:32:32 <iceTwy>	LRN: well I'm trying not to dive too deep into a particular API
Aug 30 07:33:00 <iceTwy>	I'm using GTK and GdkPixbuf for this small project of mine because I don't need more than what they offer, and they're simple to use
Aug 30 07:33:37 <LRN>	GdkPixbuf is an old GTK/GDK API that few people use nowadays. You'll have better chance at finding support if you use cairo, IMO.
Aug 30 07:33:48 <iceTwy>	LRN: deadline soon :/
Aug 30 07:34:22 <LRN>	best of luck to you, then
Aug 30 07:34:42 <iceTwy>	I've taken a look at the code for gdk_pixbuf_new_from_data, dunno why the resulting GdkPixbuf doesn't have the same pixbuf as the one I pass
Aug 30 07:35:42 <nacho>	iceTwy, something similar happened to me, are your argb?
Aug 30 07:35:50 <nacho>	*are you using
Aug 30 07:35:59 <iceTwy>	especially when the only thing gdk_pixbuf_new_from_data does is create a new GdkPixbuf through g_object and do pixbuf->pixels = (const guchar*) passed_pixbuf
Aug 30 07:36:07 <nacho>	iceTwy, for me it was the pre multiplied alpha
Aug 30 07:36:07 <iceTwy>	nacho: no, plain RGB
Aug 30 07:36:16 <nacho>	mmm ok
Aug 30 07:36:21 <iceTwy>	I can upload the code
Aug 30 07:47:11 <iceTwy>	https://gist.github.com/iceTwy/76cabe0ff51a8bb1dbda64b404e52156
Aug 30 07:48:31 <iceTwy>	^ this reads a BMP file and if it has a valid 24 bits per pixel, 8 bit per sample RGB pixbuf, it retrieves the pixbuf so that it's arranged the way GdkPixbuf expects it to be
Aug 30 07:48:50 <iceTwy>	(i.e. RGB instead of BGR and from top left corner to bottom right instead of bottom left to top right)
Aug 30 07:49:26 <iceTwy>	note: the fact that the pixbuf is allocated on the stack is absolutely done on purpose
Aug 30 07:50:00 <iceTwy>	I'm using this image: https://i.imgur.com/n9uqHNx.png
Aug 30 07:51:05 <ebassi>	iceTwy: GdkPixbuf will not copy the data
Aug 30 07:51:26 <ebassi>	iceTwy: gdk_pixbuf_new_from_data() takes a pointer to the data and a free function
Aug 30 07:52:02 <ebassi>	iceTwy: But since you're placing the pixels on the stack, what happens after you get out of the scope is undefined
Aug 30 07:52:34 <ebassi>	iceTwy: You need to allocate or copy the buffer and provide a free function
Aug 30 07:54:14 <iceTwy>	ebassi: alright
Aug 30 07:54:35 <iceTwy>	ebassi: I did think about having this issue but kind of ignored it seeing that it worked *sometimes*
Aug 30 07:55:08 <iceTwy>	basic mistake on my side!
Aug 30 07:55:51 <iceTwy>	ofc once the function is done, the frame is removed from the stack so..
Aug 30 08:56:14 <ebassi>	mclasen: Hey
Aug 30 08:56:31 <mclasen>	here!
Aug 30 08:56:46 <ebassi>	mclasen: When should we publish the blog post about versioning/releases?
Aug 30 08:57:10 <mclasen>	what do you reckon ? today ?
Aug 30 08:57:14 <ebassi>	Alternatively: when's 3.22 scheduled, so I can fix the first paragraph? :-)
Aug 30 08:57:28 <ebassi>	mclasen: I think it's good to go
Aug 30 08:57:32 <mclasen>	I'll do 3.22 just in time for the gnome release
Aug 30 08:58:03 <mclasen>	unless we discover a good reason to delay it (like things that need fixing up for lts)
Aug 30 08:59:03 <mclasen>	I've merged the wayland export api now, and added some language to the docs explaining the stability situation
Aug 30 09:01:29 <bugbot>	New gtk+ bug 770596 filed by mikkel@linet.dk.
Aug 30 09:01:30 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770596 Backend: Win32, normal, gtk-win32-maint, NEW , Unresponsive main window if maximized on a dual monitor system
Aug 30 09:12:12 <hadess>	what's the low-down on https://bugzilla.gnome.org/show_bug.cgi?id=766569 ?
Aug 30 09:12:13 <bugbot>	Bug 766569: Widget: GtkScrolledWindow, enhancement, gtkdev, REOPENED , Better size requisition for GTK_SCROLL_NATURAL children
Aug 30 09:12:28 <hadess>	working out whether i should add work-arounds to gnome-control-center panels for that
Aug 30 09:17:41 <nacho>	hey guys
Aug 30 09:18:13 <nacho>	I was wondering if we should have a g_return_... method that takes also a GError
Aug 30 09:18:26 <nacho>	so in the case where the assumption fails it also sets the gerror
Aug 30 09:18:58 <nacho>	since right now in most places we makes the assumption that if NULL or FALSE the error is set but in the case the pre-condition fails we do not set it
Aug 30 09:22:08 <mclasen>	hadess: lets see if tristan is around for some last minute consultation
Aug 30 09:22:32 <mclasen>	tristan: you talked about making the new sw sizing behavior optional
Aug 30 09:23:46 <tristan>	mclasen, yeah, we need to do that, obviously that behavior effects unsuspecting apps and is just not right for many situations
Aug 30 09:24:12 <mclasen>	would you have time to whip up a patch for it ?
Aug 30 09:24:36 <tristan>	mclasen, sure, I could do it tomorrow (here is 10:30pm)
Aug 30 09:24:46 <mclasen>	thanks, thats appreciated
Aug 30 09:25:00 <tristan>	the most difficult part of course, is just choosing the right semantic / property name
Aug 30 09:25:29 <tristan>	we need to add some property unfortunately, it's not right to associate that with the GTK_SCROLL_NATURAL option
Aug 30 09:26:11 <tristan>	at the same time I'll try to whip up some better wording for the docs of that property (obviously was not very clear)
Aug 30 10:49:15 <bugbot>	New glib bug 770603 filed by markos@freevec.org.
Aug 30 10:49:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770603 gkeyfile, minor, gtkdev, NEW , g_key_file_get_boolean () case insensitive parsing
Aug 30 11:00:24 <mclasen>	Company: want to look into that GTK_DEBUG=resize idea you outlined yesterday ? We need to get those warnings under control...
Aug 30 11:04:20 <mclasen>	hergertme: you did exploding icons ? I'd like to see that, something to show ? 
Aug 30 11:13:46 <halfline>	mclasen: hergert.me/tmp/transfer-animation.webm
Aug 30 11:23:12 *	baedert clicks like a maniac
Aug 30 11:27:47 <nacho>	jjardon, hey
Aug 30 11:28:00 <jjardon>	nacho: hi
Aug 30 11:28:05 <nacho>	jjardon, with the new gettext stuff what is the proper way to generate the .pot file?
Aug 30 11:28:12 <nacho>	I recall running intltool-update in the past
Aug 30 11:33:01 <nacho>	ah! it is generated automatically on make now
Aug 30 11:33:02 <nacho>	good
Aug 30 13:33:04 <mclasen>	Company: in fact, I could use GTK_DEBUG=resize right now
Aug 30 13:33:37 <Company>	mclasen: that just draws stuff, doesn't it?
Aug 30 13:34:37 <mclasen>	I mean what you mentioned yesterday, a debug option that helps tracking down : (gnome-initial-setup:15020): Gtk-WARNING **: gtk_widget_size_allocate(): attempt to underallocate GtkPopover's child GtkBox 0x2f41b60. Allocation is 346x170, but minimum required size is 323x190.
Aug 30 13:36:03 <Company>	that is not a resize problem
Aug 30 13:36:23 <Company>	that is a get_preferred_size() computation problem
Aug 30 13:37:05 <Company>	well, unless it's caused by multiple different resizes trampling on each other
Aug 30 13:37:20 <mclasen>	dunno, it is two wrapping labels in a box in a popover
Aug 30 13:38:05 <Company>	i have no idea what popovers do when wrapping
Aug 30 13:38:21 <mclasen>	maybe I can try to remove all the wrapping and see if it goes away
Aug 30 13:38:46 <Company>	i also have no idea if the warning is wrong
Aug 30 13:38:55 <Company>	maybe 346x170 is a valid size?
Aug 30 13:39:03 <mclasen>	the allocations look like the box assumes that the second label is unwrapped, but then it ends up wrapped anyway
Aug 30 13:42:22 <Company>	this looks like a sizing bug
Aug 30 13:42:44 <Company>	ie GtkPopover does not add the same numbers in get_preferred_size() that it subtracts in size_allocate()
Aug 30 13:44:21 <Company>	never looked at it
Aug 30 13:44:46 <Company>	but I think the height-for-width stuff calculates the for_size wrong
Aug 30 13:45:07 <Company>	ie it doesn't subtract margin/TAIL_HEIGHT
Aug 30 13:45:13 <halfline>	(he just stepped out, he will be back in a few)
Aug 30 13:45:51 <Company>	popover code is written in the old confusing style :/
Aug 30 13:46:10 <Company>	where we don't say "widget size = child size + extra border"
Aug 30 13:46:40 <Company>	and then have a get_extra_border() function that we call from get_preferred_size() and size_allocate() to add/subtract
Aug 30 13:46:59 <Company>	so i'm not sure if anything is wrong, but i guess so
Aug 30 13:47:09 <halfline>	look at gtk_popover_get_rect_coords
Aug 30 13:47:14 <Company>	baedert: you're a popover expert, no?
Aug 30 13:47:28 <Company>	halfline: but that computes coords, not a border
Aug 30 13:47:36 <baedert>	I started porting it to gadgets at some point but got bored
Aug 30 13:47:44 <Company>	halfline: does it do the same stuff as all the get_preferred_* functions?
Aug 30 13:48:03 <halfline>	it seems to account for margin and TAIL_HEIGHT
Aug 30 13:48:16 <baedert>	also popover allocation is also in gtkwindow.c which makes it confusing
Aug 30 13:49:53 <Company>	halfline: yeah, it seems to be that popover_extra_side = border_side + padding_size + MAX (TAIL_HEIGHT, margin_size)
Aug 30 13:50:07 <Company>	s/size/side/g
Aug 30 13:50:11 <baedert>	Usually when fixing those bugs I just printf all the components of the preferred size/allocated sized and look which one could be the difference the output mentions :)
Aug 30 13:50:28 <halfline>	Company: s/side/size/g !
Aug 30 13:51:37 <Company>	oh dammit
Aug 30 13:51:41 <Company>	we even do border width
Aug 30 14:01:23 <halfline>	Company: so it allocates "right" if you turn off label wrapping
Aug 30 14:01:44 <halfline>	so probably something in gtklabel.c versus gtkpopover.c
Aug 30 14:02:30 <baedert>	is there no sizing unit test for popovers?! :)
Aug 30 14:02:32 <vrishab>	Hi.
Aug 30 14:02:52 <vrishab>	Is export GTK_DEBUG=no-pixel-cache recommended for release code ?
Aug 30 14:04:09 <Company>	halfline: no, probably something in gtkpopover.c only
Aug 30 14:04:17 <Company>	halfline: related to height-for-width
Aug 30 14:04:48 <Company>	vrishab: turning on debugging is not recommended for release code ever
Aug 30 14:05:17 <Company>	halfline: which usually means the hfw get_preferred_size() functions don't compute the for_size correctly
Aug 30 14:05:42 *	Company gives up
Aug 30 14:05:51 <Company>	i don't understand what GtkPopover tries to do
Aug 30 14:05:59 *	baedert can't type newlines in the inspector
Aug 30 14:05:59 <Company>	what does it use widget margins for now?!?!
Aug 30 14:06:19 <Company>	baedert: copy/paste works
Aug 30 14:06:49 <Company>	gets you a rectangular box with 000A inside it
Aug 30 14:06:58 <Company>	i think
Aug 30 14:08:22 <vrishab>	Company, Ok. Is there anything which can be done to the prevent this GtkTreeView issue ( Refer https://bug734799.bugzilla-attachments.gnome.org/attachment.cgi?id=283529 )
Aug 30 14:10:47 <Company>	vrishab: i'm sure there's something that can be done
Aug 30 14:11:04 <Company>	:)
Aug 30 14:11:15 <vrishab>	:)
Aug 30 14:11:22 <baedert>	(:
Aug 30 14:11:24 <vrishab>	you mean app code, or libgtk code 
Aug 30 14:11:43 <Company>	vrishab: looks like a libgtk issue, especially if it works with the debug flag
Aug 30 14:12:23 <Company>	somewhere a redraw is not queued properly I'd guess
Aug 30 14:13:05 <vrishab>	Company, ok.
Aug 30 14:13:14 <vrishab>	wonder if no other app faces this issue.
Aug 30 14:13:33 <baedert>	the filechooser has had similar issues for years
Aug 30 14:13:59 <baedert>	mclasen: Why does that label wrap? Not enough space otherwise?
Aug 30 14:14:14 <mclasen>	max-width-chars
Aug 30 14:14:27 <baedert>	:|
Aug 30 14:15:18 <baedert>	all hail to the clip
Aug 30 14:15:45 <vrishab>	baedert, any bug no ?
Aug 30 14:16:26 <baedert>	the filechooser problems happen when scrolling though, not resize
Aug 30 14:17:50 <baedert>	vrishab: can't find it now
Aug 30 14:18:41 <vrishab>	np, found a bug in filechooser trying this :)
Aug 30 14:19:26 <vrishab>	clearing search by clicking <x| doesn't restore the original list
Aug 30 14:21:30 <halfline>	baedert: Company: interesting enough, if you make the bottom label have max-width-chars >= 43 it fixes it
Aug 30 14:21:44 <halfline>	(it's currently max-width-chars = 40)
Aug 30 14:22:00 <baedert>	Ship it!
Aug 30 14:23:07 <baedert>	No, the reported h4w is correct as far as I can tell, the problem seems to be in gtkwindow.c
Aug 30 14:23:24 <halfline>	but then if you drop margin-right to 15 it breaks at 43 and you have to bump it to 44
Aug 30 14:23:42 <halfline>	(drop from 20 to 15)
Aug 30 14:23:52 <halfline>	(16 works fine with 43)
Aug 30 14:25:24 <baedert>	the rect passed to size-allocate is 150 high
Aug 30 14:25:28 <baedert>	the min height is 160
Aug 30 14:25:33 <baedert>	the height used for the label is 120
Aug 30 14:25:39 <baedert>	\o/
Aug 30 14:30:15 <hergertme>	mclasen: libide/transfers/ide-transfers-button.c in ide_transfers_button_begin_theatrics()
Aug 30 14:30:39 <hergertme>	mclasen: it uses our libide/theatrics/ide-box-theatric.c helper w/ EggAnimation
Aug 30 14:30:49 <mclasen>	I was shown a screencast, thanks
Aug 30 14:31:09 <mclasen>	looks about right, nice stuff
Aug 30 14:31:53 <hergertme>	the screenshot does not to the FPS justice :(
Aug 30 14:31:58 <hergertme>	its quite smooth otherwise
Aug 30 14:32:51 <mclasen>	I would expect no less :-)
Aug 30 14:53:16 <baedert>	halfline: Fixed it! http://paste.fedoraproject.org/417532/47258318/
Aug 30 15:03:39 <baedert>	mclasen: so, the problem is that in get_prefered_foo, we're addng the TAIL_SIZE only once
Aug 30 15:04:23 <baedert>	or rather, in get_preferred_height_for_width, we never subtract the tail size from the width we pass to the child widget
Aug 30 15:04:48 <mclasen>	sounds plausible
Aug 30 15:05:08 *	mclasen not looking at the code, just mumbling 
Aug 30 15:06:14 <baedert>	I'm pretty sure I can break popovers heavily by setting the correct css margin/widget margin values
Aug 30 15:07:33 <baedert>	But maybe not because I'm an idiot and still had my last patch applied when I tried that?
Aug 30 15:38:49 <coolkid87>	Does Gtk+ CSS styleprovider support 3D animations?
Aug 30 15:39:22 <coolkid87>	e.g. rotateZ() and such?
Aug 30 15:40:19 <mclasen>	no
Aug 30 15:40:30 <coolkid87>	okay
Aug 30 15:44:01 <coolkid87>	In which version of Gtk+ GSK(scenegraph kit) is coming? 
Aug 30 15:44:49 <baedert>	mclasen: https://paste.xinu.at/m-iOPl9f/ Ignore the first one, the second one was just so that I could even wrap my head around what that funciton was doing
Aug 30 15:45:04 <baedert>	mclasen: And the third one is also weird because _get_rect is weird
Aug 30 15:59:21 <mclasen>	baedert: I'm with Company (can't really make out what the code does)
Aug 30 15:59:26 <mclasen>	so if your patches help, go for it
Aug 30 15:59:39 <mclasen>	you're the only one who has an idea
Aug 30 16:06:39 <baedert>	I'll go to bed now and look into it tomorrow again, get_preferred_width_for_height is broken in the same way I guess
Aug 30 16:35:30 <bugbot>	db0451@gmail.com changed the Component on bug 770614 from general to Widget: Other.
Aug 30 16:35:30 <bugbot>	db0451@gmail.com changed the Product on bug 770614 from gtkmm to gtk+.
Aug 30 16:35:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770614 Widget: Other, normal, gtk-bugs, NEW , GtkScale in HighContrast theme with value = 0: WARNING: allocates negative content width/height to node highlight
Aug 30 16:36:18 <djb>	yeah btw i got ticket editing powers a week or 2 ago. not sure that was intentional?
Aug 30 16:36:29 <djb>	someone was probably trying to ban me and their hand slipped...
Aug 30 17:19:01 <vrishab>	Just a clarification. Is this a glib issue ? http://paste.debian.net/796142/
Aug 30 17:19:27 <vrishab>	that ended in a SIGSEGV
Aug 30 17:22:20 <hergertme>	vrishab: glib does the only safe thing it can on OOM, abort
Aug 30 17:22:29 <hergertme>	so that is by design
Aug 30 17:24:40 <hergertme>	although hrmm, that is in _int_malloc, so i guess that might not be our OOM branch
Aug 30 17:25:12 <tpm>	is the SIGSEGV actually from that thread? are there other active threads?
Aug 30 17:31:27 <vrishab>	Sorry, I lost the core file, but refer to https://bugzilla.gnome.org/page.cgi?id=traceparser/trace.html&trace_id=236585 for details
Aug 30 17:32:02 <vrishab>	hergertme, it is surely not oom, since there was enough memory in the system.
Aug 30 17:32:23 <vrishab>	tpm, I just did a gdb app corefile and bt
Aug 30 17:32:38 <hergertme>	vrishab: possibly, of course if you are 32-bit you can still run out of virtual memory
Aug 30 17:33:04 <vrishab>	nope, 64-bit
Aug 30 17:33:47 <hergertme>	vrishab: try `thread apply all bt`
Aug 30 17:40:51 <vrishab>	will try
Aug 30 17:44:17 <hergertme>	basically, on sigsegv im unsure if gdb leaves you on the thread the caused it or thread-0. so its possible, as tpm said, that the sigsegv was from another thread.
Aug 30 17:45:27 <djb>	wow, i hope i remember that next time i get a segfault...
Aug 30 17:46:54 <hergertme>	(just remember that "thread apply all <command>" will run the command for every thread)
Aug 30 17:46:55 <vrishab>	hergertme, feeling cheated by gdb :) .. will check it next time for sure.
Aug 30 17:47:06 <vrishab>	thread apply all bt
Aug 30 17:47:15 <hergertme>	if you still have the core file, and the binary you ran, you can still get it
Aug 30 17:47:25 <djb>	does Builder have a clever way around this? :)
Aug 30 17:47:58 <hergertme>	djb: i just created the debugger branch yesterday, so not quite there yet :)
Aug 30 17:48:21 <vrishab>	I'm trying to get the core file. trashed it by mistake.
Aug 30 17:48:27 <hergertme>	vrishab: gdb /path/to/binary /path/to/corefile (iirc)
Aug 30 17:49:00 <djb>	well, it seems to be rocketing along, so won't be long heh
Aug 30 17:50:14 <hergertme>	the hard part is the design (as usual)
Aug 30 17:52:08 <djb>	i have been known, on certain days, to spend more time worrying which side to put buttons on and how much spacing to put between widgets... than adding features
Aug 30 17:53:10 <djb>	can't argue with the end result though haha
Aug 30 17:53:25 <hergertme>	that's what side-tracked me with the gobject generator i started on...
Aug 30 17:54:08 <hergertme>	"this is horrible" ... "shouldnt this just be a refactor operation" ... "why do we even have ui for this?" -> give up
Aug 30 17:54:17 <djb>	dang. just make it into a library and get someone else to write the UI :p
Aug 30 17:55:12 <hergertme>	for 3.24, my main goals are refactory engine and debugger. so i think we'll be able to do stuff like "Add gobject property" to a file and it will use the clang AST to determine where to add the enums, get/set prop helpers, declarations, etc
Aug 30 17:55:39 <hergertme>	if only we had GProperty :(
Aug 30 18:00:12 <lone_wolf>	Is there a GTK widget similar to the rebar in Windows? A rebar is basically a container for toolbars which allows the user to move and rearrange them.
Aug 30 18:01:27 <hergertme>	lone_wolf: GtkToolbar is probably what you are looking for
Aug 30 18:01:48 <hergertme>	i dont think you'll find anything as fancy, as say, windows Ribbons though
Aug 30 18:02:05 <djb>	cough thank goodness for that. whuh?
Aug 30 18:02:29 <lone_wolf>	I'm looking for something similar to the Office 2003 toolbars.
Aug 30 18:03:03 <lone_wolf>	I've seen some GTK apps that have toolbars with grippers where they can be dragged around, but I'm not sure how that's done.
Aug 30 18:03:03 <djb>	GtkNotebook would handle the tabbing i guess
Aug 30 18:05:15 <djb>	maybe relevant: https://ubuntuforums.org/showthread.php?t=1609453
Aug 30 18:06:46 <djb>	my guess is that such toolbars are using custom widgets that handle the DND events, but i might be wrong. can't think of a standard widget supporting that though
Aug 30 18:06:53 <djb>	got an example app?
Aug 30 18:06:57 <hergertme>	(deprecated) heh
Aug 30 18:08:05 <djb>	what is?
Aug 30 18:08:08 <lone_wolf>	Is GtkHandleBox usable from GTK in C? Everything I see seems to be about PyGTK.
Aug 30 18:08:26 <djb>	oh, most of GtkToolbar, haha
Aug 30 18:08:50 <djb>	that's the weird thing about googling for GTK+. is python _that_ popular?
Aug 30 18:09:05 <djb>	pygtk is GTK+2, ffs
Aug 30 18:09:21 <djb>	but in this case the search is trivial: https://developer.gnome.org/gtk3/stable/GtkHandleBox.html
Aug 30 18:10:00 <djb>	there's an official Python binding for GTK+ 3, yet it seems to have nowhere near the same level of google saturation
Aug 30 18:10:47 <lone_wolf>	GTK2 apps have always been more responsive in my experience, especially through ssh.
Aug 30 18:10:53 <djb>	bad news: "
Aug 30 18:10:57 <djb>	gtk_handle_box_new has been deprecated since version 3.4 and should not be used in newly-written code. GtkHandleBox has been deprecated."
Aug 30 18:11:37 <djb>	well, GTK+2 is certainly famous, but what i find more staggering is how pygtk results often seem to drown out native C ones
Aug 30 18:13:23 <djb>	the outside impression i get is that toolbaresque widgets are on the way out, as GTK+ aims for the more GNOMEy approach of HeaderBars, Popovers, etc
Aug 30 18:14:22 <lone_wolf>	Yeah, I don't like gedit anymore because of that. I imagine it works well on touchscreens, though.
Aug 30 18:14:50 <lone_wolf>	Is there a way to get a menu's child item based on its index?
Aug 30 18:15:27 <djb>	i use gnome on a laptop exclusively and just like how it doesn't bombard me with visual overload all the time, like e.g. an Office ribbon... opinions etc
Aug 30 18:16:43 <djb>	from a GtkMenu?
Aug 30 18:18:19 <lone_wolf>	Ah, gtk_container_foreach() should work for me.
Aug 30 18:18:27 <djb>	I don't see one. set_active(n) then widget = get_active() would be a hack that the documentation explicitly warns against ;)
Aug 30 18:29:25 <lone_wolf>	Why are they so many of these typedefs, like gchar for char and gpointer for void*? I don't see the point of renaming standard C data types.
Aug 30 18:33:43 <djb>	so don't use them. iirc they'd created a bunch of fixed-width typedefs back when the stdlib lacked those, and they probably tacked the primitives on for some sense of consistency
Aug 30 18:34:21 <djb>	nowadays it's probably more of a coding convention habit than anything else
Aug 30 18:36:31 <hergertme>	you don't want to know why gchar, gint, gdouble, etc exist ...
Aug 30 18:36:39 <hergertme>	its because emacs highlighted them differently
Aug 30 18:37:00 <hergertme>	but in general, if we could ever do an API/ABI break of glib/gobject, we'd probably drop all that
Aug 30 18:37:06 <djb>	oh lol
Aug 30 18:37:55 <hergertme>	ive cargo culted myself into doing them, but im pretty tollerant of superficial stuff like that
Aug 30 18:38:24 <hergertme>	typedef'ing * types to not having * sort of annoys me, but as long as it stops at gpointer, i can live
Aug 30 18:38:47 <djb>	there'd be no ABI break for any of the primitives, i presume
Aug 30 18:40:03 <hergertme>	yeah, just syntax recompile 
Aug 30 18:41:48 <djb>	i guess lazy users could just #include <glib/gtypedefs.h> or something and never have to find-and-replace
Aug 30 18:42:58 <bugbot>	New glib bug 770616 filed by hpj@copyleft.no.
Aug 30 18:42:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770616 general, normal, gtkdev, NEW , GHashTable: Robin Hood hashing
Aug 30 18:43:03 <djb>	even if the headers moved to native types, i mean
Aug 30 18:47:16 <lone_wolf>	OpenGL does the same thing. GLint, GLshort, GLenum...
Aug 30 18:47:37 <hergertme>	thankfully in gtk code we can avoid that and use graphene types now
Aug 30 18:48:26 <djb>	haha
Aug 30 19:36:20 <bugbot>	New gtk+ bug 770619 filed by mike@vee.net.
Aug 30 19:36:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770619 .General, critical, gtk-bugs, NEW , No appmenu shown under certain DEs
Aug 30 22:23:52 <talisein>	Hi, I just upgraded to glib 2.48. It looks like the G_DEFINE_TYPE_WITH_PRIVATE macro for type_name##_get_instance_private() no longer takes a const parameter.. is there a blog post or something about this? google wasn't helpful as far as I can tell
Aug 30 22:25:40 <TingPing>	talisein, https://github.com/GNOME/glib/commit/85a23529ab8e3de4656c134fc3a380db91b1d762 ?
Aug 30 22:25:55 <TingPing>	https://github.com/GNOME/glib/commit/617189f28c5d3eb05d7d09fe453b6f98c87d8a40
Aug 30 22:29:36 <talisein>	ugh
Aug 30 22:30:01 <talisein>	thanks TingPing 
Aug 31 02:07:15 <bugbot>	New gtk+ bug 770624 filed by arnaud.bonatti@gmail.com.
Aug 31 02:07:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770624 Documentation, normal, gtk-bugs, NEW , [PATCHes] Fix typos.
Aug 31 03:09:20 <slomo>	nacho: were you able to run the glib/glib-networking/libsoup tests with my win32 patch? (as said, those tests don't even succeed or compile without my patch) :)
Aug 31 03:42:53 <nacho>	slomo, hey
Aug 31 03:43:17 <nacho>	slomo, see that I used wip/openssl of glib-networking
Aug 31 03:44:04 <nacho>	and I suppose you used msys2?
Aug 31 03:44:06 <nacho>	while I used msvc
Aug 31 03:51:40 <slomo>	nacho: the toolchain we use for gstreamer, but yes
Aug 31 03:51:48 <slomo>	nacho: openssl vs gnutls should not really matter here
Aug 31 03:52:14 <nacho>	slomo, the toolchain might though
Aug 31 03:52:35 <nacho>	slomo, btw is cerbero working with msvc?
Aug 31 03:55:28 <slomo>	nacho: see http://blog.nirbheek.in/2016/05/gstreamer-and-meson-new-hope.html and http://blog.nirbheek.in/2016/07/building-and-developing-gstreamer-using.html
Aug 31 03:56:31 <nacho>	slomo, yeah I saw those posts
Aug 31 03:57:13 <nacho>	but when I checked the cerbero code I did not see how it builds the msvc using the official msvc/nmake projects
Aug 31 03:57:22 <nacho>	so I supposed that it was not ready yet
Aug 31 03:57:37 <nacho>	slomo, from our side we maintain this one: https://github.com/wingtk/gtk-win32
Aug 31 03:57:39 <tpm>	nacho, which official msvc/nmake projects? glib ones?
Aug 31 03:57:45 <slomo>	nacho: it's using the meson generated MSVC projects (in the cerbero branch linked from there)
Aug 31 03:58:24 <tpm>	nacho, we have a meson-based build for glib that we use there, we don't use the official msvc projects
Aug 31 03:58:25 <nacho>	tpm, we are providing the msvc or nmake projects for each library
Aug 31 03:58:35 <nacho>	glib/gtk/libxml2 etc
Aug 31 03:58:50 <nacho>	I see
Aug 31 04:00:12 <tpm>	is the toolchain relevant for that gsocket patch though?
Aug 31 04:00:37 <nacho>	as pointed out it can go in
Aug 31 04:00:42 <nacho>	but it can definitely be relevant
Aug 31 04:04:30 <slomo>	yeah, everything is relevant on windows unfortunately. no idea how anybody is not losing their mind developing on/for windows
Aug 31 04:06:32 <slomo>	nacho: can you merge that patch for me? i assume you have a version that cleanly applies to git master already?
Aug 31 04:07:11 <nacho>	slomo, see that I haven't tested the patch
Aug 31 04:07:19 <nacho>	I assumed you did and the patch seemed fair
Aug 31 04:08:21 <slomo>	nacho: i thought you just told me that you were running the tests with the patch :)
Aug 31 04:08:55 <nacho>	slomo, I run those tests a few months ago and they were passing *without* the patch
Aug 31 04:09:06 <slomo>	ah
Aug 31 04:09:30 <slomo>	then i misunderstood you
Aug 31 04:09:59 <slomo>	well, i'll have to update the patch to latest git master and then retest. might take a while, it was all very long ago already
Aug 31 04:10:15 <slomo>	i won't be able to run the tests though, they don't succeed for me without my patch either
Aug 31 04:11:16 <slomo>	i'll put it on my list :)
Aug 31 04:52:17 <nacho>	ebassi, hey
Aug 31 04:52:28 <nacho>	ebassi, this patch seems fair to me: https://github.com/hsccr/gtk-win32/commit/593a414bd40e1de9487c857f97a91ce9e7f7c6e3
Aug 31 05:02:40 <coolkid87>	Sorry for cross posting, I've written this in #c++ but the channel seems not to be very active so I'm writing it here.
Aug 31 05:02:43 <coolkid87>	Does "composite template" option in glade UI files have any special meaning in gtkmm or it's for C only?
Aug 31 05:02:45 <coolkid87>	I mean in Gtk+ C API there are functions for setting a XML template for a widget class, I guess it's same as having a static Gtk::Builder(RefPtr) object loaded from normal UI XML in Widget class definition?
Aug 31 05:02:46 <coolkid87>	because I see no parallel API in gtkmm for those functions, e.g. gtk_widget_class_set_template
Aug 31 05:40:36 <ebassi>	nacho: Not sure; we don't have any other translation mechanism inside Clutter — but it's not like I care that much.
Aug 31 05:41:01 <ebassi>	nacho: Feel free to commit it to master, with a proper commit message
Aug 31 06:21:26 <nacho>	LRN, https://github.com/wingtk/gtk-win32/issues/31
Aug 31 06:21:32 <nacho>	LRN, btw this is the crash I am getting with msvc
Aug 31 06:21:40 <nacho>	does anything right to you there?
Aug 31 06:21:45 <nacho>	*ring
Aug 31 06:22:07 <tristan>	Anyone familiar with this GTK+ build error ? https://paste.fedoraproject.org/417753/14726388/raw/ ... it happens when building old GTK+ 3.2.4 against more modern libs
Aug 31 06:22:19 <tristan>	did we get an ABI break in gdk-pixbuf at some point ?
Aug 31 06:26:06 <mclasen>	you need a -UGDK_PIXBUF_DISABLE_DEPRECATED somewhere
Aug 31 06:26:46 <tristan>	mclasen, ahhh, and possibly same for glib ?
Aug 31 06:26:55 <mclasen>	unlikely
Aug 31 06:27:14 <tristan>	I pass that error with a gdk-pixbuf 2.26.1 of the same era... but then fail on undefined reference to g_module_close()
Aug 31 06:27:26 <mclasen>	thats odd
Aug 31 06:28:16 <mclasen>	you may miss a gmodule-2.0 in a PKG_CHECK_MODULES line somewhere ?
Aug 31 06:28:18 <tristan>	its from the introspection building though... https://paste.fedoraproject.org/417765/26392781/
Aug 31 06:28:43 <tristan>	anyway, I'll try just backing down the glib... at this point I'm just doing an ugly hack
Aug 31 06:29:08 <tristan>	unable to build a stack from that era from git, so using some tarballs
Aug 31 06:42:34 <bugbot>	New gtk+ bug 770639 filed by cedric.krier@b2ck.com.
Aug 31 06:42:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770639 Widget: GtkEntry, normal, gtk-bugs, NEW , The position argument of 'insert-text' callback is wrongly converted by gi
Aug 31 06:46:27 <bugbot>	mclasen@redhat.com changed the Component on bug 770639 from Widget: GtkEntry to Language Bindings.
Aug 31 06:46:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770639 Language Bindings, normal, gtk-bugs, NEW , The position argument of 'insert-text' callback is wrongly converted by gi
Aug 31 07:00:49 <alex>	Any wayland guy here
Aug 31 07:00:51 <alex>	http://sdkbuilder1.gnome.org/logs/build-2016-08-31-092004/build-gnome-sdk-images-master-i386.txt
Aug 31 07:00:58 <alex>	gtk3 fails to build in nightly runtimes
Aug 31 07:01:08 <alex>	with wayland-scanner issues
Aug 31 07:01:53 <mclasen>	arr
Aug 31 07:01:59 <mclasen>	those big text logs really kill firefox
Aug 31 07:02:04 <slomo>	nacho: were you already playing around with meson? might be a less work-intense way of keeping up-to-date MSVC project files for all these projects
Aug 31 07:02:31 <nacho>	slomo, nope, but seems indeed a great step forward
Aug 31 07:02:47 <nacho>	though at that point why not using cmake?
Aug 31 07:02:47 <baedert>	ah, I had a similar bug on my laptop but not here on my desktop
Aug 31 07:03:39 <slomo>	nacho: http://blog.nirbheek.in/2016/05/gstreamer-and-meson-new-hope.html?showComment=1464011145671#c8053239224284015105 and follow-ups for some reasons
Aug 31 07:05:18 <ebassi>	alex: Does the wayland-protocols installation contain xdg-shell-unstable-v6.xml?
Aug 31 07:05:27 <alex>	mclasen: that one isn't even large
Aug 31 07:06:05 <ebassi>	alex: Ah, you're building 1.6
Aug 31 07:06:06 <mclasen>	are you using wayland-protocols from git ?
Aug 31 07:06:11 <alex>	no, 1.6
Aug 31 07:06:14 <ebassi>	But xdg-shell v6 is in 1.7
Aug 31 07:06:18 <alex>	i see
Aug 31 07:06:26 <alex>	so, gtk3 build reqs should be bumped
Aug 31 07:06:30 <ebassi>	Yes
Aug 31 07:06:32 <alex>	it requires 1.6
Aug 31 07:06:39 <mclasen>	oh, that slipped through
Aug 31 07:07:16 <nacho>	slomo, it would definitely be great indeed
Aug 31 07:07:27 *	mclasen fixes
Aug 31 07:07:55 <alex>	I guess i'll move to git master of wayland and wayland-protocols
Aug 31 07:07:59 <alex>	is that right?
Aug 31 07:08:05 <nacho>	slomo, I would definitely love to slowly transit to it
Aug 31 07:08:14 <nacho>	instead of having to deal with visual studio projects
Aug 31 07:08:35 <nacho>	slomo, but i.e for gettext I had to anyway apply a shitload of patches to get it building with msvc
Aug 31 07:08:35 <mclasen>	alex: thats more of a jadahl question
Aug 31 07:08:41 <alex>	jadahl: ping?
Aug 31 07:10:09 <nacho>	slomo, i.e have a look at https://github.com/wingtk/gtk-win32/commit/03f3a562b1d3155e595f207023843c5830cdf5aa
Aug 31 07:11:51 <slomo>	nacho: i think for gettext we used a stub implementation for now (tpm can you confirm?) :)
Aug 31 07:14:50 <tpm>	not sure, I think we may still build it with mingw32, there were some issues
Aug 31 07:15:12 <tpm>	don't remember any details, only that the configure alone takes eternities
Aug 31 08:45:18 <tristan>	mclasen, I'm taking off for the night... but just in case you didnt notice; proposed patch is up for Bug 766569
Aug 31 08:45:19 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766569 Widget: GtkScrolledWindow, enhancement, gtkdev, REOPENED , Better size requisition for GTK_SCROLL_NATURAL children
Aug 31 08:45:39 <mclasen>	thanks
Aug 31 08:45:43 <mclasen>	will check it out
Aug 31 08:45:50 <mclasen>	when I'm out of these meetings
Aug 31 09:07:55 <nacho>	LRN, hey
Aug 31 09:08:01 <LRN>	yeh
Aug 31 09:08:11 <nacho>	LRN, any reason we use a cross on the cursor when dragging a window on windows?
Aug 31 09:08:28 <LRN>	"because i said so?" :)
Aug 31 09:08:31 <nacho>	for non gtk windows it seems to use the normal cursor
Aug 31 09:19:26 <seb_>	ciao, I have a question. please don't laugh too much at me. I read the gtk tutorial, and when we reach the part of the application example it seems one should use clases and templates for an application. However I had great difficulties to understand how it works for more than 1 window. Has anyone seen a visual / graphical representation an application building with exampleAppClass ? thx
Aug 31 09:22:13 <mclasen>	by tutorial, do you mean this ? https://developer.gnome.org/gtk3/3.20/ch01s04.html
Aug 31 09:23:06 <bugbot>	New glib bug 770646 filed by bugzilla@tecnocode.co.uk.
Aug 31 09:23:06 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770646 general, normal, gtkdev, NEW , glib: Namespace global tapset variables by soname
Aug 31 09:28:35 <seb_>	mclasen: yes correct. 
Aug 31 09:30:00 <seb_>	mclasen: the definition of the struct and their usage, as well as the separation of the into multiple files (class) is not much clear. so I was wondering if there was somewhere a graph
Aug 31 09:30:07 <ebassi>	seb_: You can create as many windows you want; the GtkApplication class will keep track of them, as long as you either set the GtkWindow:application property or call gtk_application_add_window()
Aug 31 09:30:48 <ebassi>	seb_: Each class in the API reference has its hierarchy graph
Aug 31 09:31:04 <ebassi>	https://developer.gnome.org/gtk3/stable/GtkApplicationWindow.html#GtkApplicationWindow.object-hierarchy
Aug 31 09:31:36 <seb_>	ebassi: when I meant graph, I indended a visual representatoin of the object in a graphic
Aug 31 09:31:51 <ebassi>	seb_: What kind of visual representation?
Aug 31 09:32:03 <seb_>	I don t know, kind of a picture
Aug 31 09:32:31 <ebassi>	seb_: I'm sorry, but I don't understand what *kind* of graph you want
Aug 31 09:32:50 <ebassi>	Do you have an example?
Aug 31 09:33:10 <seb_>	umh nope. 
Aug 31 09:33:26 <seb_>	but when I look at the gedit code and the application example code. I see a lot mode definition in the struct
Aug 31 09:33:41 <seb_>	that is the reason I don't understand what they are needed for.
Aug 31 09:34:06 <ebassi>	seb_: In which struct? In the instance structure?
Aug 31 09:34:28 <seb_>	I simply added my window to the gtk application and this is working well. I didn't create any private structure for that neither defined classes. that is the reason I am asking. 
Aug 31 09:34:46 <seb_>	struct _ExampleAppWindow or struct _ExampleAppWindowClass
Aug 31 09:34:58 <seb_>	I don't understand their real purpose
Aug 31 09:35:18 <seb_>	but I was thinking that is becuaswe this is an example. and ina real application they take all their sense
Aug 31 09:35:23 <ebassi>	seb_: You can avoid subclassing with GtkApplication and GtkApplicationWindow, though it's generally good code sanity to subclass them if you go beyond the "example" case
Aug 31 09:36:14 <seb_>	ebassi: exactly that is what I thought. But I guess they need to be expanded with more than a window I guess. 
Aug 31 09:36:14 <ebassi>	If you need to start attaching your own data structures to the application window, or the application singleton, for instance
Aug 31 09:36:28 <seb_>	ebassi: one should define there all the widget ? 
Aug 31 09:37:16 <ebassi>	seb_: Well, if you use a GtkBuilder template to define your UI, it's usually a good idea to subclass GtkApplicationWindow
Aug 31 09:37:43 <seb_>	ebassi: in my test, I actually used the gtkbuilder, but not the template one. 
Aug 31 09:37:50 <seb_>	just building from the glade file
Aug 31 09:38:34 <ebassi>	seb_: That's pretty much the Old Style™ for building UIs
Aug 31 09:38:52 <ebassi>	These days, subclassing and using templates is the recommended practice
Aug 31 09:38:55 <seb_>	:/ ... damm. that is all new for me :D
Aug 31 09:39:01 <LRN>	I thought "Old Style" is creating widgets one by one in your code, manually
Aug 31 09:39:12 <ebassi>	LRN: That's the Old Old Style™
Aug 31 09:39:21 <ebassi>	We went through a bunch of those
Aug 31 09:39:30 <LRN>	Ah, okay then
Aug 31 09:39:31 <seb_>	ebassi: indeed that is what I could feel when readoing the documentaiton and checking gedit programm. 
Aug 31 09:39:39 <ebassi>	There's also the Old Old Old Style™ that used Glade to autogenerate C code :-)
Aug 31 09:39:55 <LRN>	In that case i'm using the Old Style
Aug 31 09:40:07 <ebassi>	seb_: gedit is a pretty complex code base; you may want to look at simpler application
Aug 31 09:40:36 <seb_>	ebassi: would you have one to propose which comes to your mind ? 
Aug 31 09:41:22 <seb_>	or maybe there is another example which would help me to understand better the usage of the struct/class 
Aug 31 09:41:49 <ebassi>	seb_: gnome-dictionary is fairly trivial
Aug 31 09:41:58 <ebassi>	seb_: And it uses multiple windows
Aug 31 09:49:06 <seb_>	ebassi: thank you. I found it on github
Aug 31 09:55:49 <LebedevRI>	question about " Using Pango syntax for the font: style property is deprecated; please use CSS syntax". if i had "font: Sans 8;", it should be "font: 8pt Sans;" now?
Aug 31 09:56:44 <jadahl>	alex: pong
Aug 31 09:56:59 <LebedevRI>	and, does gtk <=3.20 actually support that new css syntax? it does not seem to
Aug 31 10:03:33 <mclasen_afk>	LebedevRI: you can also use font-size: and font-family: separately
Aug 31 10:03:51 <mclasen_afk>	maybe thats better than relying on the vagarities of shorthand syntax...
Aug 31 10:04:15 <alex>	jadahl: So, gtk3 master requires wayland 1.7, which is unreleased
Aug 31 10:04:38 <alex>	jadahl: I want to build gtk3 in the nightly flatpak gnome sdk
Aug 31 10:04:58 <jadahl>	why does it require wayland 1.7?
Aug 31 10:05:09 <jadahl>	wayland-protocols 1.7 is released
Aug 31 10:05:10 <alex>	jadahl: What wayland should i put in there? Do i point it at git master of wayland-protocols?
Aug 31 10:05:13 <jadahl>	wayland 1.7 is very old
Aug 31 10:05:22 <alex>	i mean wayland-protocols
Aug 31 10:05:31 <alex>	oh, 1.7 is released?
Aug 31 10:05:41 <jadahl>	https://lists.freedesktop.org/archives/wayland-devel/2016-August/030606.html
Aug 31 10:05:51 <jadahl>	with tar balls and all
Aug 31 10:06:15 <alex>	Why didn't i find that when i searched?=
Aug 31 10:06:19 <alex>	whatever, thanks!
Aug 31 10:06:49 <jadahl>	good question. its on the website as well
Aug 31 10:07:05 <alex>	I guess i was confused by the gtk3 configure output that erronously said it required 1.6
Aug 31 10:07:10 <alex>	so, i assumed it was the latest
Aug 31 10:07:37 <jadahl>	gtk says it needs 1.6? I thought I bumped that
Aug 31 10:07:41 <jadahl>	because gtk needs 1.7
Aug 31 10:07:44 <mclasen_afk>	I fixed it just now
Aug 31 10:08:02 <alex>	yeah: https://git.gnome.org/browse/gtk+/commit/?id=738b1e3eece46703106640fe764bb8eacad411cc
Aug 31 10:08:15 <jadahl>	\o/
Aug 31 10:08:22 <alex>	what about wayland itself
Aug 31 10:08:30 <alex>	is there anything important in 1.12?
Aug 31 10:08:32 <jadahl>	let me check
Aug 31 10:08:35 <jadahl>	no
Aug 31 10:09:17 <alex>	Also, what is the API/ABI stability of wayland and wayland-protocols?
Aug 31 10:09:45 <alex>	In the freedesktop base runtime we currently have wayland 1.10.0, and protocols 1.3
Aug 31 10:09:51 <mclasen_afk>	wayland-protocols contains both stable and unstable protocols
Aug 31 10:10:04 <jadahl>	wayland is api/abi stable
Aug 31 10:10:26 <alex>	runtimes are supposed to be very stable, so i didn't bump that in the base, just in the gnome-from-git-master layer
Aug 31 10:10:45 <alex>	But maybe its safe to do it in the base?
Aug 31 10:11:01 <mclasen_afk>	the only unstable protocol that we hard-require in gtk is xdg-shell (we fall back to x if it is missing/wrong version)
Aug 31 10:11:13 <baedert>	mclasen_afk: https://paste.xinu.at/m-J9uw2/ should fix both cases fwiw
Aug 31 10:11:16 <mclasen_afk>	everything else we only use if it is presnet
Aug 31 10:11:44 <jadahl>	we don't use any recent libwayland-client feature as far as I can see
Aug 31 10:12:07 <alex>	I guess the question is, if some old app built against 1.10.0/1.3 would things ever break if a) you ran an old app build but wayland was updated, or 2) You rebuild your old app, but wayland was updated
Aug 31 10:12:37 <jadahl>	alex: it'll fallback on x11
Aug 31 10:12:51 <alex>	what will?
Aug 31 10:12:55 <jadahl>	gdk
Aug 31 10:13:14 <alex>	I'm talking in abstract here, any possible flatpak app that does whatever
Aug 31 10:13:20 <alex>	not specifically what gtk would do
Aug 31 10:14:25 <jadahl>	any runtime or wayland talking thing will until protocols have tstabalized need to handle the situations where it (the protocol doesn't exist)
Aug 31 10:14:30 <alex>	You build the-app 0.45 against a runtime with wayland 1.10/1.3. Then the runtime is updated to (say) 1.11/1.7, could anything break?
Aug 31 10:15:04 <alex>	the-app may be using gtk, or sdl2, or custom wayland hackery
Aug 31 10:15:39 <jadahl>	assuming we are talking about wayland here, sdl2 will work since it uses x11 by default
Aug 31 10:15:46 <alex>	(I'm considering updating it because its likely not many apps use wayland anyway)
Aug 31 10:15:59 <jadahl>	custo wayland hackery wont work on operating system from 2017 if it uses the unstable protocols from today
Aug 31 10:16:27 <jadahl>	I've been urging flatpaks shouldn't use wayland until the protocols needed have stabalized
Aug 31 10:16:41 <jadahl>	but if they are to use wayland, they should be able to fallback to x11
Aug 31 10:16:55 <jadahl>	sdl2 in the fdo runtime should use x11 still for example
Aug 31 10:16:56 <alex>	yeah, but if it was built against 1.3 it can't use newer protocols
Aug 31 10:17:48 <jadahl>	if the app only relies on stable protocols, if it built against 1.3 itll work with 1.13
Aug 31 10:17:59 <jadahl>	(note that wayland-protocols is purely a build time dependency)
Aug 31 10:18:16 <alex>	I guess one issue is that if i update wayland-protocols in the runtime then some app build may pick up a newer dependencies and thus break if you don't update your runtime to the latest version 
Aug 31 10:18:39 <alex>	I'll keep it as-is for now i guess
Aug 31 10:18:44 <jadahl>	so far wayland-protocols have been 100% backward compatible, since all old unstable protocols are still shipped
Aug 31 10:19:18 <jadahl>	the protocols shipped have not, but they have been broken "gracefully" i.e. the server/client that wwants to use a new protocol must change.
Aug 31 10:19:55 <jadahl>	but there is no point in putting wayland-protocols in the runtime. only in the sdk
Aug 31 10:20:49 <alex>	Well, by "runtime" here i mean both the platform and the sdk
Aug 31 10:21:04 <alex>	with corresponding bits in the right place
Aug 31 10:21:36 <jadahl>	ok
Aug 31 10:22:59 <mclasen_afk>	baedert: maybe you can convince Company to look at the patches ? I'm stuck in meetings...
Aug 31 10:24:36 <baedert>	mclasen_afk: I'll try, have fun :)
Aug 31 10:25:07 <baedert>	Company: https://paste.xinu.at/m-J9uw2/ Are the last 2 fine with you?
Aug 31 10:26:55 <LebedevRI>	mclasen_afk: all of which is 3.21+?
Aug 31 10:27:03 <LebedevRI>	that did not answer my questions
Aug 31 10:27:12 <mclasen_afk>	no, font-size and font-family have always been supported
Aug 31 10:27:22 <mclasen_afk>	the only thing that changed is the parsing of the shorthand
Aug 31 10:28:01 <Company>	baedert: does the size request code do the same crap with widget margins?
Aug 31 10:28:33 <Company>	or is that just for x/y ?
Aug 31 10:29:41 <Company>	baedert: also: w -= MAX (2 * TAIL_HEIGHT, margin.left + margin.right); is wrong
Aug 31 10:30:03 <Company>	set margin.left to HUGE and margin.right to 0
Aug 31 10:30:25 <Company>	you want HUGE + TAIL_HEIGHT as the result of the calculation
Aug 31 10:30:30 <Company>	but you'll get just HUGE
Aug 31 10:30:52 <baedert>	but that was there before as well?
Aug 31 10:32:43 <Company>	no
Aug 31 10:33:18 <Company>	before that it was MAX(TAIL_HEIGHT, margin.left) + MAX(TAIL_HEIGHT, margin.right)
Aug 31 10:33:44 <Company>	MAX(x, y) + MAX(x, z) != MAX(2x, y + z)
Aug 31 10:52:52 <mclasen>	cosimoc: hey, around ?
Aug 31 10:58:39 <bugbot>	New gtk+ bug 770653 filed by mbiebl@gmail.com.
Aug 31 10:58:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770653 .General, normal, gtk-bugs, NEW , test-suite failure: testsuite/css/style/test-css-style.c: FAIL
Aug 31 10:59:06 <baedert>	Company: widget margins aren't used in the request code
Aug 31 11:18:32 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug 31 11:18:32 2016

**** BEGIN LOGGING AT Wed Aug 31 11:18:46 2016

Aug 31 11:18:46 *	Now talking on #gtk+
Aug 31 11:18:46 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 31 11:18:46 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 31 11:26:13 <Company>	baedert: yes
Aug 31 11:26:25 <Company>	baedert: but they also automatically get subtracted when size allocating
Aug 31 11:27:28 <baedert>	removing the widget margin stuff in _get_rect woks for left/right but now top/bottom is broken
Aug 31 11:31:57 <Company>	i have no idea how popovers work
Aug 31 11:32:07 <Company>	what size does a popover request?
Aug 31 11:32:11 <Company>	border box?
Aug 31 11:32:13 <Company>	margin box?
Aug 31 11:32:43 <Company>	it doesn't seem to use clip either
Aug 31 11:32:56 <Company>	imo it should request border box like any other widget
Aug 31 11:33:01 <Company>	and use clipping
Aug 31 11:33:24 <baedert>	request border box?
Aug 31 11:33:26 <Company>	for both margin and the arrow (it's called tail?)
Aug 31 11:33:40 <Company>	yes
Aug 31 11:33:49 <Company>	or do we request margin box?
Aug 31 11:34:40 <Company>	we request margin box
Aug 31 11:34:42 <Company>	whoops
Aug 31 11:35:03 <Company>	guess i was confused because i thought about negative margins for too long
Aug 31 11:35:44 <Company>	then my only question becomes: how are popovers placed?
Aug 31 11:35:58 <baedert>	check gtkwindow.c
Aug 31 11:36:00 <Company>	ie who computes the x/y coords and how?
Aug 31 11:36:54 <baedert>	I think they were supposed to use the new gdk menu placing stuff but I'm not sure if that's the case right now
Aug 31 11:37:37 <Company>	can you explain to me how popovers are meant to be placed?
Aug 31 11:38:03 <baedert>	not really
Aug 31 11:38:04 <Company>	do they get an x/y coordinate inside some other widget and are placed so they can point there?
Aug 31 11:38:47 <baedert>	they have either a rectangle or a widget they point to
Aug 31 11:38:59 <baedert>	and gtkwindow.c tries to place them so they fit into the toplevel
Aug 31 11:40:15 <Company>	by aligning one side of the rect with one side of the popover?
Aug 31 11:41:19 <Company>	#ifdef WAYLAND
Aug 31 11:41:25 <Company>	  do_everything_different()
Aug 31 11:41:27 <Company>	#else
Aug 31 11:41:30 <Company>	  whatever()
Aug 31 11:41:31 <Company>	#endif
Aug 31 11:41:33 <Company>	yay!
Aug 31 11:41:48 <Company>	this is all clearly poke-at-it-until-it-looks-like-it-works code
Aug 31 11:42:57 <Company>	okay, what i would do:
Aug 31 11:43:08 <Company>	(1) delete all widget margin stuff
Aug 31 11:43:19 <Company>	hope nothing breaks
Aug 31 11:43:34 <baedert>	wayland makes some breakage way more obvious than x: https://paste.xinu.at/FACD/ :)
Aug 31 11:43:36 <Company>	(2) do what your patches did
Aug 31 11:44:21 <Company>	or it's just broken on wayland
Aug 31 11:44:37 <Company>	do_everything_different() etc
Aug 31 11:45:14 <mclasen>	baedert: what did you expect to happen ?
Aug 31 11:48:27 <baedert>	mclasen: No idea, but something else
Aug 31 11:49:08 <baedert>	I'd not have a problem with the popover being cut off in this case, or it just getting closed
Aug 31 11:50:55 <Company>	mclasen: conceptually, I think there's 2 types of behaviors
Aug 31 11:51:01 <Company>	mclasen: modal and nonmodal
Aug 31 11:51:29 <Company>	mclasen: modal popovers should close once you start resizing (ie lose focus) - just like menus do
Aug 31 11:51:52 <Company>	mclasen: and nonmodal ones should probably be clipped by what they're contained in - kinda like overlays in GtkOverlay
Aug 31 11:52:40 <mclasen>	makes sense, at least for popovers that are contained in the toplevel
Aug 31 11:52:54 <mclasen>	not sure about those that hang out
Aug 31 11:53:03 <Company>	i'm not sure if both of these use cases are meant  to be solved by GtkPopover btw
Aug 31 11:53:27 <Company>	hanging out for me clearly means modal
Aug 31 11:53:32 <mclasen>	cosimoc: did you seem my sushi / wayland patch ?
Aug 31 11:53:50 <mclasen>	see, even
Aug 31 11:54:31 <Company>	but the whole use case could maybe better be fixed by a new toplevel thing that's somewhere inbetween popovers and menus
Aug 31 11:55:29 <Company>	while the non-modal case might best be solved without any child windows at all and just using clipping
Aug 31 11:55:40 <Company>	of the relevant widgets
Aug 31 11:55:45 <Company>	hrm
Aug 31 11:56:03 <Company>	though we need WM interaction that wayland won't give us because wayland...
Aug 31 11:56:20 <Company>	if we want to exceed the toplevel allocation that is
Aug 31 12:00:16 <Company>	but do we actually want to exceed the toplevel allocation with non-modal (ie permanent) popovers?
Aug 31 12:00:51 <Company>	because clearly they can be nested and multiple can be open at once (at least in theory)
Aug 31 12:01:19 <mclasen>	so far, we've treated modality and containment as independent
Aug 31 12:04:15 <Company>	i wonder if we should have "layers" as in web speak
Aug 31 12:04:45 <Company>	ie so that you can say "this widget is drawn on top of everything else but placed like a regular widget"
Aug 31 12:06:20 <Company>	kinda like position: fixed or position: absolute or z-order: -1 or so
Aug 31 12:07:06 <mclasen>	cosimoc: nevermind, I see now that you did. Mind if I do a sushi release with that fix ?
Aug 31 12:08:16 <Company>	and then we don't just allow toplevels but any widget to be a root for layers
Aug 31 12:08:31 <Company>	then we can for example make GtkScrolledWindow or GtkNotebook such a root
Aug 31 12:09:00 <Company>	and ensure popuops inside them get properly clipped to stay inside them
Aug 31 12:10:13 <mclasen>	sounds beautiful
Aug 31 12:11:25 <vrishab>	Hi.
Aug 31 12:11:55 <vrishab>	after upgrading to the latest gtk in debian unstable, I get a lot of these
Aug 31 12:11:57 <vrishab>	"gtk_widget_size_allocate(): attempt to underallocate GtkTreeView's child GtkButton 0xf33dc0. Allocation is 21x25, but minimum required size is 29x25"
Aug 31 12:12:50 <vrishab>	for many apps. They are too many. Is there a way to disable them for now ?
Aug 31 12:13:20 <mclasen>	cosimoc: nevermind again, I just did
Aug 31 12:16:32 <nacho>	LRN, hey
Aug 31 12:16:43 <nacho>	LRN, have you ever seen this error with named pipes? "The pipe is being closed"
Aug 31 12:24:57 <cosimoc>	mclasen, sorry just saw your messages... thanks for making the release
Aug 31 13:24:18 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Aug 31 13:24:18 2016

**** BEGIN LOGGING AT Wed Aug 31 13:24:31 2016

Aug 31 13:24:31 *	Now talking on #gtk+
Aug 31 13:24:31 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 31 13:24:31 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 31 13:24:55 <baedert>	but now everyone using libsoup disables those warnings anyway :P
Aug 31 13:44:18 <lazka>	vrishab, I've filed this some days ago: bug 770388
Aug 31 13:44:19 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, NEW , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Aug 31 14:27:05 <nacho>	LRN, sorry, I had to leave, did you answer by any chance? :)
Aug 31 14:29:27 <b4n>	nacho: he didn't
Aug 31 14:29:36 <nacho>	b4n, ah! thanks
Aug 31 14:32:33 <feaneron>	hey, how can I open a text file and gather its text from a resource?
Aug 31 14:32:41 <feaneron>	g_file_get_contents() doesn't seem to work...
Aug 31 14:33:36 <ptomato>	feaneron: g_file_new_for_uri("resource:///blah") followed by g_file_load_contents(_async)
Aug 31 14:37:15 <feaneron>	thanks, it worked!
Aug 31 14:37:29 <djb>	anyone know what's going on here with polari's very own user list popover? http://imgur.com/a/arIav
Aug 31 14:37:38 <djb>	3.21 just hit debian unstable, so fun times ahead
Aug 31 14:38:56 <djb>	GTK+ 3.21 that is; Polari is till 3.20.3
Aug 31 14:39:15 <djb>	*still
Aug 31 14:41:03 <hergertme>	djb: that is almost certainly caused by GtkScrolledWindow:max-content-height not being set
Aug 31 14:42:10 <djb>	thanks. anyone got the master version handy to check if it's still an issue there?
Aug 31 14:42:13 <hergertme>	which personally i think is a bug, because i think it should act the same as before the property was added. but i didn't do the gtk+ code so im not sure what the intention was there.
Aug 31 14:42:34 *	mclasen goes to review the patch
Aug 31 14:42:38 *	hergertme did the EggScrolledWindow version, but i think tristan or feaneron did the upstreaming into gtk+
Aug 31 14:43:01 <baedert>	just wait for that patch to land
Aug 31 14:43:03 <hergertme>	in EggScrolledWindow, we only applied max if it was not -1 iirc
Aug 31 14:43:04 <djb>	as it looks like it might be updated for it: https://git.gnome.org/browse/polari/tree/src/userList.js#n458
Aug 31 14:43:30 <feaneron>	hergertme: when I upstreamed max-content-height, I made sure that it'd work as before
Aug 31 14:43:39 <hergertme>	yeah i thought so too feaneron
Aug 31 14:43:52 <hergertme>	i think it was during the process to fixup the hfw or wfh stuff maybe?
Aug 31 14:44:01 <hergertme>	i dont remember what happened in that final cycle of changes
Aug 31 14:44:29 <feaneron>	i think it was the reworked sizing code of GtkScrolledWindow, which landed right after the new property
Aug 31 14:44:52 <baedert>	yes, the natural content size
Aug 31 14:45:10 <baedert>	max-content-height is completely unrelated to this
Aug 31 14:46:05 <djb>	there's a patch for mch here https://git.gnome.org/browse/polari/commit/src/userList.js?id=aa023a8c3c2b84705b91535f08795ccd3954aef4
Aug 31 14:48:30 <hergertme>	ah okay
Aug 31 14:48:46 <mclasen>	the behavior is going to change back to what it was in 3.20
Aug 31 14:49:07 <feaneron>	great news
Aug 31 14:51:00 <djb>	i've not followed the changes very closely; how do you mean?
Aug 31 14:56:32 <djb>	also GTK+ 3.21 makes Tweak Tool absolutely balloon in size lmao
Aug 31 14:59:58 <mclasen>	same issue
Aug 31 15:01:37 <djb>	ah yeah, via the ScrolledWindow on the Extensions page i'm guessing
Aug 31 15:01:40 <djb>	thanks
Aug 31 15:03:00 <djb>	so that's what's being reverted?
Aug 31 15:03:08 <mclasen>	nothing
Aug 31 15:04:08 <djb>	so what was this about? "the behavior is going to change back to what it was in 3.20"
Aug 31 15:04:48 <baedert>	https://bugzilla.gnome.org/show_bug.cgi?id=766569
Aug 31 15:04:49 <bugbot>	Bug 766569: Widget: GtkScrolledWindow, enhancement, gtkdev, REOPENED , Better size requisition for GTK_SCROLL_NATURAL children
Aug 31 15:06:04 <djb>	thanks
Aug 31 15:08:23 <djb>	great option to have, as i've already needed to propagate it manually in the past, but yeah, better as an option
Aug 31 15:08:29 <bugbot>	mclasen@redhat.com changed the Status on bug 766569 from REOPENED --- to RESOLVED FIXED.
Aug 31 15:08:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766569 Widget: GtkScrolledWindow, enhancement, gtkdev, RESOLVED FIXED, Better size requisition for GTK_SCROLL_NATURAL children
Aug 31 15:13:07 <lone_wolf>	Does a GtkScrolledWindow's hadjustment get automatically destroyed when the scrolled window is destroyed?
Aug 31 15:13:56 <djb>	all internal widgets like that do, unless you specifically ref them
Aug 31 15:14:09 <djb>	...which is probably not allowed anyway(?)
Aug 31 15:14:22 <feaneron>	is there a reliable way to send signals between threads?
Aug 31 15:14:47 <djb>	std::future :D </troll>
Aug 31 15:15:13 <baedert>	"signals between threads"?
Aug 31 15:15:43 <feaneron>	An object in thread X sends a signals that another object in thread Y listens to
Aug 31 15:16:19 <lone_wolf>	Ah, makes sense. I was wondering why GTK_IS_OBJECT(hadjustment) failed after destroying the window.
Aug 31 15:17:09 <mclasen>	feaneron: objects are not associated to threads in gobject...
Aug 31 15:17:20 <djb>	actually i guess you must be allowed to ref() the adjustments, since you might be sharing them with other widgets
Aug 31 15:17:49 <feaneron>	mclasen: so sending emiting a signal in the middle of a g_task_run_in_thread() is safe?
Aug 31 15:18:00 <djb>	and vice-versa, you can set_hadjustment() on an adjustment that's already being used elsewhere, and the ScrolledWindow shouldn't destroy that. so it's just standard ref counting
Aug 31 15:18:28 <baedert>	if it's your own signal, you might have to make sure it's run in the main thread yourself
Aug 31 15:18:33 <lone_wolf>	So it's basically like garbage collection.
Aug 31 15:18:45 <djb>	lone_wolf: but yeah, if you haven't done either of those, then the ScrolledWindow holds the sole reference, so it'll destroy the adjustment when it's disposed
Aug 31 15:18:59 <feaneron>	lone_wolf: it's basically ~not~ gc :)
Aug 31 15:19:38 <djb>	reference counting is one possible implementation of gc, but they're orthogonal
Aug 31 15:20:49 <lone_wolf>	Yes, that's true.
Aug 31 15:21:45 <lone_wolf>	Do I have to call gtk_scrolled_window_set_hadjustment() every time I modify the hadjustment, or does GTK automatically update the scrolled window when it's adjustment is modified?
Aug 31 15:22:02 <baedert>	the latter
Aug 31 15:22:23 <djb>	yeah, it all syncs for you
Aug 31 15:22:49 <baedert>	if you use gtk3, you can even use one adjustment for multiple scrolled windows
Aug 31 15:23:28 <djb>	e.g. create an adjustment, then a Scale and a ScrolledWindow, then set_hadjustment(it) for them both - then do some set_value()s and enjoy the show
Aug 31 15:24:35 <djb>	gtk3-widget-factory has some Scales synced in this way
Aug 31 15:25:33 <mclasen>	feaneron: that really depends on the signal and the handler
Aug 31 15:25:50 <djb>	uh, speaking of which... is it intentional that for the horizontal Scale there, the smooth autoscrolling gets faster as you hold and move the cursor further away VERTICALLY
Aug 31 15:26:21 <djb>	and conversely for the vscale, horizontally
Aug 31 15:30:16 <djb>	nvm, course it is: https://bugzilla.gnome.org/show_bug.cgi?id=770313#c8
Aug 31 15:30:17 <bugbot>	Bug 770313: Widget: GtkRange, normal, gtk-bugs, REOPENED , Scale/Range: right-click is broken: should/previously did change value by page increment, doesn't anymore
Aug 31 15:39:07 <lone_wolf>	How would I add a GtkDrawingArea to a GtkScrolledWindow if I want to scroll the drawing area manually when drawing to it?
Aug 31 15:40:04 <lone_wolf>	gtk_container_add() gives a warning, and tells me to use gtk_scrolled_window_add_with_viewport() instead, but I shouldn't need a viewport for this.
Aug 31 15:40:42 <djb>	This container accepts a single child widget. It adds scrollbars to the child widget and optionally draws a beveled frame around the child widget. The scrolled window can work in two ways:
Aug 31 15:40:46 <djb>	    Some widgets have native scrolling support; these widgets handle certain Gtk::Adjustment signals. Widgets with native scroll support include Gtk::TreeView, Gtk::TextView, and Gtk::Layout.
Aug 31 15:40:47 <djb>	    For widgets that lack native scrolling support, such as Gtk::Grid, Gtk::Box, and so on, the widget will be placed inside a Gtk::Viewport.
Aug 31 15:41:05 <djb>	that'll be why (gtkmm docs but it's just a find/replace)
Aug 31 15:42:11 <djb>	the DrawingArea wouldn't handle e.g. mouse scroll events on its own
Aug 31 15:50:21 <djb>	mclasen: the ScrolledWindow patch on bz wasn't marked as committed. should it be? i have unexplained ticket editing powers so can do it if you want, but am not sure why i have those... heh
Aug 31 15:50:35 <mclasen>	it doesn't matter
Aug 31 15:51:05 <mclasen>	the bug is closed, thats the important bit
Aug 31 15:51:21 <djb>	yeah, cool
Aug 31 16:11:10 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Wed Aug 31 16:11:10 2016

**** BEGIN LOGGING AT Wed Aug 31 16:12:32 2016

Aug 31 16:12:32 *	Now talking on #gtk+
Aug 31 16:12:32 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Aug 31 16:12:32 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Aug 31 16:45:41 <bugbot>	christian@hergert.me changed the Component on bug 770676 from general to Themes.
Aug 31 16:45:41 <bugbot>	christian@hergert.me changed the Product on bug 770676 from gnome-builder to gtk+.
Aug 31 16:45:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770676 Themes, normal, gtk-bugs, NEW , corner is still round when tiling on the right of left side
Aug 31 17:46:34 <lone_wolf>	What signal is triggered when the handle of a GtkScrollbar is dragged?
Aug 31 17:47:30 <djb>	https://developer.gnome.org/gtk3/stable/GtkRange.html#GtkRange-value-changed
Aug 31 17:47:56 <djb>	Scrollbar is a subclass of Range, so it works like anything else with an Adjustment
Aug 31 17:49:04 <djb>	or do you mean dragging only? then you'd be in this foreboding territory: https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-drag-begin
Aug 31 17:49:25 <lone_wolf>	I tried value-changed, but my callback doesn't get called.
Aug 31 17:50:00 <djb>	try change-value maybe https://developer.gnome.org/gtk3/stable/GtkRange.html#GtkRange-change-value
Aug 31 17:50:06 <lone_wolf>	Never mind, it's a bug in my code.
Aug 31 17:50:08 <djb>	(handily very easily confused names)
Aug 31 18:11:36 <norbert>	hi all
Aug 31 18:11:45 <norbert>	since some of you helped me with info the last couple of weeks
Aug 31 18:11:59 <norbert>	I just wanted to let you know that I've released a new version of gtkgo
Aug 31 18:12:00 <norbert>	http://www.norbertdejonge.nl/gtkgo/
Aug 31 18:12:08 <norbert>	I hadn't worked on it for more than 17 years
Aug 31 18:12:21 <norbert>	so I had to migrate it from GTK+ 1.2 to GTK+ 3.18, among other things
Aug 31 18:12:53 <feaneron>	norbert: awsome!!!!!
Aug 31 18:13:04 <norbert>	:)
Aug 31 18:13:11 <feaneron>	norbert: can I share this news with the GNOME community on Google+?
Aug 31 18:13:26 <norbert>	err, I have no social media accounts
Aug 31 18:13:38 <feaneron>	do you mind if I do it?
Aug 31 18:13:43 <norbert>	sure, go ahead
Aug 31 18:13:46 <feaneron>	people need to know about it!
Aug 31 18:14:22 <norbert>	there are still some ancient pages about the program here and there, like this https://archive.debian.net/sarge/gnome/gtkgo
Aug 31 18:14:39 <norbert>	a long, long time ago it was in the repos
Aug 31 18:15:40 <norbert>	anyway, I learned a lot migrating the thing, about signals and callbacks for instance
Aug 31 19:20:34 <Hussam>	I am seeing this after the last fix in bug 766569 (gthumb:19305): Gtk-WARNING **: gtk_widget_size_allocate(): attempt to underallocate GtkBox's child GtkComboBox 0x241b410. Allocation is 113x34, but minimum required size is 119x34.
Aug 31 19:20:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766569 Widget: GtkScrolledWindow, enhancement, gtkdev, RESOLVED FIXED, Better size requisition for GTK_SCROLL_NATURAL children
Aug 31 19:49:53 <feaneron>	scrolled window strikes again
Aug 31 19:59:20 <Hussam>	feaneron: keyboard panel in g-c-c is barely visible now (too tiny). I will revert back to gtk+ 3.21.5 release :) too large is too small ;)
Aug 31 19:59:56 <feaneron>	Hussam: I fixed it locally. It's a 2-line patch
Aug 31 20:00:05 <feaneron>	at least we now have a fine-tuned behavior
Aug 31 20:00:05 <Hussam>	ah, patch please :)
Aug 31 20:00:31 <feaneron>	i'll post in https://bugzilla.gnome.org/show_bug.cgi?id=769314
Aug 31 20:00:33 <bugbot>	Bug 769314: Keyboard, normal, tiagomatos, NEW , General improvements on the new Keyboard panel
Aug 31 20:05:06 <Hussam>	feaneron: gthumb's preferences window is also now too tiny: https://bug770546.bugzilla-attachments.gnome.org/attachment.cgi?id=334566
Aug 31 20:06:20 <feaneron>	ok, lets face it: it'd be better if GtkScrolledWindow:propagate-natural-width was TRUE by default
Aug 31 20:06:30 <feaneron>	we broke everything... once again
Aug 31 20:06:42 *	feaneron will send a patch for that
Sep 01 02:35:07 <bugbot>	arnaud.bonatti@gmail.com changed the Status on bug 770624 from NEW --- to RESOLVED FIXED.
Sep 01 02:35:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770624 Documentation, normal, gtk-bugs, RESOLVED FIXED, [PATCHes] Fix typos.
Sep 01 06:15:54 <mclasen>	tristan: saw the fallout from the scrolledwindow change ?
Sep 01 06:23:36 <baedert>	Company: https://paste.xinu.at/m-V1E/#n-gLVJx-1 ?
Sep 01 06:25:08 <tristan>	mclasen, I noticed in the git history yeah... I had some ping in #gtk+ but had lost it in the scrollback
Sep 01 06:25:16 <tristan>	mclasen, is there anything other than that test case ?
Sep 01 06:25:44 <tristan>	mclasen, probably hadess needs to be notified that gnome-terminal will need to enable that feature to take advantage of it
Sep 01 06:31:28 <mclasen>	I've seen this: https://bug770546.bugzilla-attachments.gnome.org/attachment.cgi?id=334566
Sep 01 06:31:31 <mclasen>	tristan:^
Sep 01 06:39:41 <baedert>	jadahl: fun, I can reproduce popovers being drawn without a current allocation without the subsurfaces (in xwayland) as well
Sep 01 06:40:27 <jadahl>	baedert: think it might be a timing issue
Sep 01 06:40:44 <jadahl>	when I gdb it and break here and there it doesn't happen, but then I remove the breakpoint and it happens
Sep 01 06:41:46 <tristan>	mclasen, hmmm, so what happened there... did that code possibly change somewhere and expect the now optional behavior of scrolled windows to be default ?
Sep 01 06:42:08 <mclasen>	hard to know
Sep 01 06:42:39 <tristan>	mclasen, or maybe sidebars did that ? sidebar there is in a scrolled window, and it's labels now ellipsize in the thought that it's scrolled window will request the natural size ?
Sep 01 06:43:34 <mclasen>	I figured it is because all the labels ellipsize
Sep 01 06:44:19 <baedert>	moar scrolledwindow sizing tests please
Sep 01 06:44:34 <baedert>	testsuite/gtk/scrolledwindow.c, kthxbai
Sep 01 06:45:26 <tristan>	I suspect that those labels started ellipsizing after the natural size propagation behavior was added during this cycle
Sep 01 06:45:58 <tristan>	and now they regress because that behavior had to become optional
Sep 01 06:55:12 <baedert>	mclasen: Would be nice to get bug 770130 fixed for .22 
Sep 01 06:55:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770130 Widget: GtkFileChooser, normal, gtk-bugs, NEW , File chooser dialog forgets "select-multiple" property after changing directories
Sep 01 06:55:43 <mclasen>	can't reproduce, can't fix
Sep 01 06:55:50 <mclasen>	send a patch
Sep 01 06:57:28 <baedert>	my patch would just remove that check and hope for the best
Sep 01 06:58:09 <aday>	jadahl: "better screen rotation support on wayland" - how is it better?
Sep 01 07:01:47 <mclasen>	by actually rotating screens
Sep 01 07:04:28 <nacho>	LRN, hey
Sep 01 07:04:41 <nacho>	LRN, I am having a very weird problem on the glib mainloop...
Sep 01 07:04:51 <nacho>	LRN, https://git.gnome.org/browse/wing/commit/?h=wip/named-pipe-test-write&id=e9cebccfc8f300540e0a92822ebe4521d11d120a
Sep 01 07:05:25 <nacho>	LRN, for some reason I get a read when I shouldn't and the main loop blocked
Sep 01 07:10:38 <jadahl>	aday: it works even if the hardware doesn't support it natively
Sep 01 07:11:25 <aday>	mclasen, jadahl: did screen rotation work with wayland previously?
Sep 01 07:11:46 <jadahl>	only if the hardware supported it natively, i.e. very few and very limiting
Sep 01 07:12:23 <dj-death>	jadahl: is it down with GL now rather than the display hw?
Sep 01 07:12:30 <dj-death>	s/down/done/
Sep 01 07:12:41 <jadahl>	i cant remember exactly what combinations of hardware and rotations worked before, but now it should theoretically work as good as it does on x11 (except a bug where it doesn't)
Sep 01 07:12:49 <jadahl>	dj-death: yepp
Sep 01 07:12:56 <dj-death>	nice
Sep 01 07:13:05 <dj-death>	jadahl: do we have nice transitions now then? ;)
Sep 01 07:13:11 <jadahl>	not yet!
Sep 01 07:13:51 <aday>	and this is equivalent to existing X11 screen rotation?
Sep 01 07:17:35 <jadahl>	aday: pretty much, except I think X11 does it using software and not opengl
Sep 01 07:17:51 <jadahl>	aday: it makes it more or less "just as good" as X11
Sep 01 07:18:02 <jadahl>	except there is a bug that needs to be fixed
Sep 01 07:18:21 <aday>	jadahl: so it's fair to say that it performs better than X11?
Sep 01 07:18:49 <jadahl>	that would need some actual measurement to say with confidence
Sep 01 07:20:00 <jadahl>	and might not be true for all ddx:es etc, so don't put that in any release notes I think
Sep 01 07:20:14 <jadahl>	drivers I mean
Sep 01 07:21:37 <aday>	ok, fair enough
Sep 01 07:21:52 <aday>	thanks jadahl
Sep 01 07:22:28 <jadahl>	np.. not sure there is much more to add.. most work has been boring behind-the-scene stuff
Sep 01 07:22:41 <baedert>	jadahl: so timing for the popover issue means it's a gdk problem? Where's the timing off?
Sep 01 07:23:14 <jadahl>	baedert: no idea. just that me sitting at break points made it go away
Sep 01 07:34:34 <bugbot>	New gtk+ bug 770702 filed by joaquimrocha1@gmail.com.
Sep 01 07:34:34 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770702 Widget: Other, normal, gtk-bugs, NEW , listbox: Select the last row on page down when there are few rows
Sep 01 07:42:54 <bugbot>	New gtk+ bug 770703 filed by joaquimrocha1@gmail.com.
Sep 01 07:42:54 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770703 Widget: Other, normal, gtk-bugs, NEW , Fix using page-down on GtkListBox
Sep 01 08:02:29 <alex>	mclasen: Whats the status of announcing the versioning changes we talked about at guadec?
Sep 01 08:02:51 <mclasen>	ebassi has the finger on the trigger
Sep 01 08:03:02 <ebassi>	Yep; will publish now
Sep 01 08:06:39 <alex>	YAY!
Sep 01 08:08:08 *	TingPing prepares for the angry reddit threads
Sep 01 08:15:09 <alex>	TingPing: are there non-angry reddit threads?
Sep 01 08:15:34 <TingPing>	they are a rare breed
Sep 01 08:16:37 <mceier>	versioning changes ? is GTK+10 incoming ? :)
Sep 01 08:16:42 <alex>	I'll believe it when i see one...
Sep 01 08:17:02 <alex>	"ultra rare", or "legendary"
Sep 01 08:19:48 <baedert>	hey there was a "I like systemd" post on r/linux just the other day
Sep 01 08:20:17 <alex>	baedert: lots of angry comments i expect though
Sep 01 08:20:40 <baedert>	who reads those?! :)
Sep 01 08:21:53 <aday>	is someone lined up to do some social media management?
Sep 01 08:22:51 *	mclasen will be in meetings for most of the day :-(
Sep 01 08:23:02 <baedert>	Company usually
Sep 01 08:23:14 <baedert>	maybe sri if people are mean enough :)
Sep 01 08:23:21 <TingPing>	should he really be in charge of social media? :P
Sep 01 08:23:51 <baedert>	well he just comments on the gtk+ related posts
Sep 01 08:24:36 <alex>	Fanning the flames...
Sep 01 08:27:43 <ebassi>	aday: I'll keep an eye on G+ and Twitter
Sep 01 08:27:50 <Company>	i like dissing sri on reddit
Sep 01 08:28:06 <ebassi>	aday: I haven't pushed a link on reddit because I plan to work today :-)
Sep 01 08:28:37 <Company>	i mostly read reddit for 2 things:
Sep 01 08:28:43 <Company>	1) finding new ideas
Sep 01 08:29:03 <Company>	2) getting a feel for the public perception of things
Sep 01 08:29:40 <TingPing>	2) They hate everything ?
Sep 01 08:30:29 <Company>	TingPing: not pokemon go
Sep 01 08:30:50 <ebassi>	I'm pretty sure they are coming around to that
Sep 01 08:30:51 <TingPing>	oh they certainly hate pokemon go now
Sep 01 08:30:52 <Company>	and for some things (like Apple) it depends on the subreddit
Sep 01 08:31:04 <Company>	okay, by now they hate pokemon go
Sep 01 08:31:15 <Company>	they don't hate Harambe yet I think
Sep 01 08:31:49 <TingPing>	they love harambe *too* much, they made the zoo quit the internet
Sep 01 08:32:19 <alex>	harambe?
Sep 01 08:32:32 <baedert>	lol
Sep 01 08:32:37 <TingPing>	alex, https://en.wikipedia.org/wiki/Killing_of_Harambe
Sep 01 08:32:57 <TingPing>	wikipedia even has a section "Internet memes"...
Sep 01 08:33:06 <baedert>	Company: saw my earlier link?
Sep 01 08:33:10 <Company>	philadelphia zoo got a new gorilla
Sep 01 08:33:20 <Company>	they are gonna do an internet poll to decide the name
Sep 01 08:33:29 <Company>	baedert: no
Sep 01 08:33:41 <baedert>	Company: https://paste.xinu.at/m-V1E/#n-gLVJx-1 ?
Sep 01 08:34:05 <alex>	Gorilla McGorillaFace?
Sep 01 08:35:35 <Company>	alex is about 6 months behind on memes
Sep 01 08:35:50 <alex>	clearly
Sep 01 08:35:57 <Company>	swedish internet is lagging for the first time in history?
Sep 01 08:36:14 <alex>	I guess i should schedule more time for reading reddit comments
Sep 01 08:36:18 <TingPing>	maybe thats gnomes key to hearts of the people, memes
Sep 01 08:36:33 <alex>	How will I have time to play pokemon go then???
Sep 01 08:36:46 <baedert>	doesn't matter, everyone hates pokemon go now
Sep 01 08:37:11 <Company>	alex: you educated your fellow citizens, so you're forgiven
Sep 01 08:37:37 <Company>	since the great takedown of Donald Trump by /r/sweden, nobody will doubt the memeing skills of Sweden ever again
Sep 01 08:42:09 <TingPing>	oh its up: https://blog.gtk.org/2016/09/01/versioning-and-long-term-stability-promise-in-gtk/
Sep 01 08:44:28 <alex>	https://plus.google.com/u/0/+IkeyDoherty/posts/X9WmobPhRcK
Sep 01 08:44:33 <alex>	first feedback
Sep 01 08:45:45 <baedert>	TingPing: what have you done!
Sep 01 08:45:54 <baedert>	:)
Sep 01 08:46:08 <TingPing>	if it wasn't me it would be somebody else
Sep 01 08:47:11 <Company>	alex: that's a clear "I don't know what I'm talking about" post
Sep 01 08:47:46 <Company>	it's about as informed as reddit posts about systemd
Sep 01 08:47:52 <alex>	Company: no, its a "I want both stable and new features, and ponies" post
Sep 01 08:48:42 <baedert>	I don't get why a rolling release distro would follow the unstable releases?
Sep 01 08:49:05 <TingPing>	wouldn't they require both?
Sep 01 08:49:09 <mclasen>	the entire point is offer both
Sep 01 08:49:44 <Company>	baedert: distros are a better way to think about what GTK is trying to do
Sep 01 08:49:47 <alex>	I guess ikey wants the unstable so they can use the new features
Sep 01 08:50:01 <alex>	for solus
Sep 01 08:50:10 <Company>	but nobody wants the new features
Sep 01 08:50:23 <Company>	because they break stuff
Sep 01 08:50:23 <alex>	i mean budgie
Sep 01 08:51:21 <Company>	-  w -= MAX (2 * TAIL_HEIGHT, margin.left + margin.right);
Sep 01 08:51:21 <Company>	-  h -= MAX (2 * TAIL_HEIGHT, margin.top + margin.bottom);
Sep 01 08:51:21 <Company>	+  w -= x + MAX (TAIL_HEIGHT, margin.right);
Sep 01 08:51:21 <Company>	+  h -= y + MAX (TAIL_HEIGHT, margin.bottom);
Sep 01 08:51:43 <Company>	baedert: shouldn't we subtract both sides there?
Sep 01 08:52:10 <TingPing>	so what would the pkg-config/typelib/whatever be for 4.9x?
Sep 01 08:52:19 <baedert>	Company: oh I squashed them wrong
Sep 01 08:52:34 <ebassi>	TingPing: gtk+-5.0
Sep 01 08:52:45 <baedert>	Company: we get the MAX(tail_size, margin) from x/y
Sep 01 08:52:56 <mceier>	TAIL_HEIGHT in both ? shouldn't one be *_WIDTH ?
Sep 01 08:53:00 <ebassi>	TingPing: X.9[0, 2, 4, ... ] → X+1.0
Sep 01 08:53:08 <baedert>	TAIL_WIDTH doesn't exist
Sep 01 08:53:13 <Company>	mceier: it's just 1 value
Sep 01 08:53:19 <mceier>	ok
Sep 01 08:53:28 <Company>	mceier: and somebody named it like that - should probably have been named TAIL_SIZE
Sep 01 08:53:29 <baedert>	Company: so that is like w -= MAX(TAIL_HEIGHT, margin.left) + MAX (TAIL_HEIGHT, margin.right)
Sep 01 08:53:39 <Company>	mceier: but it was only top/bottom when it started...
Sep 01 08:53:55 <Company>	baedert: that sounds right to me
Sep 01 08:54:07 <Company>	can we do popover reftests somehow?
Sep 01 08:54:43 <baedert>	reftests of what?
Sep 01 08:55:10 <Company>	popovers
Sep 01 08:55:24 <Company>	so that I can fudge with the css of it :)
Sep 01 08:55:25 <baedert>	ok
Sep 01 08:56:09 <Company>	(right now for example I wanna use border-radius: 50% to see where the tail gets drawn)
Sep 01 08:58:46 <Company>	yeah, so
Sep 01 08:58:58 <Company>	popover { border-radius: 50%; } does not work well
Sep 01 09:00:49 <baedert>	and the popover docs even promise bubbles. Liars!
Sep 01 09:01:41 <Company>	it's funky
Sep 01 09:02:36 <Company>	put into inspector: http://paste.fedoraproject.org/418884/73491714/
Sep 01 09:02:44 <Company>	and enjoy the popover of your choice
Sep 01 09:03:02 <Company>	(I used the one on widget-factory page 2)
Sep 01 09:04:42 <baedert>	I enjoy the one on page 3 because it works :P
Sep 01 09:05:33 <Company>	where is one on page 3?
Sep 01 09:05:56 <baedert>	Click the "Open" button
Sep 01 09:06:19 <Company>	I just found the (!) button on the right
Sep 01 09:06:21 <Company>	whoops
Sep 01 09:06:22 <alex>	ebassi: i tried the latest widget factory with gsk render today
Sep 01 09:06:27 <alex>	ebassi: sooooo slow on hidpi....
Sep 01 09:07:02 <baedert>	the volume button popovers are great too
Sep 01 09:08:02 <Company>	◡
Sep 01 09:08:48 <ebassi>	alex: Yes, I know :-)
Sep 01 09:09:00 <Company>	□ ... ▢ ... ○ ... ◡
Sep 01 09:09:02 <ebassi>	alex: I'm almost done with the resource cache
Sep 01 09:09:06 <alex>	Cool
Sep 01 09:09:07 <Company>	yup, almsot!
Sep 01 09:10:08 <alex>	ebassi: I think thats gonna be somewhat useless until viewport is native rendernodes though
Sep 01 09:11:14 <Company>	TIL aday writes with much conviction
Sep 01 09:11:32 <Company>	and that that is what people want to see
Sep 01 09:11:51 <TingPing>	Company, speaking of that you have a great voice you should narrate audio books or something
Sep 01 09:12:16 <Company>	TingPing: huh?
Sep 01 09:12:25 <Company>	thx, I guess
Sep 01 09:13:00 <TingPing>	first time i heard you in the guadec presentation
Sep 01 09:13:13 <baedert>	lol
Sep 01 09:14:27 <ebassi>	And we also hit Phoronix
Sep 01 09:17:52 <aday>	much conviction. wow
Sep 01 09:18:26 <Company>	aday: https://www.reddit.com/r/linux/comments/50mz0t/versioning_and_long_term_stability_promise_in_gtk/d75b8jt - send that guy a thank you for the kind words :)
Sep 01 09:19:35 <aday>	it was ebassi and philp too
Sep 01 09:20:36 <TingPing>	the previous posts/presentations about it were vague, so conviction is what it needed :P
Sep 01 09:20:49 <baedert>	Company: so https://paste.xinu.at/m-rLN/#n-wFPyIw-27 is it now
Sep 01 09:23:54 <Company>	baedert: push it
Sep 01 09:23:58 <LRN>	nacho, buffer overflow?
Sep 01 09:24:22 <nacho>	LRN, nah, I was hunting ghosts of the unit test
Sep 01 09:24:26 <Company>	thoo i'm technically a bit uneasy about get_rect_for_size() calls with one argument set to 0
Sep 01 09:24:40 <nacho>	I am trying to repro a problem that it is happening on a real app but I do not seem to manage to reproduce exactly the same problem
Sep 01 09:24:51 <LRN>	happens a lot these days
Sep 01 09:25:15 <nacho>	LRN, on the real app I get a "The pipe is being closed" error
Sep 01 09:25:15 <LRN>	but from your description in that commit, it sounds like buffer overflow
Sep 01 09:25:34 <baedert>	Company: I was too
Sep 01 09:25:39 <nacho>	LRN, in that commit it is just that I was doing something stupid trying to read from the same stream twice
Sep 01 09:25:40 <baedert>	but then it just worked!
Sep 01 09:25:51 <Company>	baedert: that's why i said push it!
Sep 01 09:26:03 <nacho>	LRN, so the pending flag was set and then I was getting a G_IO_ERROR_PENDING 
Sep 01 09:26:57 <LRN>	nacho, no, you were trying to read&write in the client, but only write in the server. Eventually the pipe should have run out of buffer space, because server was not reading anything
Sep 01 09:27:28 <LRN>	(if commit message is accurate)
Sep 01 09:32:12 <baedert>	What do we do with the wayland warnings in testsuite/? We basically can't run them on a wayland host now
Sep 01 09:32:33 <zzeroo>	Hi I have a problem with the InfoBar Widget. http://stackoverflow.com/questions/39271852/infobar-only-shown-on-window-change
Sep 01 09:33:05 <zzeroo>	I can reporduce this in C and in Rust. So I thing I miss something fundamental...
Sep 01 09:36:18 <teuf>	zzeroo: I'd bet on https://bugzilla.gnome.org/show_bug.cgi?id=710888
Sep 01 09:36:19 <bugbot>	Bug 710888: Widget: Other, normal, gtk-bugs, NEW , GtkInfoBar not shown after calling gtk_widget_show
Sep 01 09:40:26 <baedert>	I had a patch for that once
Sep 01 09:40:30 <baedert>	Back then!
Sep 01 09:50:05 <zzeroo>	teuf: baedert: Yes it's this bug. "gtk-enable-animations", FALSE fix it
Sep 01 09:51:05 <baedert>	zzeroo: if you want a practical way, you can just pack the infobar in a revealer and then control the visiblity of the revealer
Sep 01 09:53:09 <baedert>	teuf: that should probably be a 3.22 target
Sep 01 10:22:03 <mclasen>	baedert: wait until your host shell catches up to xdg-shell v6
Sep 01 10:22:14 <mclasen>	or run the testsuite under GDK_BACKEND=x11
Sep 01 10:34:12 <Company>	> Good post.
Sep 01 10:34:14 <Company>	> No sjw bullshit, no feelsies or other stuff. Good on you gnome.
Sep 01 10:34:19 <Company>	see?
Sep 01 10:34:23 <Company>	people like us now!
Sep 01 10:42:01 <alex>	Just wait a bit
Sep 01 10:42:11 <alex>	the haters are just having a slow day
Sep 01 10:46:02 <baedert>	it's before-friday after all
Sep 01 11:39:19 <alex>	hergertme: yo!
Sep 01 11:39:38 <alex>	hergertme: So, i want to make gnome-builder work well as a flatpak now
Sep 01 11:40:12 <alex>	hergertme: What exactly do you need from the "break out of portal and run this thing" dbus service?
Sep 01 12:49:23 <alex>	Is there a race-free way to use g_child_watch_add()?
Sep 01 13:08:12 <halfline>	alex: g_child_watch_source_new does:
Sep 01 13:08:14 <halfline>	  if (waitpid (pid, &child_watch_source->child_status, WNOHANG) > 0)
Sep 01 13:08:21 <halfline>	so i don't think there's a race ?
Sep 01 13:08:25 <alex>	halfline: ah, i see
Sep 01 13:08:28 <alex>	that makes sense
Sep 01 13:19:15 <bugbot>	New gtk+ bug 770716 filed by m_kato@ga2.so-net.ne.jp.
Sep 01 13:19:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770716 Backend: X11, normal, gtk-bugs, NEW , gdk_device_get_source for Microsoft Sculpt Comfort Bluetooth Mouse returns GDK_SOURCE_TOUCHSCREEN
Sep 01 14:35:04 <hergertme>	doh, missed alex
Sep 01 14:46:40 <vrishab>	Hi. GtkFileChooser's open button ( blue button ) gets activated if selected a directory ( in Recent items ). Is this a bug ?
Sep 01 14:47:31 <vrishab>	FileChooser was to open a file.
Sep 01 14:53:04 <vrishab>	nver mind.
Sep 01 14:55:02 <vrishab>	The error message in gedit File Open could have been better. It said cannot open file "/tmp/some_dir"
Sep 01 16:47:08 <aday>	ebassi: just fixed a couple of typos in the blog post - assume it's ok
Sep 01 16:59:39 <ske>	Is it possible to force a window over any DE panels and such while spanning across a multi-monitor setup?
Sep 01 17:00:04 <ske>	(eg. for a full screen overlay)
Sep 01 17:10:03 <hergertme>	ske: see https://specifications.freedesktop.org/wm-spec/1.4/ar01s06.html _NET_WM_FULLSCREEN_MONITORS
Sep 01 17:10:32 <ske>	hergertme, what exactly does that mean?
Sep 01 17:11:16 <hergertme>	" Virtual machine software may use this hint to have a virtual operating system instance that sees multiple monitors. The application window stretches over several monitors, giving the appearance that these monitors have been taken over by the guest virtual machine. "
Sep 01 17:11:23 <hergertme>	" This hint might also be used by a movie or presentation application allowing users to display the media spanned over several monitors. "
Sep 01 17:11:29 <ske>	Alright
Sep 01 17:11:40 <ske>	I did get it to span multiple monitors, just can't get it over the damn DE panels
Sep 01 17:12:00 <hergertme>	this is what is used to tell the WM its toplevel
Sep 01 17:12:20 <ske>	Ah, right
Sep 01 17:12:45 <hergertme>	well, not strictly speaking, the DE components can come back on top, but that is a per WM type thing
Sep 01 17:13:00 <hergertme>	and generally would happen if you alt-tab away from it
Sep 01 17:14:04 <hergertme>	and if the WM doesn't implement the spec.. pretty much out of luck. (although the major ones do)
Sep 01 17:14:31 <hergertme>	some applications will try to manually send configure events to make things happen, but the WM can simply drop those, so it's not guaranteed or anything.
Sep 02 02:49:50 <alex>	ebassi: https://plus.google.com/u/0/+IkeyDoherty/posts/X9WmobPhRcK
Sep 02 02:49:52 <alex>	ebassi: is my comment there correct?
Sep 02 02:51:04 <alex>	ebassi: the micro version part is actually a bit confusing
Sep 02 02:51:27 <alex>	you say new devel starts at 3.90, but thats a bit confusing
Sep 02 02:51:40 <alex>	3.90.x would be the 6 mo devel work
Sep 02 02:52:14 <alex>	is better to start at 3.91.1, work up to 3.91.6 or whatever, and then do 3.92.0 as the first "semistable" release
Sep 02 02:52:28 <alex>	(i.e. odd minor => devel phase)
Sep 02 03:13:29 <alex>	ebassi: eh, fixed some version numbers in that comment...
Sep 02 03:19:24 <skybon>	why do all widget factory functions return GtkWidget* and not a specific widget type?
Sep 02 03:19:49 <skybon>	e.g. gtk_button_new() returns GtkWidget* and not GtkButton*
Sep 02 03:21:28 <alex>	because of C
Sep 02 03:21:45 <alex>	Most of the time you will do widgety things with the new widget
Sep 02 03:21:51 <alex>	add it to things, show it, etc
Sep 02 03:22:07 <alex>	so, as a convenience there return widget so that you don't have to cast it a lot
Sep 02 03:22:33 <alex>	Its not like that in e.g. C++, because upcasts in c++ are automatic
Sep 02 03:22:35 <alex>	not in C though
Sep 02 03:22:47 <skybon>	otoh you lose the type information and have to downcast....
Sep 02 03:23:09 <alex>	Yeah, so many bindings do it differently
Sep 02 03:23:12 <skybon>	if you need this widget's specific props/methods
Sep 02 03:23:42 <alex>	Yeah, both ways have problems. We just at some point picked one, and now thats how it works.
Sep 02 03:23:45 <alex>	Neither is perfect
Sep 02 03:25:34 <skybon>	gtkmm hides all the rough edges so no big deal anyway
Sep 02 03:26:38 <skybon>	alex: thanks for clarification
Sep 02 04:01:44 <heftig>	is g_object_watch_closure thread-safe?
Sep 02 04:17:45 <ebassi>	alex: Yeah, the .9x "initial version" is a bit off. If we're going to keep the odd/even cycle then we'll have to start at .91 and release .92; otherwise, we'll have to start at .89 to release .90 :-)
Sep 02 04:18:04 <alex>	ebassi: yeah, which is weird
Sep 02 04:18:19 <alex>	so 3.91.1 is probably the next release post 3.22.0
Sep 02 04:18:38 <ebassi>	alex: Or we could just ignore it, and start at .90.1 for development and .90.2 for the release; then switch to .91.1 for development and .91.2 for release
Sep 02 04:18:56 <ebassi>	i.e. use the micro component
Sep 02 04:19:24 <alex>	ebassi: its easier to say "even major == super stable", "odd major, even minor == semistable", "odd major, odd minor == all bets are off"
Sep 02 04:20:32 <ebassi>	Sure
Sep 02 04:21:15 <ebassi>	Even though we do treat the .9x minor in a special way, because we're still going to have .1 and .3 minors that are going to be stable
Sep 02 04:21:53 <alex>	ebassi: not if we make the 0.91.1 end up with a 0.92.0 release and then open 0.93.1 for devel
Sep 02 04:22:25 <alex>	eh, s/0./3./
Sep 02 04:22:39 <ebassi>	No, I meant: 4.1 (development for 4.2) and 4.3 (development for 4.4); those are going to be stable even if odd-minor
Sep 02 04:22:49 <alex>	Ah, true
Sep 02 04:23:49 <alex>	Still 4.1.1 is developmen for 4.2
Sep 02 04:24:19 <alex>	Which means, we'll not break compat with things that target 4.0, but the newly added stuff is unstable
Sep 02 04:24:26 <alex>	right?
Sep 02 04:29:26 <ebassi>	Yeah
Sep 02 04:30:05 <csoriano___>	one thing I didn't understand, when developers put in configure.ac version requirements, that will match both 4.1 and 4.90 right?
Sep 02 04:30:29 <ebassi>	No
Sep 02 04:30:34 <ebassi>	4.90 → 5.0
Sep 02 04:31:04 <ebassi>	gtk+-4.0 will be: [ 3.9x, 4.x ]
Sep 02 04:31:18 <ebassi>	gtk+-5.0 will be: [ 4.9x, 5.x ]
Sep 02 04:31:21 <ebassi>	etc.
Sep 02 04:31:24 <csoriano___>	aaah
Sep 02 04:31:58 <csoriano___>	so in configure.ac > 4.0 won't match 4.9 even if the numbers should.
Sep 02 04:32:06 <ebassi>	Yep
Sep 02 04:32:12 <csoriano___>	cool
Sep 02 04:32:21 <ebassi>	Well, it'll make 4.9, it won't match 4.90
Sep 02 04:32:22 <ebassi>	:-)
Sep 02 04:32:51 <csoriano___>	maybe it's because I'm clueless, but maybe that worth clarification
Sep 02 04:33:02 <csoriano___>	I mean just saying that
Sep 02 04:33:05 <ebassi>	csoriano___: The blog post says it :-)
Sep 02 04:33:29 <ebassi>	update the pkg-config file to a new major version, to allow GNOME developers to target the new API during development
Sep 02 04:33:33 <ebassi>	keep the existing major version at the same number
Sep 02 04:33:35 <ebassi>	update the minor version to 90 to indicate a development release
Sep 02 04:33:41 <csoriano___>	hm really? believe me I read it 3 times
Sep 02 04:36:26 <csoriano___>	right, now I understand.  gtk+-4.0    >= $GTK_REQUIRED won't never match 4.90 because that will be in gtk+5.0.
Sep 02 04:41:13 <vrishab>	Hi.
Sep 02 04:41:55 <vrishab>	how to find the list of keyboard shortcuts available for a gtk widget ( say GtkTreeView ) ?
Sep 02 05:00:27 <bugbot>	New gtk+ bug 770742 filed by jadahl@gmail.com.
Sep 02 05:00:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770742 Backend: Wayland, normal, gtk-bugs, NEW , Add 'need feature' API for marking important backend features as needed
Sep 02 06:30:56 <heftig>	is g_object_watch_closure thread-safe?
Sep 02 06:33:59 <ebassi>	heftig: You can call it from multiple threads, yes
Sep 02 06:34:29 <heftig>	sorry, i mean whether it is safe to unref the object in another thread while the closure exists
Sep 02 06:38:16 <ebassi>	heftig: If the object goes away, the closure is removed
Sep 02 06:38:27 <ebassi>	In any thread
Sep 02 06:38:47 <iceTwy>	Hello! When using gdk_pixbuf_new_from_data, the destroy notification function in the arguments is a *pointer* to that function right?
Sep 02 06:39:03 <ebassi>	iceTwy: Yes
Sep 02 06:40:06 <iceTwy>	ebassi: thanks
Sep 02 06:40:14 <iceTwy>	but er
Sep 02 06:40:23 <iceTwy>	the destroy notification function - what does it return?
Sep 02 06:40:34 <iceTwy>	nothing?
Sep 02 06:41:49 <ebassi>	Nothing
Sep 02 06:42:12 <ebassi>	GDestroyNotify is: void (* GDestroyNotify) (gpointer)
Sep 02 06:42:29 <ebassi>	i.e. a function that takes a pointer to the memory region to be freed
Sep 02 06:42:47 <ebassi>	free()/g_free() are pretty much the prototype
Sep 02 06:48:30 <iceTwy>	so I could just pass free or g_free by creating a function pointer that points to them, and pass it?
Sep 02 06:49:08 <jonasdn>	just pass g_free or free
Sep 02 06:56:29 <bugbot>	New gtk+ bug 770745 filed by jadahl@gmail.com.
Sep 02 06:56:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770745 Backend: Wayland, normal, gtk-bugs, NEW , wayland: Warn when an application tries to map popup incorrectly
Sep 02 09:14:16 <bugbot>	jadahl@gmail.com changed the Status on bug 770745 from NEW --- to RESOLVED FIXED.
Sep 02 09:14:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770745 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, wayland: Warn when an application tries to map popup incorrectly
Sep 02 09:18:15 <Company>	mclasen, alex, owen: Can we remove visuals in GTK4? Or do you know some feature that needs them?
Sep 02 09:18:38 <alex>	Company: we use them to see if some things are rgb or rgba
Sep 02 09:18:48 <alex>	Company: but other that that, i don't think so
Sep 02 09:19:11 <Company>	does wayland have rgb vs rgba / visuals?
Sep 02 09:19:23 <alex>	Company: conceptually they may be useful when we get 30 bpp displays
Sep 02 09:19:36 <alex>	Company: but, they need to be stripped down vastly
Sep 02 09:20:42 <alex>	Anyway, the features we need are. Tell if something (window, surface, whatever) is rgb or rgba, and the bit depth
Sep 02 09:21:19 <Company>	the bit depth? What for?
Sep 02 09:22:11 <alex>	Well, if the destination toplevel is 16 bpp, or 30 bpp, then you may want to do things different in your rendering path.
Sep 02 09:22:43 <alex>	Its possible that a separate visual *object* is not needed
Sep 02 09:22:51 <alex>	but these features need to be there
Sep 02 09:23:09 <Company>	well, visuals today are kinda relevant for creation
Sep 02 09:23:15 <Company>	as XCreateWindow wants a visual
Sep 02 09:23:26 <Company>	and I don't think you can change that visual later
Sep 02 09:23:35 <alex>	Yeah, historically x allowed weird things
Sep 02 09:23:50 <alex>	like displays that could do both 8bpp and 24bpp at the same time
Sep 02 09:23:59 <alex>	or 8bpp with different palettes for each window
Sep 02 09:24:04 <alex>	thats all crack now
Sep 02 09:24:27 <alex>	But, you do want to specify e.g. if your toplevel should treat the high byte as alpha or not
Sep 02 09:25:05 <alex>	And, i can imaging on wayland having apps being able to submit both 24bpp and 30bpp surfaces for a 30bpp wayland compositor
Sep 02 09:25:16 <alex>	and it would re-sample the 24bpp ones
Sep 02 09:25:23 <alex>	(in the compositor)
Sep 02 09:43:05 <owen>	Company: I think the idea that the app can specify things about the way the window should be created is still relevant
Sep 02 09:43:25 <owen>	alpha or not, bit depth. Color management is also fairly closely related
Sep 02 09:43:52 <andlabs>	what's the bit layout of a 30bpp color value? o_O
Sep 02 09:43:59 <owen>	Company: Whether the idea that there's a set of visuals you enumerate, and you pick the best matching one ... not sure that's specifically necessary
Sep 02 09:44:01 <andlabs>	A2R10G10B10?
Sep 02 09:44:11 <andlabs>	er
Sep 02 09:44:15 <andlabs>	wait no that's 32
Sep 02 09:44:17 <owen>	andlabs: GEenerally, not compatible with A
Sep 02 09:44:21 <andlabs>	right
Sep 02 09:44:24 <andlabs>	R10G10B10
Sep 02 09:44:28 <owen>	andlabs: 30bits is just 10,10,10
Sep 02 09:44:34 <andlabs>	yeah
Sep 02 09:44:38 <owen>	andlabs: which is a problem for our client-side-decorations setup
Sep 02 09:45:05 <aday>	it'd be useful to have a full list of portals that are supported in 3.21.x
Sep 02 09:45:10 <aday>	(for the release notes)
Sep 02 09:45:11 <owen>	(and also for the use of intermediate buffers in the compositer)
Sep 02 09:45:21 <andlabs>	I'm confusing it with the 16-bit colors stuff that I had to do a while back
Sep 02 09:45:25 <andlabs>	both A1R5G5B5 and R5G6B5
Sep 02 09:45:52 <aday>	oh, i suppose https://blogs.gnome.org/mclasen/files/2016/07/portal-test.png
Sep 02 09:46:03 <andlabs>	in the case of the latter it was fora  computer that could only do R3G3B3 so I don't know why it was stored in such high fidelity
Sep 02 09:46:08 <andlabs>	comparatively high
Sep 02 09:46:11 <andlabs>	probably for portability reasons
Sep 02 09:47:02 <owen>	andlabs: possibly dithering for display
Sep 02 09:50:51 <andlabs>	no dithering; the colors ar ejust scaled down to R3G3B3
Sep 02 10:07:39 <Company>	owen: but visuals are very X11-specific, aren't they?
Sep 02 10:08:30 <Company>	so something like gdk_x11_display_set_window_creation_visual(GdkDisplay *, Visual); might work
Sep 02 10:08:43 <Company>	(that's a really crappy API, but I'm blanking on a better one atm)
Sep 02 10:13:40 <aday>	from the release notes wiki page - "GtkGLArea can use GLES" - what's that good for? why is it an improvement?
Sep 02 10:16:34 <aday>	also, "Richer monitor information with GdkMonitor" - how is it richer? is that a new interface? what does it replace?
Sep 02 10:17:57 <Company>	aday: GdkMonitor encapsulates monitors into their own object
Sep 02 10:18:32 <Company>	aday: this was previously done by calling functions on the GdkScreen with the monitor number and was kinda cumbersome (as numbers changed etc)
Sep 02 10:19:07 <Company>	aday: while doing that work, we added additional information to the GdkMonitor object that wasn't available via GdkScreen (though I forget details)
Sep 02 10:19:26 <Company>	mclasen did that work, so he may be able to give details
Sep 02 10:20:43 <Company>	aday: and GLES vs GL is a choice that OpenGL programs need to make - so by being able to use either, we allow usage with more OpenGL programs (GLES is the embedded GL version, which is somewhat different than regular GL)
Sep 02 10:20:53 <Company>	aday: ebassi is your expert on that
Sep 02 10:27:43 <Company>	owen: I guess X visuals are like wl_shm_format and that doesn't seem to be used at all by gdk-wayland
Sep 02 10:28:29 <Company>	though I guess you can change the wayland format later by just attaching a new buffer to the surface
Sep 02 10:29:52 <alex>	Company: yeah, wayland separates the surface from the buffer
Sep 02 10:30:07 <aday>	thanks Company. GdkMonitor seems clear now
Sep 02 10:30:09 <alex>	the surface stays around, but the backing bits and its format can be changed
Sep 02 10:30:35 <alex>	like frame 1 you can attach an rgb buffer, but then frame 2 an rgba one
Sep 02 10:31:00 <alex>	Thats clearly not something you can do in X
Sep 02 10:31:16 <aday>	GLES is OpenGL ES ?
Sep 02 10:31:23 <Company>	aday: yes
Sep 02 10:31:41 <aday>	the latter seems to be the more common term on the internet
Sep 02 10:32:13 <Company>	dunno, I call it gles, but I'm influence by mesa developers...
Sep 02 10:32:41 <Company>	it's weird because on most platforms you have one or the other so people just refer to that as gl
Sep 02 10:32:52 <alex>	hergertme: ping?
Sep 02 10:33:02 <alex>	hergertme: are you around for some tty discussions :)
Sep 02 10:33:11 <aday>	not to worry. i'll fudge it :)
Sep 02 10:37:26 <aday>	desrt: anything for glib in the release notes?
Sep 02 10:37:39 <ebassi>	aday: OpenGL ES is the "embedded" version of OpenGL; it's what usually gets accelerated on ARM SoCs
Sep 02 10:38:01 <ebassi>	Heh, he quit
Sep 02 10:38:05 <ebassi>	aday: OpenGL ES is the "embedded" version of OpenGL; it's what usually gets accelerated on ARM SoCs
Sep 02 10:38:43 <ebassi>	aday: So if you're writing GL code in GtkGLArea and you expect to run it on ARM, you're likely going to use OpenGL ES, instead of desktop GL
Sep 02 10:39:17 <ebassi>	Company: We also use visuals to determine the appropriate configuration for GL support, since GLX depends on those
Sep 02 10:39:50 <Company>	ebassi: but that's all internal to GDK, isn't it?
Sep 02 10:39:59 <Company>	internal to gdk-x11 even
Sep 02 10:41:11 <ebassi>	Company: In general, yes; but we do take into account the GdkVisual associated to the GdkWindow that creates the GdkGLContext
Sep 02 10:41:16 <ystreet00>	in GL they determine what format your front/back buffers have
Sep 02 10:41:44 <aday>	he's back!
Sep 02 10:41:56 <Company>	ebassi: yes, but you could still do that by looking at window->priv->xvisual
Sep 02 10:43:10 <aday>	ebassi: got it
Sep 02 10:43:21 <ebassi>	Company: Yep
Sep 02 10:47:58 <desrt>	aday: sorry... not really.
Sep 02 10:48:12 <desrt>	philip might give something about structured logging...
Sep 02 10:56:59 <aday>	pwithnall: got anything for me?
Sep 02 10:57:14 <pwithnall>	er
Sep 02 10:57:15 <aday>	no proble, desrt - just checking
Sep 02 10:57:32 <pwithnall>	aday: How much do you want?
Sep 02 10:57:40 <pwithnall>	and do you want it in key–value format?
Sep 02 10:57:52 <aday>	pwithnall: how much have you got?
Sep 02 10:57:57 <pwithnall>	I currently have nothing
Sep 02 10:58:01 <pwithnall>	I can write something in 5 minutes
Sep 02 10:58:30 <aday>	pwithnall: rough bullet points is fine
Sep 02 10:58:39 <pwithnall>	give me a few minutes
Sep 02 11:00:10 <aday>	pwithnall: no rush
Sep 02 11:02:30 <pwithnall>	aday: How about http://paste.fedoraproject.org/419881/28285401/?
Sep 02 11:04:37 <aday>	pwithnall: looks great. what's the high level story there? "it's easier to implement logging now"? is this logs as in journald logs?
Sep 02 11:06:57 <pwithnall>	It’s easier to implement different and more powerful logging schemes, and there should be less confusion about conflicting log handlers from different libraries
Sep 02 11:08:21 <pwithnall>	The other side of the high level story is that it’s easier to include more metadata in log messages, like message IDs (as in journald: https://www.freedesktop.org/software/systemd/man/systemd.journal-fields.html)
Sep 02 11:08:43 <pwithnall>	This is logs as in journald logs, though we should stress that it’s not a hard dependency on journald; it’s only used if it’s running
Sep 02 11:08:51 <pwithnall>	There is no systemd conspiracy here
Sep 02 11:09:44 <aday>	pwithnall: sorry, got disconnected (bangs head against desk). did you say anything after i said "looks great" and before you said "the other side of"?
Sep 02 11:09:56 <pwithnall>	It’s easier to implement different and more powerful logging schemes, and there should be less confusion about conflicting log handlers from different libraries
Sep 02 11:10:09 <pwithnall>	^-- that’s all
Sep 02 11:11:10 <aday>	great, thanks!
Sep 02 11:11:47 <pwithnall>	aday: I’m heading off shortly, so let me know asap if there’s anything else you want clarifying about it
Sep 02 11:11:52 <pwithnall>	or drop me an e-mail
Sep 02 11:12:07 <aday>	pwithnall: will you be around on monday?
Sep 02 11:12:17 <pwithnall>	yup
Sep 02 11:13:19 <aday>	cool. i'll catch you then if i need anything
Sep 02 11:16:13 <pwithnall>	.o/
**** ENDING LOGGING AT Fri Sep  2 12:14:34 2016

**** BEGIN LOGGING AT Fri Sep  2 12:15:36 2016

Sep 02 12:15:36 *	Now talking on #gtk+
Sep 02 12:15:36 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 02 12:15:36 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 02 12:15:57 <Company>	mclasen: also, any reason why you didn't deprecate the Monitor APIs of GdkScreen?
Sep 02 12:17:24 <aday>	are there api docs i can link to for glib structured logging?
Sep 02 12:21:24 <aday>	also, i'll be looking for a screenshot of colored output in the terminal :)
Sep 02 12:27:39 <Company>	wtf
Sep 02 12:27:44 <Company>	the primary monitor can be NULL?
Sep 02 12:28:24 <Company>	there MUST always be a primary monitor
Sep 02 12:28:38 <Company>	nobody is EVER going to check if that return value is NULL
Sep 02 12:28:53 <Company>	if the windowing system doesn't provide a primary monitor, we should pick one at random
Sep 02 15:52:37 <mclasen>	Company: in theory, wayland can support a variety of buffer formats that would need something like a visual to describe
Sep 02 15:53:06 <mclasen>	in practice, mutter and the gdk backend only support 32bit rgba
Sep 02 15:56:29 <Company>	mclasen: can a display have 0 monitors?
Sep 02 15:56:48 <mclasen>	not a very interesting display in that case
Sep 02 15:57:12 <Company>	we have code that does display.get_monitor (0);
Sep 02 15:57:18 <Company>	does that code need to check for NULL?
Sep 02 15:58:09 <Company>	actually: Does that code need to check for display.n_monitors() > 0
Sep 02 16:00:08 <Company>	mclasen: and way more important question: display.get_primary_monitor() always returns NULL on wayland - is that a good idea?
Sep 02 16:00:17 <Company>	returning NULL in general
Sep 02 16:00:24 <Company>	as well as always returning NULL on wayland
Sep 02 16:00:45 <mclasen>	probably not a good idea
Sep 02 16:01:31 <Company>	i would argue we should return get_monitor(0) in that case
Sep 02 16:02:01 <Company>	but if 0 monitors is valid, that still doesn't avoid a possible NULL result
Sep 02 16:04:56 <Company>	 we need a way to test these things across backends during make check
Sep 02 16:11:48 <mclasen>	I actually thought we did. But maybe thats only on X ?
Sep 02 19:13:21 <bugbot>	mclasen@redhat.com changed the Status on bug 769498 from REOPENED --- to RESOLVED FIXED.
Sep 02 19:13:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769498 Themes, normal, gtk-bugs, RESOLVED FIXED, Scrollbars are broken
Sep 02 22:50:58 <bugbot>	New gtk+ bug 770776 filed by jtanx@outlook.com.
Sep 02 22:50:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770776 Backend: Win32, normal, gtk-win32-maint, NEW , gdk_window_invalidate_rect/gdk_window_invalidate_region on a child window causes noticeable flicker
Sep 03 01:12:15 <feaneron_>	hey guys, I have a GtkScale that I assign to a GtkAdjustment
Sep 03 01:12:25 <feaneron_>	the scale, however, doesn't move
Sep 03 01:12:43 <feaneron_>	i already checked that lower = 0, upper = 5
Sep 03 01:13:17 <feaneron_>	any idea on what may be wrong?
Sep 03 01:14:04 *	feaneron prays that someone sees his messages
Sep 03 01:14:21 <baedert>	you have to set one of the other properties
Sep 03 01:14:30 <baedert>	I just don't remember which one
Sep 03 01:15:39 <feaneron>	i ~do~ set all of them
Sep 03 01:16:17 <feaneron>	hrm
Sep 03 01:16:41 <baedert>	there are enough scales in the widget-factory. Does it not work if you just use adjustments with the same values as those?
Sep 03 01:21:13 <feaneron>	weird
Sep 03 01:50:28 <Hussam>	another side effect from the gtkscrolledwindow change http://i.imgur.com/NSQYBLp.png
Sep 03 01:54:16 <baedert>	file a nautilus bug/
Sep 03 01:54:32 <Hussam>	ok
Sep 03 02:04:15 <Hussam>	baedert: I filed a bug. there are also warnings when the popover shows. (nautilus:16393): Gtk-WARNING **: GtkDrawingArea 0x1ff60f0 is drawn without a current allocation. This should not happen.
Sep 03 02:04:23 <Hussam>	also a nautilus issue?
Sep 03 02:04:31 <baedert>	on wayland?
Sep 03 02:04:37 <Hussam>	Xorg
Sep 03 02:04:53 <Hussam>	I mentioned them in the bug report of course.
Sep 03 02:05:01 <baedert>	go with the times, man!
Sep 03 02:05:08 <baedert>	anyway, it's semi-known
Sep 03 02:05:09 <Hussam>	heh
Sep 03 02:05:37 <baedert>	it's very obious on wayland but also reproducible on X but harder
Sep 03 04:14:38 <theuser>	hi
Sep 03 04:19:13 <theuser>	So would this be the place for a quick Gtk3 dev question ?
Sep 03 04:19:19 <baedert>	yes
Sep 03 04:19:32 <baedert>	(but everyone's asleep)
Sep 03 04:19:32 <theuser>	So im messing with gtk3 in perl 
Sep 03 04:19:43 <theuser>	aren't they always?
Sep 03 04:20:35 <theuser>	so i create a new window:  my $window = Gtk3::Window->new('toplevel');  
Sep 03 04:21:18 <theuser>	then i do $window->{'some_weird_tag_for_my_applications_internal_use'} = "TAGDATA";
Sep 03 04:21:27 <theuser>	And that seem to work just fine
Sep 03 04:21:59 <theuser>	No problems, and perl strict and warnings dont complain either
Sep 03 04:22:28 <theuser>	So my question is...  did I break something by doing this?
Sep 03 04:22:49 <theuser>	Something less obvious that would kick me in the face later on... 
Sep 03 04:22:54 <theuser>	?
Sep 03 04:23:20 <baedert>	I don't know what that syntax is doing
Sep 03 04:24:12 <theuser>	On perl at least... the $window thing is a blessed object 
Sep 03 04:55:05 <garnacho>	theuser: I don't know how do perl bindings manage object properties and such, but as long as you're sure there's no naming collisions, it should probably just do what you expect
Sep 03 04:56:40 <theuser>	garnacho, thanks 
Sep 03 04:57:14 <theuser>	garnacho, is there a "right" way of adding "tags" ?
Sep 03 04:57:41 <theuser>	garnacho, or is that even the right name to use?
Sep 03 05:22:02 <garnacho>	theuser: depending on what do you intend to do with it, it might make sense to subclass and make it an object property, that would be at least the gobject-y approach
Sep 03 05:24:17 <theuser>	garnacho, I'm racking my brain trying to think of the best, cleanest, language portable and most effective way of doing things.
Sep 03 05:37:21 <garnacho>	theuser: if your last comment can be ended with "with gobject-based libraries", I'd say it's safe to advise to use gobject properties and signals, although bindings on different languages offer different syntactic sugar on top of those
Sep 03 05:40:26 <baedert>	garnacho: So, adding a grab (for popovers in this case) seems to take seriously long... any idea how to speed that up? We're calling gtk_grab_notify_foreach almost 2k times in the widget-factory when opening a popover
Sep 03 05:40:52 <baedert>	garnacho: I had to do https://paste.xinu.at/Wuvkbb/ to even notice the popover transition in Builder :)
Sep 03 05:57:51 <garnacho>	baedert: probably many could be shaved off (if there's no prior implicit/active/gtk grab, it will end up doing nothing anyway)
Sep 03 05:59:09 <garnacho>	feels like something to tackle while getting GdkWindows out of the way of event propagation
Sep 03 06:05:27 <baedert>	garnacho: you think the popover patch is still a good idea?
Sep 03 06:07:03 <garnacho>	baedert: yeah probably, the same reasons than GtkStack should apply
Sep 03 06:10:57 <baedert>	ok, will push later
Sep 03 07:22:24 <bugbot>	New gtk+ bug 770784 filed by mail@baedert.org.
Sep 03 07:22:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770784 Backend: Wayland, normal, gtk-bugs, NEW , Wayland: Looong popup windows from combobox misplaced
Sep 03 07:22:35 <baedert>	good bug titled are good
Sep 03 07:23:52 <baedert>	*titles
Sep 03 07:27:59 <Hussam>	What would I modify in https://git.gnome.org/browse/gtk+/commit/?id=0984d1622d022bf67207f985f7842b6299818e20 to get the old behavior back?
Sep 03 07:30:27 <baedert>	and with old you mean 3.20 old or pre-that-commit old?
Sep 03 07:31:01 <Hussam>	pre-that-commit. oversized widgets are easier for me to look at than undersized ones.
Sep 03 07:31:22 <baedert>	revert it?
Sep 03 07:31:42 <baedert>	why on earth do those getters even return an int and not a gboolean
Sep 03 07:33:01 *	baedert wonders what language bindings do when a bool function returns -1
Sep 03 07:33:20 <TingPing>	baedert, becomes true
Sep 03 07:33:30 <Hussam>	I already tried replacing both "+                            FALSE," with "+                            TRUE" but it didn't do anything.
Sep 03 07:34:18 <baedert>	TingPing: all of them?
Sep 03 07:35:12 <TingPing>	baedert, can't say for certain but id put money on it
Sep 03 07:37:02 <TingPing>	baedert, also everything is wrong about that commit, the header says gboolean, the function returns gint (i know they are equal) but the real type is guint
Sep 03 07:37:39 <baedert>	yeah I saw
Sep 03 07:37:52 <baedert>	didn't write it, didn't commit it though
Sep 03 07:38:24 <baedert>	(and looking into gtkscrolledwindow.c hurts)
Sep 03 07:38:25 <TingPing>	neither perpetrator is here
Sep 03 07:44:17 <TingPing>	baedert, i made a comment on the original bug at least
Sep 03 07:52:12 <bugbot>	joaquimrocha1@gmail.com changed the Status on bug 770702 from NEW --- to RESOLVED INCOMPLETE.
Sep 03 07:52:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770702 Widget: Other, normal, gtk-bugs, RESOLVED INCOMPLETE, listbox: Select the last row on page down when there are few rows
Sep 03 08:23:29 <baedert>	Company: Here?
Sep 03 08:23:59 <Company>	somewhat
Sep 03 08:24:02 <Company>	but i'm angry
Sep 03 08:24:18 <Company>	at cyanogenmod for being as useful in error reporting as gnome
Sep 03 08:24:42 <baedert>	Company: So, let's say I have a widget and I connect to the parent's size-allocate
Sep 03 08:25:01 <baedert>	and in the signal handler, I do stuff and maybe end up calling gtk_widget_queue_resize on my own widget. Problem or not?
Sep 03 08:25:01 <Company>	"connect to"?
Sep 03 08:25:17 <Company>	connecting to size_allocate already is a problem in my book
Sep 03 08:25:36 <baedert>	oh it's not even the parent
Sep 03 08:25:51 <djb>	really? i needed to connect a handler to that just the other day...
Sep 03 08:26:11 <Company>	but other than that it depends on if your own size_allocate() runs before or after the handler
Sep 03 08:26:17 <Company>	if it runs before, it should be fine
Sep 03 08:26:37 <Company>	djb: you didn't. You just thought that was the easiest solution...
Sep 03 08:27:11 <Company>	djb: you used to be able to connect to size_request, too - then we changed it in GTK to not be a signal anymore and nobody ever had an issue
Sep 03 08:27:44 <djb>	ok, so help me think it through
Sep 03 08:29:03 <djb>	i have a DrawingArea in a ScrolledWindow, and I '''need''' to wait until it's allocated so that i know its height, as i '''need''' to set the SW to height*height to get a square window that scrolls over a rectangular (longer width) DA
Sep 03 08:29:28 <djb>	so on DrawingArea::size_allocate, I do ScrolledWindow::set_size_request
Sep 03 08:29:31 <djb>	what's the right way to do this?
Sep 03 08:29:43 <Company>	you cannot force widgets to be rectangular
Sep 03 08:29:52 <djb>	and yet... i did
Sep 03 08:30:08 <Company>	yes, maybe something useful happens if you do
Sep 03 08:30:12 <Company>	maybe it infloops
Sep 03 08:30:18 <Company>	might depend on GTK version
Sep 03 08:30:54 <djb>	works aok on 3.20 and 3.21
Sep 03 08:31:05 <Company>	that doesn't mean it isn't wrong
Sep 03 08:31:23 <djb>	sure, but just telling me i'm wrong doesn't help me, does it?
Sep 03 08:31:53 <Company>	it does
Sep 03 08:31:55 <Company>	don't do it
Sep 03 08:32:00 <Company>	your design is broken
Sep 03 08:32:01 <djb>	so is there no officially sanctioned way to get a square ScrolledWindow view of a rectangular DrawingArea?
Sep 03 08:32:36 <Company>	there's GtkAspectFrame that tries to force its contents to be square
Sep 03 08:32:54 <Company>	but it does that by just ignoring the extra space
Sep 03 08:33:50 <djb>	right, so i wouldn't be able to scroll into the extra width presumably
Sep 03 08:34:34 <Company>	"scroll into"?
Sep 03 08:35:23 <Company>	didn't you just force the ScrolledWindow to be smaller?
Sep 03 08:35:48 <Company>	a ScrolledWindow won't use that other space then
Sep 03 08:35:56 <djb>	i get what you're ultimately trying to say, but (A) just telling a user "your design is broken; don't do it" doesn't help the image of upstream support - which i try so hard to dismiss as internet FUD  and (B) why is the signal not marked as either deprecated or for advanced container use only if it's so bad?
Sep 03 08:36:56 <Company>	the problem with almost all low-level (read: GtkWidget or GObject) signals is that they get emitted deep into running some internal machinery
Sep 03 08:37:12 <djb>	the DrawingArea is rectangular, wider than it is tall. I put it into the ScrolledWindow so that the user can scroll into the additional width, but only sees a square view of it at all times
Sep 03 08:37:16 <Company>	so unless you know what you are doing, you might cause such a machinery to fall over
Sep 03 08:37:37 <Company>	oh
Sep 03 08:38:02 <djb>	so i wait for the DA to be allocated, so that i can set the SW's size request to the DA's height * height
Sep 03 08:38:34 <Company>	that will not do what you want
Sep 03 08:38:37 <djb>	the only other way i could think of was to hard-code the SW's size req, which seems impractical and horrible
Sep 03 08:39:06 <djb>	well, theres the problem - it does do exactly what i want, and no documentation along the way told me 'this is bad, don't use it even if it seems to work perfectly for you'
Sep 03 08:39:32 <Company>	because you just ignored the scrolled window's extra space (used for borders or non-overlay scrollbars)
Sep 03 08:40:17 <djb>	yeah, fair point - i had to work around non-overlay borders in another area (which i believe the new propagate- properties will do for me once i get that update)
Sep 03 08:40:17 <Company>	which may or may not be 0 and may or may not be equal in both directions
Sep 03 08:40:58 <djb>	i use overlay scrollbars in this case, and it seems ok, though i acknowledge it might be a pixel or 2 off
Sep 03 08:41:22 <Company>	in any case, the problem is that set_size_requets() causes a resize
Sep 03 08:41:28 <djb>	*borders => scrollbars
Sep 03 08:41:28 <Company>	which calls size_allocate
Sep 03 08:41:47 <Company>	which causes your signal handler to call set_size_request
Sep 03 08:41:49 <djb>	which propagates back to the contained DrawingArea, right?
Sep 03 08:41:52 <Company>	which causes a resize
Sep 03 08:41:53 <Company>	which calls size_allocate
Sep 03 08:41:55 <Company>	which causes your signal handler to call set_size_request
Sep 03 08:41:56 <Company>	which causes a resize
Sep 03 08:41:57 <Company>	which calls size_allocate
Sep 03 08:41:58 <Company>	which causes your signal handler to call set_size_request
Sep 03 08:41:59 <Company>	...
Sep 03 08:42:00 <djb>	yeah
Sep 03 08:42:15 <baedert>	huh
Sep 03 08:42:17 <baedert>	what comes next?
Sep 03 08:42:35 <ebassi>	Don't use signals when you want subclassing and overriding get_preferred_* and size_allocate
Sep 03 08:42:42 <Company>	baedert: "which figures out that the size request is identical to the last size request, so it doesn't do anything"
Sep 03 08:42:46 <djb>	we can see if there's really a inf loop - i'll put a cout in the size_allocate handler
Sep 03 08:43:03 <ebassi>	djb: You may get bailed out by some caching
Sep 03 08:43:04 <Company>	djb: if there was, you'd have noticed by now
Sep 03 08:43:15 <ebassi>	Doesn't mean it's a good plan
Sep 03 08:43:21 <baedert>	Doesn't the frameclock bail out after 4 tries anyway?
Sep 03 08:43:21 <djb>	sure, and THIS is helpful
Sep 03 08:43:22 <Company>	djb: it probably does the check i just mentioned somewhere and it luckily stops things
Sep 03 08:44:09 <Company>	djb: I think what you want is put the ScrolledWindow into an AspectFrame
Sep 03 08:44:25 <djb>	bearing in mind i'm not very knowledgeable about the drawing model yet, it's not something i was sufficiently paranoid about while reading the API docs and not being warned about it
Sep 03 08:45:39 <djb>	i appreciate you can't predict every 'clever' use someone will come up with, but still :D
Sep 03 08:46:20 <Company>	we aren't very good at differentiating between "simple" APIs and the deep into internals ones
Sep 03 08:46:37 <baedert>	the internal ones have a -event suffix
Sep 03 08:46:37 <djb>	btw, the reason i first started manually setting size-request on the ScrolledWindow at all was because there was no propagation of child size back then. later i decided to force the square aspect ratio, as an addition to that
Sep 03 08:46:38 <baedert>	:)
Sep 03 08:46:47 <Company>	because APIs sometimes exist because they are meant to be used by everyone and sometimes they exist so clutter-gtk keeps working
Sep 03 08:47:14 <ebassi>	The only thing we can say in the documentation is: signals are meant to be used as notifications, except when they are not; and you're not supposed to change the state of the widget in one, except when you are
Sep 03 08:47:58 <Company>	our own code always violates that stuff, too
Sep 03 08:48:02 <ebassi>	Indeed
Sep 03 08:48:05 <ebassi>	e.g. GtkContainer::add is a signal that you're supposed to use as a way to modify the state of the child and parent
Sep 03 08:48:05 <Company>	and nobody notices until it's too late
Sep 03 08:48:13 <Company>	and the pathbar deadlocks the filechooser in released code...
Sep 03 08:48:17 <ebassi>	Because we didn't have interfaces back then
Sep 03 08:48:18 <djb>	just to make sure we're on the same page - if DA:size-allocate calls SW::set_size_request, then does the latter cause retriggering of the former
Sep 03 08:48:54 <ebassi>	djb: Yes, it'll cause an allocation because it'll change the preferred minimum size of the widget, and the parent needs to be informed about it
Sep 03 08:49:00 <Company>	djb: no idea - it's allowed to
Sep 03 08:49:32 <baedert>	we could totally add a warnign in gtk_widget_queue_resize if we're in size-allocate anway, right?
Sep 03 08:49:35 <Company>	djb: it might not because the scrolledwindow might just keep its contents at the same size and display scrollbars instead
Sep 03 08:49:36 <baedert>	People love warnings
Sep 03 08:49:49 <ebassi>	To be fair, I'm all for documenting the API to be stricter than the way we use it internally
Sep 03 08:49:59 <djb>	right, thanks. yeah, given all the 'mights' here, warning a user would be just great
Sep 03 08:50:03 <Company>	baedert: you mean if we're in size_allocate and have already allocated that widget?
Sep 03 08:50:08 <djb>	whether that's in the docs, code, or even both
Sep 03 08:50:10 <Company>	baedert: or always?
Sep 03 08:50:12 <ebassi>	But then people will open the text editor on gtk+/gtk/gtkwidget.c and, well…
Sep 03 08:50:22 <baedert>	Company: I pick the correct answer!
Sep 03 08:50:54 <Company>	baedert: i like (2) to be the correct answer, but then a bunch of very valid use cases suddenly stop working...
Sep 03 08:51:29 <baedert>	Which ones?
Sep 03 08:51:29 <Company>	also, my f*cking updated cyanogenmod still won't give me root
Sep 03 08:52:37 <djb>	i'll see what other way of doing this i can come up with. thanks for the input and explaining the pitfalls involved in my current method
Sep 03 08:53:10 <Company>	baedert: 13
Sep 03 08:53:28 <djb>	and again i'm all for any way you can forewarn users they're doing something silly, so you don't have to tell them on irc when the code's already established ;-)
Sep 03 08:54:22 <Company>	making scrolledwindows square is silly
Sep 03 08:54:36 <Company>	but set_size_request() isn't smart enough to figure that out...
Sep 03 08:55:11 <djb>	how so? which aspect ratios do you class as non-silly?
Sep 03 08:55:37 <Company>	the one where it uses all the pixels it got
Sep 03 08:56:28 <djb>	well, if AspectFrame does what i want while not being "silly", then everyone's a winner
Sep 03 08:57:02 <Company>	it's still silly
Sep 03 08:57:20 <Company>	why would i want pixels to be unused and instead get a scrollbar?
Sep 03 08:57:37 <djb>	thanks, this is the kind of support users need
Sep 03 08:58:06 <Company>	i am dead serious
Sep 03 08:58:43 <djb>	it's galling to be constantly told i'm doing something silly, which is a pure assumption based on an unknown use case
Sep 03 08:59:25 <djb>	i have a graph that might be wider than it is tall, but i always want it to appear square in its parent window, without eating space from everything else, and for the user to scroll in the extra width if they care to see it. that's it
Sep 03 09:00:14 <Company>	and i design toolkits based on assumptions
Sep 03 09:00:30 <Company>	one of the assumptions is that people wanna use all the space they have
Sep 03 09:00:41 <Company>	so i work very hard to make that work
Sep 03 09:01:07 <Company>	you restricting the size of widgets directly goes against all i'm working for
Sep 03 09:01:28 <djb>	of course, and most people do. i normally do, too! just not in this one case. which ultimately comes down to a subjective judgement about whether this 1 widget should be constrained square, to which i say yes because (A) normally the size of the graph is square or smaller and (B) it's not as important as the other widgets in the window
Sep 03 09:02:06 <Company>	figuring out size by importance is done with minimum vs natural size
Sep 03 09:03:01 <Company>	but even with that approach, squareness is a rarely used metric (as baedert has figured out a few times already)
Sep 03 09:03:02 <djb>	you know, i do my best to dismiss all the internet FUD about GTK+ upstream attitude as just that, FUD, but i hope you can realise that to be continually called silly - and now accused of directly combating the project - really doesn't help me
Sep 03 09:04:44 <djb>	i'll take a look at the min vs nat stuff then
Sep 03 09:04:56 <Company>	yes. You think the toolkit should just work the way you imagine it to work in your head. And when I say it doesn't do that, you come with that "upstream attitude"
Sep 03 09:05:22 <Company>	but to work with something, you have to get a feel for how this thing operates
Sep 03 09:05:38 <Company>	and for example, GTK doesn't do square
Sep 03 09:06:06 <Company>	you can force it to do square, but that probably won't make your code very robust or beautiful
Sep 03 09:06:51 <Company>	just like you can do a table layout in html
Sep 03 09:07:00 <Company>	or use mmap for files
Sep 03 09:07:17 <baedert>	you can let the min height be the given width in _get_preferred_height_for_width as long as the widget is insize a scrolledwindow!
Sep 03 09:07:19 *	baedert hides
Sep 03 09:07:20 <djb>	well, 1st thing is to document your preferred uses better, and 2nd is to tone down your value judgments of other people's designs if they don't quite met them
Sep 03 09:08:16 <Company>	you can be happy i just used "silly" after how dismissive you talked about GTK
Sep 03 09:09:42 <djb>	i wasn't being dismissive; my point was that in reality i disagree with criticism of it, but a lot of the responses here could be off-putting to someone with less (take note) appreciation of and commitment to the toolkit
Sep 03 09:11:11 <Company>	yeah, it's just that we failed to document everything you could ever imagine properly
Sep 03 09:13:15 <djb>	i haven't said you've failed at anything, just that maybe users who aren't educated in the internals yet can have more warning that things aren't intended for general use
Sep 03 09:14:49 <djb>	i'm also not going to say that the alloc>req>alloc loop wasn't silly in retrospect. my point is just that you could've said 'don't use that signal, because X. here are some other ways you can do it, BUT we don't really design for this case, so YMMV'. rather than what amounts to repeating over and over 'your design is silly. stop it', with the useful points mixed among that
Sep 03 09:15:21 <djb>	but ok, that's enough rehashing
Sep 03 09:15:42 <Jackneill>	hey
Sep 03 09:16:12 <Jackneill>	anyone ever thought of a qml style markup lang for gtk?
Sep 03 09:25:29 <ebassi>	Jackneill: Yes, I'm pretty sure *somebody*, *somewhere*, thought of it
Sep 03 09:25:44 <ebassi>	Jackneill: But if you're asking if somebody implemented it, then I can't say I've seen it
Sep 03 09:27:17 <ebassi>	Jackneill: Then again, I don't think QML is a good thing either, and I've gone on record multiple times saying that, so I guess people don't exactly line up to tell me that they implemented a QML-like ad hoc mini-language that messes up logic and presentation and still requires you to write C++ to get adequate performance out of it
Sep 03 09:28:19 <ebassi>	Though Endless has a YAML-based format that does not deal with code, only with UI description of custom components
Sep 03 09:40:57 <baedert>	looking at the popover warnings was a big mistake
Sep 03 09:45:51 <Company>	Jackneill: i'd like a way to express dependencies between object properties in some sort of markup language, but gtk/glib/gnome doesn't have anything like that
Sep 03 09:46:37 <Company>	Jackneill: and I agree with ebassi that it usually evolves into its own programming language, so I've yet to see a really good one
Sep 03 09:46:44 <Company>	but for doing demos, it would be amazing
Sep 03 09:50:11 <baedert>	ugh, gtk_widget_show_now calls in gtktreeview.c
Sep 03 10:07:51 <Jackneill>	well i thought something fully declarative with no logic
Sep 03 10:30:46 <Company>	Jackneill: it always starts that way. And then "if only we had this feature, then we could also..." happens 5-10 times and suddenly you're touring complete
Sep 03 10:31:18 <baedert>	... evaluating javascript for every constraint
Sep 03 11:09:54 <LRN>	Company touring a complete what exactly?
Sep 03 11:24:37 <Company>	LRN: it's turing, not touring, isn't it?
Sep 03 11:25:00 <baedert>	türing
Sep 03 11:25:15 <jmd>	Turing
Sep 03 11:25:37 <Company>	LRN: but while you're here: what's gtk-win32's idea of gtk3 vs gtk4?
Sep 03 11:30:49 <LRN>	no idea
Sep 03 11:30:54 <LRN>	i don't do Visual Studio
Sep 03 11:31:24 <LRN>	(if you mean https://blogs.gnome.org/nacho/2016/09/03/visual-studiogtk-win32-status/ )
Sep 03 11:31:36 <LRN>	if you mean just W32 - well, i don't know. We'll see, i guess.
Sep 03 11:33:41 <djb>	btw, thanks for all the effort to keep things working so well on windows. i find it pretty painful as an os but it's great that your work means it's so trivial to post my stuff to it
Sep 03 11:33:52 <djb>	*port
Sep 03 11:34:52 <LRN>	w32 needs more GL improvements and fixes, that's for sure
Sep 03 11:34:59 <LRN>	and i can't do that
Sep 03 11:36:23 <Company>	LRN: i mean just w32
Sep 03 11:36:37 <Company>	LRN: you could work on gtk3 and try to improve it with a stable base
Sep 03 11:36:53 <Company>	LRN: or go for gtk4 and try to keep it running with all the stuff we do there
Sep 03 11:44:40 <LRN>	i'm looking forward to gtk4, but gtk3 is probably here to stay too
Sep 03 11:49:40 <TingPing>	if LRN lands hidpi support on win32 i might consider finally moving hexchat to gtk3
Sep 03 11:49:55 <LRN>	i don't do HiDPI, fanc does
Sep 03 11:50:08 <LRN>	and it seems to be progressing very well - except for GL
Sep 03 11:50:58 <TingPing>	Company, any idea what 'big' user facing features gtk4 will have for people to actually care to move to it
Sep 03 11:51:14 <TingPing>	like hidpi is something every user brings up that is a big win for gtk3
Sep 03 11:51:35 <Company>	TingPing: nothing yet
Sep 03 11:52:21 <Company>	TingPing: the only thing i could imagine appearing would be canvassy stuff with GSK
Sep 03 11:52:40 <Company>	but 3.0.0 also was pretty meh in new features
Sep 03 11:52:46 <Company>	because we always start by fixing up internals
Sep 03 11:56:16 <Company>	we might end up with 3d transitions, too
Sep 03 11:56:47 <Company>	but that depends more on the designers' ideas than on the code we write
Sep 03 11:56:53 <Company>	(though it first requires fixing internals)
Sep 03 12:00:21 <baedert>	Can I switch to fatal-criticals during a run of my program (in gdb)?
Sep 03 12:01:42 <LRN>	yes, if you can find the right variable to toggle
Sep 03 12:02:37 <TingPing>	baedert, g_log_set_always_fatal()
Sep 03 12:27:44 <baedert>	Company: It seems like some of those widget foo drawn without current allocation warnings are caused by a child widget queueing a resize in size-allocate (I guess that sets alloc_needed to TRUE but it's not getting set to FALSE after and we just enter drawing later). Does that make sense?
Sep 03 12:36:25 <baedert>	hmm no that doesn't really make sense, we're setting alloc_needed to FALSE after size-allocate
Sep 03 12:49:47 <Company>	baedert: maybe not resize_needed?
Sep 03 12:50:56 <baedert>	Company: but we're only printing the warning on alloc_needed
Sep 03 12:57:44 <Company>	we need to make that an enum
Sep 03 12:57:58 <Company>	0 < alloc_needed_on_child < alloc_needed < resize_needed
Sep 03 13:03:40 <baedert>	http://paste.fedoraproject.org/420668/47292205/raw/ alloc_needed, alloc_needed_on_child, resize_needed before and after the queue_resize_internal during a size_allocate
Sep 03 13:05:58 <djb>	that makes me wonder: is GtkBox on trajectory for deprecation? this guide implies yes, but i still see it used a lot in reference docs elsewhere https://developer.gnome.org/gtk3/stable/gtk-migrating-GtkGrid.html
Sep 03 13:12:30 <Company>	baedert: where's that from?
Sep 03 13:12:40 <Company>	baedert: the queue_resize I mean? From adjustment_changed?
Sep 03 13:12:54 <Company>	djb: not anymore
Sep 03 13:13:01 <baedert>	Company: yes
Sep 03 13:13:15 <Company>	djb: when the grid was introduced, we thought we could get rid of it, but it turns out it's useful
Sep 03 13:14:32 <Company>	baedert: yeah, that's broken
Sep 03 13:14:34 <djb>	Company: makes sense, thanks. is the usefulness due to having child properties? i've never had a need to use it yet, but it's good to know i can
Sep 03 13:15:02 <Company>	baedert: the whole handling of determining scrollbar visibility has been broken since at least 3.0
Sep 03 13:15:21 <Company>	djb: the child properties are gonna be deprecated I think
Sep 03 13:15:57 <Company>	djb: in particular the fill and expand ones (we have widget properties for those today - gtk_widget_set_[hv[align() and gtk_widget_set_[hv]expand())
Sep 03 13:16:23 <Company>	djb: no, the difference is that box is 1-dimensional, so you have an obvious order
Sep 03 13:16:33 <baedert>	and hopefully the center widget *cough*
Sep 03 13:17:11 <djb>	Company: but isn't the same thing easily achieved using grid_new(GTK_ORIENTATION_HORIZONTAL) followed by add(leftmost), add(next), add(etc)
Sep 03 13:17:11 <Company>	djb: and that has all sorts of benefits (like focus chain or css selectors or easy orientation togglability)
Sep 03 13:17:19 <baedert>	Company: Let's say it's not broken, how would it work? youw always have to queue a resize when showing scrollbars and you have to do that in adjustments-changed?
Sep 03 13:17:47 <Company>	djb: not explicitly, the grid always has to account for the possibility of somebody adding a 2nd row/column later
Sep 03 13:17:58 <djb>	Company: ah, toggle-able orientation, that's interesting. Grid would fix the children's positions from when they were added, but Box wouldn't
Sep 03 13:18:18 <djb>	Company: interesting points, thanks
Sep 03 13:18:41 <Company>	baedert: i don't think it *can* work with the current semantics
Sep 03 13:19:17 <Company>	baedert: unless you always reserve space for the scrollbr in get_preferred_size()
Sep 03 13:19:39 <Company>	baedert: in that case you'd only need to queue_allocate() but not queue_resize()
Sep 03 13:20:15 <Company>	baedert: and you could refrain from doing that during size_allocate() (ie by blocking the signal handler while allocating the child)_
Sep 03 13:20:32 <djb>	baedert: interesting comment about the centre child, made me check GtkHeaderBar, i'd just assumed it used a Box internally, but it doesn't
Sep 03 13:20:50 <Company>	djb: it uses an action bar which uses a box, doesn't it?
Sep 03 13:21:20 <baedert>	nah
Sep 03 13:21:24 <Company>	the center widget is a joke that should never have been added
Sep 03 13:21:24 <baedert>	GtkHeaderBar does its own thing
Sep 03 13:21:32 <baedert>	the center widget exists because actionbar
Sep 03 13:21:47 <baedert>	(the former is why expand didn't work in GtkHeaderBar until recently)
Sep 03 13:21:53 <djb>	yeah, never mind, i was just failing at grep there
Sep 03 13:21:56 <Company>	i was really angry when people just committed it
Sep 03 13:22:09 <Company>	because it was the easiest thing to do
Sep 03 13:22:15 <Company>	and then it broke all the time
Sep 03 13:22:24 <Company>	i just ignore the center widget these days
Sep 03 13:22:29 <Company>	and pretend it doesn't exist
Sep 03 13:22:37 <Company>	and when actionbar breaks: meh
Sep 03 13:22:56 <Company>	what is the actionbar even?
Sep 03 13:22:59 <djb>	fun game: guess what Company is attacking first in the GTK+ 4 cycle
Sep 03 13:23:16 <Company>	djb: GdkScreen
Sep 03 13:23:41 <baedert>	djb: better question: How many gtk4 branches does he already have locally?
Sep 03 13:23:46 <Company>	actually, the first thing I did was remove GtkStatusIcon, because it uses so many stupid GDK APIs
Sep 03 13:23:52 <Company>	1
Sep 03 13:23:57 <Company>	I just started this week
Sep 03 13:24:13 <Company>	the fun question is "How many has he planned?"
Sep 03 13:24:22 <djb>	ah nice, the full demise of systray icons
Sep 03 13:24:51 <baedert>	I thought git rm -r deprecated/
Sep 03 13:25:52 <Company>	baedert: you'd be surprised a how much that breaks
Sep 03 13:26:07 <Company>	baedert: because non-deprecated stuff still uses deprecated stuff
Sep 03 13:26:20 <Company>	GtkLabel for example still inherits from GtkMisc
Sep 03 13:27:00 <Company>	and all the deprecated stuff is used in a11y
Sep 03 13:27:06 <Company>	and then there's tests that use them
Sep 03 13:27:20 <djb>	wow, so do Image and Arrow
Sep 03 13:27:31 *	baedert knows
Sep 03 13:27:39 <baedert>	btw remove GtkLabel:angle please, thanks
Sep 03 13:28:05 <baedert>	(otoh when we can apply input transforms that might actually work now and be a good show case?)
Sep 03 13:28:55 <Company>	baedert: input transforms would get their own container widget and not complicate GtkLabel
Sep 03 13:29:02 <djb>	baedert: haha, i use angle for a cheap logo gimmick on one button
Sep 03 13:29:22 <Company>	the best reason to remove angle is gnome-panel
Sep 03 13:29:32 <Company>	which still thinks rotated text is a good idea
Sep 03 13:29:36 <djb>	baedert: purely because i'm bad at graphic design and lazy, of course
Sep 03 13:29:56 <Company>	djb: the anwer here of course is SVG
Sep 03 13:30:35 <djb>	for sure, or even just render a bitmap from something else. i just took the lazy road
Sep 03 13:31:53 <baedert>	Company: Let's say I do a if(toplevel){print_entire_hierarchy()} check at the end of gtk_widget_size_allocate_with_baseline. Should alloc_needed/_on_child/resize_needed all be FALSE?
Sep 03 13:32:45 <Company>	baedert: for all widgets that are to be drawn: yes
Sep 03 13:33:23 <Company>	baedert: invisible (and child-invisible?) widgets may not
Sep 03 13:34:14 <Company>	not sure if there are other reasons why widgets might not get allocated
Sep 03 13:35:53 <baedert>	I just realized that I'm not actually staring at a screen full of 0s and 1s, just like my mom says I do
Sep 03 13:39:11 <baedert>	*now ffs
Sep 03 13:39:58 <djb>	heh, binary editing, been there
Sep 03 13:42:28 <baedert>	yeah great the toplevel's GtkBox ends up with 111 and the rest with 000
Sep 03 13:43:10 <baedert>	So even the toplevel has 000 even though the child needs an alloc which means alloc_on_child should be set on the toplevel(?)
Sep 03 14:18:04 <coolkid87>	When I try to convert GtkTreePath to GtkTreeIter with gtk_tree_model_get_iter() it gives critical warning when path is pointing to 0th element.
Sep 03 14:18:14 <coolkid87>	is this normal
Sep 03 14:18:16 <coolkid87>	?
Sep 03 14:18:32 <coolkid87>	0th element of the GtkTreeModel*
Sep 03 14:20:11 <coolkid87>	for subsequent elements I don't get this warning
Sep 03 14:21:03 <coolkid87>	For a treemodel 0 is a valid path, right? the first row?
Sep 03 14:23:15 <coolkid87>	"Gtk-CRITICAL **: gtk_tree_model_get_iter: assertion 'path->depth > 0' failed"
Sep 03 14:24:57 <TingPing>	coolkid87, i believe so, but its probably easier to use gtk_tree_model_get_iter_first()
Sep 03 14:25:17 <TingPing>	at least that returns false if empty
Sep 03 14:26:43 <coolkid87>	TingPing: okay... and the mm binding doesn't have this one, probably. perfect :D
Sep 03 14:27:21 <TingPing>	it has the annotations for bindings
Sep 03 14:28:23 <coolkid87>	I'm going to try to use that in mm, I'm saying by looking at Devhelp 
Sep 03 14:28:59 <TingPing>	hmm, yea i see how it isn't binding friendly
Sep 03 14:31:36 <djb>	coolkid87: gtkmm should bind everything, and the devs would be happy to hear if it's accidentally missed anything
Sep 03 14:32:11 <djb>	coolkid87: ... that said, it uses an stdlib-style .children() container, so you probably want *treeModel.children().begin()
Sep 03 14:32:38 <djb>	or just operator[0]
Sep 03 14:32:55 <coolkid87>	okay
Sep 03 14:33:02 <djb>	...coupled with checking .empty() if you like, etc
Sep 03 14:33:23 <coolkid87>	but isn't 0 a valid iterator?
Sep 03 14:33:36 <coolkid87>	I mean 0th position
Sep 03 14:33:57 <lazka>	Can anyone test x11 forwarding? I just got a report that menus (in gtk3-demo-application for example) no longer work with 3.21 if forwarded
Sep 03 14:35:37 <djb>	coolkid87: i don't see why not, but i havent used treeviews in GTK+, only gtkmm
Sep 03 14:37:03 <coolkid87>	djb: I'm getting the warning in mm as well with that method i.e. RefPtr<TreeModel>->get_iter(TreePath)
Sep 03 14:37:24 <coolkid87>	when TreePath->to_string() = 0
Sep 03 14:38:00 <djb>	coolkid87: 0 doesn't mean 0th position in that context, it means NULL pointer
Sep 03 14:38:11 <djb>	so passing path = 0
Sep 03 14:38:32 <djb>	means you're invoking UB, and you're lucky it bails out with a vaguely related error, rather than crashing horrible in months' time
Sep 03 14:39:20 <djb>	if you want to use that function, you'd need to get a Path to the 0th position from elsewhere then pass that in
Sep 03 14:39:40 <djb>	...but maybe i've just totally misread 
Sep 03 14:40:54 <coolkid87>	I'm getting the path from signal_row_expanded() arguments when clicking on the first row
Sep 03 14:42:34 <coolkid87>	Although I'm not directly using any pointer, passing the path by value and then iterating upwards to root
Sep 03 14:42:49 <djb>	my bad, dunno then, sorry
Sep 03 14:42:51 <coolkid87>	still I'll give a check for nullptrs
Sep 03 14:43:06 <djb>	never hurts :)
Sep 03 15:00:12 <coolkid87>	turns out calling TreePath:up() returned "true" when path is at 0th position, so it took an extra iteration where TreePath was not valid and was giving that warning
Sep 03 15:01:35 <coolkid87>	there is probably a parent of 0th position
Sep 03 15:02:45 <djb>	that sounds weird to me
Sep 03 15:02:57 <coolkid87>	auto p = TreePath("0");
Sep 03 15:03:00 <coolkid87>	cout << "0->up = " << boolalpha << p.up() << endl;
Sep 03 15:03:02 <coolkid87>	o/p
Sep 03 15:03:03 <coolkid87>	0->up = true
Sep 03 15:06:07 <coolkid87>	Am I running into some kind of UB?
Sep 03 15:06:33 <coolkid87>	up() says it returns true if there is a parent and move is made
Sep 03 15:07:00 <coolkid87>	looks pretty defined
Sep 03 15:09:39 <djb>	sadly this is one of the barely documented bits of gtkmm
Sep 03 15:10:08 <djb>	but it does say a path is "a potential node", so maybe that means you have to ensure you construct it with valid args, or anything can happen, idk
Sep 03 15:11:59 <coolkid87>	well, it does take string as path description - and I passed -1 just now it correctly throws warning and returns false
Sep 03 15:13:34 <coolkid87>	I guess I've to manually check for validity while using up()
Sep 03 15:13:47 <coolkid87>	and break out of the iteration
Sep 03 15:14:10 <djb>	seems that way for now, might be worth dropping the gtkmm mailing list a line about whether the function should go ahead and return true even if it's not actually able to go up
Sep 03 15:14:31 <coolkid87>	You're right :), will do
Sep 03 15:15:15 <djb>	i mean maybe it is intentional, since the c/c++ ethos is not to protect against everything that might go wrong, unless the user specifically programs in the check
Sep 03 15:16:42 <coolkid87>	But it contradicts the documentation, doesn't it?
Sep 03 15:16:48 <djb>	but in this case, given that there's a bool return value indicating whether the move was successful, i think it's fair to assume it would check
Sep 03 15:16:54 <djb>	heh, snap
Sep 03 15:19:16 <coolkid87>	Do you know the ToolButton not implementing Actionable interface in mm binding(but in C/Python it does) is intentional or not?
Sep 03 15:19:41 <coolkid87>	I can't find a rationale behind it
Sep 03 15:21:03 <djb>	https://mail.gnome.org/archives/commits-list/2013-September/msg09757.html
Sep 03 15:21:32 <djb>	so whatever the original reason (maybe Actionable didn't exist then, idk), they're aware of the requirement but can't do it until an ABI break is allowed
Sep 03 15:23:13 <coolkid87>	Oh, oh, okay, better not break the ABI 
Sep 03 15:25:50 <djb>	the perils of user-visible class layouts...
Sep 03 15:27:45 <baedert>	Company: Umm, if something is not a GtkContainer, can alloc_on_child even ever be TRUE?
Sep 03 15:28:09 <Company>	baedert: yes
Sep 03 15:28:16 <Company>	baedert: it's really alloc_on_self_or_child
Sep 03 15:29:33 <baedert>	ah
Sep 03 15:33:52 <baedert>	well something is setting alloc_needed_on_child between size-allocate and draw but I don't know how that would even be possible
Sep 03 15:34:37 <Company>	on a non-container?
Sep 03 15:35:16 <baedert>	no, that was just me hoping that would be the problem :p
Sep 03 16:37:20 <uajain>	Is this a GTK related bug? https://paste.gnome.org/pzfn50gax
Sep 03 16:41:51 <djb>	probably a client code bug
Sep 03 16:42:05 <djb>	even just launching the 1st use wizard of evolution i get a pile of these
Sep 03 16:42:08 <djb>	(evolution:27908): Gtk-WARNING **: gtk_widget_size_allocate(): attempt to underallocate EPortEntry's child GtkBox 0x5647157dc1c0. Allocation is 82x34, but minimum required size is 201x34.
Sep 03 16:47:33 <uajain>	djb: Okay.
Sep 03 16:50:58 <djb>	uajain: what version of evo are you running?
Sep 03 16:51:33 <uajain>	djb: 3.20.5
Sep 03 16:51:51 <djb>	and of GTK+?
Sep 03 16:55:21 <uajain>	djb: how should I check that?
Sep 03 16:55:39 <uajain>	It's definitely not from jhbuild, and I am on F24
Sep 03 16:57:44 <djb>	oh, well if you've not built your own version of either, then that rules out my theory that they were mismatched
Sep 03 16:59:23 <uajain>	djb: Oh, I forgot to mention that https://paste.gnome.org/pzfn50gax appears when we try to open Evolution from gnome-photos
Sep 03 17:00:24 <uajain>	As we have Sharing feature now, Evolution is opened if you want to share the image via E-mail (default app). This is when all these criticals are triggered
Sep 03 17:01:05 <djb>	the only thing i can suggest is to search the bugzilla to see if this has been fixed in a newer version, and if you can't find any reports of it, it'd be worth opening one
Sep 03 17:01:46 <djb>	as for the warnings i got, i'm on debian unstable, so mismatched versions are the norm, and i try not to blame the programs :)
Sep 03 17:03:17 <uajain>	djb: Ok, thanks. 
Sep 03 17:10:01 <feaneron>	how can I control the width of a line rendered with gtk_render_line() from CSS?
Sep 03 17:33:50 <hergertme>	feaneron: looking at gtk_do_render_line() in gtk/gtkrender.c, not sure you can do much than change the color
Sep 03 17:34:01 <feaneron>	:-(
Sep 03 17:34:19 <hergertme>	you'd need to do it at a layer above that
Sep 03 17:34:20 *	feaneron just ported an app from GTK 1.2 to Gtk+ 3.16
Sep 03 17:34:26 <hergertme>	heh
Sep 03 17:34:49 <feaneron>	good lord, it used GdkGC and GdkPixbufs to draw the contents
Sep 03 17:35:04 *	hergertme really wishes we had a GSshClient
Sep 03 17:36:41 *	feaneron has a working prototype of a voice command identifier
Sep 03 17:37:10 <feaneron>	next guadec, gnome folks will have a ~big~ surprise :)
Sep 03 17:38:15 <hergertme>	awesome awesome
Sep 03 17:38:28 <hergertme>	"ok guadec"
Sep 03 17:39:38 <feaneron>	of course my personal assistant will do a better beatbox than Siri
Sep 03 17:41:16 <hergertme>	exciting!
Sep 03 18:09:15 <feaneron>	what can cause a GtkScale to be stuck at the 'lower' value of the adjustment?
Sep 03 18:09:20 <feaneron>	and never update, I mean
Sep 03 21:44:09 <Company>	woah
Sep 03 21:44:14 <Company>	phoronix didn't flame us
Sep 03 21:44:21 <Company>	i'm just realizing that
Sep 03 21:44:47 <Company>	well thought-through posts are so boring...
Sep 04 03:34:27 <bugbot>	New gtk+ bug 770838 filed by reiter.christoph@gmail.com.
Sep 04 03:34:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770838 Backend: X11, normal, gtk-bugs, NEW , Menus broken with X11 forwarding using XQuartz
Sep 04 05:37:52 <tristan>	TingPing, Hey... regarding the pygobject template support... I have a feeling it's so close to landing... I wonder if looking at this together will help (maybe I know whats missing on the C api side of things and you know more the python bindings than I do, and if we add combine this we'll have a solution very quickly)
Sep 04 05:39:46 <TingPing>	i fiddled with it a bit but honestly i don't know enough about it
Sep 04 05:41:13 <tristan>	:-S
Sep 04 08:53:01 <bugbot>	chpe@gnome.org changed the Component on bug 768958 from general to Backend: Wayland.
Sep 04 08:53:01 <bugbot>	chpe@gnome.org changed the Product on bug 768958 from gnome-terminal to gtk+.
Sep 04 08:53:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=768958 Backend: Wayland, normal, gtk-bugs, NEW , crashes when beeping the display
Sep 04 09:45:15 <bugbot>	mclasen@redhat.com changed the Status on bug 770614 from NEW --- to RESOLVED FIXED.
Sep 04 09:45:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770614 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, GtkScale in HighContrast theme with value = 0: WARNING: allocates negative content width/height to node highlight
Sep 04 10:12:22 <bugbot>	New gtk+ bug 770849 filed by reiter.christoph@gmail.com.
Sep 04 10:12:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770849 .General, normal, gtk-bugs, NEW , GtkLabel with padding brokenness
Sep 04 10:33:26 <bugbot>	mclasen@redhat.com changed the Status on bug 770703 from NEW --- to RESOLVED FIXED.
Sep 04 10:33:26 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770703 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, Fix crash when using page-down on GtkListBox
Sep 04 10:55:12 <bugbot>	mclasen@redhat.com changed the Status on bug 770653 from NEW --- to RESOLVED WONTFIX.
Sep 04 10:55:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770653 .General, normal, gtk-bugs, RESOLVED WONTFIX, test-suite failure: testsuite/css/style/test-css-style.c: FAIL
Sep 04 12:19:55 <zzeroo>	Hi, I have a gtk applicaton which I try to start under weston. Until now it was enough to set `export XDG_RUNTIME_DIR="/run/user/root"` and start the app. But no the logs show: "Gdk-WARNING **: Wayland compositor does not support xdg_shell interface, not using Wayland display"
Sep 04 12:24:58 <Company>	zzeroo: looks like your Weston is too old
Sep 04 12:26:18 <Company>	my F24 Weston runs gtk apps fine
Sep 04 12:27:11 <baedert>	not with gtk master probably
Sep 04 12:27:58 <Company>	inspector says 3.21.3
Sep 04 12:28:23 <Company>	dunno when i last ran make install -.-
Sep 04 12:29:15 <baedert>	.5 doesn't work in either weston or mutter
Sep 04 12:29:23 <Company>	\o/
Sep 04 12:29:37 <baedert>	but mutter master works of course
Sep 04 12:31:13 <Company>	good thing
Sep 04 12:31:24 <Company>	Wayland is stable and will be backwards compat forever
Sep 04 12:31:36 <Company>	as long as you don't do anything useful...
Sep 04 13:02:43 <lone_wolf>	How do I create a GtkImage from an array of RGBA pixels?
Sep 04 13:04:52 <TingPing>	lone_wolf, probably make a pixbuf out of that, then an image with that pixbuf
Sep 04 13:07:29 <lone_wolf>	How do I create a pixbuf from the data? I don't see any functions that can do this.
Sep 04 13:07:45 <Company>	I bet there's gdk_pixbuf_new_from_data() somewhere
Sep 04 13:08:05 <TingPing>	https://developer.gnome.org/gdk-pixbuf/unstable/gdk-pixbuf-Image-Data-in-Memory.html#gdk-pixbuf-new-from-data
Sep 04 13:08:17 <Company>	I even got the name right!
Sep 04 13:08:33 <Company>	https://www.youtube.com/watch?v=44-RsrF_V_w
Sep 04 13:09:33 <lone_wolf>	Hmm... why isn't that function listed here? https://developer.gnome.org/gdk-pixbuf/unstable/gdk-pixbuf-The-GdkPixbuf-Structure.html
Sep 04 13:12:16 <Company>	lone_wolf: those are only the getters
Sep 04 13:12:21 <Company>	GdkPixbuf docs are weird
Sep 04 13:12:55 <Company>	there's also like 3 pages for different ways to create GdkPixbuf objects
Sep 04 13:13:05 <TingPing>	looks like those docs haven't been touched in 5 years when they were first written
Sep 04 13:13:09 <TingPing>	certainly an odd section layaout
Sep 04 13:34:53 <lone_wolf>	Crap. It only supports 8-bit images.
Sep 04 13:35:51 <LRN>	are there other kinds of images?
Sep 04 13:36:34 <Company>	LRN: 16-bit images?
Sep 04 13:36:45 <Company>	1-bit images
Sep 04 13:36:49 <Company>	colormapped images
Sep 04 13:36:50 <lone_wolf>	My image is RGBA, meaning 8 bits each of R, G, B, and A, for a total of 32 bits per sample.
Sep 04 13:37:05 <LRN>	that is supported
Sep 04 13:37:24 <Company>	gdk-pixbuf is RGB or RGBA (note: not ARGB)
Sep 04 13:37:43 <lone_wolf>	It complains when I pass in 32 as bits_per_sample.
Sep 04 13:37:49 <LRN>	cairo surfaces can be ARGB
Sep 04 13:38:22 <Company>	lone_wolf: that's because it's bits per sample not bits per pixel
Sep 04 13:38:42 <Company>	lone_wolf: ie it's always 8
Sep 04 13:39:00 <LRN>	the person who made that API never heard of 16-bit 5-6-5 image formats
Sep 04 13:39:16 <lone_wolf>	So, by sample, they mean the individual R, G, B, and A values?
Sep 04 13:39:41 <Company>	yes
Sep 04 13:40:00 <Company>	actually, i have no idea what they mean, i just know that you pass 8 there and then nobody ever cares again
Sep 04 13:41:19 <lone_wolf>	8 works for me, so I guess that's what it means.
Sep 04 13:41:57 <Company>	8 is the value you pass in there and nothing else is allowed
Sep 04 13:42:00 <Company>	I know that much
Sep 04 13:42:41 <Company>	I think I once changed gdk_pixbuf_get_bits_per_sample() to "return 8;"
Sep 04 13:45:45 <Company>	soooo
Sep 04 13:46:05 <Company>	if i want to display a - preferrably unique - name for a GdkMonitor, what do I do?
Sep 04 13:46:14 <baedert>	uuid!
Sep 04 13:46:27 <Company>	baedert: display
Sep 04 13:46:40 <Company>	baedert: not log to some file nobody ever looks at
Sep 04 13:46:55 <Company>	also, GdkMonitor has no get_uuid() function
Sep 04 13:49:11 <Company>	I would have thought about get_manufacturer() and get_model()
Sep 04 13:49:15 <Company>	but they return NULL
Sep 04 13:49:24 <Company>	at least acording to the docs
Sep 04 13:49:54 <Company>	I wonder what the purpose of those functions is
Sep 04 13:49:59 <Company>	ie who is supposed to use them
Sep 04 13:51:19 <djb>	they return actual properties in the code
Sep 04 13:51:45 <Company>	yeah
Sep 04 13:51:46 <Company>	NULL
Sep 04 13:52:08 <Company>	at least potentially
Sep 04 13:52:38 <Company>	on xrandr they return NULL and the output name
Sep 04 13:52:46 <Company>	so I have NULL and "LVDS1" here
Sep 04 13:52:56 <Company>	which is entirely useless
Sep 04 13:53:30 <djb>	lmao speaking of which, when i try to open my Displays settings, i just get "Could not get screen information". gonna pin that one on debian unstable and wait a while
Sep 04 13:53:41 <Company>	fullscreen on [(null) - LVDS1] [(NULL) - LVDS2] is not a great dialog box
Sep 04 13:53:58 <djb>	i was going to check whether i normally get useful names or not, but...
Sep 04 13:54:04 <Company>	djb: i think it needs gnome-shell to run
Sep 04 13:54:30 <baedert>	you clearly need some dbus api to let the shell show those monitor numbers it shows when rearranging them in g-c-c!
Sep 04 13:54:31 <Company>	i get the same crap with F24 gnome-panel
Sep 04 13:54:49 <Company>	baedert: that's what we're talking about!
Sep 04 13:55:06 <djb>	Company: that would explain it, as i've got 3.21.90 in Details but the Shell is being blocked by debian not having up to date dependencies
Sep 04 13:55:20 <djb>	so it's still 3.20.3 iirc
Sep 04 13:55:40 <baedert>	could go for strings for the common cases and fall back to the useless one :P
Sep 04 13:55:47 <Company>	and because the control-center does not depend on the shell...
Sep 04 13:55:49 <baedert>	"fullscreen on the left or right monitor?"
Sep 04 13:56:14 <Company>	baedert: that's what I'd want, but somebody would need to come up with the "left monitor" string somewhere
Sep 04 13:56:29 <Company>	baedert: clearly "left monitor" is neither the model nor the manufacturer
Sep 04 13:56:43 <djb>	Company: can't remember the exact details, but i tried to find a useful apt recipe that would let me install Shell 3.21.x, and it pretty much required me to uninstall gnome itself, so uh
Sep 04 13:57:07 <baedert>	Company: it's from the common cases I just mentioned
Sep 04 13:57:41 <Company>	djb: i'm more complaining about gnome being bullshit and allowing debian to break their users' control-center
Sep 04 13:58:21 <djb>	haha - yeah, it's not ideal
Sep 04 13:59:26 <Company>	that error message is bullshit
Sep 04 13:59:37 <Company>	"Wayland compositor does not support the xdg_shell interface"
Sep 04 13:59:45 <Company>	I'm sure it's a version mismatch
Sep 04 14:00:13 <djb>	Company: fwiw kde in debian has the same things but to a worse degree afaict. and i ended up having to nuke my painstakingly crafted config from before i tried (and got rather hooked on gnome), so cba restarting it really
Sep 04 14:01:20 <Company>	djb: yeah, it's a thing about API stability that the Linux community has been on about for a while
Sep 04 14:01:39 <Company>	back in the days we only had C code and had to explicitly depend on the correct version of everything
Sep 04 14:01:50 <Company>	than we got smart and invented python and dbus and so on
Sep 04 14:02:07 <Company>	and now we do runtime dependency detection, so we can break shit without anybody ever noticing
Sep 04 14:02:23 <Company>	and if somebody notices we just shrug and say "but it doesn't crash, so it's fine"
Sep 04 14:02:37 <Company>	worked really well for GTK with CSS, too!
Sep 04 14:03:00 <Company>	"of course nobody can read transparent text, but it didn't crash, so not my fault!"
Sep 04 14:03:10 <djb>	Company: is it something that could be solved with packages/distros doing better tagging and enforcement of dependencies?
Sep 04 14:03:38 <Company>	djb: yes and no
Sep 04 14:04:02 <Company>	djb: the real problem is a willingness to maintain those dependencies - and then it doesn't really matter how you do it
Sep 04 14:05:18 <djb>	Company: so, to stricly require something and not install if it's missing, rather than to give it a try anyway and shrug if it doesn't work
Sep 04 14:05:29 <Company>	yeah
Sep 04 14:05:46 <Company>	of course that is work
Sep 04 14:05:52 <Company>	and nobody wants to do that work
Sep 04 14:38:51 <LRN>	AFAIK, monitor API is in GDK and it talks to X server directly (on X11)
Sep 04 14:50:37 <Company>	SOOO
Sep 04 14:50:48 <Company>	how do i create a window on the 2nd screen in wayland?
Sep 04 15:11:12 <Company>	gawd, wayland is such a piece of trash
Sep 04 15:30:31 <hergertme>	there's the Company i remember! :)
Sep 04 15:32:00 <coolkid87>	When I try to add any elements to action bar from Glade 3.20 it gives a message "widgets of type actionbar needs placeholder to add children" even if "number of children" is one or more. Has anyone else experienced this behaviour?
Sep 04 15:32:10 <Hussam>	invent time machine -> travel to the past -> develop wayland 4 years earlier -> bugs will be fixed by now.
Sep 04 15:32:36 <coolkid87>	is that the time-machine bug?
Sep 04 15:33:19 <Company>	hergertme: seriously
Sep 04 15:33:33 <baedert>	coolkid87: Yes, can reproduce.
Sep 04 15:33:43 <Company>	hergertme: you can't do anything interesting with windows on wayland, because wayland doesn't think you should be able to
Sep 04 15:33:57 <Company>	hergertme: like displaying 1 window per monitor with info about that monitor
Sep 04 15:33:59 <coolkid87>	Okay, I think it's not expected behaviour?
Sep 04 15:34:34 <hergertme>	Company: but but but i can have a display server on a globe!
Sep 04 15:34:52 <baedert>	coolkid87: not it isn't. You should be able to add widgets to any container of course
Sep 04 15:34:59 <coolkid87>	because the API of Actionbar is similar to box like containers, so one shouldn't need placeholder to add children right?
Sep 04 15:35:08 <coolkid87>	yea
Sep 04 15:36:47 <Company>	hergertme: no you can't
Sep 04 15:41:23 <Company>	i mean
Sep 04 15:41:33 <Company>	you can't display on a globe any better than with X
Sep 04 15:41:58 <Company>	because if you fullscreen, your surface needs to continue being a rectangle
Sep 04 15:42:05 <Company>	and it needs to cover the whole globe
Sep 04 15:42:20 <bugbot>	mclasen@redhat.com changed the Status on bug 770849 from NEW --- to RESOLVED FIXED.
Sep 04 15:42:20 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770849 .General, normal, gtk-bugs, RESOLVED FIXED, GtkLabel with padding brokenness
Sep 04 15:42:57 <Company>	checkmate waylandists!
Sep 04 15:48:24 <Company>	anyway: feel free to port tests/testxinerama to wayland
Sep 04 15:48:34 <coolkid87>	If I manually edit the builder file then the Glade interface shows the actionbar child, but doesn't show in preview/widget tree, doesn't persist the change after save, probably I should file a bug report
Sep 04 15:49:29 <Company>	also, wayland docs are as useful as X docs
Sep 04 15:49:34 <Company>	(and that is not a compliment)
Sep 04 15:51:14 <hergertme>	Company: do you have the X11 books?
Sep 04 15:51:19 <hergertme>	Company: there a freakin' library
Sep 04 15:56:30 <Company>	hergertme: yeah, the core protocol is quite neatly documented
Sep 04 15:56:42 <Company>	hergertme: now, let's talk about the APIs that people actually use
Sep 04 15:56:50 <Company>	like render, composite or xinput
Sep 04 15:57:07 <hergertme>	heh yeha
Sep 04 15:57:42 <Company>	i guess in that sense X is worse
Sep 04 15:57:56 <Company>	because it's like GTK: All the docs on the web are for GTK1
Sep 04 15:58:07 <Company>	s/docs/tutorials/ in the case of GTK
Sep 04 15:58:39 <Company>	soooo
Sep 04 15:58:44 <Company>	let's talk about root windows
Sep 04 15:58:48 <Company>	do I remove them?
Sep 04 16:02:22 <Company>	gdk_screen_get_width_mm() can be removed, right?
Sep 04 16:02:57 <baedert>	I thought you're removing GdkScreen entirely
Sep 04 16:03:08 <Company>	baedert: remove = without replacement
Sep 04 16:03:52 <Company>	So if the screen has 2 monitors, the top one being my laptop display at 1080p and the bottom one being the projector at 640x480, how wide in mm is the 1920px wide screen?
Sep 04 16:04:30 <Company>	yay, we even have gdk_screen_width_mm()
Sep 04 16:04:50 <Company>	which is literally gdk_screen_get_width_mm (gdk_screen_get_default());
Sep 04 16:05:30 <Company>	that's also G_GNUC_CONST
Sep 04 16:05:43 <Company>	because the width in mm doesn't change when you attach different monitors
Sep 04 16:06:11 <Company>	gdk_disable_multidevice();
Sep 04 16:06:14 <Company>	wat?
Sep 04 16:06:16 <LRN>	any monitor API in GdkScreen is deprecated, AFAIU
Sep 04 16:06:27 <LRN>	everyone should be using GdkMonitor
Sep 04 16:06:38 <Company>	LRN: (a) you and gdkscreen.h disagree
Sep 04 16:06:50 <Company>	LRN: (b) that's not a monitor API, that's a screen API
Sep 04 16:07:01 <LRN>	it's monitor subAPI of the screen API
Sep 04 16:07:07 <Company>	no
Sep 04 16:07:14 <LRN>	ah, that
Sep 04 16:07:18 <LRN>	yes, you're right
Sep 04 16:07:35 <Company>	it looks very bonkers
Sep 04 16:07:46 <LRN>	Actually, GdkScreen is very confusing to me.
Sep 04 16:08:07 <LRN>	It's a weird combination of input and monitor and virtual desktop stuff
Sep 04 16:08:12 <LRN>	Must be an X concept
Sep 04 16:08:34 <Company>	yeah
Sep 04 16:08:43 <Company>	but even the X guys weren;t sure what a screen is
Sep 04 16:09:08 <Company>	at one point they thought one server binary could run multiple user setups and every user would get his own screen
Sep 04 16:09:28 <Company>	at another point they invented xinerama where each monitor got its own screen
Sep 04 16:09:55 <Company>	and they probably had a few other ideas of what screens could be
Sep 04 16:10:49 <Company>	ohhhhhhhh
Sep 04 16:10:57 <Company>	i can now chop GdkAtom
Sep 04 16:11:13 <LRN>	Good for you
Sep 04 16:11:39 <Company>	i'm sure you love it
Sep 04 16:11:50 <Company>	all this extra code converting between atoms and strings
Sep 04 16:12:14 <LRN>	M-m-m-m...no, i don't think i've ever used GdkAtom
Sep 04 16:12:33 <LRN>	If i did, i have no recollection of it
Sep 04 16:12:51 <Company>	seems to be only used by dnd and clipboard on windows
Sep 04 16:13:19 <LRN>	Exactly the areas that i haven't touched in any significant way
Sep 04 16:13:40 <Company>	the fun thing is that GdkAtom is meant to be used like X Atoms
Sep 04 16:14:04 <Company>	but to get one from the other, you first convert it to a string and then look the other up from a string
Sep 04 16:14:13 <Company>	so all it does is make things more complicated \o/
Sep 04 16:18:44 <Company>	> git grep GdkAtom | wc -l
Sep 04 16:18:46 <Company>	765
Sep 04 16:18:47 <Company>	shit
Sep 04 16:21:25 <Company>	rofl
Sep 04 16:21:30 <Company>	professional code
Sep 04 16:22:15 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/wayland/gdkscreen-wayland.c#n897
Sep 04 16:22:58 <Company>	I would also like to congratulate whoever used display_wayland->monitors->pdata[i]
Sep 04 16:23:05 <Company>	instead of g_ptr_array_index()
Sep 04 16:25:27 <Company>	so wayland doesn't have a screen size
Sep 04 16:25:29 <Company>	fun
Sep 04 16:25:34 <hergertme>	yeah, but at least its not g_list_next(foo) 
Sep 04 16:26:38 <djb>	is XXX the new FIXME
Sep 04 16:27:17 <Company>	djb: nah, XXX has forever been synonym with FIXME
Sep 04 16:27:30 <djb>	huh, learn something new every day
Sep 04 16:27:35 <Company>	vim has hilighted them the same for as long as i can remember
Sep 04 16:27:56 <djb>	[tries it] mind blown
Sep 04 16:28:24 <Company>	there's also XXX used in comments everywhere
Sep 04 16:30:23 <hergertme>	i use XXX for "holy crap fix this if you see me" 
Sep 04 16:30:47 <djb>	haha, the ultra-FIXME
Sep 04 16:31:02 <Company>	djb: https://livegrep.com/search/linux?q=%2F%5C*%5CsXXX%5Cs
Sep 04 16:31:56 <djb>	niiice
Sep 04 16:32:40 <djb>	brb, renaming some extremely problematic files to XXXblah.?pp
Sep 04 16:39:19 <Company>	"And today, djb presents his newest project XXXfilemanager, which wants to provide an innovative way to manage your files"
Sep 04 16:40:07 <Company>	reddit or phoronix commenters would surely get that the XXX is about stuff that needs to be fixed
Sep 04 16:40:42 <djb>	and everyone else would just get disappointed when they realised it doesn't address the other meaning
Sep 04 16:42:00 <Company>	and even if it did, they'd all get annoyed by how buggy it was
Sep 04 16:43:27 <djb>	heh, that wouldn't normally be true, except that by taking the advice of some random person's blog before knowing the Standard as well as i do now... i'm left with code that happens to work perfectly but is pure UB, and i've spent all week totally rewriting the bedrock
Sep 04 16:44:42 <djb>	thankfully it's all modular enough that it'll almost be a straight swap of the affected files without anything else noticing
Sep 04 16:45:09 <djb>	[audience laughs knowingly]
Sep 04 20:00:07 <salinasv>	Hi, I'm trying to load a named icon to a GtkTreeView but I would also like to modify it's opacity (alpha/2) for certain cells. I already managed to use the GtkCellRendererPixbuf to load the icon, but I don't know how to modify the opacity from there.
Sep 04 20:00:31 <salinasv>	Is there any way to link a CCS style with that rendered pixbuf?
Sep 04 20:53:21 <Company>	gngngngngngn
Sep 04 20:53:33 <Company>	i wanna remove gdk_screen_get_width()
Sep 04 20:53:43 <Company>	but that's used by GtkWindow's geometry stuff
Sep 04 20:53:48 <Company>	so I try removing that
Sep 04 20:54:02 <Company>	but it's used by tearoff menus
Sep 04 20:54:06 <Company>	so I try removing those
Sep 04 20:54:13 <Company>	but they are used by GtkUIManager
Sep 04 20:54:31 <Company>	so now I'm looking at removing GtkUIManager so that I can remove gdk_screen_get_width()
Sep 04 21:49:18 <bugbot>	mclasen@redhat.com changed the Status on bug 770388 from NEW --- to RESOLVED FIXED.
Sep 04 21:49:19 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, RESOLVED FIXED, GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Sep 05 01:33:31 <albert>	Good evening fellow GTK+ people!  I was wondering if anyone in here uses Glade or has any opinions about if it's worth using, or what contexts it works best in.
Sep 05 01:41:24 <albert>	To me, it seems great to outline a GUI at first, but I always seem to reach a point where I'm hooking so many things up manually in my program's source that I might be better off not using it.
Sep 05 02:28:58 <bugbot>	New glib bug 770867 filed by bob@bob131.so.
Sep 05 02:28:59 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770867 gapplication, normal, gtkdev, NEW , G_OPTION_ARG_NONE GOptionEntry with arg_description set generates misleading help message
Sep 05 02:56:20 <bugbot>	reiter.christoph@gmail.com changed the Status on bug 770388 from RESOLVED FIXED to REOPENED ---.
Sep 05 02:56:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, REOPENED , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Sep 05 04:06:44 <LRN>	albert, i tend to use Glade and augment it with code whenever necessary
Sep 05 04:07:03 <LRN>	That said, i've heard that templates are all the rage now. Not sure what they are, but Glade is involved somehow
Sep 05 04:13:17 <heftig>	when working with GInitiallyUnowneds, should I always be using g_object_ref_sink instead of g_object_ref?
Sep 05 05:00:26 <hughsie>	hmm, i'm hitting https://bugs.archlinux.org/task/46161 when loading files using gdk-pixbuf; it's causing gnome-software just to assert and exit :(
Sep 05 05:38:10 <lazka>	heftig, it just indicates that g_object_new returns (transfer floating)
Sep 05 05:38:29 <lazka>	(except in gstreamer, where it's kinda random)
Sep 05 05:47:34 <heftig>	I can't wrap my head around the floating stuff; mostly I don't understand why not use regular references and [transfer full] arguments for functions
Sep 05 05:51:17 <pwithnall>	heftig: it makes it more convenient to write code where you always want to transfer ownership of something
Sep 05 05:51:22 <pwithnall>	e.g. when building GVariants
Sep 05 05:51:26 <pwithnall>	or widget hierarchies
Sep 05 05:53:20 <ystreet00>	"transfer ownership" is transfer full
Sep 05 05:54:28 <fmuellner>	no, in this case it's about transfering ownership *from* the caller, not *to* the caller
Sep 05 05:56:19 <ystreet00>	the transfer *to* has to come *from* somewhere
Sep 05 05:56:38 <fmuellner>	it adds a bit of c convenience by allowing code like "gtk_container_add (GTK_CONTAINER (box), gtk_label_new (""));" without leaking a reference
Sep 05 05:56:57 <ystreet00>	that transfer full on both doesn't?
Sep 05 05:57:56 <fmuellner>	if gtk_label_new() returned a full reference, the caller would need to release it after adding it to the container
Sep 05 05:58:01 <fmuellner>	so the above code would leak
Sep 05 05:58:09 <ystreet00>	not if the container takes the reference
Sep 05 05:58:14 <ystreet00>	hence transfer full on both
Sep 05 06:02:31 <fmuellner>	that would have been an option 15 years ago
Sep 05 06:03:27 <fmuellner>	changing containers to not take a reference now means breaking all code that relies on the established behavior
Sep 05 06:05:20 <heftig>	would you use floating refs in new code?
Sep 05 06:06:14 <heftig>	I have a refcount bug somewhere and I'm considering ripping out all the floating refs and replacing it with full transfers
Sep 05 06:07:05 <alex>	floating refs are somewhat painful with g_autoptr
Sep 05 06:07:29 <alex>	But, other than that they are pretty nice for the typical use cases in C for widgets and variants
Sep 05 06:11:05 <ebassi>	The fact that we have (floating or not) refcount bugs that are hard to track is more of an issue with our tooling and lack of integration with the compilers than a problem with floating references per se
Sep 05 06:11:47 <alex>	ebassi: Whats the lifetime guarantees of the resource cache?
Sep 05 06:12:08 <alex>	ebassi: i.e. if i call gsk_resource_cache_get_item() how do i know its not invalidated 2 cycles later?
Sep 05 06:12:36 <alex>	ebassi: it doesn't seem to e.g. ref the value
Sep 05 06:13:11 <alex>	ebassi: i.e. when is third party code allowed to invalidate things
Sep 05 06:13:16 <ebassi>	alex: It does take a ref/copy a boxed type
Sep 05 06:13:55 <ebassi>	alex: But, in general, it's left to sub-classes to decide how to do this because every single type has different requirements, and I don't have access to generics
Sep 05 06:13:58 <ebassi>	and traits
Sep 05 06:14:07 *	ebassi considers rewriting ResourceCache in rust
Sep 05 06:14:14 <alex>	ebassi: it refs when you add to the cache, but not in gsk_resource_cache_get_item() return value
Sep 05 06:14:50 <ebassi>	alex: get_item() will increase the age
Sep 05 06:15:09 <ebassi>	alex: Which is basically a refcount on the item itself, not on its data
Sep 05 06:15:25 <ebassi>	But its data is generally owned by the cache, not by the caller
Sep 05 06:15:37 <alex>	What does that mean in practice though? How long can i expect the item i get to be useful?
Sep 05 06:15:40 <ebassi>	You don't get to acquire or release references
Sep 05 06:15:59 <ebassi>	If you keep asking for the same item, then the cache item will stay alive
Sep 05 06:16:01 <alex>	Only during a single get_render_nodes call?
Sep 05 06:16:11 <ebassi>	If you stop asking for it, then the following frame will drop it
Sep 05 06:16:22 <ebassi>	But I was also thinking about adding a time delay
Sep 05 06:16:33 <ebassi>	Just in case
Sep 05 06:16:33 <bugbot>	New gtk+ bug 770881 filed by sworddragon2@aol.com.
Sep 05 06:16:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770881 .General, normal, gtk-bugs, NEW , Clicking a vertical stepper doesn't guarantee scrolling a line
Sep 05 06:16:36 <alex>	So, third party invalidation happens only after completed fram?
Sep 05 06:16:37 <alex>	e
Sep 05 06:16:43 <ebassi>	alex: Yes
Sep 05 06:17:26 <alex>	How does that affect non-framebased rendering like gtk_widget_draw() ?
Sep 05 06:18:26 <ebassi>	alex: gtk_widget_draw() outside of a frame is allowed to take as much time as it wants, also because it usually happens contexts created by random surfaces like PDF or SVG
Sep 05 06:18:52 <ebassi>	So caching may not be feasible
Sep 05 06:18:55 <alex>	Yeah, maybe it even always means fallback rendering
Sep 05 06:19:23 <ebassi>	Yeah, that could be possible
Sep 05 06:19:38 <alex>	I.e.  gtk_widget_draw() implies full cairo rendering, even if its only to a image surface
Sep 05 06:19:52 <ebassi>	Doing a 3D transform on a piece of paper → origami instructions get printed on the back
Sep 05 06:31:28 <bugbot>	New gtk+ bug 770883 filed by sworddragon2@aol.com.
Sep 05 06:31:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770883 .General, normal, gtk-bugs, NEW , Hovering effect does not always disappear
Sep 05 07:11:36 <bugbot>	mclasen@redhat.com changed the Status on bug 770881 from NEW --- to RESOLVED NOTABUG.
Sep 05 07:11:37 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770881 .General, normal, gtk-bugs, RESOLVED NOTABUG, Clicking a vertical stepper doesn't guarantee scrolling a line
Sep 05 07:23:40 <bugbot>	alexandru.balut@gmail.com changed the Status on bug 723304 from NEW --- to RESOLVED OBSOLETE.
Sep 05 07:23:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=723304 gio, normal, gtkdev, RESOLVED OBSOLETE, Incomplete error message from Gio file load_contents
Sep 05 08:30:25 <Company>	who/where do i ask wayland design questions?
Sep 05 08:30:46 <Company>	like: Does wayland have the concept of "screen size"?
Sep 05 08:38:11 <mceier>	Company: try pq at #wayland on freenode, he's project leader; I don't think there's screen size, there's no window position even, since it should be possible to map surfaces to all kinds of outputs (like window in 3D space) afaik ;)
Sep 05 08:39:53 <Company>	mceier: well, there's outputs, and they do have width/height
Sep 05 08:41:11 <mceier>	ok, I'm not following closely wayland development ;)
Sep 05 08:43:53 <garnacho_>	Company: screen as "the sum of all outputs"? then no, unless made up by the toolkit
Sep 05 08:46:36 <garnacho_>	there's obviously per-output events notifying of the essential info (wl_output.geometry and wl_output.mode), so the toolkit as some grounds
Sep 05 08:53:52 <Company>	that sounds like we should get rid of gdk_screen_get_width() then
Sep 05 09:15:05 <Company>	garnacho_: the only users of gdk_screen_get_width() I have left are _gdk_device_translate_window_coord and _gdk_device_translate_screen_coord
Sep 05 09:15:19 <Company>	garnacho_: which seem to be used only by X11 and wintab
Sep 05 09:16:02 <Company>	I guess I should make the width/height arguments to the function there?
Sep 05 09:17:14 <Company>	garnacho_: Can the device_width < 0 part in https://git.gnome.org/browse/gtk+/tree/gdk/gdkdevice.c#n1711 even happen?
Sep 05 09:17:57 <coolkid87>	https://bugzilla.gnome.org/show_bug.cgi?id=769966
Sep 05 09:17:58 <bugbot>	Bug 769966: general, normal, glade3-maint, NEW , Unable to add children to GtkActionBar
Sep 05 09:20:15 <garnacho_>	Company: hmm, that looks like old code ported from the xi1 days
Sep 05 09:20:35 <garnacho_>	Company: agreed about passing w/h to translation functions btw
Sep 05 09:23:14 <Company>	it feels a bit weird that wintab uses that
Sep 05 09:24:00 <zzeroo>	Hi, I want to start a custom gtk application under weston. Wayland and weston are build from source, they are the latest versions. This is the error "Gdk-WARNING **: Wayland compositor does not support xdg_shell interface, not using Wayland display"
Sep 05 09:24:25 <Company>	where on windows the screen width is just the max of all monitor sizes
Sep 05 09:24:55 <Company>	zzeroo: can't be - I just built weston and gtk master yesterday and it worked
Sep 05 09:24:56 <garnacho_>	Company: that code is mostly untouched since before my GdkDeviceManager/xi2 involvement, it probably still tries to map whatever gtk2/x11/xi1 did back in the day...
Sep 05 09:26:53 <bugbot>	New gtk+ bug 770895 filed by gwmfms06@unseen.is.
Sep 05 09:26:53 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770895 Widget: GtkScrolledWindow, normal, gtkdev, NEW , Add back clickable up/down Scroll-Buttons to scrollbars or add keyboard shortcut to give focus
Sep 05 09:30:23 <zzeroo>	Company: my gtk version is 3.21.5, weston and wayland-server are 1.11.0. Is it only working with the 1.11.92?
Sep 05 09:31:06 <Company>	probably - I used git checkouts
Sep 05 09:31:28 <Company>	zzeroo: i suspect somebody updated the protocol in sync in weston, gtk and mutter
Sep 05 09:31:49 <baedert>	ask jadahl 
Sep 05 09:32:43 <Company>	okay, now my one question becomes:
Sep 05 09:32:59 <Company>	how can I make a window appear on a certain monitor in wayland?
Sep 05 09:34:07 <Company>	because gtk_window_move (monitor.x, monitor.y); does not work on wayland...
Sep 05 09:34:08 <ofourdan>	fullscreen?
Sep 05 09:34:21 <ofourdan>	regular window or popup?
Sep 05 09:34:36 <Company>	ofourdan: regular window, but I'd take a popup, too
Sep 05 09:34:39 <ofourdan>	regular toplevel window, you cannot, there is no global coordinate in Wayland
Sep 05 09:34:56 <Company>	ofourdan: I'm trying to make tests/testxinerama work on Wayland
Sep 05 09:35:10 <ofourdan>	humm, you cannot
Sep 05 09:35:33 <ofourdan>	because even popup are placed relative to a toplevel, but you cannot tell where the toplevel is placed
Sep 05 09:35:51 <Company>	essentially, it's just displaying an info box "this is monitor 1" on monitor 1 and "this is moniotor 2" on monitor 2
Sep 05 09:35:54 <ofourdan>	so there is no way to achieve that in Wayland
Sep 05 09:36:05 <Company>	and that kinda falls flat if they all appear on the same monitor...
Sep 05 09:36:12 <ofourdan>	yeah
Sep 05 09:36:29 <ofourdan>	you can move the window manually though
Sep 05 09:36:32 <ofourdan>	and that works
Sep 05 09:36:42 <ofourdan>	I mean, the monitor info is correct
Sep 05 09:36:58 <ofourdan>	get_monitor_at_window() works
Sep 05 09:37:26 <Company>	how do i move the window manually without coordinates?
Sep 05 09:37:37 <ofourdan>	drag it with the mouse
Sep 05 09:37:43 <Company>	oh, that manually
Sep 05 09:37:49 <ofourdan>	manually as opposed to programatically
Sep 05 09:38:05 <baedert>	now how to simulate mouse input? :)
Sep 05 09:38:09 <ofourdan>	you *can* achieve that using fullscreen though
Sep 05 09:38:17 <ofourdan>	as you can go fullscreen on a given monitor
Sep 05 09:38:29 <Company>	ofourdan: that feels very wrong
Sep 05 09:38:41 <ofourdan>	not necessarily
Sep 05 09:39:01 <Company>	go fullscreen, make window tranparent!
Sep 05 09:39:09 <Company>	(apart from the little info text)
Sep 05 09:39:19 <ofourdan>	why transparent?
Sep 05 09:39:25 <ofourdan>	it's a test, innit?
Sep 05 09:39:29 <ofourdan>	doesn;t have to look fancy....
Sep 05 09:40:09 <ofourdan>	if the idea is to make sure both fullscreen_on_monitor and get_monitor_at_window() works, it would work (as a test, I mean)
Sep 05 09:40:45 <Company>	yeah
Sep 05 09:40:49 <Company>	that's true
Sep 05 09:41:32 <baedert>	so can you fullscreen_at_monitor, then unfullscreen and now your window is at the monitor it has been fullscreened at?
Sep 05 09:41:33 *	Company stays convinced that wayland is stupid
Sep 05 09:41:45 <Company>	baedert: I think that's undefined
Sep 05 09:41:50 <ofourdan>	baedert: oh no, you cannot make any assumption like that
Sep 05 09:41:59 <Company>	baedert: as in: the compositor decides
Sep 05 09:42:23 <baedert>	ok
Sep 05 09:42:38 <Company>	i remember the argument i had about exposing monitor sizes
Sep 05 09:43:03 <ofourdan>	Company: I reckon those who designed Wayland this way have pretty strong idea against having globa lcoordinates, so I would let someone else go and advocate in favor of (re) introducing global coordinates at this point
Sep 05 09:43:05 <Company>	and convincing krh or so that i'd create windows and fullscreen them to query the monitor size if i had to
Sep 05 09:43:40 <Company>	ofourdan: i know - i'm just periodically trying to reevaluate my opinion of wayland
Sep 05 09:43:47 <ofourdan>	hehehe
Sep 05 09:43:49 <Company>	ofourdan: so far, it didn't change...
Sep 05 09:44:26 <ofourdan>	of course, if there is a real need for gtk/gnome to have that, we could add it to our gtk-shell protocol...
Sep 05 09:44:35 <Company>	the only good thing about wayland is that i can delete everything in GDK and blame wayland
Sep 05 09:45:04 <ofourdan>	maybe not go as far as having globa lcoordinate, but hinting the compositor as to which monitor to map a surface, maybe, I dunno
Sep 05 09:45:51 <Company>	i am absolutely convinced that global coordinates are a good thing
Sep 05 09:46:05 <Company>	because it gives applications the freedom to be inventive
Sep 05 09:46:06 <ofourdan>	to be honest, I reckon I am not very good at suggesting new protocols for Wayland, probably because I am way too influenced by X somehow
Sep 05 09:46:43 <Company>	there are so many things that aren't possible if you don't have global coordinates
Sep 05 09:47:05 <Company>	that I just think it's bad to not provide that feature
Sep 05 09:48:13 <Company>	and wayland provides that feature anyway
Sep 05 09:48:21 <ofourdan>	does it?
Sep 05 09:48:24 <Company>	all you have to do is make the window always fullscreen
Sep 05 09:48:43 <Company>	and make the parts that are not your window transparent and pass-through for mouse events
Sep 05 09:49:04 <ofourdan>	it's cheating :p
Sep 05 09:49:16 <Company>	it allows pixel-perfect positioning
Sep 05 09:49:37 <ofourdan>	modulo the scale
Sep 05 09:51:01 <Company>	and another use case
Sep 05 09:51:05 <Company>	\o/
Sep 05 09:51:47 <Company>	the xim window positions itself at top/bottom of screen depending on if the text input area is in the top or bottom half of the screen
Sep 05 09:53:18 <ofourdan>	I am sure you can find plenty of those, the problem is that those are apps designed for X11 and globa lcoordinates, whereas for Wayland, it needs to be adapted/re-engineered
Sep 05 09:54:32 <ofourdan>	if the xim window is mapped by the app itself, then it's possible to make that popup window transient for the toplevel and then map whereever it wants I guess
Sep 05 10:20:01 <Company>	ofourdan: i know the rationale behdind it
Sep 05 10:20:30 <Company>	ofourdan: it's just that (a) that's not the way people think about windows and (b) there are loads of use cases that just do not work in wayland
Sep 05 10:21:36 <Company>	i'm fine with a screen recorder needing extra permissions to record the screen
Sep 05 10:21:52 <Company>	but i'm not fine with there not being a screen recorder at all
Sep 05 10:23:17 <Company>	same thing about terminals that work like the doom console
Sep 05 10:23:40 <Company>	ie you press a key and they fall down from the top of the screen
Sep 05 10:24:07 <Company>	or panels/docks that you have on some place on the screen
Sep 05 10:25:48 <ebassi>	I've yet to see a case for global coordinates; either something is part of the system, in which case you *need* an ad hoc protocol to avoid collisions; or you want normalized coordinates (e.g. 'center', 'top-left', '30% from the right margin of the primary display'). Something like `position: absolute` and pixels will inevitably lead to disaster because nobody will get it right
Sep 05 10:27:04 <ebassi>	Even save/restore position is usually better done by asking the compositor to save the window geometry into a file and then loading it up when the app starts — which, incidentally, is how macOS does it
Sep 05 10:58:44 <Company>	ebassi: the problem with "part of the system" is that a lot of things are kinda part of the system
Sep 05 10:59:15 <Company>	docks, panels, screen recorders, testxinerama and the xim woindow all kinda qualify as "part of the system"
Sep 05 10:59:37 <Company>	but they also do not, because there's no system they are really part of
Sep 05 11:00:01 <Company>	and you wanna have them run across different compositors
Sep 05 11:05:31 <muelli>	I want to control the display on which my fullscreen window is displayed.  There seems to be Gdk.Window.set_fullscreen_mode. So I need to get the Gdk Window. I'm trying to get that from my newly created Gtk Window. But I get NULL. I guess I have to wait for the Window being "painted" (I'm lacking the proper term here) before I can see the GdkWindow. Is that true?  If so, then I think I'm looking for a signal or something that tells me when that's finished, 
Sep 05 11:05:31 <muelli>	so that I can get the I've look at the list of signals on a GtkWindow, but these don't look promising.
Sep 05 11:06:29 <Company>	muelli: gtk_widget_realize() should create the GdkWindow
Sep 05 11:06:45 <ofourdan>	muelli: https://developer.gnome.org/gtk3/stable/GtkWindow.html#gtk-window-fullscreen-on-monitor ?
Sep 05 11:07:12 <muelli>	ofourdan: same problem, no?  That API also requires the GdkScreen, AFAIK.
Sep 05 11:07:29 <muelli>	Company: ah. okay. Let me override that function then.
Sep 05 11:09:41 <ofourdan>	muelli: sorry I don't understand what would be the problem, either you specify a GdkScreen yourself for your window in case you know it, or you can use gdk_screen_get_default ()
Sep 05 11:10:34 <ofourdan>	it's a lot easier to know the GdkScreen before creating the window than knowing the GdkWindow imho
Sep 05 11:10:45 <muelli>	ofourdan: I've never specified a GdkScreen myself.  So I guess that's why I didn't think about it. But I don't think I "know" it.
Sep 05 11:11:11 <muelli>	I'm fine with my window being fullscreen on all displays for now. So I thought that setting the fullscreen mode is most straight forward.
Sep 05 11:11:14 <ebassi>	muelli: If you haven't specified a GdkScreen yourself, then you get to use the default
Sep 05 11:11:38 *	muelli had a projector connected yesterday and could only fullscreen on the internal screen which was a bit annoying.
Sep 05 11:20:55 <muelli>	Ah, I seem to be wrong anyway.  I seem to having to create one window per display, anyway, in order to show my content on all the displays. Makes sense, I guess.
Sep 05 11:29:47 <muelli>	hm. but fullscreen_on_monitor(Gdk.Screen.get_default(), n) doesn't have much of an effect :-/ I'm seeing no difference when using a different "n".  That's my code: http://paste.ubuntu.com/23137415/   I have three monitors.  Am I doing anything stupid there?
Sep 05 11:43:27 <ochosi>	hi everyone! any idea why calling gtk_widget_show and _hide on a gtkinfobar would only work once? (i've hooked that up with the state-set signal of a gtkswitch fwiw)
Sep 05 11:44:03 <ochosi>	to be claer: after hiding the widget once, it's not shown anymore (i also tried show_all because the infobar contains a gtkimage and a gtklabel)
Sep 05 11:48:52 <baedert>	ochosi: yes, there's a bug for that.
Sep 05 11:49:09 <baedert>	https://bugzilla.gnome.org/show_bug.cgi?id=710888
Sep 05 11:49:10 <bugbot>	Bug 710888: Widget: Other, normal, gtk-bugs, NEW , GtkInfoBar not shown after calling gtk_widget_show
Sep 05 11:52:43 <ochosi>	baedert: good to know. but ouch.
Sep 05 11:52:56 <ochosi>	the workarounds are also not extremely nice
Sep 05 11:53:06 <bugbot>	New gtk+ bug 770906 filed by ofourdan@redhat.com.
Sep 05 11:53:06 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770906 Backend: Wayland, normal, gtk-bugs, NEW , Wayland: Unmapping a toplevel from a menu/popup can lead to a protocol error
Sep 05 11:53:59 <baedert>	ochosi: using a revealer explicitly is the best option
Sep 05 11:54:21 <baedert>	other than that adding that extra API shouldn't be that had but last time mclasen mentioned another property he wanted
Sep 05 11:56:21 <ochosi>	baedert: ok, you mean disabling the animation in the revealer?
Sep 05 11:56:42 <baedert>	no, using a revealer and putting the infobar inside, then manually control the revealer
Sep 05 12:07:37 <ochosi>	baedert: ok that worked and wasn't very hard to do. thanks a bunch!
Sep 05 12:09:30 <bugbot>	tristan@upstairslabs.com changed the Status on bug 766569 from RESOLVED FIXED to REOPENED ---.
Sep 05 12:09:30 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766569 Widget: GtkScrolledWindow, enhancement, gtkdev, REOPENED , Better size requisition for GTK_SCROLL_NATURAL children
Sep 05 12:19:06 <nacho>	pwithnall, hey
Sep 05 12:19:24 <nacho>	pwithnall, is it normal that g_assert_nonnull will report a false positive with clang?
Sep 05 12:19:33 <pwithnall>	hmm
Sep 05 12:19:56 <pwithnall>	nacho: I can’t remember, let me take a look
Sep 05 12:20:54 <pwithnall>	nacho: It might be because g_assert_nonnull() is not actually always fatal
Sep 05 12:21:06 <pwithnall>	See the implementation of g_assertion_message()
Sep 05 12:21:16 *	nacho checks
Sep 05 12:22:57 <pwithnall>	nacho: you could try changing the definition of g_assert_nonnull() if __clang_analyzer__ is defined, and change it to just be assert(blah != NULL)
Sep 05 12:23:07 <pwithnall>	The analyser should definitely handle assert() correctly
Sep 05 12:23:25 <pwithnall>	I would be happy to see a patch like that upstream, if it works
Sep 05 12:24:20 <nacho>	let me check that
Sep 05 12:29:06 <nacho>	pwithnall, that does it
Sep 05 12:29:23 <pwithnall>	\o/
Sep 05 12:29:33 <nacho>	pwithnall, https://paste.fedoraproject.org/422365/09296414/
Sep 05 12:29:39 <nacho>	just tested with this inline in my code
Sep 05 12:29:53 <nacho>	I guess we can do that in glib directly
Sep 05 12:29:58 <pwithnall>	Yup
Sep 05 12:30:02 <pwithnall>	Do you have time to write the patch?
Sep 05 12:30:21 <nacho>	I'll give it a try
Sep 05 12:30:29 <pwithnall>	great; please CC me on the bug :)
Sep 05 12:31:40 <pwithnall>	nacho: see also https://bugzilla.gnome.org/show_bug.cgi?id=700268
Sep 05 12:31:41 <bugbot>	Bug 700268: general, normal, gtkdev, NEW , Add support for using the clang analyzer
Sep 05 12:33:02 <nacho>	pwithnall, oh! well tomorrow I'll have a look after reading that bug
Sep 05 12:37:49 <pwithnall>	:)
Sep 05 14:02:21 <alex>	hergertme: ping?
Sep 05 14:41:29 <hergertme>	alex: pong
Sep 05 14:42:04 <alex>	hergertme: so, i'm working on the infrastructure to run builder in a flatpak
Sep 05 14:42:28 <alex>	hergertme: I just pushed a HostCommand dbus request to the flatpak session service
Sep 05 14:42:47 <alex>	hergertme: basically, if you can talk to the session service you can do full sandbox breakout
Sep 05 14:42:59 <alex>	hergertme: also, i made flatpak-builder itself use this if in a sandbox
Sep 05 14:43:10 <alex>	So, i'm able to run flatpak-builder in a sandbox
Sep 05 14:43:31 <hergertme>	and you still get stdin/stdout/stderr?
Sep 05 14:43:34 <alex>	Also, i believe this should be enough for builder to start a terminal outside the sandbox
Sep 05 14:44:01 <alex>	Although you need some custom pty mangling that vte otherwise would do
Sep 05 14:44:17 <alex>	hergertme: yeah, you just pass fds to the dbus request
Sep 05 14:44:32 <hergertme>	i need to teach our GSubprocess wrapper (a bulked up GSubprocessLauncher) how to launch it
Sep 05 14:46:02 <alex>	hergertme: its on a branch so far: https://github.com/alexlarsson/flatpak/blob/host-command/data/org.freedesktop.Flatpak.xml#L33
Sep 05 14:48:22 <alex>	hergertme: if stdin or stdout is a tty it will automatically try to make that the controlling tty
Sep 05 14:48:32 <alex>	hergertme: so, it should all "just work", i hope
Sep 05 14:51:05 <alex>	hergertme: here is some code that uses it: https://github.com/alexlarsson/flatpak/blob/host-command/builder/builder-utils.c#L1414
Sep 05 15:13:30 <hergertme>	alex: awesome, thanks!
Sep 05 15:13:54 <alex>	hergertme: have a look and see if it works for you
Sep 05 15:16:19 <hergertme>	alex: looks like output isn't touched in the host_spawnv() version, that expected?
Sep 05 15:16:54 <alex>	hergertme: Oh, no, that looks like a missing feature.
Sep 05 15:17:06 *	alex & will fix
Sep 05 15:17:16 <alex>	(its to capture output)
Sep 05 15:18:06 <hergertme>	and what does it look like for STDIN/OUT/ERR to /dev/null?
Sep 05 15:18:12 <hergertme>	do we pass -1 for that?
Sep 05 15:18:15 <hergertme>	and still pass the fd list?
Sep 05 15:18:58 <alex>	We could add that i guess
Sep 05 15:19:13 <alex>	right now you'd pass a fd you opened from /dev/null :)
Sep 05 15:20:55 <alex>	actually its somewhat of a pain to pass -1
Sep 05 15:21:09 <alex>	because its a dbus handle type, which is unsigned i believe
Sep 05 15:21:36 <alex>	Also, i'm adding --allow=devel
Sep 05 15:21:45 <hergertme>	yeah that's fine, i mean most people are going to search for a gist and C&P anyway :)
Sep 05 15:21:57 <alex>	which lets you request support for strace and perf for builder
Sep 05 15:22:44 <hergertme>	cool
Sep 05 15:23:16 <hergertme>	the other thing i was thinking about this weekend, was teaching Sysprof to do remote profiling. so we can connect over USB/TCP/etc to a device and profile it.
Sep 05 15:23:43 <hergertme>	and the interesting thing there, is i want to be able to make my SSH session a logind session, with a polkit agent proxy back to the host
Sep 05 15:24:06 <hergertme>	so i can get asked for elevated permissions for perf_event_open()
Sep 05 15:25:44 *	hergertme doesn't know if that's possible today, but might be interesting for the gvfsd case where we want to get admin access to a remote file we don't have permissions on
Sep 05 15:26:53 <hergertme>	i guess i need to add sysprof to the deps on builder nightly too, at least for the client side. will still require the sysprofd on the host though.
Sep 05 15:41:46 <alex>	hergertme: Pushed it to master
Sep 05 15:47:53 <hergertme>	excellent
Sep 05 16:10:43 *	Disconnected (Connection reset by peer)
**** ENDING LOGGING AT Mon Sep  5 16:10:43 2016

**** BEGIN LOGGING AT Mon Sep  5 16:10:57 2016

Sep 05 16:10:57 *	Now talking on #gtk+
Sep 05 16:10:57 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 05 16:10:57 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 05 17:19:35 <csorianoi>	I'm unsure about the new scrolled window behaviour. I'm taking a look at the second page on widget factory. On the side, seems the scrolled window on the left with a GtkTextView behaves differently than the one with a GtkListBox just under it. Is this expected?
Sep 05 17:20:00 <csorianoi>	*setting all properties to the default ones, no min-heigh, no max-heigh, no propagate-children-heigh
Sep 05 22:48:51 <vrishab>	Hi. how to apply css to a button with name "button1" ?
Sep 05 22:49:36 <vrishab>	I am using the gtk inspector
Sep 05 22:53:11 <vrishab>	-- or -- rather 
Sep 05 22:53:31 <vrishab>	how to get a button with css ( blue ) similar to that of 'Open / Save' in File chooser ?
Sep 05 23:28:00 <hergertme>	vrishab: gtk_style_context_add_class(gtk_widget_get_style_context(button), "suggested-action")
Sep 05 23:31:22 <vrishab>	hergertme, let me give it a shot.
Sep 05 23:37:55 <vrishab>	hergertme, that was clean :) thanks
Sep 05 23:38:53 <hergertme>	np
Sep 06 04:45:28 <marcus>	is there a way to make a GtkLabel auto-ellipsize if it would extend outside of the space initially allocated by the container?
Sep 06 04:46:57 <marcus>	in Maps, for the public transit stuff I'm working on, we have the side bar, which is initially 320 px wide, in some cases the label (which gets filled by names obtained from a data feed with timetables (via OpenTripPlanner) it could "grow too large"
Sep 06 04:47:39 <marcus>	currently, I set max-width-chars and ellipsize-type properties, but this seems a bit fragile depending on fonts and so on
Sep 06 05:30:43 <coolkid87>	Is there any C++ equivalent of gtk_accel_group_connect(), there is a Gtk::AccelGroup::disconnect_key() method but I can't find one for connect()
Sep 06 05:33:37 <coolkid87>	I'm trying to associate a GAction/Gio::Action with a GtkAccelKey/Gtk::AccelKey by extending from ActionMap and connecting to accelgroups activate signal to action's activate() method
Sep 06 05:34:07 <nacho>	LRN1986, hey
Sep 06 05:34:15 <nacho>	LRN1986, have you seen issues with g_date_time_new_now_local on windows?
Sep 06 05:34:32 <nacho>	it seems that under some circumstances it uses the wrong offset
Sep 06 05:34:48 <coolkid87>	but I can't insert an accelkey to accelgroup from c++
Sep 06 05:44:31 <nacho>	LRN1986, I wonder if this makes sense http://paste.fedoraproject.org/422673/55058147/
Sep 06 05:57:34 <coolkid87>	How to connect a key shortcut to a Gio::Action from gtkmm?
Sep 06 06:09:47 <coolkid87>	Nevermind, found it. :) Gtk::Application::set_accel_for_action(), it seems in gtkmm actions are bound to the application globally and not to specific widgets
Sep 06 06:10:25 <tristan>	Ummm, so I have a weird thing going on with GTK+ master... inside a jhbuild shell, ./autogen.sh seems to pass without error
Sep 06 06:10:52 <tristan>	it ends with configure: creating ./config.status and then happily shows a report of the configuration
Sep 06 06:11:02 <tristan>	And there is no Makefile
Sep 06 06:11:12 <hadess>	tristan, it's in ~/.cache/jhbuild
Sep 06 06:11:31 <hadess>	~/.cache/jhbuild/build/<modulename>/ to be precise
Sep 06 06:11:42 <hadess>	either run make there, or use "jhbuild make"
Sep 06 06:12:14 <tristan>	there is no ~/.cache/jhbuild/build actually :-S (/me now recalls the recent srcdir != builddir discussion emails)
Sep 06 06:12:40 <tristan>	jhbuild make says "make: *** No targets specified and no makefile found.  Stop."
Sep 06 06:13:02 <tristan>	weird, ok... there is a way to just hardwire the old behavior back in right...
Sep 06 06:15:27 <hadess>	it's in $XDG_CACHE_DIR, so whatever that value is
Sep 06 06:17:56 <tristan>	hadess, I doubt this is the case, note that I manually configured gtk+ in a jhbuild shell... I *did* recently jhbuild build gtk+ to refresh the deps, but did git clean -xdf and ./autogen.sh manually
Sep 06 06:18:32 <hadess>	weird, maybe a submodule or something failed
Sep 06 06:18:34 <tristan>	XDG_CACHE_DIR is not set, and there exists some files in ~/.cache/jhbuild... just not a 'build' directory (there is a downloads there and some modulesets)
Sep 06 06:19:45 <tristan>	aha
Sep 06 06:20:22 *	tristan had copied the line from config.log (which didnt contain any --builddir or such voodoo), but it had --no-create... I suspect that's it
Sep 06 06:20:31 <tristan>	yep
Sep 06 06:23:22 <mclasen>	Company: looking at bug 767391
Sep 06 06:23:33 <mclasen>	am I right in missing a compute implementation for crossfade ?
Sep 06 06:24:11 <mclasen>	I see fallback images with used == -1 show up in draw()
Sep 06 06:40:07 <mclasen>	Company: let me know if I got it right
Sep 06 06:46:02 <baedert>	swilmet: hey, the gspell wiki page mentions that it supports the no-spell-check tag defined by GtkSourceView; does that mean it supports it only when using gsv or can I also use that in a normal GtkTextView?
Sep 06 06:51:43 <nacho>	baedert, I think you can use it with a text view
Sep 06 07:48:14 <tristan>	mclasen, what do you think about reverting 37e913d76bea6b58a38db1b7996958b81984a114 (widget factory: Adapt to new scrolled window behavior) ?
Sep 06 07:48:46 <tristan>	mclasen, I was just looking into the scrolled window stuff today and noticed the icon view difference from gtk-3-20 (and then noticed your comment on the bug report after)
Sep 06 07:49:23 <mclasen>	if that fixes it, sure!
Sep 06 07:50:42 <tristan>	mclasen, yep, it does make it exactly the same
Sep 06 07:50:52 <mclasen>	go for it
Sep 06 07:57:09 <tristan>	done, closed bug; cross fingers that there is no remaining fallout :)
Sep 06 08:00:05 <mclasen>	should we also revisit the fix for GtkAboutDialog sizing ?
Sep 06 08:00:11 <mclasen>	6af5033386b60bdf71cc21d99d579c2a8c389880
Sep 06 08:00:46 <tristan>	is there an about dialog somewhere in widget factory I can see ?
Sep 06 08:01:31 <tristan>	I think it's probably best to revert that if we can, it's rarely a good idea to set explicit sizes in pixels :-S
Sep 06 08:01:45 <mclasen>	its in the app menu, if you have that
Sep 06 08:04:10 <tristan>	hmmm
Sep 06 08:04:16 <tristan>	mclasen, I dont think it's a good sample
Sep 06 08:04:26 <mclasen>	no, probably not
Sep 06 08:05:05 <tristan>	I'm almost certain we can revert it though, if it was made for the same purpose; working around the behavioural change which is now optional
Sep 06 08:05:42 <tristan>	there is also a commit to the release notes I saw while perusing the commit log from gtk-3-20...master, something about scrolled window behavior changes
Sep 06 08:05:49 <mclasen>	I think I used the one in gedit when trying out that fix
Sep 06 08:06:12 <tristan>	this can probably be reverted 76af90767634f5caea622c2abc13d21adb41550c
Sep 06 08:06:41 <mclasen>	sure, if you want to do that
Sep 06 08:10:37 *	tristan reverts that and tries to build gedit
Sep 06 08:15:06 <mclasen>	I just did LD_PRELOAD, good enough for a quick test
Sep 06 08:32:29 <tristan>	mclasen, verified gedit without the about dialog change, works well, reverted about dialog change and pushed
Sep 06 08:32:37 <mclasen>	thanks
Sep 06 08:36:05 <ochosi>	Company: hi! performance-question: does it make a huge difference if i clean a GtkListBox (with gtk_container_remove) in total and just re-fill it with the updated list or is iterating and adding/removing single entries recommended?
Sep 06 08:49:54 <LRN>	nacho, g_time_zone_new() is a bit bonghitty to begin with
Sep 06 08:50:19 <LRN>	for example, it checks tz->t_info == NULL, even though tz is brand new and couldn't have anything other than NULL for t_info
Sep 06 08:51:28 <LRN>	that patch, however, makes sense
Sep 06 09:59:22 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Tue Sep  6 09:59:22 2016

**** BEGIN LOGGING AT Tue Sep  6 09:59:35 2016

Sep 06 09:59:35 *	Now talking on #gtk+
Sep 06 09:59:35 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 06 09:59:35 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 06 10:08:13 <bugbot>	New gtk+ bug 770952 filed by klember@gnome.org.
Sep 06 10:08:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770952 Backend: Wayland, normal, gtk-bugs, NEW , wayland: Don't destroy cursor backing storage when the buffer is released
Sep 06 10:23:39 <kalev>	jadahl: can you check ^^ please?
Sep 06 10:28:34 <jadahl>	kalev: will take a look tomorrow, it looks suspicios to just stop listen for release events and its too late in the evening for me to wrap my head around buffer logic right now
Sep 06 10:31:37 <kalev>	sure, thanks
Sep 06 11:28:56 <Company>	ochosi: that depends on how many elements you exchange
Sep 06 11:29:44 <Company>	ochosi: but if you run gtk-demo's listbox example, you'll get a feel for how much time it takes to add allm those widgets to the list
Sep 06 11:30:18 <Company>	ochosi: I think that's 500 rows with rather complex widgetry and it takes a few seconds...
Sep 06 11:36:00 <baedert>	That time includes instantiating all the rows though, not just adding them
Sep 06 11:53:19 <b4n>	df08fc91bdc1d2e4c866122304fabe4dd298a7de broke some code that created a CSS snippet out of a PangoFontDescription.  I see in this commit that some code now checks if the font description is "absolute", and if not multiplies by the style context DPI.  But how can I fetch the DPI? doesn't seem to be a documenter property
Sep 06 11:53:36 <b4n>	also, is that expected (that it breaks current apps), or is that an unexpected side effect?
Sep 06 11:56:58 <baedert>	how are you creating that css snippet and how does that commit break it?
Sep 06 11:57:23 <b4n>	1s
Sep 06 11:57:48 <b4n>	it breaks it as in the font size is a lot smaller now
Sep 06 11:59:12 <b4n>	(ok, I won't link the code on SF, their interface is too crappy)
Sep 06 12:00:16 <b4n>	baedert: https://github.com/geany/geany/blob/master/scintilla/gtk/PlatGTK.cxx#L1495
Sep 06 12:00:38 <b4n>	(it's Scintilla actually, but it's on SF and the code browsing UI is horrible)
Sep 06 12:01:12 <b4n>	BTW, try and don't have a heart attack looking at how Scintilla uses GTK :)
Sep 06 12:02:36 <baedert>	The pango docs suggest that you can't assume that pango_font_description_get_size returns the size in pixels
Sep 06 12:03:12 <b4n>	let's see
Sep 06 12:04:44 <baedert>	gedit has a commit like that: https://git.gnome.org/browse/gedit/commit/?id=28028555d18c3be0a9adb8c800472d63749c5c63 :)
Sep 06 12:05:17 <b4n>	mmmmmyeah, but that assumes 96 DPI
Sep 06 12:06:20 <b4n>	any idea if I can get the device unit from somewhere?
Sep 06 12:14:25 <b4n>	okay, widget->screen->resolution
Sep 06 12:14:45 <b4n>	let's try that
Sep 06 12:16:10 <b4n>	now I have to hope I do have a screen
Sep 06 12:19:19 <ochosi>	Company: it's a very simple list with gtklabel + gtkswitch, maximum 50 elements
Sep 06 12:20:06 <Company>	ochosi: then it shouldn't much matter
Sep 06 12:20:43 <Company>	ochosi: though if anything in there runs animations or keeps other internal state (like focus), you might notice
Sep 06 12:21:12 <b4n>	oookay, it works on 2.21.5, but gives terribly large font size on 3.20
Sep 06 12:21:46 <b4n>	apparently on 3.20 the PFD is not absolute either, so I end up multiplying it, but that's not correct there
Sep 06 12:22:24 <ochosi>	Company: to be blunt: i'm registering all apps that send notifications and if a new one shows up i add it to the list. in the unlikely case that the settings app is open while a new app is registered i clean the gtklistbox and fill it anew (alphabetically sorted). so it's even a bit of a corner case that ppl see this at all...
Sep 06 12:22:32 <Company>	b4n: we shanged things in there because code always mixes up pt and px
Sep 06 12:22:43 <Company>	b4n: 1pt = 1.333333px
Sep 06 12:23:02 <b4n>	for DPI=96
Sep 06 12:23:06 <Company>	b4n: or more exact: dpi/72, but dpi = 96 
Sep 06 12:23:50 <Company>	ochosi: easy fix: You do it this way and wait for someone to file a bug
Sep 06 12:23:55 <b4n>	I get that, but the problem is that pango_font_description_get_size_is_absolute() gives me non-absolute size on both GTK 3.20 and 3.21.5, yet using that size, either absolute or not, breaks
Sep 06 12:24:00 <Company>	ochosi: and then you redo it "right"
Sep 06 12:24:14 <ochosi>	Company: hehe, i'll go with that ;) thanks!
Sep 06 12:24:36 <Company>	b4n: huh, that's interesting
Sep 06 12:25:11 <Company>	b4n: it might be that we parse font-size wrong now - might be fixed in master, I remember people talking about it
Sep 06 12:25:16 <b4n>	I even just tried setting the size in points in CSS, still not the same result in 3.20 and 3.21
Sep 06 12:25:26 <b4n>	I'm trying master
Sep 06 12:25:37 <b4n>	it shows the same problem
Sep 06 12:25:50 <b4n>	actually now might be correct
Sep 06 12:26:12 <b4n>	but this means I have to have different code for 3.20 and 3.21 :S
Sep 06 12:26:56 <Company>	that's what bug-fixes result in...
Sep 06 12:27:17 <Company>	actually:" Is the current code correct? If you specify 10px, is the font-size 10px?
Sep 06 12:27:42 <b4n>	maybe <=3.20 mixes up pt and px
Sep 06 12:28:14 <b4n>	in 3.20, if I set 10px, I get the size I expect from the font description, and if I set 10pt it's too big
Sep 06 12:28:29 <b4n>	in 3.21, it seems more correct and 10px is too small, 10pt is good
Sep 06 12:28:34 <Company>	also: The fix might be easy: If (version < 3.21) unit="px" else unit="pt"
Sep 06 12:28:42 <b4n>	yeah
Sep 06 12:28:59 <Company>	if you wanna make it even more portable:
Sep 06 12:29:02 <b4n>	one more highly specific version check though
Sep 06 12:29:16 <Company>	 If (version < 3.21 || font_desc.size_is_absolute()) unit="px" else unit="pt"
Sep 06 12:29:33 <b4n>	yeah I was probably gonna do that
Sep 06 12:29:39 <b4n>	although I'll probably never have an absolute size
Sep 06 12:30:16 <Company>	i might make GTK4 always use absolute sizes
Sep 06 12:30:20 <b4n>	it'll still be wrong if the size is absolue on <3.21 though
Sep 06 12:30:27 <Company>	for all the pango font descriptions it returns
Sep 06 12:30:43 <b4n>	that could be nice
Sep 06 12:30:56 <Company>	it does not make sense in today's world to think about font sizes in pt
Sep 06 12:30:59 <b4n>	well, some consistency not requiring to check everywhere would be
Sep 06 12:31:20 <Company>	yeah
Sep 06 12:31:35 <b4n>	I don't know, everybody is used to selecting point size in their font selector though :)
Sep 06 12:31:35 <Company>	I vote for breaking Pango API and removing non-absolute sizes
Sep 06 12:31:53 <Company>	the GTK fontchooser uses absolute sizes
Sep 06 12:32:01 <Company>	in the preview
Sep 06 12:32:14 <Company>	because othgerwise some fonts are rendered too large (or too small)
Sep 06 12:32:38 <b4n>	well, the size in the spinner seem to still be in points, isn't it?
Sep 06 12:32:43 <Company>	browsers use absolute sizes, so people doing fonts only check that...
Sep 06 12:32:58 <Company>	yes, the UIs all use pt
Sep 06 12:33:12 <Company>	though the number in there has no relation to anything in the real world anyway
Sep 06 12:33:38 <Company>	people choosing a 12pt font over something else don't care about what that means in the real world
Sep 06 12:33:39 <b4n>	yeah, it's not like displays had a properly configured DPI
Sep 06 12:34:02 <Company>	usually it means "looks right with the other stuff in the word document i'm typing"
Sep 06 12:34:19 <b4n>	heh
Sep 06 12:38:46 <b4n>	okay, it works
Sep 06 12:38:56 <b4n>	let's see how many locations I'd have to fix
Sep 06 12:39:51 <b4n>	wow, the answer seem to be "none"??
Sep 06 12:42:13 <b4n>	aha, but that's because some stuff still use gtk_widget_modify_font()
Sep 06 12:42:27 <b4n>	it'll be a lot less fun in GTK4 if it's not sorted out
Sep 06 12:44:16 <baedert>	pretty sure there won't be a gtk_widget_modify_font in gtk4 so it's ok :P
Sep 06 12:44:39 <b4n>	well, actually no it didn't change behaviro so that was handy :D
Sep 06 12:45:21 <b4n>	I know it's a stupid question, but… should a complete change of meaning in CSS font sizes be introduced in 3.22?
Sep 06 12:46:35 <b4n>	or si the breakage a lot more subtle than that?  because in my case, apparently what was "font-size: 10px" now is "7.5px"
Sep 06 12:47:16 <b4n>	so yeah, it seems to be more accurate now, as what I had should actually have been "pt"
Sep 06 12:47:20 <b4n>	but…
Sep 06 13:16:52 <Company>	b4n: the problem was a lot more subtle than that
Sep 06 13:17:29 <Company>	b4n: because sometimes (in the case of modify_font() things were treated as px but in the "font-size: 10px" CSS case it was treated as pt
Sep 06 13:17:50 <Company>	b4n: I think the default font-size that we get from settings was another one that I think was treated as pt
Sep 06 13:18:16 <Company>	b4n: and there were a few other cases where fonts could come from that were treated as one or the other
Sep 06 13:19:05 <Company>	so we had a bunch of internal get_font_size() functions that returned sizes as pt or px depending on input but didn't tell you which one
Sep 06 13:19:18 <Company>	so you got 10 as a result but didn't know if it was pt or px
Sep 06 13:20:07 <Company>	and as for doing such a change in 3.22: GTK does CSS the way the web does it
Sep 06 13:20:09 <b4n>	yeah I get that it's probably more correct now
Sep 06 13:20:10 <Company>	everything else is a bug
Sep 06 13:20:23 <Company>	so your code was relying on a bug, and that's always your fault :p
Sep 06 13:20:26 <b4n>	the commit says it doesn't still :)
Sep 06 13:20:52 <b4n>	Company: the problem is that there's no way to "fix" it in older versions
Sep 06 13:21:38 <Company>	yeah, your thought process ideally should've been "it's broken, so i'll better not use it"
Sep 06 13:21:51 <Company>	of course, the usual thought process is "if i do it this way, it seems to not break"
Sep 06 13:22:26 <b4n>	sure
Sep 06 13:24:22 <b4n>	but now I have only 3 solutions:
Sep 06 13:24:29 <vrishab>	Hi.
Sep 06 13:24:37 <b4n>	1) drop support for GTK3 <3.21
Sep 06 13:24:56 <b4n>	2) rely on the bug on <3.21, and have it fixed in >=3.21
Sep 06 13:25:16 <b4n>	3) use deprectaed API that still work
Sep 06 13:25:26 <b4n>	none of which is really a nice solution
Sep 06 13:26:12 <b4n>	btw: 3.20.9: http://pasteall.org/pic/show.php?id=106491 3.21.5: http://pasteall.org/pic/show.php?id=106490
Sep 06 13:26:45 <vrishab>	How to make GtkFileChooserButton have fixed width ? Tried "gtk_file_chooser_button_set_width_chars" and width-request. But it always displays the full folder-name
Sep 06 13:44:25 <swilmet>	baedert: gspell just looks for a tag with a certain name, that GtkSourceView applies to the buffer
Sep 06 13:44:39 <swilmet>	baedert: so if you apply yourself the tag, with the same name, it'll work
Sep 06 13:45:13 <swilmet>	but it's kinda an implementation detail (though the tag name is a public API of GtkSourceView)
Sep 06 14:14:49 <baedert>	swilmet: nacho: Ok, thanks
Sep 06 16:33:13 <buggbot>	New glib bug 770971 filed by jwendell@gnome.org.
Sep 06 16:33:13 <buggbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770971 general, normal, gtkdev, NEW , Add a structured g_log() that works with introspection
Sep 06 17:05:01 <coolkid87>	If I append some widgets to a container from inside Glib::Dispatcher's signal_handler, is there any chance that widgets appended to the same container by a previous invocation of the handler be mixed up with the widgets appended by the current invocation of the handler? 
Sep 06 17:05:03 <coolkid87>	By mixed up I mean do not maintain a strict ordering i.e. widget from invocation 1, widget from invocation 2, widget from invocation 2, widget from invocation 1, like this rather than all widgets from invocation 1 then all widgets from invocation 2.
Sep 06 17:18:44 <coolkid87>	I'm appending some widgets to a flowbox as a result of some kind of search done in a worker thread, after the worker thread is done with the search it emits the dispatcher. Is it possible that the widgets added to the flowbox from different searches don't maintain grouping/ordering?
Sep 06 17:20:25 <coolkid87>	I need all the search results grouped one after another, I was hoping since dispatcher handler execute in same thread they'd be ordered, right?
Sep 06 17:21:13 <csorianoi>	coolkid87: are you returning to the main thread?
Sep 06 17:22:26 <coolkid87>	I'm emitting the dispatcher from the worker thread, doesn't it automatically return to gui thread? And I'm joining to gui thread from dispatcher's handler
Sep 06 17:23:43 <coolkid87>	I mean I call join on the worker thread from dispatcher's handler
Sep 06 17:24:06 <coolkid87>	and emit the dispatcher after the search is done in worker thread
Sep 06 17:25:52 <coolkid87>	csorianoi: Do I need to join the main thread explicitly?
Sep 06 17:26:35 <csorianoi>	coolkid87: I'm actually not finding this dispatcher docs. I though you were doing gtasks or so, where you can do g_main_context_invoke or so
Sep 06 17:30:50 <coolkid87>	Glib::Dispatcher(https://developer.gnome.org/glibmm/stable/classGlib_1_1Dispatcher.html)
Sep 06 17:30:53 <coolkid87>	this one
Sep 06 17:31:30 <coolkid87>	I think this is glibmm only entity
Sep 06 17:31:49 <coolkid87>	(But I can be wrong)
Sep 06 17:34:11 <csorianoi>	never heard of it
Sep 06 17:34:59 <csorianoi>	so I cannot help, sorry
Sep 06 17:37:19 <coolkid87>	Oh okay, I've actually used it in a TreeView already, but there I append to different child nodes asynchronously, so result can't get mixed up, but here the structure is flat, so I have doubt
Sep 06 17:47:05 <coolkid87>	The problem with threading is I can't be sure by observing even if it works many times, there are still chances it won't work in the same way always. If I'd know whether the logic is correct though... :)
Sep 06 22:32:28 <grim>	what param spec should I use for a gssize?
Sep 06 22:45:11 <feaneron>	gssize?
Sep 06 22:45:14 <feaneron>	you mean, gsize?
Sep 06 22:48:14 <feaneron>	you can pass G_TYPE_ULONG if you meant gsize
Sep 06 22:48:57 <grim>	ugh i always forget that gsize is unsigned..
Sep 06 22:49:05 <grim>	thanks ;)
Sep 07 06:07:35 <aday>	can anyone remind me where things got to with kinetic mouse wheel scrolling?
Sep 07 06:28:13 <basiles>	How to customize completion of GtkComboBoxText? Details on http://stackoverflow.com/q/39366248/841108 ..
Sep 07 07:27:48 <baedert>	hergertme: FYI adding a client-side filter for "\[rt" should hide all retweets now
Sep 07 07:44:03 <muelli>	here's the question from yesterday reg. the monitor when fullscreening a window: http://stackoverflow.com/questions/39367246/select-certain-monitor-for-going-fullscreen-with-gtk
Sep 07 08:03:44 <csoriano___>	what is the preferred way to deal with a GTask that inside needs to wait for async calls on (maybe) another threads? So far I gathered that either implementing your own GSourceFuncs (GTask docs) or doing a Mutext + GCond. Is there a preferred way?
Sep 07 08:05:49 <csoriano___>	I cannot really control the async calls inside the GTask, I just need wait to return to continue with the next one, until all of them are done, then finalize the GTask.
Sep 07 08:07:33 <teuf>	csoriano___: I guess GAsyncQueue could be used for that as well, but what you suggested sounds good too
Sep 07 08:10:31 <csoriano___>	teuf: thanks. So if I understood correctly, the GTask thread will g_async_queue_lock(), then the callbacks from the async calls inside the GTask will g_async_queue_unlock() right?
Sep 07 08:11:04 <teuf>	csoriano___: or they could just post some kind of message g_async_queue_pop() on the waiting side
Sep 07 08:11:15 <teuf>	but I think I'd just go with one of the ways you suggested
Sep 07 08:11:41 <csoriano___>	teuf: interesting. Putting a message doesn't hold the thread though, does it?
Sep 07 08:12:34 <teuf>	csoriano___: ah you need some blocking on both side ?
Sep 07 08:12:57 <csoriano___>	teuf: just blocking on the GTask thread, so the GTask doesn't finalize before the async calls inside the GTask are finished
Sep 07 08:13:35 <teuf>	_pop() would just block, so it would be waiting until the other threads _push() something
Sep 07 08:13:55 <csoriano___>	teuf: ah right, perfect thanks
Sep 07 08:26:47 <buggbot>	New gtk+ bug 771002 filed by paolo.borelli@gmail.com.
Sep 07 08:26:47 <buggbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771002 .General, normal, gtk-bugs, NEW , gdk_monitor_get_geometry and device coordinates
Sep 07 08:56:04 <xata>	Hello
Sep 07 08:58:21 <xata>	I am trying to work with gvariant (that is a part of glib, but there is no channel for glib afaik) and i can't get one simple thing - do i have to do some typical initialization like passing my arc argv to some glib loob and etc. or i can just use types and functions including headers and adding -lglib-2.0 to linker?
Sep 07 09:07:09 <TingPing>	nacho, trivial patch - bug 771004
Sep 07 09:07:10 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771004 win32, normal, gtk-win32-maint, NEW , Fix exporting pango_cairo_win32_font_map_get_type
Sep 07 09:08:01 <nacho>	TingPing, should you use the AVAILABLE_IN macros instead?
Sep 07 09:09:08 <TingPing>	IN_ALL i presume? sure
Sep 07 09:10:36 <nacho>	yeah
Sep 07 09:11:58 <TingPing>	patch updated
Sep 07 09:13:44 <nacho>	TingPing, reviewed
Sep 07 09:46:09 <Company>	holy shit
Sep 07 09:46:21 <Company>	android really feels like Linux anno 2001
Sep 07 09:47:06 <Company>	Currently, I get this dialog:
Sep 07 09:47:07 <Company>	"Unfortunately, Setup WIzard has stopped. [OK]"
Sep 07 09:47:42 <Company>	ignoring for a moment what kind of terrible UI this is, let's focus on android smartly restarting Setup Wizard for me, so it can instantly crash and present me a modal dialog that says:
Sep 07 09:47:44 <Company>	"Unfortunately, Setup WIzard has stopped. [OK]"
Sep 07 09:48:02 <Company>	guess what happens when I press the only button?
Sep 07 09:48:49 <Company>	does Google even employ UI designers
Sep 07 09:48:50 <Company>	?
Sep 07 10:17:16 <nacho>	Company, heh, you are too picky :P
Sep 07 10:17:27 <nacho>	Company, porting gtk to android? 
Sep 07 10:17:39 <Company>	no
Sep 07 10:17:52 <Company>	trying to avoid vulnerabilities on my phone
Sep 07 10:18:24 <TingPing>	not possible
Sep 07 10:18:40 <Company>	okay, lemme rephrase:
Sep 07 10:18:45 <Company>	trying to avoid known vulnerabilities on my phone
Sep 07 10:19:21 <Company>	the good news is that after clicking for a while
Sep 07 10:19:34 <TingPing>	i believe as of this months security update my phone is unsupported =(
Sep 07 10:19:34 <Company>	I now got the same dialog with the OK button insensitive
Sep 07 10:20:46 *	baedert 's wifi is broken so can't download any bigger updates anyway
Sep 07 10:20:51 <Company>	why would you even display a modal dialog with no sensitive button?
Sep 07 10:21:07 <baedert>	and there even is one to android n+1 whatever that is
Sep 07 10:21:13 <Company>	which designer came up with that idea in the first place
Sep 07 10:21:33 <Company>	baedert: can't you copy it via usb?
Sep 07 10:22:54 <baedert>	Company: I tried googling for that but that didn't yield any useful results
Sep 07 10:23:04 <Company>	:(
Sep 07 10:24:07 <Company>	okay, the good news is that now google play services, google first launch setup and setup wizard all crash
Sep 07 10:24:30 <Company>	so i get 3 different modal dialogs in a loop
Sep 07 10:24:55 <jadahl>	Company: just burn it. its over
Sep 07 10:25:55 <Company>	i think all i do is collecting ammunition
Sep 07 10:26:07 <Company>	for when anybody says "Linux should be more like Android" next time
Sep 07 10:26:10 <baedert>	*sigh* and now I can again now send this comment on github because it couldn't handle the file upload I cancelled earlier m(
Sep 07 10:27:13 <Company>	ah look
Sep 07 10:27:40 <Company>	"For Android 6.0 flash GApps directly after flashing your ROM and do not boot your device in between."
Sep 07 10:27:57 *	Company proceeds to reflash his device
Sep 07 10:28:10 <Company>	that is obviously a perfectly fine requirementr
Sep 07 10:28:13 <Company>	for 2001
Sep 07 10:28:52 <Company>	"Run lilo-update from the Knoppix live cd. Do not boot into Linux or you might lose your Windows partition."
Sep 07 10:29:00 <Company>	kinda like that
Sep 07 10:29:55 <Hussam>	Android packaging only makes sense on phones.
Sep 07 10:30:11 <Company>	at least i figured out after a week that my recovery system automatically flashed the su binary after an update
Sep 07 10:30:23 <Company>	so I got the Android 4 su back on Android 6
Sep 07 10:30:32 <Hussam>	TWRP?
Sep 07 10:30:39 <Company>	which means getting root stopped working...
Sep 07 10:30:48 <Company>	no, CWK or whatever it's called
Sep 07 10:30:54 <Company>	which I also haven't flashed in a while
Sep 07 10:31:02 <Hussam>	clockwork something
Sep 07 10:31:43 <Company>	I wish somebody made a proper Linux for phones
Sep 07 10:31:59 <Company>	one that didn't fuck up constantly
Sep 07 10:33:09 <Company>	okay, let's try this:
Sep 07 10:33:17 <Company>	(1) reflash
Sep 07 10:33:24 <Company>	(2) immediately install google apps
Sep 07 10:33:38 <Company>	(3) make sure this thing doesn't "update" my su binary
Sep 07 10:33:44 <Company>	and see if that works
Sep 07 10:37:28 <Hussam>	on android, stock packages go to /system/app and vendors extract the libraries from the apks to /system/lib/ so they can be shared. then updates to go /data/app and the updated packages don't use the system libraries anymore but instead ones from the updated package. the issue is that updated libraries are not shared anymore.
Sep 07 10:38:19 <Company>	ok, this didn't work
Sep 07 10:38:32 <Company>	probably because i forgot to do a factory reset
Sep 07 10:38:57 <Hussam>	reflashing the rom should overwrite the su binary installed by recovery.
Sep 07 10:40:13 <xata>	And still - anyone had experience with gvariant?
Sep 07 10:43:02 <baedert>	xata: I don't see a reason why gvariant would need any sort of initialization; Does it not work for you?
Sep 07 10:46:32 <Company>	ah yes, the Internet has the right gif to explain what updating your phone feels like: http://i.imgur.com/U4Neg2C.gifv
Sep 07 10:47:46 <xata>	baedert: i've already figured that out. Now i am in search to dynamically form data for g_variant_new. I have a list of structures each having char for describing type, void pointing at data and pointer to next structure. so i can form a string from types in list to feed to g_variant_new format parameter, but how do i feed it the data if i have no idea how much entries there will be? So i've found 
Sep 07 10:47:53 <xata>	GVariantFactory - but as i get it factory implies that each new entry added to factiry is the same type that was on initialization, right?
Sep 07 10:49:48 <xata>	and making array of GVariant's is not a good idea as data should be serialised afterwards and sent over network, so it better be one huge variant
Sep 07 10:52:24 <xata>	on the other hand serialised data is just a data without type, so in theory if i make one single memory from several serialised GVariants and provide a single string containing right sequence of types i can in theory feed this mess to g_variant_new_from_data
Sep 07 10:52:59 <xata>	Can this teory live?
Sep 07 10:53:12 <xata>	*theory
Sep 07 11:13:40 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep  7 11:13:40 2016

**** BEGIN LOGGING AT Wed Sep  7 11:13:53 2016

Sep 07 11:13:53 *	Now talking on #gtk+
Sep 07 11:13:53 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 07 11:13:53 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 07 11:37:40 <ebassi>	pwithnall: halfline: Wow, I never realized g_variant_iter_loop() had automagic memory management
Sep 07 11:37:53 <pwithnall>	the magic never stops!
Sep 07 11:37:55 *	ebassi marks it down in his little black book of functions to avoid
Sep 07 11:38:04 <pwithnall>	it’s pretty handy for 90% of cases
Sep 07 11:38:24 <pwithnall>	the only gotcha is if you break out of the loop early
Sep 07 11:38:30 <ebassi>	I guess I was confusing it with g_variant_iter_next()
Sep 07 11:38:33 <pwithnall>	yup
Sep 07 11:38:37 *	mclasen_ always uses next()
Sep 07 11:38:46 <ebassi>	Which behaves as I expect it to
Sep 07 11:39:11 <ebassi>	I guess loop() works best if you cannot use g_auto
Sep 07 11:39:45 <owen>	gvariant is in general, just a bit too magic for keeping in your head as an infrequent user
Sep 07 11:41:05 <halfline>	to me, i just don't think the little bit of extra convenience makes up for the confusion it causes
Sep 07 11:41:15 <halfline>	(iter_loop)
Sep 07 11:42:07 <halfline>	i'd probably deprecate it if there wasn't strong opposing opinions
Sep 07 11:42:33 <halfline>	why have two functions that do nearly the same thing with subtly different, easily confused semantics ?
Sep 07 11:47:06 <bugbot>	lkundrak@v3.sk marked bug 765995 as a duplicate of unknown bug.
Sep 07 11:47:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=765995 gdbus, normal, gtkdev, RESOLVED DUPLICATE, [PATCH] GDBusMethodInvocation: don't bother sending method returns to  uninterested callers
Sep 07 12:19:21 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep  7 12:19:21 2016

**** BEGIN LOGGING AT Wed Sep  7 12:19:34 2016

Sep 07 12:19:34 *	Now talking on #gtk+
Sep 07 12:19:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 07 12:19:34 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 07 12:24:18 <Company>	so, my phone has been starting up and (re)configuring apps for 1.5 hours
Sep 07 12:24:52 <Company>	i know it's a bit slow, but it's sure not *that* slow?
Sep 07 12:26:47 <ebassi>	sadiq: Looks generally good to me
Sep 07 12:31:25 <sadiq>	ebassi: thanks. Hope this will be committed to gtk+ soon
Sep 07 12:31:48 <mclasen_>	i'm considering doing a 2.24.x release soon. if there's any fixes that ought to be backported, now would be a good time to let me know
Sep 07 13:11:21 <LRN>	mclasen_, when is the release?
Sep 07 13:11:46 <mclasen_>	there's no rush, I'll wait until friday at least
Sep 07 13:14:45 <jmd>	Robinson Crusoe mode!
Sep 07 13:33:01 <aday>	i hope i'm right it assuming that the release model should be in the release notes
Sep 07 13:33:08 <aday>	because it's in there
Sep 07 13:43:25 <jwendell>	hi guys; inside glib, how to generate the docs?
Sep 07 13:43:31 <jwendell>	make doc doesn't work :/
Sep 07 13:46:15 <aday>	can someone explain the admin:/// thing to me? it's not clear what it's for
Sep 07 13:49:41 <swilmet>	jwendell: ./configure --help will give you a list of options
Sep 07 13:49:57 <swilmet>	it's --enable-gtk-doc what you're looking for
Sep 07 13:50:30 <swilmet>	but it takes a while to compile the docs (several hours on my machine)
Sep 07 13:50:46 <jwendell>	swilmet, thanks, was passing --enable-gtk-doc-html without --enable-gtk-doc
Sep 07 20:58:17 <jadahl>	Company: not really. there is no moving except for popup like windows
Sep 07 21:06:36 <Company>	\o/
Sep 07 21:06:58 <Company>	I can probably also remove gtk_window_move_resize() and make people really angry
Sep 07 21:07:44 <hergertme>	considering its used in every application that keeps its position across runs
Sep 07 21:07:54 <hergertme>	unless you have a smart window manager, heh
Sep 07 21:48:56 <hergertme>	i just noticed we use "GNU Lesser General Public License" .. "version 2" on lots of headers, but the rename to Lesser was 2.1
Sep 07 21:49:05 <hergertme>	meh
Sep 07 21:57:51 <Company>	hergertme: all those apps are broken
Sep 07 21:58:06 <Company>	on wayland
Sep 07 22:06:41 <jadahl>	hergertme: those applications should use a "restore position" like thing instead, and some other thing for "splash screen" like positioning
Sep 07 22:07:03 <hergertme>	no doubt
Sep 07 22:07:16 <jadahl>	(not that we would be able to support any of those two positioning semantics with the current set of protocols)
Sep 07 22:20:05 <feaneron_>	Company: ping
Sep 07 22:20:31 <feaneron>	Company: any idea why this is happening -> http://i.imgur.com/N665wrF.png ?
Sep 07 22:20:59 <feaneron>	Company: see, the bottom GtkBox is putting the hours column OVER the rest of the thing
Sep 07 22:21:27 <feaneron>	hergertme: ^ feel free to throw your 5 cents too :)
Sep 07 22:22:49 <feaneron>	and also it's unconditionally crashing with "gtk_widget_unregister_window: assertion failed: (user_data == widget)"
Sep 07 22:24:21 <hergertme>	feaneron: not sure what you mean
Sep 07 22:24:39 <hergertme>	but the window issue sounds like a custom widget that isn't doing realize/unrealize properly
Sep 07 22:25:42 <feaneron>	does this code look wrong - https://github.com/pandusonu2/gnome-calendar/blob/wip/pandusonu/week-view/src/views/gcal-week-grid.c#L140 ?
Sep 07 22:26:06 <feaneron>	as far as I'm concerned, it's similar to other classes around
Sep 07 22:26:11 <feaneron>	hrm...
Sep 07 22:29:39 <feaneron>	ok, i think this will make the problem clear
Sep 07 22:30:08 <feaneron>	http://i.imgur.com/7nIBcXO.png <- in blue, the time column (a GtkDrawingArea with width-request=62px)
Sep 07 22:30:32 <feaneron>	http://i.imgur.com/yOJYAsw.png <- the rest of the grid (a GtkContainer subclass)
Sep 07 22:31:04 <feaneron>	see, the grid is ~below~ the drawing area
Sep 07 22:31:05 <hergertme>	if you have a stack ordering issue, its probably related to gdk_window_show() ordering
Sep 07 22:31:08 <feaneron>	inside a GtkBox
Sep 07 22:31:13 <feaneron>	ah
Sep 07 22:31:21 <hergertme>	gdk_window_show() also raises the stacking order
Sep 07 22:32:21 <hergertme>	but hard to tell without really spending some time looking at it
Sep 07 22:33:09 <feaneron>	yeah... been stuck in this one for almost 1 month now
Sep 08 02:35:09 <bugbot>	New gtk+ bug 771033 filed by tfujiwar@redhat.com.
Sep 08 02:35:09 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771033 Widget: GtkStatusIcon, normal, gtkdev, NEW , GtkStatusIcon cannot show activate menu since 3.21.2
Sep 08 02:58:24 <jadahl>	kalev: did you look at the gtk cursor review?
Sep 08 03:00:49 <kalev>	jadahl: I did, thanks! I'll poke at it a bit more today
Sep 08 03:01:28 <jadahl>	great!
Sep 08 04:04:36 <baedert>	jadahl: http://paste.fedoraproject.org/423760/73321690/ Is that something to worry about?
Sep 08 04:06:56 <jadahl>	baedert: probably just non-initialized trailing bytes of some array that libX11.so is too lazy to initialize to 0
Sep 08 04:07:35 <bugbot>	oholy@redhat.com changed the Component on bug 770923 from Sidebar to Widget: GtkFileChooser.
Sep 08 04:07:35 <bugbot>	oholy@redhat.com changed the Status on bug 770923 from RESOLVED DUPLICATE to REOPENED ---.
Sep 08 04:07:36 <bugbot>	oholy@redhat.com changed the Product on bug 770923 from nautilus to gtk+.
Sep 08 04:07:36 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770923 Widget: GtkFileChooser, normal, gtk-bugs, REOPENED , nautilus does not show external drives in sidebar if plugged in on reboot
Sep 08 04:14:42 <baedert>	jadahl: Ok, http://paste.fedoraproject.org/423765/73322354/ there are a few more in gdk/wayland but none are obvious to fix for me
Sep 08 04:14:57 <baedert>	eh, the gvariant one is not for you :)
Sep 08 04:17:01 <jadahl>	seems like they happen during open_display, so wont prioritize them right now
Sep 08 04:45:29 <baedert>	jadahl: Actually: http://paste.fedoraproject.org/423774/32428314/
Sep 08 04:48:01 <jadahl>	baedert: nice one
Sep 08 05:18:24 <baedert>	garnacho_: http://paste.fedoraproject.org/423787/73326251/
Sep 08 05:19:11 <garnacho_>	baedert: oops, looks good :)
Sep 08 05:32:42 <bugbot>	New gtk+ bug 771046 filed by reiter.christoph@gmail.com.
Sep 08 05:32:43 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771046 .General, normal, gtk-bugs, NEW , Cut & paste no longer works between desktop and window
Sep 08 06:02:27 <hadess>	mclasen_, hey
Sep 08 06:02:40 <mclasen_>	hi
Sep 08 06:03:04 <hadess>	mclasen_, you wouldn't happen to remember, on top of your head, the trick to capturing a key binding overriding gnome-shell's capture?
Sep 08 06:03:15 <hadess>	it worked in the old keyboard panel, doesn't any more
Sep 08 06:03:30 <hadess>	i'm looking at the differences now but nothing springs out
Sep 08 06:04:01 <mclasen_>	did we have a shell api to suspend capture ? I'm clueless
Sep 08 06:04:07 <mclasen_>	maybe rtcm knows ?
Sep 08 06:05:06 <hadess>	nope, no shell api for that
Sep 08 06:07:11 <mclasen_>	I guess under X, we were grabbing the keyboard ?
Sep 08 06:07:33 <mclasen_>	which would preempt passive grabs that the shell might have
Sep 08 06:08:16 <mclasen_>	I think ofourdan was looking into adding some privileged keyboard grabbing operation to wayland ?
Sep 08 06:09:42 <hadess>	not using wayland right now
Sep 08 06:10:01 <hadess>	this is a possible regression compared to the old X behaviour, which i can test on the same machine
Sep 08 06:10:05 <ofourdan>	yes, but could not get to an agreement upstream, so things languished
Sep 08 06:10:28 <ofourdan>	besides, I has some proof of concept on the Xwayland side but mutter needs a lot more work
Sep 08 06:10:54 <ofourdan>	so still wip, don't hold your breath...
Sep 08 06:19:14 <hadess>	fmuellner, do you have any idea about the above?
Sep 08 06:21:31 <fmuellner>	hadess: i'm afraid not - an active grab by an app should always trump mutter's keybindings
Sep 08 06:24:33 <hadess>	testaccel in gtk+ overrides it, but not the new capture dialogue
Sep 08 06:24:42 <hadess>	probably something quite small
Sep 08 06:50:36 <mclasen_>	testaccel grabs the keyboard (via GtkCellRendererAccel)
Sep 08 06:51:57 <hadess>	yeah, so does the new keyboard panel code, but that's not it
Sep 08 06:52:03 <hadess>	i wonder if it's the eventbox
Sep 08 06:52:48 <hadess>	or not, looks like that code never gets called
Sep 08 06:52:52 <hadess>	that would explain it...
Sep 08 07:11:10 <fmuellner>	hadess: one issue is that https://git.gnome.org/browse/gnome-control-center/tree/panels/keyboard/cc-keyboard-shortcut-editor.c#n561 filters out all modifiers except of control, alt and shift
Sep 08 07:12:08 <fmuellner>	removing ALL_ACCELS_MASK from that line doesn't fix shell-owned shortcuts for me, but it fixes shortcuts like <super>t
Sep 08 07:13:21 <fmuellner>	oh, actually not entirely true - it also fixes existing shell shortcuts like <super>s
Sep 08 07:15:39 <fmuellner>	hadess: alt-tab and friends seem to be filtered out by gtk_accelerator_valid()
Sep 08 07:21:57 <hadess>	fmuellner, let me get through those patches, and we'll reassess
Sep 08 07:22:05 <hadess>	probably need more bugs filed
Sep 08 07:22:35 <fmuellner>	hadess: fwiw, https://paste.gnome.org/pd7jmt93e seems to work here
Sep 08 07:22:42 <bugbot>	klember@gnome.org changed the Status on bug 770952 from NEW --- to RESOLVED FIXED.
Sep 08 07:22:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770952 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, wayland: Don't destroy cursor backing storage when the buffer is released
Sep 08 07:25:39 <fmuellner>	hadess: of course ALL_ACCELS_MASK was added for a reason, so this will need a bit more investigation
Sep 08 07:25:39 <hadess>	fmuellner, can you file a bug and attach that patch?
Sep 08 07:26:20 <fmuellner>	hadess: sure - I'll head to the office first though if that's ok
Sep 08 07:27:33 <hadess>	sure
Sep 08 07:33:47 <hadess>	setting up a grab when the dialog is being shown stops it from being displayed
Sep 08 08:25:19 <hadess>	mclasen, garnacho_, rtcm: where were we at with the tablet support? punted? in progress?
Sep 08 08:26:10 <garnacho_>	hadess: I'm (at last? :) back from vacation, picking up on it again
Sep 08 08:26:16 <mclasen>	I think garnacho_ was trying to salvage it
Sep 08 08:28:15 <garnacho_>	mclasen: what's a bit unclear to me is how far can I get right now... didn't get much further guidance on that thread in release-team-list
Sep 08 08:28:49 <mclasen>	yeah :-(
Sep 08 08:29:03 *	mclasen goes back to that
Sep 08 08:30:39 <garnacho_>	thanks :)
Sep 08 09:03:29 <fmuellner>	hadess: filed bug 771058 now
Sep 08 09:03:30 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771058 Keyboard, normal, tiagomatos, NEW , The keyboard panel stopped working for a lot of shortcuts
Sep 08 09:08:33 <hadess>	fmuellner, thanks
Sep 08 09:23:37 <mclasen>	garnacho_: replied in the thread
Sep 08 09:27:12 <garnacho_>	mclasen: ok, sure... I'll look into at least bridging mutter into g-s-d settings/schemas, and let mutter-wayland vs gsd-x11 handling mutually exclusive
Sep 08 09:27:27 <mclasen>	ok
Sep 08 09:27:51 <garnacho_>	not the best story I liked for .0, but...
Sep 08 09:29:10 <muelli>	is fullscreen_on_monitor indeed as broken as indicated on http://stackoverflow.com/a/39386341/2015768 ?
Sep 08 09:29:11 <garnacho_>	uhm, but at least the pad osd needs moving to gnome-shell
Sep 08 09:29:38 <garnacho_>	fmuellner: ^^
Sep 08 10:06:58 <fmuellner>	garnacho_: uhm, is that the fun-with-rsvg patch I dropped the ball on?
Sep 08 10:07:07 <baedert>	Can I just remove some of my useless patches on bz somehow or do I have to review them as rejected?
Sep 08 10:07:10 <fmuellner>	(sorry for that btw, I honestly)
Sep 08 10:07:19 <garnacho_>	fmuellner: precisely :)
Sep 08 10:07:41 <fmuellner>	baedert: there's an 'obsolete' checkbox
Sep 08 10:08:20 <fmuellner>	(or for more convenience, you can set the patch status to 'obsolete' with git-bz)
Sep 08 10:11:04 <baedert>	fmuellner: ah behind that hidden edit details link again, thanks :)
Sep 08 10:40:59 <aleb>	If I use scrolled_window.add(widget) and the widget has a margin, it's displayed black. How can I make the black be transparent, so the color of the window is shown?
Sep 08 10:44:12 <bugbot>	New gtk+ bug 771060 filed by gns@gnome.org.
Sep 08 10:44:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771060 .General, normal, gtk-bugs, NEW , gdk_cairo_draw_from_gl renders top and bottom halves swapped when scale = 2
Sep 08 10:44:21 <baedert>	aleb: that's probably a bug in GtkViewport, you can work around it by setting the margin on the viewport and not the widget inside the viewport
Sep 08 10:48:02 <aleb>	baedert: I think it's not the same. If I set margin on the viewport, the margin is always visible.
Sep 08 10:53:02 <aleb>	I add a widget to my scrolled window, but the scrolled window stays very small, ridiculously small. How can I tell it to take as much space as it can?
Sep 08 10:54:30 <aleb>	I mean as much space as it needs, to show the entire widget.
Sep 08 10:58:31 <baedert>	so it shouldn't scroll?
Sep 08 11:06:15 <aleb>	It should scroll only if the screen is not big enough.
Sep 08 11:21:39 <aday>	garnacho_: so wayland wacom support won't make it for 3.22?
Sep 08 11:22:13 <garnacho_>	aday: yes, it's g-c-c/settings redesign what won't make it entirely
Sep 08 11:22:48 <aday>	garnacho_: so it will make it?!
Sep 08 11:23:10 <garnacho_>	aday: (yes == it will make it) :)
Sep 08 11:23:19 <aday>	good good :)
Sep 08 12:00:12 <garnacho_>	mclasen: fyi, as you asked the other day, I've just filed a patch on https://bugs.webkit.org/show_bug.cgi?id=146574
Sep 08 12:00:13 <bugbot>	Bug 146574: general, normal, totem-general-maint, RESOLVED INCOMPLETE, totem crashes when playing movie
Sep 08 12:00:43 <mclasen>	excellent, thanks
Sep 08 17:09:36 <mlundblad>	hmm, what happened to go-down-symbolic?
Sep 08 17:09:46 <mlundblad>	it's completely blank
Sep 08 17:17:37 <hadess>	mlundblad, probably a bug, file one?
Sep 08 17:20:36 <mlundblad>	hadess: yeah, probably
Sep 08 17:35:26 <polochon>	Hi! I'm trying to fiddle with treeview's CSS properties, but I can't change the background of the header for some reason. .view > header { background-color: red; } should do that, right ?
Sep 08 17:53:08 <djb>	mlundblad: can confirm
Sep 08 17:56:26 <mlundblad>	registered https://bugzilla.gnome.org/show_bug.cgi?id=771082
Sep 08 17:56:26 <bugbot>	Bug 771082: symbolic, normal, adwaita-icon-theme-maint, NEW , Icon for go-down-symbolic has vanished
Sep 08 23:56:47 <bugbot>	New glib bug 771094 filed by contribuor@gmail.com.
Sep 08 23:56:47 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771094 gio, normal, gtkdev, NEW , Just Microsoft support +1844 775 6411 Outlook Express Customer support phone number Customer Care Toll Free Helpline phone Number ?
Sep 09 03:35:57 <LRN>	a very verbose bug report
Sep 09 03:37:49 <alex>	https://deepmind.com/blog/wavenet-generative-model-raw-audio/
Sep 09 03:37:54 <alex>	wow, that is pretty amazeballs
Sep 09 03:40:29 <bugbot>	florian.muellner@gmail.com changed the Status on bug 771094 from NEW --- to RESOLVED INVALID.
Sep 09 03:40:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771094 gio, normal, gtkdev, RESOLVED INVALID, Just Microsoft support +1844 775 6411 Outlook Express Customer support phone number Customer Care Toll Free Helpline phone Number ?
Sep 09 04:14:07 <bugbot>	chpe@gnome.org changed the Component on bug 771100 from general to Backend: Wayland.
Sep 09 04:14:08 <bugbot>	chpe@gnome.org changed the Product on bug 771100 from gnome-terminal to gtk+.
Sep 09 04:14:08 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771100 Backend: Wayland, normal, gtk-bugs, NEW , [gnome-terminal] menus are grayed out even the application is active
Sep 09 04:16:45 <coolkid87>	For a toolbar's toggletoolbutton in CSS if I apply "toggletoolbutton" selector it doesn't select the toggletoolbutton. But if I apply "button" selector it selects the toggletoolbutton. Is this expected behaviour?
Sep 09 04:28:01 <ofourdan>	humm, how to check programatically that a gsettings schema is installed? 
Sep 09 04:29:16 <ofourdan>	like, I want to sneak into some other component settings, but survive if that othe component is not installed (and thus its gsettings schemas are missing)?
Sep 09 04:33:49 <ofourdan>	for reference, this is for https://bugzilla.gnome.org/show_bug.cgi?id=757943#c11
Sep 09 04:33:50 <bugbot>	Bug 757943: wayland, normal, mutter-maint, NEW , Numlock is disabled on login with wayland
Sep 09 04:34:21 <ofourdan>	"With a runtime check for the schema's existence to handle cases where g-s-d isn't installed" <= this
Sep 09 04:39:14 <coolkid87>	ofourdan: probably g_settings_schema_source_lookup()?
Sep 09 04:40:29 <ofourdan>	yeap, thanks coolkid87!
Sep 09 06:10:40 <bugbot>	New gtk+ bug 771112 filed by kparal@redhat.com.
Sep 09 06:10:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771112 Backend: Wayland, normal, gtk-bugs, NEW , gtk3 3.21.5 causes windows to grow on startup (with wayland)
Sep 09 06:55:31 <bugbot>	jadahl@gmail.com changed the Component on bug 771112 from Backend: Wayland to .General.
Sep 09 06:55:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771112 .General, normal, gtk-bugs, NEW , gtk3 3.21.5 causes windows to grow on startup (with CSD)
Sep 09 07:15:04 <mclasen>	ofourdan: is that in your corner - bug 771112 ?
Sep 09 07:15:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771112 .General, normal, gtk-bugs, NEW , gtk3 3.21.5 causes windows to grow on startup (with CSD)
Sep 09 07:15:25 <mclasen>	not sure what would have changed there between 3.21.4 and .5
Sep 09 07:15:39 <ofourdan>	could it be commit b3a530c
Sep 09 07:15:48 <ofourdan>	nothing relevant chanegd in gtkwindow
Sep 09 07:17:43 <mclasen>	but is move_to_rect even used for regular toplevels ?
Sep 09 07:18:03 <ofourdan>	dunno, I haven;t followed these patches
Sep 09 07:19:25 <mclasen>	I only see it called for menus
Sep 09 07:20:04 <ofourdan>	a git bisect would be a nightmare becase xdg_shell v6 got merged in between, means one would have to sync mutter depending on the commit :(
Sep 09 07:22:12 <ofourdan>	also, would be good to have a reproducer in plain c for debugging in gdb, as both meld and virt-manager are python
Sep 09 07:22:47 <kalev>	I figured out how to run virt-manager under gdb if it helps
Sep 09 07:23:06 <kalev>	jhbuild run gdb -ex r --args python /usr/share/virt-manager/virt-manager --no-fork
Sep 09 07:24:37 <ofourdan>	kalev: thanks!
Sep 09 07:31:00 <ofourdan>	so it is not the shadow_* addition, setting all to 0 makes no difference
Sep 09 07:31:07 <ofourdan>	weird...
Sep 09 07:31:45 <ofourdan>	and I agree gdk_window_impl_move_to_rect() is out of the scope as well
Sep 09 08:01:18 <aday>	does this sound ok for the admin:/// gvfs feature? "Finally, it is now possible to open files that require additional permissions using the admin:/// prefix in the address bar. This offers a safer alternative to opening files using sudo from the command line, and can also be used from file open dialogs."
Sep 09 08:10:21 <bugbot>	New gtk+ bug 771117 filed by kparal@redhat.com.
Sep 09 08:10:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771117 Backend: Wayland, normal, gtk-bugs, NEW , gtk3 3.21.5 broke displaying drop-down lists
Sep 09 08:17:11 <ofourdan>	mclasen: I wonder, I don't think this is regression, actually I think it's the old problem of apps gettign the size with the GtkWidget API an dsetting it back with the GtkWindow API, which takes CSD into account.
Sep 09 08:17:21 <ofourdan>	at least in the case of meld
Sep 09 08:19:31 <mclasen>	so, the reporter was confused about that, then ?
Sep 09 08:20:41 <kparal>	the reporter is here, in case you're talking about https://bugzilla.gnome.org/show_bug.cgi?id=771112
Sep 09 08:20:41 <bugbot>	Bug 771112: .General, normal, gtk-bugs, NEW , gtk3 3.21.5 causes windows to grow on startup (with CSD)
Sep 09 08:21:08 <ofourdan>	kparal: I know you're around :) and yes, that's the one I am talking about
Sep 09 08:21:48 <kparal>	I'm not confused, I just report the apps grow bigger and bigger with every launch, and I'm not fond of that :)
Sep 09 08:22:37 <ofourdan>	kparal: I am not saying you're confused, just saying this is not a regression and it's been like that since gtk+-3.18 because those apps mix the GtkWidget and the GtkWindow API to save and restore their window sizes
Sep 09 08:23:01 <kparal>	if it's something that needs to be adjust in the apps, we can reassign it. it just feels weird that the behavior changed in a minor release
Sep 09 08:23:11 <ofourdan>	it did not
Sep 09 08:23:12 <ofourdan>	again
Sep 09 08:23:24 <ofourdan>	I can reproduce using gtk+-3.20
Sep 09 08:23:48 <baedert>	wrong minor release :P
Sep 09 08:23:49 <kparal>	so why does gtk3-3.21.4 does not exhibit this?
Sep 09 08:23:54 <ofourdan>	it does
Sep 09 08:23:59 <ofourdan>	I tried
Sep 09 08:24:05 <kparal>	hmm, I can't reproduce it with .4
Sep 09 08:24:10 <ofourdan>	with meld?
Sep 09 08:24:15 <kparal>	with virt-manager
Sep 09 08:24:17 <ofourdan>	I can reproduce any time with meld
Sep 09 08:24:18 <kparal>	I can try with meld
Sep 09 08:24:20 <Hussam>	the size saving issue was in 3.20 :)
Sep 09 08:24:29 <ofourdan>	was it?
Sep 09 08:24:37 <ofourdan>	oh right, then 3.20
Sep 09 08:24:59 <Hussam>	yeah, plenty of packages where fixed. gnome-clocks, simple-scan, etc...
Sep 09 08:25:07 <ofourdan>	exactly
Sep 09 08:25:15 <ofourdan>	that's the csd changes in gtkwindow
Sep 09 08:25:17 <kparal>	ofourdan: I just downgraded to .4 and both virt-manager and meld keep their size
Sep 09 08:25:40 <ofourdan>	kparal: wait, you're in wayland?
Sep 09 08:25:43 <kparal>	yes
Sep 09 08:26:05 <ofourdan>	kparal: that;s why with 3.21.4 you are *not* using csd and Wayalnd because xdg-shell v6 :p
Sep 09 08:26:24 <ofourdan>	you might even have a message in your terminal ...
Sep 09 08:26:33 <ofourdan>	telling you it;s not using the wayland backend
Sep 09 08:26:39 <kparal>	(meld:4367): Gdk-WARNING **: Wayland compositor does not support xdg_shell interface, not using Wayland display
Sep 09 08:26:46 <ofourdan>	:p
Sep 09 08:26:54 <kparal>	ok, so
Sep 09 08:27:10 <kparal>	why is it that in X11 the apps keep their size?
Sep 09 08:27:13 <ofourdan>	so you need wither to use an "older" compositor such as weston (e.g. weston then WAYLAND_DISPLAY=wayland-1 meld)
Sep 09 08:27:16 <ofourdan>	or
Sep 09 08:27:18 <ofourdan>	for CSD
Sep 09 08:27:22 <ofourdan>	GTK_CSD=1 meld
Sep 09 08:28:25 <kparal>	yeah, with GTK_CSD=1 meld grows even with .4
Sep 09 08:28:31 <ofourdan>	see ...
Sep 09 08:28:58 <kparal>	but I thought CSD is used in X11?
Sep 09 08:29:02 <ofourdan>	so no regression there, just an app that needs to be update to gtk+3.20+
Sep 09 08:29:04 <Company>	mclasen: gdk_monitor_get_manufacturer() and gdk_monitor_get_model() are just copied from the wayland api, right?
Sep 09 08:29:27 <Company>	mclasen: I've been looking at GdkMonitor recently and found them not very useful
Sep 09 08:29:30 <ofourdan>	kparal: nah, it depends on the application - mutter/gnome-shell make it *look* similar but some apps still use SSD
Sep 09 08:30:10 <Company>	mclasen: so I was wondering who the intended user of those functions would be
Sep 09 08:30:19 <mclasen>	Company: more or less, yes
Sep 09 08:30:30 <mclasen>	the inspector was my intended user
Sep 09 08:30:33 <Company>	mclasen: more context: I've been trying to rip out GdkScreen for my GTK4 branch
Sep 09 08:30:46 <Company>	mclasen: and encountered tests/testxinerama
Sep 09 08:31:04 <mclasen>	thats pretty old and dead
Sep 09 08:31:15 <Company>	well, it's essentially not doing xinerama today
Sep 09 08:31:31 <Company>	but just displaying 1 window on each monitor with infos about that monitor
Sep 09 08:31:44 <Company>	which sounds like a useful test
Sep 09 08:31:54 <Company>	but it's really hard to do because
Sep 09 08:32:10 <Company>	(1) there's no way to get a unique descriptive text for a monitor
Sep 09 08:32:31 <Company>	(2) Wayland doesn't allow you to place windows, so you can't ensure they all go to their respective monitor
Sep 09 08:33:05 <owen>	Company: the bits (eventually) need to be there to let you do something like the ooimpress presentation api
Sep 09 08:33:11 <Company>	in the old GdkScreen days, people just called monitors "Monitor 1", "Monitor 2" and so on
Sep 09 08:33:32 <Company>	but we don't have numbers anymore
Sep 09 08:33:35 <baedert>	that reminds me of the bug report with the 0×0px monitor
Sep 09 08:33:43 <Company>	and i'm not sure how descriptive numbers really are
Sep 09 08:34:28 <Company>	and then I wondered about making GDK provide a way to query a useful description of a monitor that uniquely identifies it
Sep 09 08:34:44 <bugbot>	New glib bug 771119 filed by jwendell@gnome.org.
Sep 09 08:34:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771119 general, normal, gtkdev, NEW , [PATCH] ignore 'tags' files
Sep 09 08:34:52 <Company>	so that ie ooimpress can use it for a "Show presentation on this monitor" dialog
Sep 09 08:35:37 <Company>	manufacturer + model is really bad for this, because it can just return NULL both times or be the same for every monitor or things like that
Sep 09 08:36:28 <Company>	also, I'm not sure how you'd properly store a monitor selection in GSettings
Sep 09 08:37:19 <mclasen>	we can add a unique identifier, and try to make some guarantees about it staying tied to the same hw, but we only have the edid stuff to work with, more or less
Sep 09 08:38:13 <Company>	disclaimer: I didn't look at what backends give us
Sep 09 08:38:29 <Company>	but i would replace model/manufacturer with id/description
Sep 09 08:38:51 <Company>	where id should be unique across restarts/reboots
Sep 09 08:38:55 <Company>	and might be NULL
Sep 09 08:39:16 <Company>	and description should be user-displayable and preferrably unique
Sep 09 08:39:24 <Company>	and never NULL
Sep 09 08:40:49 <Company>	worst case we can make the description just say "Monitor"
Sep 09 08:41:13 <Company>	or look at geometry and call it "left Monitor" and "right Monitor"
Sep 09 08:42:43 <Company>	or use "Monitor 1", "Monitor 2", etc again \o/
Sep 09 08:45:37 <ofourdan>	ebassi: you beat me to the comment in bug 771112! I was confused because your comment reads almost exactly lie mine, so I wondered if I clicked twice :D
Sep 09 08:45:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771112 .General, normal, gtk-bugs, NEW , gtk3 3.21.5 causes windows to grow on startup (with CSD)
Sep 09 08:47:29 <ebassi>	ofourdan: hehe
Sep 09 08:48:34 <ofourdan>	kparal: your las comment adds confusion, nothing has changed wrt csd between .4 and .5, it's becasue of xdg-shell version change that running .4 on a newer compositor will discard the wayland backend
Sep 09 08:50:16 <kparal>	ok, sorry, then
Sep 09 08:50:30 <ofourdan>	wayland has no ssd so you'd use csd in wayland, however, because of xdg-shell v6, if an app cannot use the wayland backend it will fall back to the x11 backend that *can* use ssd depending on how the app is coded, which explains why the issue did not show when downgrading gtk+ alone (without also downgrading mutter and gnome-shell)
Sep 09 08:51:13 <mclasen>	Company: adding id/description along those lines sounds fine to me
Sep 09 08:51:19 <ofourdan>	darn, even my explanation is confusing ... friday--
Sep 09 08:54:11 <ofourdan>	Company: are your comments related to rhbz#1374600 ? (Can't change display's resolution on Gnome Wayland)
Sep 09 08:54:19 <Company>	mclasen: do you know if backends have good ways to provide that info?
Sep 09 08:54:54 <Company>	ofourdan: no, they're fallout from me deleting GdkScreen for GTK4 and fixing up code to not use GdkScreen anymore
Sep 09 08:55:05 <ofourdan>	oh ... :)
Sep 09 08:56:04 <Company>	essentially, I get to do all the work that we didn't do when we introduced new APIs in GTK3 :)
Sep 09 08:57:34 <ofourdan>	right, I should probably stay out of this for now, considering I already have a headache :)
Sep 09 08:57:41 <mclasen>	as I said, I think edid is probably the lowest common denominator. not sure what you get on win32 or quartz, but we do have GdkMonitor implementations for those
Sep 09 08:58:43 <Company>	yeah, i'm mostly worried about Wayland and X11
Sep 09 08:58:55 <Company>	if they both provide something, we should usually be good
Sep 09 08:59:22 <Company>	because X11 is old and lacks modern things and Wayland restricts what it provides more than anyone
Sep 09 08:59:56 *	Company wonders if he wants to do the "Should we remove gtk_window_move()?" discussion now or Monday
Sep 09 09:01:27 <Company>	that's a clear indication of "let's do it Monday" :)
Sep 09 09:01:36 <mclasen_afk>	:-)
Sep 09 09:05:36 <mclasen_afk>	we can discuss it later, I'll be busy for the next 2 hours
Sep 09 09:12:47 <csoriano_>	Company: are we working on gtk4 already? (some branch or so)
Sep 09 09:13:11 <Company>	csoriano_: i started looking at it this week
Sep 09 09:13:26 <Company>	i didn't want to screw up anything in 3.22
Sep 09 09:13:32 <csoriano_>	ah ok
Sep 09 09:13:35 <csoriano_>	yeah indeed
Sep 09 09:13:41 <Company>	essentially I did rm gdkscreen.h and looked at the compile failures
Sep 09 09:13:46 <csoriano_>	but is our plan to have gtk4 for 3.24 or so?
Sep 09 09:13:54 <Company>	i thought so, yes
Sep 09 09:14:09 <csoriano_>	ok, I have some work to do then in gtkplacessidebar and gtkplacesview
Sep 09 09:14:21 <Company>	the main feature of it was supposed to be ebassi's GL stuff
Sep 09 09:14:38 <csoriano_>	and rm containers? :D
Sep 09 09:14:46 <Company>	csoriano_: strictly speaking, there's nothing stopping you from adding that to 3.24, too
Sep 09 09:15:03 <Company>	csoriano_: though if nautilus goes GTK4, why would you?
Sep 09 09:15:09 <csoriano_>	Company: right...but I prefer to break the API for gtk4
Sep 09 09:15:26 <Company>	yay!
Sep 09 09:15:37 <csoriano_>	I'm actually not sure if I can move nautilus to gtk4
Sep 09 09:16:26 <csoriano_>	making the desktop work withouth all the deprecated stuff and window changes you are planning...not sure it will work out
Sep 09 09:17:08 <mclasen_afk>	you can keep nautilus-desktop on gtk3 - isn't that separate now ?
Sep 09 09:17:23 <Company>	we don't have to delete all deprecated stuff for 3.90, too
Sep 09 09:18:17 <csoriano_>	mclasen_afk: it's a different binary using the same libnautilus. So I guess libnautilus using gtk4 would be an impediment for nautilus-desktop using gtk3....or not acually..?
Sep 09 09:18:36 <mclasen_afk>	I see
Sep 09 09:19:42 <csoriano_>	now I'm confused wheter that matters or not :/ the library can use a different gtk than the program right?
Sep 09 09:19:59 <Company>	no
Sep 09 09:20:10 <csoriano_>	or since the process is the same it has to use the same gtk+
Sep 09 09:20:12 <csoriano_>	?
Sep 09 09:20:19 <Company>	same process = same libgtk
Sep 09 09:20:35 <Company>	you can't put a gtk4 widget into a gtk3 window
Sep 09 09:20:39 <csoriano_>	yeah, then what I though... :(
Sep 09 09:20:43 <Company>	that would confuse gtk a LOT
Sep 09 09:21:22 <csoriano_>	to be honest...this adds much more to just forking it
Sep 09 09:21:44 <csoriano_>	reduce the nautilus-desktop code to minimum and keep it as a separate project
Sep 09 09:22:10 <csoriano_>	and let nautilus be the new one ™
Sep 09 09:25:21 <alex>	csoriano_: I'm not sure its going to be *that* hard to keep the old canvas running
Sep 09 09:25:34 <alex>	it may not perform optimal or whatnot, but just keeping it running should be ok
Sep 09 09:26:02 <alex>	It doesn't do a lot special in terms of subwidgets and input
Sep 09 09:26:40 <Company>	not sure how much GDK APIs it uses to place the window as the desktop
Sep 09 09:26:49 <Company>	if that's all X calls, it should be rather simple to port
Sep 09 09:27:02 <Company>	if it's using GDK APIs that we intend to remove because wayland, then no idea
Sep 09 09:27:29 <alex>	All of the canvas is mostly a single widget that is rendered using cairo
Sep 09 09:27:43 <alex>	then we place subwidgets in it for editable labels mainly
Sep 09 09:28:05 <alex>	Clearly not the optimal way to do a canvas in GSK times, but will keep working
Sep 09 09:28:12 <Company>	yeah
Sep 09 09:28:44 <Company>	i was conserned about creating the window as the desktop
Sep 09 09:28:55 <Company>	that's a GtkWindow that you have to do some magic on
Sep 09 09:29:56 <csoriano_>	alex: regarding subwidgets, so far gtk_render_background and some other stuff that will need CSS equivalents that I'm not sure we can do it right now (I will look into it neverthless)
Sep 09 09:30:02 <csoriano_>	alex: but it's mostly about the window.
Sep 09 09:31:11 <csoriano_>	alex: however, I'm talking with rtcm to do a protocol between nautilus and the compositor to handle this and therefore make it work also on wayland. Probably that will avoid nautilus using magic for the window.
Sep 09 09:32:34 <Company>	org.gnome.shell.CreateDesktopSurface
Sep 09 09:33:29 <bugbot>	rstrode@redhat.com changed the Status on bug 770971 from NEW --- to RESOLVED FIXED.
Sep 09 09:33:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770971 general, normal, gtkdev, RESOLVED FIXED, Add a structured g_log() that works with introspection
Sep 09 09:33:32 <Company>	if that was somewhat public, I could make a twitch background \o/
Sep 09 09:34:47 <csoriano_>	alex: after all it could be possible to keep the desktop inside nautilus and use gtk4. However sometimes I think how much it worth to keep the desktop there, lagging us behind or making Nautilus a special application, when the desktop just wants to stay stable rather than go forward.
Sep 09 09:36:11 <alex>	csoriano_: The problem (and reason i never split the desktop) is that the desktop needs all the i/o code that the main binary needs, including icon caches, etc. And it has to allow the same sort of file operations. So, splitting it out doesn't really gain you much...
Sep 09 09:36:50 <csoriano_>	alex: yeah, it would use most of the nautilus code if a real split is done to another project.
Sep 09 09:37:09 <csoriano_>	alex: gain not for the desktop, but maybe for nautilus itself...
Sep 09 09:37:55 <alex>	You'd keep the desktop using the old nautilus code? If not you'll still have to maintain it, and keep the maintainance burden
Sep 09 09:39:33 <csoriano_>	alex: yeah, the old nautilus code
Sep 09 09:39:44 <csoriano_>	depending on gtk3
Sep 09 09:39:46 <bugbot>	jwendell@gnome.org changed the Status on bug 771119 from NEW --- to RESOLVED FIXED.
Sep 09 09:39:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771119 general, normal, gtkdev, RESOLVED FIXED, [PATCH] ignore 'tags' files
Sep 09 09:40:16 <csoriano_>	alex: but as you said, I feel is a quite dangerous move, because of the maintenance burden. I believe the desktop is not going away for the foreseable future.
Sep 09 09:40:17 <alex>	csoriano_: but then it wouldn't get fixes to "undo" or rename, etc...
Sep 09 09:41:00 <csoriano_>	alex: that code didn't change much for what the desktop needs tbh... we change it for refactoring and using new API like GTask etc. and add new operations
Sep 09 09:42:25 <halfline>	move the shared code to libnautilus-private ?
Sep 09 09:43:17 <csoriano_>	halfline: I actually merged that to src. Was a mess, libnautilus-private was depending on actual nautilus
Sep 09 09:43:28 <halfline>	oh okay
Sep 09 09:43:29 <csoriano_>	so I had to deal with circular dependencies
Sep 09 09:43:49 <halfline>	i guess to me, the desktop just seems like a completely different thing than a file browser window
Sep 09 09:43:54 <csoriano_>	and I think is fine liek this, we still want some gtk handlers from the operations themselves
Sep 09 09:44:39 <csoriano_>	halfline: it's actually just a nautilus window. That is used from the file-operations to display dialogs and messages or in-app notifications.
Sep 09 09:45:06 <halfline>	also we don't have a desktop by default so cordoning it off into its own program makes sense to me.
Sep 09 09:45:12 <halfline>	yea i know it is
Sep 09 09:45:40 <csoriano_>	halfline: currently it's a different binary. Is what I worked on this cycle.
Sep 09 09:46:00 <halfline>	i remember when i first added crossfades for the wallpaper i was pleasantly surprised that background patterns in the file browser windows crossfaded for "free"
Sep 09 09:46:01 <csoriano_>	mostly fixing this circular dependencies between the desktop and the rest of nautilus
Sep 09 09:46:25 <halfline>	(of course now nautilus doesn't do background patterns in file browser windows or the wallpaper, but that's neither here nor there)
Sep 09 09:47:10 <halfline>	csoriano_: oh is it a different binary now? great
Sep 09 09:47:29 <chair>	does GtkCellRendererProgress set a style class for orientation of the progressbar?
Sep 09 09:47:35 <csoriano_>	halfline: yeah :) and now it uses vfuncs rather than special casing the desktop
Sep 09 09:48:10 <chair>	.cell.progressbar applies to horizontal progress cell renderers, but not .cell.progressbar.horizontal
Sep 09 09:53:54 <chair>	plus it seems like the .progressbar style class actually refers to what would be the "progress" element of a real progressbar widget
Sep 09 09:54:05 <chair>	for progress cell renderers
Sep 09 10:22:27 <bugbot>	oholy@redhat.com changed the Status on bug 764532 from NEEDINFO --- to RESOLVED NOTGNOME.
Sep 09 10:22:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764532 gio, normal, gtkdev, RESOLVED NOTGNOME, Unable to trash file: File exists
Sep 09 10:34:01 <csoriano_>	oholy: "That is why I never update and why I hate Linux with a passion." :)
Sep 09 10:35:27 <oholy>	csoriano_: yep :-(
Sep 09 10:43:32 <aruiz>	ostree for the win
Sep 09 11:18:57 <mclasen>	chair: we should fix that
Sep 09 11:23:26 <chair>	mclasen: should I submit a bug?
Sep 09 11:23:52 <mclasen>	yes, please
Sep 09 11:24:03 <chair>	ok, won't be immediate but in a few hours at most
Sep 09 11:24:12 <chair>	thx
Sep 09 11:42:33 <adamw>	hi folks
Sep 09 11:43:48 <adamw>	got an odd buglet with GTK+ in Fedora Rawhide; it seems like it doesn't always render radio button bullets quite right
Sep 09 11:44:16 <adamw>	this trips up openQA (our screenshot match-y test system)
Sep 09 11:44:40 <adamw>	most of the time it's fine, but in e.g. https://openqa.fedoraproject.org/tests/30854#step/_software_selection/11 the bullet was too small
Sep 09 11:45:08 <adamw>	and in three tests that ran on staging today it was a bit grey, not black
Sep 09 11:45:14 <adamw>	e.g. https://openqa.stg.fedoraproject.org/tests/41047#step/_software_selection/7
Sep 09 11:46:46 <csoriano_>	adamw: there is a transition, maybe the screenshot was taken before the transition is done?
Sep 09 11:46:59 <adamw>	csoriano_: it would keep looking for 30 seconds
Sep 09 11:47:07 <csoriano_>	oh
Sep 09 11:47:21 <adamw>	on the Logs & Assets tab there is a (somewhat sped up) video, you can see from that that the bullet doesn't change
Sep 09 11:47:41 <adamw>	(i recommend pausing at the relevant point and wiping backward/forward with the progress bar)
Sep 09 11:47:50 <adamw>	perhaps the transition is not completing?
Sep 09 11:49:35 <csoriano_>	weird
Sep 09 11:53:21 <mclasen>	adamw: https://openqa.stg.fedoraproject.org/tests/41047#step/_software_selection/7 looks fine to me. Whats wrong there ?
Sep 09 11:56:19 <adamw>	mclasen: so, openQA 101 :)
Sep 09 11:56:26 <bugbot>	New gtk+ bug 771127 filed by adamw@happyassassin.net.
Sep 09 11:56:26 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771127 Widget: GtkButton, normal, gtk-bugs, NEW , Radio button bullet not always rendered correctly after selection (transition does not complete?)
Sep 09 11:56:48 <adamw>	drag the orange line back and forward across the colored area (which is the area of the screen it was matching; it doesn't care at all about the rest of the screen)
Sep 09 11:57:01 <adamw>	on the left of the orange bar is the reference 'needle' (the screenshot it compares to, 'how it's supposed to look')
Sep 09 11:57:08 <adamw>	on the right is how it actually looked in that test
Sep 09 11:57:33 <adamw>	doing that you can see the bullet during the test was the same size, but lighter in color - it's grey not black
Sep 09 11:58:25 <mclasen>	ah, I see
Sep 09 11:58:43 <mclasen>	Company: do we have any known bugs in that area ?
Sep 09 12:06:28 <Company>	mclasen, adamw: I'm not aware of any issues
Sep 09 12:06:40 <adamw>	well, now you are :)
Sep 09 12:06:53 <Company>	baedert: you've seen anything like that? ^^^
Sep 09 12:07:35 <Company>	(asking baedert because he knows all the weird bugs, not because I think he would have caused them)
Sep 09 12:08:20 <adamw>	thing is unless you're an extremely detail-oriented human or a dumb screenshot matching robot, you probably wouldn't notice :P
Sep 09 12:08:46 <baedert>	is that a treeview?
Sep 09 12:08:48 <mclasen>	oh, people notice these things
Sep 09 12:08:56 <baedert>	because I don't do treeviews
Sep 09 12:08:59 <baedert>	that's not how I roll
Sep 09 12:08:59 <mclasen>	does turning off css caching make this go away ?
Sep 09 12:09:18 <adamw>	in both cases, i dunno.
Sep 09 12:09:20 <adamw>	gimme a sec
Sep 09 12:09:46 <baedert>	Company: also if things work out I have a bug for you later.
Sep 09 12:10:28 *	Company hopes things don't work out for baedert then
Sep 09 12:10:50 <adamw>	well, https://github.com/rhinstaller/anaconda/blob/master/pyanaconda/ui/gui/spokes/software.glade is the glade for that screen.
Sep 09 12:11:08 <adamw>	i guess it's a GtkBox? I dunno, i suck at reading xml and also at glade
Sep 09 12:11:21 <adamw>	mclasen: and i dunno but i could possibly test; how does one turn off css caching?
Sep 09 12:11:36 <Company>	strg-f "listbox"
Sep 09 12:11:40 <baedert>	listbox, shit
Sep 09 12:11:46 <baedert>	probably the css cache then!
Sep 09 12:12:01 <Company>	i'd have expected a listbox, because treeviews don't run animations
Sep 09 12:13:44 <Company>	also: yay, anaconda uses listboxes and not treeviews!
Sep 09 12:16:28 <adamw>	i'm gonna run out and play tennis a bit. but mclasen i can probably hack up quite a good test for this which just keeps selecting and checking the match over and over again, so if you tell me how to disable css caching, i can see if it helps.
Sep 09 12:16:42 *	adamw back in a bit
Sep 09 12:16:48 <baedert>	ebassi: I guess http://paste.fedoraproject.org/424841/73437727/ shouldn't matter unless a widget calls _set_double_buffered in ::draw (from FALSE to TRUE), want to ignore it?
Sep 09 12:17:23 <baedert>	adamw: GTK_DEBUG=no-css-cache
Sep 09 12:17:57 <adamw>	hum, is there any way to do it 'live'? if not i guess i can make an anaconda updates image to do it. hopefully
Sep 09 12:18:39 <baedert>	it's one of the few things the inspector can't do 
Sep 09 12:18:51 <adamw>	ah well. i'll figure it out
Sep 09 12:18:54 <adamw>	thanks guys, back in a bit
Sep 09 12:19:42 <baedert>	Company: actually, I just remembered that the bug only happens in 3.20 and not maste and I don't care that much :(
Sep 09 12:20:51 <Company>	yay!
Sep 09 12:20:51 <mclasen>	can't be too hard to do ? 
Sep 09 12:21:20 <Company>	i suppose writing a patch that adds a css cache toggle to the inspector shouldn't be too hard
Sep 09 12:22:09 <Company>	though it might be harder to toggle the cache at runtime
Sep 09 12:22:17 *	Company forgets details about how the cache works
Sep 09 12:23:57 <baedert>	Let's say I build gtk and I get a bunch of non-gobject cursors from gdk_cursor_new_from_name as well as the widget-factory not taking input at all; what might be the problem?
Sep 09 12:28:42 <garnacho_>	baedert: non-gobject or just null?
Sep 09 12:37:56 <baedert>	let's check
Sep 09 12:38:25 <baedert>	garnacho_: NULL
Sep 09 12:38:57 <baedert>	it's an x11 only build
Sep 09 12:40:22 <ofourdan>	mclasen: qucik check, I got the green light from rtcm to commit the patch for bug 757943. it's ok to push to master now? (ie wrt schedules and everything)?
Sep 09 12:40:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=757943 wayland, normal, mutter-maint, NEW , Numlock is disabled on login with wayland
Sep 09 12:40:41 <ofourdan>	(that's a mutter patch btw)
Sep 09 12:48:20 <garnacho_>	baedert: sounds to gtk not finding the cursor theme
Sep 09 12:49:45 <baedert>	a constructor really shouldn't ever return NULL :/
Sep 09 12:56:40 <baedert>	"define to 1 if on MINIX" heh
Sep 09 13:00:50 <baedert>	garnacho_: I guess not defining HAVE_XCURSOR would impact that, huh
Sep 09 13:02:43 <garnacho_>	baedert: ouch, you'd guess right :)
Sep 09 13:10:58 <baedert>	hah and now i have input
Sep 09 14:11:32 <mclasen>	ofourdan: yes, go ahead
Sep 09 14:27:21 <adamw>	mclasen: baedert: ok, i've got an openqa branch set up on staging which runs 8 copies of the same test, and the test just loops 100 times over selecting the minimal package group in anaconda...it's definitely hitting the bug consistently (4/8 have failed on the current run), so i'll try it with CSS cache disabled if i can. just gotta hack up an anaconda patch.
Sep 09 14:28:22 <baedert>	listbox and selection sounds a lot like css cache
Sep 09 14:37:01 <adamw>	6/8 failed, two made it through 100 tries :P
Sep 09 14:42:11 <mgorse>	mclasen: Is a 2.24.31 release imminent? Trying to decide whether to cherry-pick the CVE for openSUSE/SLE
Sep 09 14:42:32 <nacho>	hey
Sep 09 14:42:41 <nacho>	so I am giving a try to flatpak
Sep 09 14:42:55 <nacho>	I just installed the runtime
Sep 09 14:43:07 <nacho>	but then when I try to run flatpak-builder it tells me it cannot find it
Sep 09 14:45:23 <mclasen>	mgorse: I said I would do it today, right ?
Sep 09 14:45:52 <mclasen>	so I probably should...
Sep 09 14:46:18 <mgorse>	mclasen: Okay, I'll wait for a release. I saw that you'd updated the NEWS, so figured that meant a release was coming
Sep 09 15:06:01 <adamw>	mclasen: baedert: welp, i don't think disabling CSS cache help[s
Sep 09 15:06:41 <adamw>	i made an anaconda updates.image which calls 'GTK_DEBUG=no-css-cache anaconda' and also patched anaconda to log os.environ['GTK_DEBUG'] to verify that it worked...log message shows it got set, but the tests still fail
Sep 09 15:13:08 <baedert>	Can't blame Company then :(
Sep 09 15:13:19 <baedert>	(yet)
Sep 09 15:51:03 <mavesis>	hi everyone, i just started up with mono (c# and gtk#) an got driving crazy. i am here right for some questions about gtk# ?
Sep 09 15:52:02 <djb>	that's irc.gnome.org #gtk#
Sep 09 15:52:23 <mavesis>	thank you
Sep 09 15:52:27 <djb>	i mean you might be able to get help here but it's likely more people are C oriented
Sep 09 15:53:56 <mavesis>	i'm just did something with c# on windows and with windows forms it was just so easy...
Sep 09 15:55:03 <djb>	it's more about what you're used to that what's easy. and nearly everyone here is used to GTK+, not Gtk# :P
Sep 09 15:55:09 <djb>	*that => than
Sep 09 16:00:24 <bugbot>	gns@gnome.org changed the Status on bug 771060 from NEW --- to RESOLVED INVALID.
Sep 09 16:00:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771060 .General, normal, gtk-bugs, RESOLVED INVALID, gdk_cairo_draw_from_gl renders top and bottom halves swapped when scale = 2
Sep 09 16:01:35 <bugbot>	mclasen@redhat.com changed the Status on bug 770932 from NEW --- to RESOLVED INVALID.
Sep 09 16:01:35 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770932 Backend: Wayland, minor, gtk-bugs, RESOLVED INVALID, wayland: input focus lost after dismissing a popup menu
Sep 09 16:18:29 <bugbot>	mclasen@redhat.com changed the Status on bug 770923 from REOPENED --- to RESOLVED NOTGNOME.
Sep 09 16:18:30 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770923 Widget: GtkFileChooser, normal, gtk-bugs, RESOLVED NOTGNOME, nautilus does not show external drives in sidebar if plugged in on reboot
Sep 09 16:42:10 <bugbot>	mclasen@redhat.com changed the Status on bug 771033 from NEW --- to RESOLVED FIXED.
Sep 09 16:42:10 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771033 Widget: GtkStatusIcon, normal, gtkdev, RESOLVED FIXED, GtkStatusIcon cannot show activate menu in VirtualBox since 3.21.2
Sep 09 16:57:44 <bugbot>	mclasen@redhat.com changed the Status on bug 764979 from NEW --- to RESOLVED FIXED.
Sep 09 16:57:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764979 .General, normal, gtk-bugs, RESOLVED FIXED, Connect to server is unusable after cancelling a password dialog
**** BEGIN LOGGING AT Mon Sep 12 09:03:58 2016

Sep 12 09:03:58 *	Now talking on #gtk+
Sep 12 09:03:58 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 12 09:03:58 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 12 09:58:32 <alex>	vim8 is out
Sep 12 09:58:39 <alex>	now with gtk3 support !
Sep 12 10:22:05 <baedert>	mclasen: want to put the drawn without current allocation warning inside a #ifdef G_ENABLE_DEBUG for 3.22? Some of those warnings can't be fixed atm
Sep 12 10:24:31 <mclasen>	Company: ^ whats your opinion ?
Sep 12 10:24:44 <mclasen>	sounds right to me, fwiw
Sep 12 10:35:19 <halfline>	alex: also C89 !
Sep 12 10:35:43 <halfline>	"Functions now use ANSI-C declarations.  At least a C-89 compatible compiler is required." ← https://github.com/vim/vim/blob/master/runtime/doc/version8.txt
Sep 12 10:38:43 <halfline>	(i just think it's funny they decided to modernize their basic C requirements, and decided to pick a 30 year standard as the new base)
Sep 12 10:41:32 <ebassi>	halfline: vim has to build on a toolchain from the early '90s, I guess
Sep 12 10:41:47 <ebassi>	But I'm shocked they decided to drop K&R
Sep 12 10:42:22 <ebassi>	What if somebody falls in a wormhole and ends up in 1989 with only a cloned repository of vim?
Sep 12 10:42:39 <ebassi>	On multiple floppies
Sep 12 10:44:22 <alex>	ebassi: how would they check out the repo without git!?!?
Sep 12 10:51:53 <bugbot>	New glib bug 771304 filed by fredrik@fornwall.net.
Sep 12 10:51:53 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771304 general, normal, gtkdev, NEW , GTimeZone does not work on Android
Sep 12 11:24:08 <baedert>	Am I the only one getting quite a few old mails from gtk-list today?
Sep 12 11:24:31 <b4n>	nope
Sep 12 11:24:48 <b4n>	but it happened to me in the past too
Sep 12 11:24:57 <baedert>	gtk-devel-list actually
Sep 12 11:25:00 <b4n>	though, I'm quite happy to see it's not me
Sep 12 11:53:22 <bugbot>	mclasen@redhat.com marked bug 771242 as a duplicate of unknown bug.
Sep 12 11:53:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771242 Widget: GtkComboBox, normal, gtk-bugs, RESOLVED DUPLICATE, Gtk.CellRendererCombo is broken in 3.21.x
Sep 12 11:55:07 <nacho>	alex, how do I pass in files to the deps?
Sep 12 11:55:22 <nacho>	i.e for ffmpeg I need to pass in nvEncodeAPI.h
Sep 12 11:56:37 <nacho>	I guess I will need a source text...
Sep 12 12:12:56 <nacho>	alex, so another interesting problem, glib-networking installs the modules in GIO_MODULE_DIR which is a read-only folder in flatpak
Sep 12 12:13:16 <nacho>	alex, how can you overcome this kind of case where you have a gio module that needs to go together with the other gio modules?
Sep 12 14:13:32 <baedert>	"Returns: a positive value on success, 0 if an error occurred"
Sep 12 14:13:39 <baedert>	API added in 2013...
Sep 12 14:41:29 <hergertme>	did we decided on a 3.21.6?
Sep 12 14:41:35 <hergertme>	it would be helpful for builder/sysprof too
Sep 12 14:42:36 <mclasen>	I'll do one tonight
Sep 12 14:43:28 <ricotz>	mclasen, hi, https://paste.debian.net/plain/819464
Sep 12 14:45:12 <mclasen>	sure, looks fine to me
Sep 12 14:47:27 <ricotz>	mclasen, thx
Sep 12 14:51:44 <fmuellner>	mclasen: thanks, was about to ask that as well
Sep 12 14:53:19 <djb>	mclasen: would it be ok to reopen 771242 since the claimed dupe was wayland-specific, but at least 1 user (ahem, me) is getting the same symptom under x?
Sep 12 15:00:32 <mclasen>	sure
Sep 12 15:01:12 <djb>	thanks. i've just uploaded a screencast that i hope helps. let me know if there's any other info that would be useful
Sep 12 15:01:49 <bugbot>	db0451@gmail.com changed the Status on bug 771242 from RESOLVED DUPLICATE to REOPENED ---.
Sep 12 15:01:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771242 Widget: GtkComboBox, normal, gtk-bugs, REOPENED , Gtk.CellRendererCombo is broken in 3.21.x
Sep 12 15:01:54 <djb>	hopefully the op will clarify whether they were on x or wayland
Sep 12 15:03:00 <djb>	to be fair, i'm not sure whether we have precisely the same symptoms, but it seemed similar enough that i didn't want to start another one just yet
Sep 12 15:08:16 <ricotz>	fmuellner, hi, I assume you want to do a coordinated release of g-i?
Sep 12 15:08:55 <fmuellner>	ricotz: mmh, actually - if you look at the history, I updated the glib and gobject girs, but not gio
Sep 12 15:09:30 <fmuellner>	that's because it removed suspiciously big amounts of comments, so not sure that's something in my setup
Sep 12 15:09:36 <fmuellner>	(jhbuild with builddir != srcdir)
Sep 12 15:09:44 <ricotz>	fmuellner, just updated it
Sep 12 15:09:56 <fmuellner>	ha, ok
Sep 12 15:10:32 <ricotz>	your gobject changes are different though (which I left out)
Sep 12 15:12:00 <ricotz>	fmuellner, so please do a release if you want
Sep 12 15:12:35 <fmuellner>	ricotz: if no one else shows up, i will
Sep 12 15:54:49 <bugbot>	New gtk+ bug 771321 filed by mail@baedert.org.
Sep 12 15:54:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771321 .General, normal, gtk-bugs, NEW , A few gtkbuilderparser performance improvements
Sep 12 15:55:39 <baedert>	ebassi: did you see my question from friday?
Sep 12 15:57:34 <djb>	Does anyone have any ideas why certain tooltips don't render in LibreOffice GTK+ on Debian? https://bugs.documentfoundation.org/show_bug.cgi?id=100841
Sep 12 15:57:35 <bugbot>	Bug 100841: docs, normal, gtk-bugs, VERIFIED FIXED, better explanation of msec in timers
Sep 12 15:57:48 <djb>	haha, dat naive bugbot
Sep 12 16:04:10 <seb_>	Good evening all, I have another question newby. Please don't laugh at me.
Sep 12 16:04:34 <seb_>	I did (or tried to do) a Gobject using the G_DECLARE_FINAL_TYPE in the .h. So in the .c I have the struct MyObject.  doing a `MyObject *object = my_object_new ()' returns me the GObject.
Sep 12 16:04:53 <seb_>	But how can I access the instance members directly ie: object->my_key ?
Sep 12 16:05:56 <TingPing>	seb_, did you declare the struct in the header
Sep 12 16:06:10 <seb_>	TingPing: no in the .c
Sep 12 16:06:21 <TingPing>	seb_, then you would require getter/setter functions
Sep 12 16:06:30 <TingPing>	seb_, and this is generally the recommended way to go
Sep 12 16:06:44 <seb_>	TingPing: indeed it works when I do a getter, with a return
Sep 12 16:07:08 <djb>	seb_: if you only forward declare the struct in the header, then it's a completely opaque type to callers
Sep 12 16:07:18 <robert_>	okay, so here's (I suppose?) an interesting conondrum- I'm trying to cross-compile a gtk+ 2.x app as a 32-bit binary, except I get http://sprunge.us/RGiD as a compiler error.
Sep 12 16:07:27 <seb_>	TingPing: it is because the tutorial on Gobject says when unsing the G_DECLARE_FINAL_TYPE, the struct should be in the .c
Sep 12 16:07:37 <djb>	literally just an address and a tag for functions expecting the same type
Sep 12 16:07:55 <TingPing>	seb_, it generally should be, if you expose the struct it becomes part of your public api/abi
Sep 12 16:08:32 <seb_>	TingPing: Ok, just let try to move it out
Sep 12 16:08:43 <djb>	robert_: you must have a 64bit lib that is checking for a corresponding architecture
Sep 12 16:09:18 <djb>	if you're cross compiling, then you presumably need to do so against the corresponding headers
Sep 12 16:10:17 <seb_>	TingPing: yes it works. ... thank, you. indeed none of the example/tutorial are doing like that. 
Sep 12 16:10:46 <TingPing>	seb_, well like i said, they don't do that for a good reason
Sep 12 16:10:55 <seb_>	TingPing: or maybe I didn't understand what is the correct way to proceed
Sep 12 16:11:58 <seb_>	TingPing: I could see plenty are defining the ->set_property and ->get_property but I have the impression I would need to define a GValue each time I want a data
Sep 12 16:12:54 <TingPing>	seb_, thats why you generally make something like const char *my_object_get_name(MyObject*self);
Sep 12 16:13:17 <TingPing>	and likewise for a setter
Sep 12 16:14:17 <seb_>	TingPing: even if you have 20 instnace members ? 
Sep 12 16:14:33 <seb_>	TingPing: or is there a more generic way of doing it ? 
Sep 12 16:15:11 <TingPing>	seb_, yes even then, and no in C there is no easy way :P
Sep 12 16:16:25 <TingPing>	seb_, if this is a private type, one you don't expose to anybody else it isn't so bad to have the struct be public
Sep 12 16:16:34 <seb_>	TingPing: Ok, no that is not a problem. It is just I think found plenty of eaxample to create the object, but not much which define setter/getter
Sep 12 16:17:04 <TingPing>	seb_, like just a random example from glib: https://github.com/GNOME/glib/blob/master/gio/gfileinfo.h#L868-L966
Sep 12 16:17:10 <TingPing>	dozens of getters/setters
Sep 12 16:18:03 <djb>	line 982+ has the more more usual kind
Sep 12 16:18:15 <djb>	(and more)
Sep 12 16:21:29 <seb_>	TingPing: I see now. 
Sep 12 16:24:02 <seb_>	Also I could see that plenty of code I found define plenty of defines call the "header Boiler-Plate" for the TYPE definition. Even the tutorial on HTML page. 
Sep 12 16:24:18 <seb_>	However the tutorial source code doesn't have these lines but only 2: 
Sep 12 16:24:42 <TingPing>	yea those are fairly new additions that clean everything up
Sep 12 16:24:56 <seb_>	the #define MY_TYPE_OBJECT + G_DECLARE_FINAL_TYPE (....)
Sep 12 16:25:06 <djb>	seb_ - https://blogs.gnome.org/desrt/2015/01/27/g_declare_finalderivable_type/
Sep 12 16:25:16 <seb_>	so is it a new way of doing it and the G_DECLARE_FINAL_TYPE macro will do all of those
Sep 12 16:25:27 <TingPing>	yes
Sep 12 16:25:30 <djb>	seb_ - yup
Sep 12 16:25:51 <djb>	sadly examples don't auto update : D
Sep 12 16:26:40 <seb_>	djb: ok. great ... I wasn t sure , I though that would have created me problems later 
Sep 12 16:27:06 <djb>	quite the opposite, if anything, it'll spare you them :)
Sep 12 16:27:22 <TingPing>	seb_, added in glib 2.44, so just have to require that as a min version
Sep 12 16:27:34 <TingPing>	https://developer.gnome.org/gobject/unstable/gobject-Type-Information.html#G-DECLARE-FINAL-TYPE:CAPS
Sep 12 16:28:03 <seb_>	TingPing: thanks for pointing that out. Let me check what I put in the Configure.ac
Sep 12 16:28:04 <djb>	TingPing: oh cool, i wasn't sure when that debuted
Sep 12 16:28:48 <djb>	"You can only use this function if your parent type also supports g_autoptr()." - hmm
Sep 12 16:29:05 <seb_>	TingPing: so Glib > 2.44 or Gobject > 2.44  or both are linked ? 
Sep 12 16:29:19 <djb>	doesn't that tie the user to GCC
Sep 12 16:29:42 <TingPing>	djb, i don't believe g_autoptr has to actually work, it just needs the correct macros defined
Sep 12 16:29:54 <TingPing>	seb_, both should be the same
Sep 12 16:30:20 <seb_>	TingPing: ok.
Sep 12 16:30:51 <djb>	TingPing: i see in the docs that clang works with it too, so that helps
Sep 12 16:31:13 <seb_>	djb: the blog article specify that the `typedef struct' are not necessary when using the DECLARE_FINAL_TYPE. so it is safe to remove them. 
Sep 12 16:31:16 <seb_>	?
Sep 12 16:32:16 <djb>	seb_: looks that way. from the link above: "the MyAppWindow types is defined as a typedef of struct _MyAppWindow."
Sep 12 16:32:36 <djb>	[sic]
Sep 12 16:37:04 <seb_>	djb: ok, that is what I did before, because I remember reading this documentation. And we are back at defining the struct in the .c file and ... I need to write the helper setter/getter to make it correct. 
Sep 12 16:37:23 <seb_>	I hope I am on the right track now. Thanks TingPing djb 
Sep 12 16:47:29 <bugbot>	gnome@genodeftest.de changed the Component on bug 771322 from general to Widget: GtkPopover.
Sep 12 16:47:29 <bugbot>	gnome@genodeftest.de changed the Product on bug 771322 from gnome-maps to gtk+.
Sep 12 16:47:29 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771322 Widget: GtkPopover, normal, gnome-maps-maint, NEW , Search result widget (GtkPopover) is too big, getting partially hidden on small screens
Sep 12 16:49:17 <ochosi>	hey folks! does anyone have a clue why a spinbutton's entry wouldn't be big enough for the content with Adwaita? the widget's settings haven't changed from 3.18 to 3.20 in the code i have here, with "older" gtk themes that were somehow ported to support 3.20 this still works. somehow with adwaita it doesn't. any clues?
Sep 12 16:49:44 <ochosi>	example of what i mean, but it happens in all contexts: http://i.imgur.com/ydR5qBX.png
Sep 12 16:49:57 <ochosi>	(the "8%" isn't fully readable)
Sep 12 16:50:13 <ochosi>	especially bad in the partition manager, when the size isn't fully editable/readable without scrolling
Sep 12 16:53:43 <djb>	ochosi: does it affect other programs or just yours? don't suppose you're doing any manual size hackery? i would test this with 3.21 but don't think i have any spinbuttons left in my code...
Sep 12 16:53:57 <djb>	oh wait, i do
Sep 12 16:54:04 <ochosi>	it doesn't just affect my app
Sep 12 16:54:18 <ochosi>	otherwise i'd just be bumping the min-width and be done with it
Sep 12 16:54:35 <ochosi>	it's also in ubuntu's installer, which features a partition editor
Sep 12 16:55:08 <ochosi>	and having it broken in the installer (over which i have no control, but i know it's not being actively worked on so it surely hasn't changed at all) sucks a bit more, so i'm trying to get to the bottom of it
Sep 12 16:55:31 <ochosi>	fwiw, i have 3.20.6 here
Sep 12 16:55:49 *	djb goes to mess with spinbutton signal-output
Sep 12 16:56:25 <djb>	hmm pretty sure i had some by that point and didn't see any issues, but i have a pretty simple signal-output, which maybe interacts somehow
Sep 12 16:57:03 <djb>	right, yeah, can reproduce. the spinbutton just doesn't seem to automatically size up to handle its signal-output string
Sep 12 16:57:18 <djb>	unlike, e.g. a Scale checks the widths of the strings for min/max values and allocates accordingly
Sep 12 16:57:19 <ochosi>	ok, well that's good to know
Sep 12 16:57:46 <ochosi>	so it's not the theme then..?
Sep 12 16:57:49 <djb>	 maybe there's a property we can set for that or something, not sure
Sep 12 16:58:48 <djb>	i don't think it's the theme specifically, but maybe other themes just don't reveal it for fairly small added size from format strings, like your % example, if they already have spare space
Sep 12 16:59:36 <ochosi>	i tried bumping some stuff like padding, but that didn't seem to help
Sep 12 17:00:05 <djb>	tried this? https://developer.gnome.org/gtk3/stable/GtkEntry.html#gtk-entry-get-width-chars
Sep 12 17:00:43 <djb>	i feel like maybe it should autosize as Scale does, but maybe that's been considered and discounted, idk
Sep 12 17:00:54 <djb>	oops, sorry, s/get/set
Sep 12 17:01:08 <djb>	https://developer.gnome.org/gtk3/stable/GtkEntry.html#gtk-entry-set-width-chars
Sep 12 17:01:15 <ochosi>	yeah, that's what i mentioned when i said i would bump the min-width
Sep 12 17:01:26 <ochosi>	but the problem is that this appears also in software not under my control
Sep 12 17:02:01 <ochosi>	so i think i have to find a theming workaround (if at all possible)
Sep 12 17:02:23 <djb>	as just another user, seems like enough ammo for a ticket to me, and chuck in a request for a default autosize a la scale for good measure
Sep 12 17:02:38 <djb>	sounds like you've got plenty supporting materials to attach
Sep 12 17:03:13 <ochosi>	yeah probably, i need to verify though that it doesn't work in other themes
Sep 12 17:03:24 <ochosi>	but the main aspect that puzzled me was: why would it work in other themes and not in Adwaita?
Sep 12 17:04:20 <djb>	i dunno, show us some screenshots of these other themes
Sep 12 17:04:46 <djb>	my assumption is they simple have higher min-widths for the widget and therefore don't trivially reveal the lack of automatic sizing
Sep 12 17:05:36 <ochosi>	i'm dling the latest daily image as we speak so i can be sure
Sep 12 17:09:57 <djb>	cool. it's an interesting one. to be fair, if (i presume) other programs didn't set appropriate width-chars for their entries, then it was just a matter of time
Sep 12 17:11:11 <ochosi>	i thought that previously spinbuttons did auto-extend
Sep 12 17:11:23 <djb>	autosize like scale would go some ways towards sorting that. there are always cases where it doesn't quite work, though; i had one where min and max formats were narrower than some of the ones in between... which was deemed too weird to support. ;) i asked for it to check the median value too, but no dice
Sep 12 17:11:26 <ochosi>	maybe i'm just mistaken there, i never cared about setting width-chars so far
Sep 12 17:11:45 <djb>	...well, maybe
Sep 12 17:12:35 <djb>	you got any old versions of gtk+ available?
Sep 12 17:13:12 <ochosi>	yeah, gtk3.18
Sep 12 17:13:18 <ochosi>	well "available" :)
Sep 12 17:13:29 <djb>	tell me about it, i have 3.14... /sorta/
Sep 12 17:13:40 <ochosi>	i completely rebased my theme on top of adwaita for 3.20 support
Sep 12 17:13:49 <ochosi>	which is why i'm a bit lost at some of these issues
Sep 12 17:16:42 <ochosi>	djb: sry, actually waiting for someone to help me out with a screenshot... can only take a few more mins
Sep 12 17:20:19 <ochosi>	http://i.imgur.com/DzQlvAK.png
Sep 12 17:20:22 <ochosi>	there you go ^
Sep 12 17:20:29 <ochosi>	same as with adwaita apparently
Sep 12 17:22:50 <ochosi>	djb: so it's probably really an application-specific issue
Sep 12 17:22:57 <ochosi>	not sure why 3.20 makes it more apparent
Sep 12 17:23:34 <djb>	I think so, but it would be nice if setting a custom format would automatically set a fitting size request
Sep 12 17:23:56 <djb>	and there's a precedent with Scale, so it seems worth asking
Sep 12 17:24:58 <ochosi>	yeah
Sep 12 17:25:40 <djb>	it'd be a convenient default that would also have the handy side-effect of unbreaking some programs that didn't account for the format width themselves
Sep 12 17:27:01 <ochosi>	yup, totally agreed
Sep 12 17:27:09 <djb>	i mean, in what cases would a user NOT want the spinbutton to fit its contents... i can see that being valid for a plain entry, but not this one
Sep 12 17:27:12 <ochosi>	but i really thought that in previous releases it was like that
Sep 12 17:27:25 <ochosi>	again, maybe i'm mistaken
Sep 12 17:27:31 <djb>	i'm tryng to get a 3.14 test going
Sep 12 17:28:12 <ochosi>	great, thanks a bunch!
Sep 12 17:31:57 <djb>	it doesn't seem to auto expand there, i set 9 digits on the signal-output handler and have to scroll rightwards to see the ones that matter
Sep 12 17:33:22 <djb>	(it _does_ expand if you simple use set_digits)
Sep 12 17:33:36 <djb>	but not for custom output format strings
Sep 12 17:34:39 <ochosi>	ah, so that's what it was
Sep 12 17:34:49 <ochosi>	thanks, that explains it i guess
Sep 12 17:35:26 <djb>	humorously, if i set_width_chars(9), it's then excessively wide
Sep 12 17:35:44 <djb>	dunno which wide chars it's accommodating there
Sep 12 17:36:07 <djb>	yeah, I guess that's what you were thinking of. still a valid feature request I'd say!
Sep 12 17:36:31 <ochosi>	yeah, i get the same issue here
Sep 12 17:36:48 <ochosi>	seems to be a matter of trial and error and font and dpi to get an ok size
Sep 12 17:37:09 <djb>	in context of set_digits and what Scale does, it's valid for users to expect it to autofit the custom output format
Sep 12 17:41:40 <djb>	i'll resist my urge to write up the feature request, as i think you're probably 99% there, and i really gotta sleep :D
Sep 12 18:00:49 <ebassi>	baedert: Nope
Sep 12 18:08:32 <baedert>	ebassi: I guess http://paste.fedoraproject.org/424841/73437727/ shouldn't matter unless a widget calls _set_double_buffered in ::draw (from FALSE to TRUE), want to ignore it?
Sep 12 18:18:40 <gnunn>	Should gtk_window_set_skip_taskbar_hint and gtk_window_set_skip_pager_hint work under wayland, I'm finding that they don't have any effect for gnome shell but work fine in X11?
Sep 12 18:39:42 <bugbot>	New gtk+ bug 771329 filed by gerald.b.nunn@gmail.com.
Sep 12 18:39:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771329 Backend: Wayland, normal, gtk-bugs, NEW , gtk_window_set_skip_taskbar_hint and gtk_window_set_skip_pager_hint not working in Wayland
Sep 12 18:52:55 <fmuellner>	desrt: hey, will there be another glib release before 3.22?
Sep 12 18:53:33 <fmuellner>	(asking for bumping the glib requirement in gobject-introspection, which currently depends on git master)
Sep 12 19:09:41 <TingPing>	using g_log_variant() it prints to stdout but not the journal, is there something im missing?
Sep 12 19:14:21 <TingPing>	ah looks like it only logs to that if started by systemd?
Sep 12 19:18:58 <fmuellner>	TingPing: s/started by systemd/not run from a terminal/
Sep 12 19:19:20 <fmuellner>	clicking a launcher or alt-f2 works as well
Sep 12 19:20:09 <TingPing>	looks like its not possible to disable error being fatal from gi
Sep 12 20:25:53 <vrishab>	not sure if this is relevant in gtk+
Sep 12 20:26:05 <vrishab>	but can someone confirm and reopen https://bugzilla.gnome.org/show_bug.cgi?id=771082
Sep 12 20:26:06 <bugbot>	Bug 771082: symbolic, normal, adwaita-icon-theme-maint, RESOLVED FIXED, Icon for go-down-symbolic has vanished
Sep 12 22:32:30 <bugbot>	mclasen@redhat.com changed the Status on bug 646926 from NEW --- to RESOLVED FIXED.
Sep 12 22:32:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=646926 general, normal, gtkdev, RESOLVED FIXED, arg_data invalid after g_option_context_parse() fails
Sep 13 00:38:00 <Joao>	hi guys, does anyone know if it is possible to render opengl widgets inside an opengl context and how?
Sep 13 00:38:17 <Joao>	so that they become part of a 3D scene?
Sep 13 00:39:49 <Joao>	I googled it, but it's hard to find anything between the overwelming gtkglarea results.
Sep 13 00:45:12 <The_Company>	Joao: i'm pretty sure that it's only possible the other way (let gtk manage the gtk context and render your scene into it)
Sep 13 00:45:38 <The_Company>	Joao: but for detailed answers ebassi is your man - and he should be on UK timezone, so probably not awake yet
Sep 13 02:43:54 <alex>	nacho: You can set the env vars for it to pick up gio modules
Sep 13 02:44:37 <nacho>	alex, this is building glib-networking, the point is if the other gio modules are in a different dir, from my app I can pick one dir or another
Sep 13 02:46:10 <alex>	nacho: GIO_EXTRA_MODULES
Sep 13 02:46:31 <nacho>	mmm indeed
Sep 13 02:50:53 <nacho>	well I don't know why I was using GIO_MODULE_DIR instead...
Sep 13 02:51:04 <nacho>	thanks
Sep 13 03:03:08 <nacho>	alex, btw so far so good with this flatpak thing
Sep 13 03:03:21 <alex>	cool
Sep 13 03:03:25 <alex>	whatcha doing?
Sep 13 03:13:37 <gregier>	fyi Pithos and HandBrake have flatpak support now
Sep 13 03:14:10 <alex>	oooh
Sep 13 03:14:12 <alex>	handbrake!
Sep 13 03:51:36 <jonatan>	I'm trying to add a GVarDict to a GVariant of the following type: "(sa({sv}as)" - I'd like the a{sv} to come from a vardict, how would I construct such a variant? I've tried building it using g_variant_new and using a variantbuilder, but none seem to work.. Seems like a variantbuilder is expected when parsing a{sv} and not a vardict.. any ideas?
Sep 13 03:52:57 <jonatan>	Here's an example which doesn't work: https://gist.github.com/jonte/6ecb9f958de8946335986eb7f2fc00ee
Sep 13 04:01:24 <zeenix>	jonasdn, desrt would be the best guy to answer that but i'm betting alex & ebassi might be able to help too
Sep 13 04:01:32 <zeenix>	err..
Sep 13 04:01:43 <zeenix>	jonasdn -> jonatan 
Sep 13 04:03:33 <alex>	jonatan: Use g_variant_builder_add_value() instead
Sep 13 04:06:23 <alex>	jonatan: I think you can also use "(s@a{sv}as)" for the type
Sep 13 04:06:51 <alex>	But not quite sure
Sep 13 04:07:06 <alex>	No, you probably have to use the real type
Sep 13 04:07:07 <alex>	and then
Sep 13 04:07:16 <alex>	 g_variant_builder_add(vb, "@a{sv}", v);
Sep 13 04:07:23 <alex>	But, add_value is easier
Sep 13 04:13:28 <jonatan>	alex, Awesome, I'll try that!
Sep 13 04:13:33 <jonatan>	What's with the @ ?
Sep 13 04:15:35 <alex>	jonatan: see under symbols in https://developer.gnome.org/glib/stable/gvariant-format-strings.html
Sep 13 04:26:23 <jonatan>	alex, works great! Thanks a lot!
Sep 13 04:38:03 <marcus>	those GVariant format specifier looks kinda like comic book swearwords :)
Sep 13 04:39:54 <jonatan>	marcus, after messing with them for a while, they're not that far from.. ;)
Sep 13 04:51:19 <ebassi>	baedert: You mean literally calling it inside the ::draw implementation? Wow, that's bad
Sep 13 04:51:30 <ebassi>	baedert: Yes, it should definitely warn if that happened
Sep 13 04:55:01 <baedert>	ebassi: I don
Sep 13 04:55:03 <baedert>	...
Sep 13 04:57:03 <baedert>	ebassi: I don't know when it is even allowed to call set_double_buffered; would just saving the value at the beginning of gtk_widget_render be enough (so both if statements use the same value) or do you mean warn when set_double_buffered is called at the wrong time (after realize?)
Sep 13 05:00:34 <swilmet>	wasn't there a blog post for background-blend-mode support?
Sep 13 05:00:54 <swilmet>	I think I remember reading something about it, but can't find the link
Sep 13 05:01:23 <ebassi>	baedert: set_double_buffered() influences how ::draw() works, so I'd say that it cannot be called during a ::draw() signal emission
Sep 13 05:02:18 <swilmet>	it's for adding a link to the roadmap
Sep 13 05:02:25 <baedert>	swilmet: https://feaneron.com/2016/07/03/css-blend-modes-in-gtk/ ?
Sep 13 05:02:40 <swilmet>	baedert: yep, that was it, thanks
Sep 13 05:02:48 <ebassi>	baedert: But yes: gtk_widget_render() should take the "is_double_buffered" value at the top, and reuse it, instead of querying the property, just to stay on the safe side
Sep 13 05:03:04 <ebassi>	baedert: Let me see if I can cook something up quickly
Sep 13 05:25:08 <alex>	ebassi: So, are you doing a constraint system for gsk?
Sep 13 05:25:15 <ebassi>	alex: Nope, GTK
Sep 13 05:25:25 <ebassi>	But same thing, really
Sep 13 05:25:48 <alex>	cool
Sep 13 05:25:50 <ebassi>	We need it for the layout of our offline apps
Sep 13 05:29:31 <ebassi>	nacho: libgxps is failing on Continuous: http://build.gnome.org/continuous/buildmaster/builds/2016/09/13/23/build/log-libgxps.txt
Sep 13 05:29:41 <nacho>	nice
Sep 13 05:30:20 *	nacho fixes it
Sep 13 05:30:55 <ebassi>	Thanks :-)
Sep 13 05:31:04 <ebassi>	builddir != srcdir is the likely cause
Sep 13 05:31:07 <nacho>	ebassi, I guess some builddir != srcdir
Sep 13 05:36:42 <nacho>	ebassi, pushed
Sep 13 05:38:58 <ebassi>	nacho: Thanks
Sep 13 06:19:25 <mclasen>	jjardon: all my releases are there now
Sep 13 06:26:04 <jjardon>	mclasen: thanks!
Sep 13 06:28:47 <kalev>	mclasen: can you upload pango tarball, please? 1.40.3 seems to be missing
Sep 13 06:31:41 <bugbot>	New gtk+ bug 771349 filed by m_kato@ga2.so-net.ne.jp.
Sep 13 06:31:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771349 Backend: X11, normal, gtk-bugs, NEW , gdk_screen_get_monitor_scale_factor on X11 always returns 1 with GTK 3.21+
Sep 13 06:37:03 <mclasen>	kalev: hmm, it was very late last night, but I thought I did
Sep 13 06:37:07 *	mclasen checks
Sep 13 06:37:40 <mclasen>	should be there now
Sep 13 06:38:14 <kalev>	thanks mclasen
Sep 13 07:43:14 <alex>	ebassi: did you look at using GskResourceCache for something?
Sep 13 07:52:09 <ebassi>	alex: I started writing a CSS cache but then I realized that I had to break down every single rasterization we do into blocks; then I had to switch to the constraint work
Sep 13 07:52:19 <alex>	ok
Sep 13 07:52:21 <ebassi>	As soon as that's done, I'm going to switch back to GSK
Sep 13 07:52:35 <alex>	You could have started with GtkImage or something simpler thou :)
Sep 13 07:55:05 <aday>	anyone know where i can see coloured terminal output? thought it would make a good screenshot for the structured logging work
Sep 13 07:55:41 <alex>	ebassi: You're creating a constraints container?
Sep 13 07:56:53 <rishi>	aday: Something like this in a terminal should show it:
Sep 13 07:57:04 <rishi>	$ /usr/libexec/goa-daemon --replace &
Sep 13 07:57:14 <rishi>	As long as you have a new glib.
Sep 13 07:57:37 <rishi>	Basically, anything that logs using the GLib logging facilities.
Sep 13 07:59:07 <ebassi>	alex: Yes
Sep 13 08:01:38 <ebassi>	alex: A GtkLayout on steroids, basically, similar to AutoLayout on ios/macos
Sep 13 08:02:35 <alex>	ebassi: cool!
Sep 13 08:05:49 <joelkraehemann>	howto make a subsection not standard but public
Sep 13 08:05:56 <joelkraehemann>	^^ with gtk-doc
Sep 13 08:09:53 <ebassi>	joelkraehemann: <SUBSECTION> in the -sections.txt file?
Sep 13 08:10:15 <ebassi>	joelkraehemann: It will just add some space between symbols
Sep 13 08:11:12 <ebassi>	If at all, after the latest styling changes
Sep 13 08:12:17 <joelkraehemann>	I just recognized that documenting AgsConnectableInterface puts it from SUBSECTION to SECTION
Sep 13 08:13:03 <joelkraehemann>	I didn't document the interface struct
Sep 13 08:14:11 <joelkraehemann>	howto to document a non-existing struct like AgsConnectable?
Sep 13 08:18:21 <joelkraehemann>	In gtkdoc-mkdb
Sep 13 08:18:44 <joelkraehemann>	This line causes me some headache:
Sep 13 08:18:48 <joelkraehemann>	if ($subsection ne "Standard" && $subsection ne "Private") {
Sep 13 08:26:28 <joelkraehemann>	--default-stability=stable
Sep 13 08:49:00 <joelkraehemann>	I think doing a script or extend gtk-doc.make to make certain sections as Public
Sep 13 08:49:38 <joelkraehemann>	is there already a way of doing so
Sep 13 09:11:42 <joelkraehemann>	I think this is cause you want to control what goes to the docs and you need to manual edit Standard to Public
Sep 13 09:14:58 <joelkraehemann>	how magic found its way to C
Sep 13 10:11:13 <aday>	rishi: that command doesn't give me any output
Sep 13 10:11:28 <aday>	just says it's starting
Sep 13 10:14:17 <aday>	any other suggestions for how to see coloured output via glib structured logging?
Sep 13 10:17:47 <baedert>	hard to find one that doesn't show a bug... :)
Sep 13 10:19:24 <mclasen>	make sure to pick a color scheme in gnome-terminal that has really bright colors, like xterm
Sep 13 10:19:49 <baedert>	aday: do you want real-life output or is a small sample program enough?
Sep 13 10:20:17 <aday>	baedert: real life might be better
Sep 13 10:20:36 <aday>	not sure exactly how much it matters though
Sep 13 10:20:46 <baedert>	running any gtk demo from master in stable mutter will print at least one warning
Sep 13 10:23:47 <baedert>	(uh, in wayland)
Sep 13 10:33:56 <nacho>	LRN, hey
Sep 13 10:34:09 <nacho>	LRN, what's your expertise with windows named pipes?
Sep 13 10:34:29 <nacho>	LRN, they are telling me that in a duplex pipe you can't write and read at the same time
Sep 13 10:39:13 <grawity>	hmm, I'm sure they're full-duplex though
Sep 13 10:39:23 <grawity>	I mean, MySQL and MS SQL use them the same way they'd use Unix sockets
Sep 13 10:39:37 <grawity>	so I've assumed they have similar enough features
Sep 13 10:40:27 <nacho>	grawity, that's what I tried in wing, and they seem to block
Sep 13 10:41:09 <nacho>	grawity, I wonder if they use 2 pipes
Sep 13 11:00:44 <rishi>	aday: :)
Sep 13 11:00:49 <rishi>	Maybe try setting G_MESSAGES_DEBUG=all.
Sep 13 11:01:21 <rishi>	That will enable the DEBUG level and will definitely show you something.
Sep 13 11:01:36 <rishi>	Problem is that you probably want a mix of DEBUG, WARNING and CRITICALs.
Sep 13 11:51:55 <aday>	rishi: yes, it needs to be a bit varied and interesting
Sep 13 11:53:34 <rishi>	Maybe pwithnall has something. I remember seeing a screenshot at GUADEC.
Sep 13 11:54:22 <aday>	i'd be happy with a toy/demo
Sep 13 11:57:21 <baedert>	aday: http://paste.fedoraproject.org/427637/73782235/ ?
Sep 13 11:57:29 <baedert>	(I guess you can come up with better strings)
Sep 13 12:04:48 <LRN>	nacho, my experience is to use pipes in pairs, one for input and one for output
Sep 13 12:05:10 <nacho>	LRN, I may have actually found the problem
Sep 13 12:05:21 <nacho>	https://git.gnome.org/browse/wing/commit/?h=wip/clientoverlapped
Sep 13 12:07:07 <LRN>	well, you can interpret the docs in that way, yeah
Sep 13 12:07:57 <LRN>	usually, the meaning of "simultaneous" in connection with "overlapped" is "doing asynchronous I/O with OVERLAPPED structures"
Sep 13 12:08:46 <aday>	baedert: i can't get that to run
Sep 13 12:10:54 <nacho>	LRN, I definitely need to test it
Sep 13 12:11:06 <nacho>	LRN, on the test I made without using gio streams it worked
Sep 13 12:11:18 <nacho>	but clearly I was using overlapped structs
Sep 13 12:14:39 <baedert>	aday: hm? why not?
Sep 13 14:52:23 <martin___>	Hi everyone, does anyone know if there is a way for a widget's box-shadow to be drawn/visible outside of it's container, when the container is a GtkStack? Here is a small example I wrote for gjs https://paste.fedoraproject.org/427702/73792337/
Sep 13 14:57:21 <nacho>	ebassi, hey, pushed another big set of patches for libgxps
Sep 13 14:57:32 <nacho>	let me know if I screwed up something else
Sep 13 14:58:09 <baedert>	martin___: it semi-works in 3.20 afaik but didn't work at all before
Sep 13 15:02:19 <martin___>	baedert: interesting, is something it should happen out-of-the-box? I run that example under gtk 3.20, and it doesn't work for me.. (if I change the GtkStack for a GtkBox, then it does work)
Sep 13 15:03:16 <baedert>	I just tried stack>*{box-shadow: 0px 0px 20px grey;} in the widget-factory.
Sep 13 15:05:28 <martin___>	hmm, maybe is not the same thing? In the example I provided only the widget (contained inside the stack) has a shadow, but then the shadow is not visible outside the stack (gets clipped at the stack boundary)
Sep 13 15:31:04 <philipkd>	Hi, I'm looking for help with gtask
Sep 13 15:32:12 <philipkd>	I would like to wait (from the main loop) for the terminaison of a task run with g_task_run_in_thread()
Sep 13 15:32:41 <hergertme>	philipkd: g_task_run_in_thread_sync()
Sep 13 15:33:28 <philipkd>	hergertme: I still have to run the task asynchronously, the only moment I need to wait is on a stop event
Sep 13 15:33:59 <hergertme>	then you probably need to connect to the "completed" event and pump the main loop manually 
Sep 13 15:34:14 <philipkd>	hergertme: can you tell me more ?
Sep 13 15:34:44 <philipkd>	If I understand the doc the 'complete' event will be emmited in the main context
Sep 13 15:34:46 <hergertme>	hard to say, because what you are doing sounds suspicious 
Sep 13 15:35:03 <hergertme>	yes, the main context you created the task with (generally the main loop)
Sep 13 15:35:15 <philipkd>	hergertme: ?? how suspusicous ?
Sep 13 15:35:38 <philipkd>	hergertme: maybe I can give you more context ?
Sep 13 15:40:00 <hergertme>	because you want to block the main loop?
Sep 13 15:41:06 <philipkd>	hergertme: yes but only during the closing a feature
Sep 13 15:42:11 <hergertme>	while (!completed) g_main_context_iteration (g_main_context_default(), TRUE);
Sep 13 15:42:32 <hergertme>	set completed = TRUE in your callback for GTask::completed
Sep 13 15:43:22 <philipkd>	hergertme: so you mean I can actually call g_main_context_iteratation from within the main loop... ie recusively ?
Sep 13 15:43:46 <hergertme>	yup
Sep 13 15:44:07 <philipkd>	hergertme: whooooo ! nice :->
Sep 13 15:44:53 <philipkd>	hergertme: is it a good practive, or at least something common ?
Sep 13 15:45:08 <philipkd>	cause I looked for some example without success
Sep 13 15:45:09 <hergertme>	its usually used for hacks ;)
Sep 13 15:45:46 <philipkd>	hergertme: do you have any good link that are showing it in action ?
Sep 13 15:46:34 <hergertme>	git grep g_main_context_iteration in glib/gtk/etc
Sep 13 15:47:28 <philipkd>	hergertme: ok I will do this.. I grep it in gst and glib but without success
Sep 13 15:48:22 <philipkd>	hergertme: so when you say it's a bit hacky does it means there are some issues ? or is it perfectly legal and safe ?
Sep 13 15:48:55 <hergertme>	i find its generally an indicator of code smell
Sep 13 15:49:36 <hergertme>	that said, ive certainly used it in hack situations to pump events through the main loop with UI stuff
Sep 13 15:49:59 *	gregier gtk_dialog_run() must smell awful
Sep 13 15:50:15 <TingPing>	it does
Sep 13 15:50:20 <philipkd>	hergertme: ok i see, but do you see an other way to do it ?
Sep 13 15:50:39 <hergertme>	keep a state machine and wait for the async completion to tick progress of the state machine
Sep 13 15:50:39 <philipkd>	apart form g_task_run_in_thread_sync
Sep 13 15:52:07 <philipkd>	hergertme: and how to handle propely my stop () api function that shall wait for the task running in the thread to be completed ?
Sep 13 15:52:25 <philipkd>	hergertme: sorry but i do not see how the FSM may help me here 
Sep 13 15:52:58 <TingPing>	philipkd, just have GCancellable and cancel whatever the task is?
Sep 13 15:54:03 <philipkd>	TingPing: the task that is run asyn cannot be cancelled 
Sep 13 15:54:04 <hergertme>	and if you need non-preemptable tasks during the operation, see g_task_set_check_cancellable() and g_task_return_on_cancel()
Sep 13 15:54:33 <hergertme>	set_return_on_cancel()*
Sep 13 15:54:53 <hergertme>	philipkd: then maybe consider making your stop api async
Sep 13 15:55:00 <philipkd>	hergertme: yes but the thread will still running
Sep 13 15:56:16 <philipkd>	hergertme: if the thread continue to run and the program is closed, the thread will be beaked in a bad way let my device in a bad state
Sep 13 15:56:31 <philipkd>	I have to wait till the thread is done ...
Sep 13 15:58:29 <philipkd>	hergertme: I was reading https://developer.gnome.org/programming-guidelines/stable/main-contexts.html
Sep 13 15:58:55 <philipkd>	where the autor says: "where they can be implemented by calling g_main_context_iteration() on a specific GMainContext"
Sep 13 15:59:05 <philipkd>	is this related to the techinc you mentioned ?
Sep 13 16:00:20 <hergertme>	philipkd: you can also just spawn your own thread and block on join()
Sep 13 16:00:49 <hergertme>	but if you are controlling a device, you almost certainly don't want synchronous APIs
Sep 13 16:01:08 <hergertme>	because you could have command queues, state changes, etc etc which all could block the main loop for undetermined periods of time
Sep 13 16:01:38 <hergertme>	one easy way to deal with this is to just make a permanent thread that manages the device, and pass commands to it via a GAsyncQueue.
Sep 13 16:01:39 <philipkd>	hergertme: yes that's why I was using g_task_run_in_thread () 
Sep 13 16:02:09 <hergertme>	those will be concurrent though (up to the thread pool size) fwiw
Sep 13 16:02:39 <hergertme>	and then have an unload_async()/unload_finish() pair for shutdown of the device
Sep 13 16:02:43 <philipkd>	hergertme: yes but I prevented it with a mutex
Sep 13 16:02:59 <hergertme>	sounds like a great way to deadlock the threadpool ;)
Sep 13 16:03:01 <philipkd>	hergertme: but I have to say that I also find that it smell bad...
Sep 13 16:03:13 <hergertme>	although i think we do something to expand the pool size when we detect a deadlock
Sep 13 16:03:41 <philipkd>	hergertme: it actaully worked well by puting the mutex around the thread function.
Sep 13 16:03:58 <hergertme>	until it doesn't, heh
Sep 13 16:04:24 <hergertme>	i think by default we have n_cpu*2 or something in the task pool? something like that, ~8 on my machine iirc
Sep 13 16:04:39 <jpwhiting>	Company: are you the developer that does css theming stuff or am I thinking of mclasen?
Sep 13 16:04:39 <philipkd>	hergertme: I'm trying to find the best way to do it, and i'm sure glib offer it...
Sep 13 16:04:55 <Company>	jpwhiting: that would be me
Sep 13 16:05:08 <jpwhiting>	I'm not sure what changed recently, but gtimelog for the past few days has a "transparent" background on the main timelog view
Sep 13 16:05:27 <jpwhiting>	it's only transparent in that it's somehow grabbing a screenshot of whatever is behind it when it starts/is shown
Sep 13 16:05:35 <jpwhiting>	minimizing/showing it makes it get a new background
Sep 13 16:05:38 <philipkd>	hergertme: anyhow, thanks a lot for you help I'm gonna dig in gtk code to find some inspiration
Sep 13 16:05:44 <jpwhiting>	is this something broken in my .config/gtkrc file?
Sep 13 16:06:14 <jpwhiting>	or a bug in gtimelog itself (though the git repo I use for gtimelog hasn't changed in ages) or a graphics driver issue somehow only in this one application?
Sep 13 16:07:19 <jpwhiting>	moving my ~/.config/gtkrc out of the way doesn't seem to make a difference
Sep 13 16:08:06 <grawity>	that path sounds odd
Sep 13 16:08:23 <jpwhiting>	I have an adwaita-dark.css in ~/.config/gtk-3.0 maybe that's causing the problem/broken somehow with a gtk+ package update or something
Sep 13 16:08:26 *	jpwhiting nukes that to try
Sep 13 16:10:35 <jpwhiting>	ok, there we go, nuking the settings.ini in ~/.config/gtk-3.0 that was pointing at using breeze theme seems to have fixed it
Sep 13 16:10:45 <jpwhiting>	though now it's an ugly very bright white color at least I can read the text :)
Sep 13 16:12:13 <jpwhiting>	probably a bug in the breeze gtk+ theme or I need to rebuild it or something
Sep 13 17:00:39 <ochosi>	hi everyone, i'm experiencing a weird issue with adwaita in gtk3.20.6. empty progressbars seemingly have a "leftover particle" at the leftmost edge, which seems to go away if i remove the margin: -1px; in the progressbar progress definition
Sep 13 17:00:46 <ochosi>	any idea what that's all about?
Sep 13 17:09:23 <Company>	jpwhiting: if you get a gtk update between minor versions you often gotta update the theme, too
Sep 13 17:09:51 <Company>	jpwhiting: though between 3.20 and master, not much should've changed
Sep 13 17:10:17 <jpwhiting>	Company: it's probably that I haven't rebuilt the breeze gtk+ theme in quite some time
Sep 13 17:10:26 <jpwhiting>	no worries
Sep 13 17:10:44 <Company>	ths will all stop being a problem in the future \o/
Sep 13 17:11:03 <Company>	(or it won't because unstable themes might still break, but don't tell anyone)
Sep 13 17:11:19 *	ochosi knocks on wood
Sep 13 17:13:38 <ochosi>	tiny version of a full and an empty progressbar showing the buggy behavior: http://www.zimagez.com/zimage/screenshot2016-09-1323-13-18.php
Sep 13 17:14:21 <ochosi>	this is what is expected: http://www.zimagez.com/zimage/screenshot2016-09-1323-14-09.php
Sep 13 17:14:32 <ochosi>	(different theme that doesn't do the margin: -1px)
Sep 13 17:14:45 <ochosi>	is there something the app has to support specifically to make the -1px margin magic work?
Sep 13 17:14:57 <ochosi>	cause it seems that in the gtk3-widget-factory everything is fine with progressbars
Sep 13 17:15:47 <ochosi>	Company: i know theming isn't your concern too much, but any ideas (off the top of your head) what's going on/wrong here?
Sep 13 17:16:23 <Company>	no
Sep 13 17:16:42 <Company>	though i don't remember if we had any magic for progressbars when they are at 0%
Sep 13 17:17:10 <Company>	best way to test is probably using the inspector and setting the properties of the progress bar widget
Sep 13 17:17:34 <ochosi>	oh, it can do that?
Sep 13 17:17:47 <ochosi>	gee, the inspector is really getting better all the time...
Sep 13 17:19:32 <ochosi>	ok, so i get the visual breakage in gtk3-widget-factory too
Sep 13 17:20:20 <ochosi>	not as bad with adwaita here because the height is so darn tiny: http://www.zimagez.com/zimage/screenshot2016-09-1323-20-01.php
Sep 13 17:20:36 <ochosi>	Company: ok, anyone you'd point me at with this? or just a generic bugreport?
Sep 13 17:23:31 <Company>	ochosi: i think that's all how it's meant to be
Sep 13 17:23:58 <ochosi>	rly? but it's not rounded at the left edge, it's just a rectangle
Sep 13 17:24:12 <ochosi>	plus why is 0 not empty, but only "sort of empty"?
Sep 13 17:24:15 <Company>	you cannot round a 1px wide corner
Sep 13 17:24:26 <ochosi>	true, that makes sense
Sep 13 17:24:43 <Company>	yeah, I think the design was that we make the progress element as small as possible
Sep 13 17:24:58 <Company>	and then additionally give it $FRACTION of the extra trough space
Sep 13 17:25:05 <ochosi>	yeah, i get that, but what if there is some text there, it'll look terrible
Sep 13 17:25:09 <Company>	but the progress element has a 1px border
Sep 13 17:25:15 <ochosi>	oh
Sep 13 17:25:36 <ochosi>	that's it
Sep 13 17:25:40 <Company>	so we get 0px contents + 1px left border + 1px right border = 2px wide element
Sep 13 17:25:41 <ochosi>	it's the border
Sep 13 17:25:46 <ochosi>	yeah
Sep 13 17:25:56 <ochosi>	makes sense, plus it looks terrible :]
Sep 13 17:26:11 <Company>	you'd probably need to replace the border with an inset 1px box-shadow
Sep 13 17:26:26 <ochosi>	why, would that go away if there is no "content"?
Sep 13 17:26:40 <Company>	box-shadow is drawn over the content area
Sep 13 17:26:45 <Company>	which is 0px wide
Sep 13 17:26:49 <Company>	so it should go away
Sep 13 17:26:56 <ochosi>	oh
Sep 13 17:26:56 <Company>	note: inset box shadow
Sep 13 17:27:02 <ochosi>	again, makes absolute sense
Sep 13 17:27:27 <ochosi>	you're awesome, thanks a lot Company 
Sep 13 17:27:27 <Company>	and you gotta set the margin to 0
Sep 13 17:27:37 <ochosi>	i've been banging my head against this for several hours
Sep 13 17:27:48 <Company>	because -1px margin on each side means we need at least a 2px wide element
Sep 13 17:27:53 <ochosi>	and i didn't expect a logical explanation anymore
Sep 13 17:28:02 <Company>	otherwise we can't have negative margins (works on the web, but not in gtk)
Sep 13 17:28:10 <ochosi>	and now you're explaining it all away! :D
Sep 13 17:29:29 <Company>	progress { border: none; margin: 0px; } makes it go away
Sep 13 17:29:48 <Company>	though the progress bar won't have a border anymore then
Sep 13 17:31:07 <Company>	if you add "box-shadow: inset 1px 1px red, inset -1px -1px red;" you get the border back
Sep 13 17:31:39 <Company>	though you gotta set min-height: 10px to properly it in adwaita (and add the fraction property back)
Sep 13 17:34:42 <ochosi>	true the issue is fixed, but it looks a tad different now
Sep 13 17:35:38 <ochosi>	cause the -1px margin made the border end up being drawn on top of the trough
Sep 13 17:36:07 <ochosi>	so this is visually a bit noisier
Sep 13 17:37:33 <ochosi>	negative padding unfortunately doesn't seem to be possible, so i can't really make the trough slimmer it seems
Sep 13 17:37:59 <ochosi>	oh, i can set the min-height 2px lower
Sep 13 17:38:46 <ochosi>	unless you consider that an ugly hack
Sep 13 17:39:40 <ochosi>	?
Sep 13 17:43:19 <Company>	i don't know
Sep 13 17:44:02 <Company>	that's up to the theme people what they consider ugly or good
Sep 13 17:44:23 <ochosi>	anyway, it seems to get the desired result with one small deficiency (seemingly the border-radius is somehow a bit off)
Sep 13 17:44:47 <ochosi>	(but only if you zoom in, i guess regular non-themey ppl won't notice)
Sep 13 17:46:27 <ochosi>	http://www.zimagez.com/zimage/screenshot2016-09-1323-46-18.php
Sep 13 17:46:34 <ochosi>	i wonder whether you'll notice :)
Sep 13 17:51:52 <ochosi>	Company: anyway, thanks a bunch for your help! i likely wouldn't have figured this out without you
Sep 13 20:18:45 <codebrainz>	hi. does glib have a function to get a relative version of an absolute path given a directory? (I think it's called relativize() in Java or relpath() in Python)
Sep 13 20:21:16 <TingPing>	codebrainz, don't believe so, don't think that is a commonly used feature
Sep 13 20:22:15 <TingPing>	codebrainz, oh, Gio does - https://developer.gnome.org/gio/stable/GFile.html#g-file-get-relative-path
Sep 13 20:22:31 <TingPing>	only seems to work for parent dirs though
Sep 13 20:23:10 <codebrainz>	TingPing, thanks, will have a look.
Sep 13 20:47:33 <codebrainz>	TingPing, doesn't seem to work at all, sounds close though
Sep 13 20:48:23 <codebrainz>	(my test was parent=/a/b/c, descendant=/a/b/c/d/e.txt)
Sep 13 20:48:32 <codebrainz>	it returns NULL
Sep 13 20:50:19 <TingPing>	>>> parent.get_relative_path(child)
Sep 13 20:50:20 <TingPing>	'd/e.txt'
Sep 13 20:51:01 <codebrainz>	ah, i think i got an auto-complete fail in my code
Sep 13 20:51:54 <codebrainz>	yep, i had _new_for_uri() instead of _new_for_path() for one of the files
Sep 13 20:58:27 <Joao>	backend experts with opengl skills, anyone knows if it is possible to have gtk widgets rendering in an opengl context as part of the scene while keeping the interactivity?
Sep 13 22:33:01 <gregier>	Joao: I would ask ebassi when he is around
Sep 13 22:54:04 <Joao>	gregier: well, been waiting to find him, meanhwile I was hoping someone else might have this knowledge, but thanks anyway
Sep 13 23:53:12 <bugbot>	jadahl@gmail.com changed the Status on bug 771117 from NEW --- to RESOLVED FIXED.
Sep 13 23:53:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771117 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, gtk3 3.21.5 broke displaying drop-down lists, need to scroll to see contents
Sep 14 02:39:46 <coolkid87>	How to open gtk-inspector on the previewing window of Glade? Pressing Ctrl+Shift+I on the preview window is not working for me
Sep 14 02:41:48 <coolkid87>	Would be nice to preview CSS effects on the preview window
Sep 14 02:59:53 <vrishab>	coolkid87, GTK_DEBUG=interactive glade
Sep 14 03:00:32 <vrishab>	coolkid87, https://developer.gnome.org/gtk3/unstable/gtk-running.html#interactive-debugging
Sep 14 03:02:19 <coolkid87>	Ah, thanks vrishab
Sep 14 03:03:52 <vrishab>	np
Sep 14 03:08:41 <alex>	hergertme: Did you get anywhere on the HostCommand issue?
Sep 14 03:09:27 <hergertme>	alex: ive worked around it (have a few more patches to land now) by creating a new GDBusConnection each time
Sep 14 03:09:38 <alex>	wth tho?
Sep 14 03:09:40 <hergertme>	alex: i gave up after a week of not figuring it out, so i just worked around i tfor now
Sep 14 03:09:46 <alex>	We should really talk to simon about it
Sep 14 03:10:00 <hergertme>	i have a feeling we can figure it out next week sitting down in front of the issue
Sep 14 03:10:06 <alex>	yeah
Sep 14 03:10:19 <hergertme>	my test case makes it look like everything is fine ... so im a bit at a loss
Sep 14 03:10:27 *	alex & needs to get back to writing his talk
Sep 14 03:10:53 <hergertme>	i almost have running working via the container now (might take a small clear-env patch, but i think ill have it shortly)
Sep 14 03:11:04 <hergertme>	via the *service
Sep 14 03:11:10 <hergertme>	building works fine, of course
Sep 14 03:11:27 <alex>	sweet!
Sep 14 03:15:48 <alex>	hergertme: In case your coffee making needs more rigor: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3140933/
Sep 14 03:16:32 <hergertme>	hah!
Sep 14 03:46:53 <hergertme>	alex: any thoughts on getting a proper PID for the profiler?
Sep 14 03:47:20 <alex>	hergertme: I dunno, its kind of a leak of information from the pid namespace
Sep 14 03:48:00 <alex>	hergertme: Ideally we'd have some way via dbus to send a pid and have it rewritten as it propagates over the pid namespace borders
Sep 14 03:49:53 <alex>	hergertme: I wonder if you can open /proc/$fd and pass that?
Sep 14 03:52:51 <hergertme>	without it, i can't have a working profiler in this release of builder
Sep 14 03:53:20 <hergertme>	because i have to use the Pid w/ perf_event_open(), via the host service (so i can get CAP_SYS_ADMIN)
Sep 14 03:56:01 <alex>	hergertme: which pid do you need?
Sep 14 03:56:11 <alex>	one outside your sandbox?
Sep 14 03:56:43 <alex>	I.e. you need the actual pid of the thing you launched with HostCommand?
Sep 14 03:57:34 <hergertme>	yeah
Sep 14 03:58:45 <alex>	I guess its kinda safe to do that
Sep 14 03:59:09 <alex>	i mean, if you're allowed to spawn things outside the sandbox you might as well have it talk back and tell you its real pid
Sep 14 03:59:25 <alex>	I'll just change HostCommand to report the real pid
Sep 14 03:59:33 <alex>	hergertme: does that work?
Sep 14 03:59:52 <hergertme>	yeah that would work
Sep 14 04:04:54 <alex>	hergertme: pushed to flatpak master 
Sep 14 04:05:03 <hergertme>	cool, ill test in the morning
Sep 14 04:05:05 <alex>	hergertme: not clear when it will be in a release though
Sep 14 04:05:11 <alex>	as I just did one
Sep 14 04:05:30 <alex>	anyway, the API is the same, so it'll just start working at some point :)
Sep 14 04:06:18 <hergertme>	yup yup
Sep 14 04:28:33 <hergertme>	alex: also, my builds work fine, but when i try to run the app, "jhbuild run foo" via HostCommand, i get: /opt/gnome/bin/pitch: error while loading shared libraries: libselinux.so.1: cannot open shared object file: No such file or directory
Sep 14 04:28:51 <hergertme>	and im out of energy until tomorrow :)
Sep 14 04:29:50 <alex>	hergertme: weird.
Sep 14 04:29:58 <alex>	probably an LD_LIBRARY_PATH issue
Sep 14 04:30:10 <hergertme>	Launching '/home/christian/.local/bin/jhbuild run /opt/gnome/bin/pitch' with environment GSETTINGS_SCHEMA_DIR=/opt/gnome/share/glib-2.0/schemas inheriting parent environment
Sep 14 04:30:47 <hergertme>	^ log entry: so that has 0 set for clear_env flag, and just sets that one additional env var
Sep 14 04:31:05 <alex>	very strange
Sep 14 04:31:31 <hergertme>	extra strange is that it works if i call it from the host (rather than inside the flatpak)
Sep 14 04:31:33 <alex>	Can you launch a script instead that dumps its environment to a file
Sep 14 04:32:31 <alex>	Then you can source that env file and try to reproduce
Sep 14 04:32:49 <hergertme>	yeah but that will take me 10 minutes to build a new flatpak :)
Sep 14 04:32:54 <alex>	Nah
Sep 14 04:33:07 <alex>	just replace /opt/gnome/bin/pitch with the script
Sep 14 04:33:21 <hergertme>	we do `make install` before running
Sep 14 04:33:24 <hergertme>	so it will get overriden 
Sep 14 04:33:30 <hergertme>	overwritten*
Sep 14 04:34:21 <alex>	neuter "make install"? :)
Sep 14 04:38:28 <hergertme>	hrmm, what do i need to do to make sure it uses ccache?
Sep 14 04:40:53 <alex>	Pass --ccache to flatpak-builder
Sep 14 04:54:15 <bugbot>	New gtk+ bug 771409 filed by arnaud.bonatti@gmail.com.
Sep 14 04:54:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771409 .General, normal, gtk-bugs, NEW , “go-down-symbolic” icon broken (empty)
Sep 14 05:10:15 <hergertme>	alex: got it working, was a logic error on my part (different codepath was getting hit than i expected)
Sep 14 05:10:33 <hergertme>	alex: so now i can run from inside flatpak, and launch the gtk app on the host (which itself could be inside jhbuild)
Sep 14 06:09:56 <ferminter>	hello
Sep 14 06:10:21 <ferminter>	 any one use GDK and eclipse
Sep 14 06:11:36 <ferminter>	all i am get in erros when i run a GDK progame form Eclipse
Sep 14 06:12:30 <ferminter>	cannot register existing type 'GdkDisplayManager'
Sep 14 06:46:07 <bugbot>	mclasen@redhat.com changed the Status on bug 771349 from NEW --- to RESOLVED FIXED.
Sep 14 06:46:07 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771349 Backend: X11, normal, gtk-bugs, RESOLVED FIXED, gdk_screen_get_monitor_scale_factor on X11 always returns 1 with GTK 3.21+
Sep 14 07:17:09 <coolkid87>	When I pass a Gtk::Application a filename it exits without showing the GUI, I passed the flag APPLICATION_HANDLES_OPEN and connected a open signal hadler. It displays the GUI when run without any command line arguments. Do I need to set some flags or status from inside the open handler to make the application not exit?
Sep 14 07:29:11 <fmuellner>	coolkid87: open activates the open action, it doesn't 'activate' the application
Sep 14 07:29:39 <coolkid87>	okay so I manually call activate from handler?
Sep 14 07:29:49 <fmuellner>	so if you only open windows when activated, then no window is opened (which would 'hold' the application and make it not exit)
Sep 14 07:30:28 <fmuellner>	yes, if that's the right thing for your application
Sep 14 07:32:34 <coolkid87>	fmuellner: okay so this helps open file in the same window, maybe in a different tab, after activate has been called once?
Sep 14 07:33:31 <fmuellner>	coolkid87: I don't know - activate calls 'activate' on the primary instance, open calls 'open' on the primary instance
Sep 14 07:33:41 <fmuellner>	what either of those actions actually does is up to your application
Sep 14 07:34:09 <coolkid87>	okay thanks
Sep 14 07:38:37 <bugbot>	ofourdan@redhat.com changed the Component on bug 771413 from general to Backend: Wayland.
Sep 14 07:38:37 <bugbot>	ofourdan@redhat.com marked bug 771413 as a duplicate of unknown bug.
Sep 14 07:38:38 <bugbot>	ofourdan@redhat.com changed the Product on bug 771413 from gnome-calculator to gtk+.
Sep 14 07:38:38 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771413 Backend: Wayland, normal, gtk-bugs, RESOLVED DUPLICATE, calculator is cropped when "maximized" (on wayland)
Sep 14 08:37:24 <bugbot>	New gtk+ bug 771425 filed by tsdh@gnu.org.
Sep 14 08:37:24 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771425 .General, normal, gtk-bugs, NEW , GTK3 Emacs key theme defines <ctrl>w twice and is incomplete even in the copy/paste basics
Sep 14 08:53:18 <mclasen>	Company: I seem to remember you wanted to discuss window moving ?
Sep 14 09:08:50 <Company>	mclasen: i did
Sep 14 09:09:03 <Company>	mclasen: gtk_window_move() doesn't work on Wayland. Do we just remove it?
Sep 14 09:09:22 <Company>	mclasen: or do we think it's a bad idea if many apps can't use it anymore?
Sep 14 09:10:20 <ebassi>	gdk_window_move() works fine in Wayland. It does not work for *top-levels*
Sep 14 09:10:50 <Company>	ebassi: that's why I talked about gtk_window_move()
Sep 14 09:11:01 <ebassi>	Oh, sorry, misread
Sep 14 09:11:03 <Company>	(plus, if we get rid of child windows, gdk_window_move() won't work anymore either)
Sep 14 09:11:41 <mclasen>	We probably need some 'place on this output' api instead ?
Sep 14 09:12:02 <Company>	mclasen: not sure wayland has that?
Sep 14 09:12:22 <Company>	though I wouldn't mind a writable GtkWindow::monitor property
Sep 14 09:16:42 <mclasen>	yeah, doesn't look like xdg-shell has that
Sep 14 09:16:53 <mclasen>	you can specify an output when fullscreening, but thats it
Sep 14 09:24:36 <mclasen>	seems like a question for jadahl if we want that in xdg-shell
Sep 14 09:25:05 <mclasen>	what are the reasons why an app would move a window manually ?
Sep 14 09:27:05 <ebassi>	Move a presentation window to a secondary output?
Sep 14 09:27:22 <Company>	well
Sep 14 09:27:40 <Company>	it's a subset of the reasons for why an app would want to move a window to a certain x/y position
Sep 14 09:29:05 <Company>	i'm just realizing that Wayland has killed spatial Nautilus for good
Sep 14 09:29:52 <Company>	anyway, specifying monitor is relevant if you want 1 window per monitor
Sep 14 09:30:01 <Company>	like docks
Sep 14 09:30:25 <Company>	or backgrounds
Sep 14 09:30:39 <Company>	though I don't think Wayland considers them valid use cases
Sep 14 09:30:48 <ebassi>	Those should use their own special protocol with the compositors, not a client toolkit API
Sep 14 09:30:58 <ofourdan>	yeap
Sep 14 09:31:00 <ebassi>	Like they do with X11
Sep 14 09:31:53 <Company>	i'm leaning towards disagreeing there
Sep 14 09:32:02 <ebassi>	Unless you believe that _NET_WM_STRUT_PARTIAL is a client toolkit API
Sep 14 09:32:58 <ebassi>	Multiple compositors can expose the same "this-is-a-dock" interface, and docks can use it
Sep 14 09:33:18 <Company>	the question is more how much gtk should support those
Sep 14 09:33:51 <ebassi>	But I'm strongly convinced that adding random bullshit API to the application toolkit in order to write system components will end in disaster
Sep 14 09:33:53 <Company>	and I don't consider GTK a client toolkit, but a UI toolkit
Sep 14 09:34:26 <ebassi>	You can write your dock for Wayland compositors with GTK; you get to use Wayland-specific API to communicate with the compositor
Sep 14 09:34:31 <ebassi>	Just like on X11
Sep 14 09:35:14 <ebassi>	Adding that stuff to the toolkit API means it has to work on Windows or macOS as well
Sep 14 09:35:33 <Company>	yeah
Sep 14 09:36:14 <Company>	status icons were another such example
Sep 14 09:36:37 <Company>	as are notifications
Sep 14 09:37:06 <Company>	all of these have a few very valid use cases
Sep 14 09:37:53 <ebassi>	Status icons and notifications can be portable because they do not describe actual UI: they just describe some content (an image, some text). Even adding menus to them is basically not portable.
Sep 14 09:38:42 <ebassi>	A dock is a bit more complicated than something that can be described with a declarative API and pushed over some IPC
Sep 14 09:40:57 <Company>	unless you define status bars like app indicators
Sep 14 09:42:33 <Company>	that's another example btw: app menus
Sep 14 09:48:22 <Company>	ha
Sep 14 09:48:31 <Company>	even ATK can move windows
Sep 14 09:49:04 <Company>	combobox, dnd, entrycompletion, menu, tooltip and treeview use gtk_window_move() today
Sep 14 09:49:47 <owen>	oholy_: Thanks for finding the duplicate bug
Sep 14 09:50:05 <Company>	XIM imcontext and a 5 tests (one of them being testgtk that uses it 5 times)
Sep 14 09:50:30 <owen>	oholy_: I can try adding --enable-libmount to gnome-continuous, though I think it's entirely unsatisfactorty that bind mounts are listed in the results of g_unix_mount if glib is compiled with --enable-libmount and not otherwise
Sep 14 09:52:38 <owen>	alex: https://git.gnome.org/browse/glib/commit/?h=fbf72a31b13159cef980f17e711dd7600c08176e  - were you pointed to that?
Sep 14 09:52:55 <oholy_>	oholy_: please try it with libmount, I've tested some trash related bugs with libmount and it looked fixed, unfortunatelly libmount is not default yet...
Sep 14 09:53:21 <owen>	oholy_: What do you think about the symlink issue I mentioned?
Sep 14 09:53:58 <owen>	if /home is a symlink to /mnt/nfsvolume/home then Idont' think the trashlib code will realize it is on nfs
Sep 14 09:54:11 <owen>	(if $HOME=/home/someuser)
Sep 14 09:54:44 <oholy_>	owen: yep, it might be a bug in trash backend... 
Sep 14 09:55:36 <oholy_>	owen: I will have to check it... also worth to look in trash spec....
Sep 14 09:56:39 <owen>	oholy_: I'm not talking about the trash spec nad where things are trashed, I'm just talking about gvfs/daemon/trashlib.c:find_mount_entry_for_file()
Sep 14 09:57:46 <oholy_>	owen: I see, I will take a look tommorow... I have to finish somethin else  right now...
Sep 14 09:57:49 <owen>	oholy_: It just walks up the directory tree removing trailing components
Sep 14 09:57:59 <owen>	oholy_: OK, do you want me to file a new bug for that?
Sep 14 09:58:38 <oholy_>	owen: yes please... 
Sep 14 10:01:56 <mclasen>	ebassi: sadly, our status icon api and implementation is not abstract enough for that to work
Sep 14 10:05:36 <owen>	oholy_: https://bugzilla.gnome.org/show_bug.cgi?id=771431
Sep 14 10:05:37 <bugbot>	Bug 771431: daemon, normal, gvfs-maint, NEW , trashwatcher.c: symlinks in the path to $HOME
Sep 14 10:06:29 <owen>	oholy_: No hurry, just noticed when debugging the ostree problem
Sep 14 10:08:35 <alex>	owen: https://github.com/flatpak/freedesktop-sdk-base/commit/dd31ec03ed8f06e3af56c398a8dd4857ba74990e
Sep 14 10:09:59 <owen>	alex: So glib could be switch back to default to linking against libmount?
Sep 14 10:10:31 *	owen thinks that autodetects are usually bad news
Sep 14 10:15:49 <alex>	owen: yeah
Sep 14 10:15:51 <mclasen>	there's --enable-libmount, so you can force it
Sep 14 10:19:49 <ebassi>	mclasen: Indeed; but we can get it right next time ;-)
Sep 14 10:40:26 <owen>	mclasen: We can force it in continuous, but it seems like a trap for distros if  the --disable-libmount is buggy/acts different
Sep 14 10:47:32 <mclasen>	true
Sep 14 10:48:42 <owen>	I guess it's *still* a trap, since distros need to put libmount-devel in the buildrequires: or equivalent
Sep 14 11:18:11 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 14 11:18:11 2016

**** BEGIN LOGGING AT Wed Sep 14 11:18:29 2016

Sep 14 11:18:29 *	Now talking on #gtk+
Sep 14 11:18:29 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 14 11:18:29 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 14 11:47:32 <bugbot>	New gtk+ bug 771436 filed by martin@endlessm.com.
Sep 14 11:47:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771436 Widget: Other, normal, gtk-bugs, NEW , GtkStack clips it's children box-shadow
Sep 14 11:52:01 <baedert>	Company: ^ I didn't know how/if this was supposed to work today since iirc you removed the clipping from input-output windows
Sep 14 11:52:28 <bugbot>	New gtk+ bug 771437 filed by ebassi@gmail.com.
Sep 14 11:52:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771437 Class: GtkStyleContext, normal, gtk-bugs, NEW , GtkStack clipping breaks box-shadow on children
Sep 14 11:53:54 <baedert>	*cough*
Sep 14 12:10:33 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 14 12:10:33 2016

**** BEGIN LOGGING AT Wed Sep 14 12:10:46 2016

Sep 14 12:10:46 *	Now talking on #gtk+
Sep 14 12:10:46 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 14 12:10:46 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 14 12:12:32 <baedert>	Company: What's your opinion on putting the drawn without current allocation warning in a #ifdef G_ENABLE_DEBUG?
Sep 14 12:13:02 <Company>	baedert: probably the right thing to do for the release
Sep 14 13:04:08 <mclasen>	baedert: will you push that #ifdef ?
Sep 14 13:06:27 <baedert>	mclasen: just fell asleep but yeah
Sep 14 13:10:59 <baedert>	mclasen: http://paste.fedoraproject.org/428045/14738730/
Sep 14 13:11:09 <baedert>	ebassi: Did you want to fix that warning in gtk_widget_render?
Sep 14 13:12:24 <ebassi>	baedert: I have it on my other laptop
Sep 14 13:12:32 <ebassi>	I can push it later this evening
Sep 14 13:13:48 <baedert>	ok thanks
Sep 14 13:13:54 *	baedert will hunt some food
Sep 14 14:23:07 <hergertme>	is there a libc func to do shell expansion? (or do you just run it through bash or whatever with the env set?)
Sep 14 14:23:25 <hergertme>	say i have a gchar** environ, and i want to expand "blah $foo $bar" but not allow execution of subshells
Sep 14 14:24:02 *	hergertme wants g_environ_expand(gchar **env, const gchar *spec)
Sep 14 14:24:13 <grawity>	nope, that's shell-specific
Sep 14 14:25:23 <fmuellner>	hergertme: wordexp?
Sep 14 14:25:50 <grawity>	ooooooh
Sep 14 16:17:08 <Hussam>	the libgnomekbd update breaks previewing layouts in gnome-control center
Sep 14 16:17:10 <Hussam>	(gkbd-keyboard-display:26863): GLib-GIO-ERROR **: Settings schema 'org.gnome.libgnomekbd.preview' is not installed
Sep 14 16:18:05 <Hussam>	will file a report.
Sep 14 16:22:50 <Hussam>	https://bugzilla.gnome.org/show_bug.cgi?id=771447
Sep 14 16:22:52 <bugbot>	Bug 771447: Config, major, libgnomekbd-maint, NEW , libgnomekbd 3.21.92 breaks previewing layouts in gnome-control center
Sep 14 16:50:09 <bugbot>	garrettregier@gmail.com marked bug 771409 as a duplicate of unknown bug.
Sep 14 16:50:10 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771409 .General, normal, gtk-bugs, RESOLVED DUPLICATE, “go-down-symbolic” icon broken (empty)
Sep 14 23:19:22 <bugbot>	georges.stavracas@gmail.com changed the Component on bug 771459 from Sidebar to Widget: Other.
Sep 14 23:19:22 <bugbot>	georges.stavracas@gmail.com changed the Product on bug 771459 from nautilus to gtk+.
Sep 14 23:19:23 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771459 Widget: Other, normal, gtk-bugs, NEW , Slight UI glitch when drag to sidebar
Sep 14 23:25:17 <bugbot>	ystreet00@gmail.com changed the Component on bug 771427 from gst-plugins-bad to Widget: Other.
Sep 14 23:25:17 <bugbot>	ystreet00@gmail.com changed the Product on bug 771427 from GStreamer to gtk+.
Sep 14 23:25:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771427 Widget: Other, normal, gtk-bugs, NEW , gtksink and GtkStack issue
Sep 15 00:29:44 <LRN>	anyone knows how GDK is supposed to do double-buffering (or not)? If so, comment on bug 770776
Sep 15 00:29:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770776 Backend: Win32, normal, gtk-win32-maint, NEW , gdk_window_invalidate_rect/gdk_window_invalidate_region on a child window causes noticeable flicker
Sep 15 01:09:04 <bugbot>	New gtk+ bug 771463 filed by sadiq@sadiqpk.org.
Sep 15 01:09:04 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771463 Widget: Other, normal, gtk-bugs, NEW , variable may be used uninitialized in gtk_widget_render
Sep 15 01:12:20 <sadiq>	LRN: Does the ^^ above bug relates to your bug?
Sep 15 01:12:35 <LRN>	above *is* my bug
Sep 15 01:12:43 <baedert>	ebassi already has a patch for that
Sep 15 01:12:44 <LRN>	ah, wait
Sep 15 01:12:54 <LRN>	wrong "above"
Sep 15 01:13:20 <LRN>	nah, it doesn't seem to be related
Sep 15 01:13:25 <LRN>	but you never know
Sep 15 01:13:47 <LRN>	*my* bug is about GDK doing (or not doing) double-buffered drawing
Sep 15 01:13:57 <LRN>	by design
Sep 15 01:14:26 <sadiq>	Hm.. OK
Sep 15 04:00:13 <bugbot>	New gtk+ bug 771472 filed by orschiro@gmail.com.
Sep 15 04:00:13 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771472 Widget: GtkFileChooser, normal, gtk-bugs, NEW , Show number of selected files
Sep 15 04:03:07 *	Disconnected (Remote host closed socket)
**** ENDING LOGGING AT Thu Sep 15 04:03:07 2016

**** BEGIN LOGGING AT Thu Sep 15 04:03:21 2016

Sep 15 04:03:21 *	Now talking on #gtk+
Sep 15 04:03:21 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 15 04:03:21 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 15 04:23:56 <bugbot>	New glib bug 771476 filed by bgalvani@redhat.com.
Sep 15 04:23:56 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771476 general, enhancement, gtkdev, NEW , Please add a variant of g_file_set_contents() which accepts file mode
Sep 15 04:32:15 <bugbot>	notverysmart@gmail.com changed the Component on bug 771464 from User Interface to Widget: Other.
Sep 15 04:32:16 <bugbot>	notverysmart@gmail.com changed the Product on bug 771464 from rhythmbox to gtk+.
Sep 15 04:32:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771464 Widget: Other, normal, gtk-bugs, NEW , Volume scale is too short
Sep 15 05:00:39 <bugbot>	sadiq@sadiqpk.org marked bug 771459 as a duplicate of unknown bug.
Sep 15 05:00:39 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771459 Widget: Other, normal, gtk-bugs, RESOLVED DUPLICATE, Slight UI glitch when drag to sidebar
Sep 15 05:03:30 <bugbot>	ebassi@gmail.com changed the Component on bug 771464 from Widget: Other to Themes.
Sep 15 05:03:31 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771464 Themes, normal, gtk-bugs, NEEDINFO , Volume scale is too short
Sep 15 05:05:44 <bugbot>	csoriano@gnome.org changed the Component on bug 770341 from Views: List View to .General.
Sep 15 05:05:44 <bugbot>	csoriano@gnome.org changed the Product on bug 770341 from nautilus to gtk+.
Sep 15 05:05:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770341 .General, major, gtk-bugs, NEW , Invisible file and directory names
Sep 15 05:18:44 <bugbot>	ebassi@gmail.com changed the Status on bug 771463 from NEW --- to RESOLVED FIXED.
Sep 15 05:18:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771463 Widget: Other, normal, gtk-bugs, RESOLVED FIXED, variable may be used uninitialized in gtk_widget_render
Sep 15 06:58:53 <tomtix>	are GObject atomically refcounted or should I use lock? (I know some objects like GstObject  from gstreamer a explicitly said to be atomically refcounted, but nothing is said)
Sep 15 06:59:06 <tomtix>	*for GObject
Sep 15 07:04:36 <gregier>	tomtix: they are atomic, https://git.gnome.org/browse/glib/tree/gobject/gobject.c#n3046
Sep 15 08:21:28 <mclasen>	garnacho_: do you have a microsoft mouse ? I wondered if you could extend our horrible input device heuristics to cover https://bugzilla.gnome.org/show_bug.cgi?id=770716
Sep 15 08:21:29 <bugbot>	Bug 770716: Backend: X11, normal, gtk-bugs, NEW , gdk_device_get_source for Microsoft Sculpt Comfort Bluetooth Mouse returns GDK_SOURCE_TOUCHSCREEN
Sep 15 08:22:33 <garnacho_>	mclasen: oh, right, saw that fly by but forgot to reply... I don't have any MS mouse, will ask for the relevant info
Sep 15 08:28:48 <bugbot>	csoriano@gnome.org changed the Component on bug 764849 from general to general.
Sep 15 08:28:48 <bugbot>	csoriano@gnome.org changed the Product on bug 764849 from nautilus to glib.
Sep 15 08:28:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=764849 general, normal, gtkdev, REOPENED , Opening nautilus on wayland keeps loading
Sep 15 09:08:00 <bagage>	hi! Does anyone know why GtkFileChooserNative is declared as final class (not subclassable), while GtkFileChooserDialog is not final? thanks :) 
Sep 15 09:08:50 <ebassi>	Because it's possible to go from final to sub-classable without breaking API in the future, and impossible to do the reverse
Sep 15 09:09:00 <ebassi>	Why do you feel you need to subclass FileChooserNative?
Sep 15 09:09:35 <ebassi>	You cannot really override the FileChooser implementation for a native file chooser dialog without breaking it
Sep 15 09:10:59 <bagage>	Well, maybe there's a better design here - but geary override Gtk.FileChooserDialog to add a custom preview widget and to handle Gtk.ResponseType.ACCEPT action directly within the custom subclass
Sep 15 09:11:06 <bagage>	(cf https://github.com/GNOME/geary/blob/master/src/client/dialogs/attachment-dialog.vala)
Sep 15 09:11:34 <ebassi>	So: you cannot add a widget, because GtkFileChooserNative is not a widget, and native dialogs cannot embed GTK widgets
Sep 15 09:12:13 <ebassi>	As for handling the response, you'll have to use the ::response signal, I'm afraid
Sep 15 09:12:52 <bagage>	OK, so the alternative here is to stop subclassing but connect with signal. That's fine, just wanted to double check. thanks ebassi! :)
Sep 15 09:19:49 <mclasen>	the filechoosernative api is bit more limited, because it is designed to work out of process
Sep 15 09:20:15 <mclasen>	bagage: ^
Sep 15 09:26:41 <bagage>	mclasen: yeah I can see that; actually even on gnome where gtkfilechoosernative should be gtkfilechooserdialog, we lose features such as image preview :/
Sep 15 09:27:50 <bagage>	or rather even if gtk filechooser is capable of previewing such files, it does not (maybe native windows file chooser does, I did not check it yet)
**** ENDING LOGGING AT Thu Sep 15 13:43:36 2016

**** BEGIN LOGGING AT Thu Sep 15 15:53:20 2016

Sep 15 15:53:20 *	Now talking on #gtk+
Sep 15 15:53:20 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 15 15:53:20 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 16 01:09:59 <vrishab>	Hi.
Sep 16 01:10:22 <vrishab>	how to properly fix "GtkPopover <.....> is drawn without a current allocation. This should not happen" errors ?
Sep 16 01:12:12 <gregier>	vrishab: not 100% possible atm and might be an internal issue with gtk+, they will be disable in the stable release: https://git.gnome.org/browse/gtk+/commit/?id=5ea69a136bd7e4970b3a800390e20314665aaed2
Sep 16 01:13:58 <vrishab>	gregier, oh ok .. I'll wait for the next release .. 
Sep 16 01:14:54 <vrishab>	so the warnings should be ignored for now .. that's what expected from gtk+ app developers ? 
Sep 16 01:15:43 <baedert>	Sometimes it can be ignored.
Sep 16 01:21:35 <vrishab>	baedert, if the warning is legitimate .. app developers can try fixing it. 
Sep 16 01:22:23 <vrishab>	If warning is false positive .. gtk+ should not print it in the first place ..
Sep 16 01:22:56 <vrishab>	chances are developers will ignore all warnings all together
Sep 16 01:23:13 <vrishab>	if it has a mix of false positives and positives ..
Sep 16 01:30:34 <baedert>	...? Then what?
Sep 16 01:31:23 <vrishab>	meaning ?
Sep 16 02:11:48 <visarion>	I want my class to have a property with type GList*, but I can't figure out what g_param_spec to use when calling g_object_install_property
Sep 16 02:13:36 <teuf>	visarion: you'd have to register it as a boxed type or as a pointer
Sep 16 02:13:45 <teuf>	visarion: but I think it's usually recommended to expose an array instead
Sep 16 02:14:08 <teuf>	GArray and friends
Sep 16 02:14:21 <teuf>	which are already registered as boxed types
Sep 16 02:14:37 <visarion>	teuf: thanks, I'll try :)
Sep 16 03:19:10 <jamesaxl>	hello
Sep 16 03:20:08 <jamesaxl>	I would like to search a text on textview using regexp, I found gtk_text_iter_forward_search but I do not know how to imple;ent regexp expression
Sep 16 03:48:01 <bugbot>	New gtk+ bug 771516 filed by jadahl@gmail.com.
Sep 16 03:48:01 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771516 Backend: Wayland, normal, gtk-bugs, NEW , wayland: Only 'moved-to-rect' if move_to_rect() was used
Sep 16 04:25:38 <swilmet>	jamesaxl: GtkSourceView implements regex search
Sep 16 04:25:42 <swilmet>	https://wiki.gnome.org/Projects/GtkSourceView
Sep 16 04:30:01 <bugbot>	ebassi@gmail.com changed the Status on bug 707422 from NEW --- to RESOLVED WONTFIX.
Sep 16 04:30:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=707422 Class: GtkRecent, normal, gtk-bugs, RESOLVED WONTFIX, Improve GtkRecentAction deprecation notice
Sep 16 06:28:38 <nacho>	hey guys
Sep 16 06:28:58 <nacho>	glib-mkenums is so impossible to understand... :(
Sep 16 06:29:45 <nacho>	on windows  a file name like ..\tip\pipo.c will convert \t to a tab :(
Sep 16 06:30:25 <tpm>	lol
Sep 16 06:32:38 <nacho>	no perl masters around that can help me figure out what I have to change?
Sep 16 06:32:50 <nacho>	we should just rewrite it in python or something else
Sep 16 06:41:34 <ebassi>	I just stopped using autogeneration for enumeration types in my projects, and added a couple of macros
Sep 16 06:42:21 <ebassi>	https://github.com/ebassi/graphene/blob/master/src/graphene-gobject.c#L95
Sep 16 06:42:55 <ebassi>	Autogeneration is only convenient if you have a huge collection of enumerations with tons of values
Sep 16 06:42:58 <tpm>	nacho, it's probably one of the regex substitutions
Sep 16 06:43:24 <ebassi>	That sounds more like an autotools failure
Sep 16 06:43:25 <tpm>	nacho, the good thing is it's a script so you can just add some print 
Sep 16 06:43:25 <nacho>	tpm, yeah
Sep 16 06:43:27 <ebassi>	\t and \p
Sep 16 06:43:34 <nacho>	ebassi, this is on windows
Sep 16 06:43:43 <nacho>	where I just call glib-mkenums directly
Sep 16 06:43:49 <nacho>	the files are fetched properly
Sep 16 06:43:59 <nacho>	but the substitution of the #include is wrong
Sep 16 06:44:23 <ebassi>	Oh god
Sep 16 06:44:24 <ebassi>	Oh no
Sep 16 06:44:25 <nacho>	it shows #include "..       ip\pipo.h"
Sep 16 06:44:28 <nacho>	or something like that
Sep 16 06:44:28 <ebassi>	Oh deal lord
Sep 16 06:44:39 <ebassi>	It tries to follow #include directives
Sep 16 06:44:42 <ebassi>	I didn't know that
Sep 16 06:44:43 <tpm>	glib-mkenum is awseome
Sep 16 06:45:09 <baedert>	But does it also happen with wip/baedert/meson? :)
Sep 16 06:45:14 <ebassi>	Also, it's still using the old two-arguments open instead of the appropriate one
Sep 16 06:45:38 <nacho>	this is pretty bad from a windows perspective :)
Sep 16 06:45:46 *	nacho checks your magic macros
Sep 16 06:46:15 <tpm>	how did no one run into that yet? because on windows everyone just used pre-generated enum type files instead of calling the script?
Sep 16 06:47:05 <LRN>	don't use Perl, use Python
Sep 16 06:47:05 <nacho>	ebassi, I like it
Sep 16 06:47:16 <nacho>	ebassi, I will stop this glib-mkenums non sense and do that
Sep 16 06:47:20 <LRN>	at least, if it breaks, you'll be able to fix it
Sep 16 06:47:51 <nacho>	tpm, I guess nobody had a dir starting with t?
Sep 16 06:49:21 <ebassi>	The problem with rewriting glib-mkenums with Python is that the enumeration data generation has to be bug-for-bug compatible
Sep 16 06:49:39 <ebassi>	since that's basically part of the ABI
Sep 16 06:50:52 <tpm>	one could add it under a new name and let people move over once they've tested it
Sep 16 06:51:16 <nacho>	indeed
Sep 16 06:51:24 <nacho>	we could deprecate one and create another
Sep 16 06:51:31 <tpm>	if it's worth it I don't know :)
Sep 16 06:53:17 <ebassi>	I still think we should move towards the macros instead; easier to use and faster, because they do not mess with your build system
Sep 16 06:54:55 <nacho>	ebassi, how about adding the generic ones to glib?
Sep 16 06:55:13 <tpm>	I can't see where they are used in graphene
Sep 16 06:55:57 <ebassi>	There's a bug for that already
Sep 16 06:56:10 <ebassi>	tpm: They aren't; well, they were, until I removed the enum type
Sep 16 06:56:18 <tpm>	ah :)
Sep 16 06:56:44 <ebassi>	tpm: Same macro, used elsewhere: https://github.com/ebassi/emeus/blob/master/src/emeus-types.c#L7
Sep 16 06:57:38 <ebassi>	nacho: https://bugzilla.gnome.org/show_bug.cgi?id=627241
Sep 16 06:57:39 <bugbot>	Bug 627241: gobject, enhancement, gtkdev, NEW , add G_DEFINE_[ENUM|FLAGS]_TYPE
Sep 16 06:59:43 *	ebassi prefers his variant that uses a string for the "nick" value instead of a bare word that gets stringified
Sep 16 07:00:26 <tpm>	hrm, looks a bit tedious for large enum sets :)
Sep 16 07:00:36 <tpm>	but I can see the appeal if you only have a couple
Sep 16 07:03:51 <ebassi>	If you start from scratch, it's not terrible to add new enumerations; the obvious blocker is when you already have a well-established collection of enums and values
Sep 16 07:04:33 <ebassi>	Not any worse than dealing with GObject anyway
Sep 16 07:05:18 <csoriano>	in case G_DEFINE_* is implemented, wouldn't it be a matter of adding a single line per each enum you want to export?
Sep 16 07:05:23 <csoriano>	I can see a small script to do that
Sep 16 08:09:54 <alien>	I've recently upgraded gtk3 from 3.18-9 to 3.19.12 and my CSS is broken. I'm seeing this: https://i.imgur.com/8Sxw6yY.png vs https://i.imgur.com/TPfwFs4.png.
Sep 16 08:10:26 <alien>	I canno figure out why styles aren't applied anymore. Not sure how to get to the bottom of the issue either.
Sep 16 08:10:32 <alien>	Any suggestions?
Sep 16 08:14:41 <alex>	alien: 3.19.12 is a weird thing to use
Sep 16 08:14:48 <alex>	alien: use 3.18 or 3.20
Sep 16 08:14:57 <alex>	3.19 is a developer release
Sep 16 08:14:57 <alien>	same issue on 3.20
Sep 16 08:15:16 <alex>	that said, the gtk theming system changed quite a lot in 3.20
Sep 16 08:15:20 <alex>	https://blogs.gnome.org/mclasen/2015/11/20/a-gtk-update/
Sep 16 08:15:21 <alien>	I'd love to use the latest version, but I'm kinda stuck to 3.18
Sep 16 08:15:57 <alien>	alex: thank you I'll take a look
Sep 16 08:24:23 <baedert>	probably just .frame -> frame and .button -> button?
Sep 16 08:24:28 <baedert>	ehm entry
Sep 16 08:24:38 <baedert>	or GtkEntry -> entry and GtkButton -> button.
Sep 16 09:05:20 <darkbios>	./ChanServ
Sep 16 09:31:56 <bagage>	is there a way to bind a gfloat property with gsettings (vala)? I tried to use type="d" in schema, but glib keeps throwing a "CRITICAL **: g_settings_bind: property 'xxx' on class 'yyy' has type 'gfloat' which is not compatible with type 'd'"
Sep 16 09:50:07 <bagage>	OK i guess it misses a condition here for G_TYPE_FLOAT: https://github.com/GNOME/glib/blob/master/gio/gsettings-mapping.c#L578
Sep 16 09:54:55 <bugbot>	New glib bug 771534 filed by gautier@damsy.net.
Sep 16 09:54:55 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771534 gsettings, normal, desrt, NEW , Cannot bind settings with float properties (patch attached)
Sep 16 09:55:15 *	desrt raises an eyebrow
Sep 16 10:13:19 <kov>	o/ I'm working on a patch to use gdk_cairo_draw_from_gl to blit the final rendering of webkitgtk into the gtk widget: https://bugs.webkit.org/attachment.cgi?id=288978&action=review
Sep 16 10:13:47 <kov>	we are getting a weird rendering artifact when shrinking the window: https://bug-161530-attachments.webkit.org/attachment.cgi?id=288935
Sep 16 10:14:09 <kov>	anyone has ideas on what could lead to that/suggestions on how to debug?
Sep 16 10:15:10 <kov>	(The rendering artifact is the black border that appears to the opposite sides of the window when shrinking)
Sep 16 10:18:39 <alex>	kov: Wow, that is weird
Sep 16 10:18:45 <alex>	kov: is it driver specific?
Sep 16 10:23:08 <kov>	alex, I'm not sure, I think all the 2 people who tested are on intel, had to test using swrast because it lacks egl extensions the webkit internal compositor needs
Sep 16 10:24:38 <alex>	kov: The screenshot looks werid on the right side even before the black though
Sep 16 10:24:59 <alex>	its like its tiling the buffer
Sep 16 10:25:15 <alex>	or texture
Sep 16 10:25:20 <kov>	alex, ah yeah, we were using bad size parameters when we took that screenshot, that part is fixed
Sep 16 10:28:33 <alex>	Seems pretty weird to me
Sep 16 10:28:35 <kov>	alex, just took this one: http://imgur.com/a/JH4sP
Sep 16 10:29:07 <alex>	Does it affect only one frame while resizing?
Sep 16 10:29:12 <alex>	or does it stick around?
Sep 16 10:29:29 <kov>	alex, it sticks around, even if I scroll the page for instance it'll stay there
Sep 16 10:29:44 <kov>	the way to fix it is to enlarge the window a bit
Sep 16 10:30:42 <kov>	if you look at the code, we have a glReadPixels codepath as well, that one is not affected (though I guess that's expected)
Sep 16 10:31:27 <kov>	alex, we have only tried it in weston for now, do you think it is worth trying it under gnome shell? could it be a compositor-specific issue?
Sep 16 10:32:00 <alex>	Honestly, i have not idea
Sep 16 10:32:20 <alex>	But, should be an easy test, so why not
Sep 16 10:32:46 <kov>	yep, I'll drop to login to gnome under wayland and do it, will let you know
Sep 16 10:42:46 <kov>	alex, behaviour is even weirder on gnome-shell =O while in weston the side of the window you're dragging moves and the black shadow grows on the other side, on shell the opposite side retracts and the shadow stays where the window was
Sep 16 10:42:51 <kov>	let me try to video it
Sep 16 10:47:26 <kov>	alex, https://people.collabora.com/~kov/weird-resizing.webm
Sep 16 10:48:10 <alex>	epic!
Sep 16 10:49:18 <kov>	alex, isn't it? haha any clues as to where the bug may lie and how to start looking for it?
Sep 16 10:49:32 <alex>	sorry, no idea :(
Sep 16 10:56:36 <kov>	alex, do you think anything on the source texture that is being passed could lead to that, or should I focus on gtk/mesa/wayland? I suppose a badly setup render buffer could be to blame, but a texture should be safe?
Sep 16 10:57:37 <alex>	kov: Yeah, seems more likely to be a gtk issue
Sep 16 10:58:23 <kov>	alex, cool, I'll dig into gtk first, then, thanks =)
Sep 16 11:04:18 <garnacho_>	kov: long shot, maybe textureSize is too big?
Sep 16 11:09:32 <Redfoxmoon>	I guess there's not much interest in fixing windows-specific(PE specific) bugs in glib, heh
Sep 16 12:22:25 <kov>	garnacho_, I thought that might be the culprit, but apparently it happens even if we don't use gdk_cairo_draw_from_gl while the resize is happening, it's enough that there was a single call to that before, it seems, really weird
Sep 16 12:23:25 <garnacho_>	indeed...
Sep 16 12:23:59 <kov>	I tried clipping the size passed to gdk_cairo_draw_from_gl to the widget allocation too, no go
Sep 16 14:20:01 <baedert>	ebassi: when we draw with gl, can we do recoloring of symbolic icons in a shader?
Sep 16 14:26:37 <ptytty>	im having problems compiling gtk3+ example code could anyone provide insight?
Sep 16 14:28:33 <TingPing>	ptytty, what did you run, what was the error, etc
Sep 16 14:31:16 <ptytty>	gtk_application_new("org.gtk.example", G_APPLCIATION_FLAGS_NONE); error: undefined G_APPLICATION_FLAGS_NONE;
Sep 16 14:32:17 <ptytty>	TingPing: GTK reference example: https://developer.gnome.org/gtk3/stable/gtk-getting-started.html#id-1.2.3.5
Sep 16 14:32:41 <TingPing>	ptytty, try including the gio/gio.h header
Sep 16 14:33:17 <TingPing>	also in that paste you had a typo
Sep 16 14:37:47 <ptytty>	how would that fix the issue?
Sep 16 14:40:01 <ptytty>	no fix
Sep 16 14:40:43 <gregier>	APPLCIATION => APPLICATION
Sep 16 14:40:48 <gregier>	simple typo 
Sep 16 14:42:36 <ptytty>	awwwwww
Sep 16 14:42:42 <ptytty>	thanks! :)
Sep 16 14:42:46 <gregier>	np
Sep 16 14:43:16 <baedert>	So you didn't copy/paste the error message here but typed it out?
Sep 16 14:43:42 <ptytty>	sorry for my stupidity
Sep 16 14:43:45 <ptytty>	yes
Sep 16 14:43:59 <ptytty>	wait no
Sep 16 14:44:03 <ptytty>	copy
Sep 16 14:45:13 <ptytty>	thought you meant if i copy / paste-d the example code into the file.
Sep 16 14:45:39 <TingPing>	in your sentence you had it wrong once and right once, so i assumed it was typed into irc
Sep 16 14:47:22 <ptytty>	 error: ‘activate’ undeclared (first use in this function)
Sep 16 14:48:19 <TingPing>	in the example the activate function is there, make sure it is above your main function too
Sep 16 14:50:19 <ptytty>	TingPing / gregier: no errors!
Sep 16 16:07:09 <bugbot>	New gtk+ bug 771553 filed by gns@gnome.org.
Sep 16 16:07:09 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771553 Backend: Wayland, normal, gtk-bugs, NEW , Shrinking window generates a black patch when gl is used
Sep 16 17:17:50 <djb>	anyone else noticing this with the new ScrolledWindow - e.g. on Polari - on 1st show, it pops up too tall, then quickly resizes down to normal?
Sep 16 17:18:00 <djb>	looks rather glitchy to me
Sep 16 17:19:01 <djb>	I guess it's likely to be some kind of interaction with the Popover
Sep 16 17:30:41 <TingPing>	djb, what gtk version
Sep 16 17:31:15 <djb>	3.21.6 so i've seen the various permutations of ScrolledWindow behaviour that have come and gone recently
Sep 16 17:31:45 <djb>	including when it would _stay_ too tall and truncated (again using Polari as my example). now it settles down to the right size, but still glitches while popping up sometimes
Sep 16 17:32:49 <djb>	course, now that i want to record a screencast, that's become a 'very sometimes'
Sep 16 17:39:34 <djb>	https://www.sendspace.com/file/vml3bj There's a screencast
Sep 16 17:40:16 <djb>	It's reproducible by changing room so that the # of users changes, then popping up the user list. I don't know whether it's a GTK+ thing or a Polari one... fmuellner might like to comment
Sep 16 18:14:17 <salinasv>	Hi, I'm trying to load an animated icon from the icon theme specification.
Sep 16 18:14:36 <salinasv>	From my test, it looks like Gtk+ does not support that piece of the specification. Is that correct?
Sep 16 18:16:38 <djb>	Please explain how you're trying to load it
Sep 16 18:17:03 <salinasv>	I'm using a GtkCellRendererPixbuf.
Sep 16 18:17:46 <salinasv>	I see it loading the png file, but instead of showing it frame by frame, it shows the whole matrix.
Sep 16 18:18:49 <djb>	Either this bug is outdated, or it's not supported for that widget
Sep 16 18:18:51 <djb>	https://bugzilla.gnome.org/show_bug.cgi?id=310327
Sep 16 18:18:52 <bugbot>	Bug 310327: Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , GtkCellRenderPixbuf should support animations
Sep 16 18:18:59 <djb>	found via this page on google https://wiki.gnome.org/Attic/WidgetWishlist
Sep 16 18:19:20 <djb>	(most of which IS outdated)
Sep 16 18:19:47 <salinasv>	let's see.
Sep 16 18:20:44 <djb>	Supporting arbitrary animations in cells is presumably within the realms of possibility, given that this exists: https://developer.gnome.org/gtk3/stable/GtkCellRendererSpinner.html
Sep 16 18:21:20 <djb>	...although for all I know, it might be using CSS magic instead of an image per se
Sep 16 18:21:34 <salinasv>	yeah, actually that is one of my use cases, the other is an app specific icon.
Sep 16 18:21:42 <aleb>	I have a Gtk.Box which should have the same background color as the window. How should I set the CSS style so it gets that color by itself?
Sep 16 18:22:49 <djb>	aleb: AFAICT widgets have transparent backgrounds unless you've previously set a specific colour on them, so it should just work
Sep 16 18:23:25 <aleb>	the problem is that it's in a container with a different background
Sep 16 18:23:50 <aleb>	(It's in a ListBox)
Sep 16 18:24:33 <djb>	oh, right
Sep 16 18:25:06 <salinasv>	So I better try to work around the animated icons with a standard pixbuf animation, right?
Sep 16 18:27:00 <djb>	salinasv: looks that way to me. wouldn't hurt to ask for an update on that ancient ticket too (one way or another!)
Sep 16 18:27:24 <djb>	aleb: that goes beyond my entry level CSS knowledge sadly, but i'm sure if it's possible, someone else here will know how
Sep 16 18:28:51 <salinasv>	djb: that's a shame. I'm trying to get out of the deprecated stock API. =(
Sep 16 18:30:25 <djb>	salinasv: well GtkImage supports arbitrary animations AFAICT but using that would probably involve a lot of changes to your design
Sep 16 18:31:19 <salinasv>	yeah, this patch is already big enough. =P
Sep 16 18:36:35 <aleb>	I found this "CSS nodes" which shows where the values set by CSS are coming from, but "find /usr | grep gtk-contained-dark.css" does not find anything :(
Sep 16 18:37:37 <djb>	aleb: that'll be Adwaita, and its CSS is baked into the library itself
Sep 16 18:37:56 <djb>	you can view it on git:
Sep 16 18:37:58 *	aleb looking at https://git.gnome.org/browse/gtk+/tree/gtk/theme/Adwaita/gtk-contained-dark.css
Sep 16 18:38:02 <salinasv>	djb: I just tested it on a GtkImage and it does not support animations. Not from the icon theme specification.
Sep 16 18:38:06 <djb>	aleb: snap!
Sep 16 18:38:34 <salinasv>	It does support GdkPixbufAnimation but that is different.
Sep 16 18:39:41 <djb>	salinasv: dang. well, maybe worth adding a query to that old report then, especially since you have a spec to cite. either there's a way to do it, or you can recommend that there should be
Sep 16 18:40:09 <djb>	aleb: but I think the issue will be that you want to 'skip' a generation of inheritance
Sep 16 18:40:25 <salinasv>	I guess it's time to create an account on bugzilla.gnome.org. =(
Sep 16 18:40:48 <djb>	...which I've never seen done with CSS, so you might have to just reimplement the desired rules as overrides on the inner Box
Sep 16 18:41:39 <salinasv>	djb: that ticket is GtkCellRenderePixbuf specific. It looks like there is a lack of support for that feature across Gtk+. Should I create a new ticket instead?
Sep 16 18:43:31 <djb>	salinasv: well, that's what I'd do as a use if I were in your situation. sounds like you've got a clear use case and have searched well but not found any way to do it. would be worth adding the old one as a See Also anyway
Sep 16 18:43:40 <djb>	*as a user
Sep 16 18:45:42 <salinasv>	Ok, will do.
Sep 16 18:47:57 <aleb>	box.get_style_context().add_class("background") \o/
Sep 16 18:48:39 <aleb>	I was wondering why it does not work until I noticed I was still calling box.override_background_color() :/
Sep 16 18:50:10 <djb>	hah, that's a clever way to do it
Sep 16 18:50:54 <djb>	or a good hack at least ;)
Sep 16 19:08:18 <bugbot>	New gtk+ bug 771560 filed by salinasv@gmail.com.
Sep 16 19:08:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771560 Widget: Other, normal, gtk-bugs, NEW , Support for Icon Theme Specificaion animation
Sep 16 19:08:29 <salinasv>	yeii, that's me!
Sep 16 19:31:59 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Fri Sep 16 19:31:59 2016

**** BEGIN LOGGING AT Sun Sep 18 22:19:35 2016

Sep 18 22:19:35 *	Now talking on #gtk+
Sep 18 22:19:35 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 18 22:19:35 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** BEGIN LOGGING AT Mon Sep 19 08:20:09 2016

Sep 19 08:20:09 *	Now talking on #gtk+
Sep 19 08:20:09 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 19 08:20:09 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 19 08:38:17 <bugbot>	lrn1986@gmail.com changed the Status on bug 771568 from NEW --- to RESOLVED FIXED.
Sep 19 08:38:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771568 Backend: Win32, normal, gtk-win32-maint, RESOLVED FIXED, Holding down a modifier key results in 100% cpu usage
Sep 19 08:41:35 <nacho_>	nice, now I had a deadlock of gnome-shell :(
Sep 19 09:06:19 <csoriano____>	baedert: popovers used to get animated on destroy, right?
Sep 19 09:06:49 <csoriano____>	or just on hide?
Sep 19 09:10:39 <houz>	hi, quick question: with gtk_widget_grab_focus() i can make sure that keyboard events are sent to that widget. is there something similar for mouse buttons so it will receive scoll events?
Sep 19 09:12:00 <Company>	houz: mouse eventsalways go to the widget directly below the mouse pointer
Sep 19 09:12:57 <Company>	there's no way to move focus for the mouse
Sep 19 09:14:01 <muhannad_>	Hi, I'm trying to develop my apps with Emacs using EDE Project mangment, is it fine for GNOME team if I plane to merge my app to GNOME project ?
Sep 19 09:14:39 <muhannad_>	I mena is EDE Project Managment  ?
Sep 19 09:14:47 <ebassi>	muhannad_: What do you mean with "merge my app to GNOME project"?
Sep 19 09:14:58 <houz>	too bad. can i intercept them before they are delivered to the widget under the pointer somehow?
Sep 19 09:15:00 <ebassi>	And what's "EDE Project management"?
Sep 19 09:15:11 <muhannad_>	I mean i want to devlep apps for GNOME later when I have the ablite
Sep 19 09:15:44 <muhannad_>	https://www.gnu.org/software/emacs//manual/ede.html << EDE
Sep 19 09:16:30 <muhannad_>	I find it hard dealing with complex autotools so I start using EDE Progect Managment 
Sep 19 09:17:04 <muhannad_>	u can it's layer between the developer and the autotools or aother supported Builde System 
Sep 19 09:17:13 <muhannad_>	Build8
Sep 19 09:17:15 <muhannad_>	Build*
Sep 19 09:18:03 <muhannad_>	<< Sorry for my bad English :D
Sep 19 09:19:26 <baedert>	csoriano____: No, on hide
Sep 19 09:20:28 <Company>	baedert, csoriano____: Note that destroy() first hide()s the widget
Sep 19 09:20:44 <muhannad_>	ebassi: is EDE acceptable ?
Sep 19 09:20:58 <csoriano____>	Company: right
Sep 19 09:21:09 <csoriano____>	baedert: I wonder if we should have a destroy with animation too
Sep 19 09:21:47 <csoriano____>	although I'm doing that now with hide() g_signal_connect ("hide", gtk_widget_destroy); but meh
Sep 19 09:23:03 <Company>	the tricky part is always when something happens while the hide still runs
Sep 19 09:24:03 <csoriano____>	Company: you mean the animation right? since the hide() is already splitted now with popdown/popup
Sep 19 09:24:23 <Company>	yes
Sep 19 09:24:48 <Company>	though i guess the signal would run fine
Sep 19 09:25:15 <Company>	because the hide would happen immediately in those cases where the animation was interrupted
Sep 19 09:25:39 <csoriano____>	yeah, if we make sure about that...we can keep the consistency
Sep 19 09:26:19 <Company>	just make sure a call to gtk_widget_hide() immediately hides a popover that is in the process of a hide animation
Sep 19 09:26:40 <Company>	popdown(); g_timeout_add(5, gtk_widget_hide);
Sep 19 09:27:08 <csoriano____>	ugh
Sep 19 09:27:16 <Company>	(probably 20 is better than 5 so we know the frame clock has started the animation by processing at least 1 frame)
Sep 19 09:27:31 <Company>	should be a neat testcase for the testsuite
Sep 19 09:27:45 <csoriano____>	that shouldn't necesary no? Just make sure hide() is called inside the destroy
Sep 19 09:28:23 <csoriano____>	ah I see
Sep 19 09:28:32 <Company>	csoriano____: no, that was just a testcase idea
Sep 19 09:28:37 <csoriano____>	right right
Sep 19 09:28:41 <Company>	csoriano____: should totally not be necessary in normal code
Sep 19 09:29:01 *	Company just trying to tease baedert ;)
Sep 19 09:29:35 <Company>	and we could replace the hide() in that testcase with a popup() call and get another testcase!
Sep 19 09:29:37 <muhannad__>	ebassi: EDE simplfie simplifies building and debugging programs , so I don't need to deal with autotools directly .. 
Sep 19 09:29:46 <ebassi>	muhannad__: I have no idea, I don't use emacs. I guess it entirely depends on whether you want contributions from people that don't use emacs
Sep 19 09:30:08 <muhannad__>	what Gnome pepole use ?
Sep 19 09:30:12 <muhannad__>	GNOME*
Sep 19 09:30:32 <muhannad__>	GNOME Builder ?
Sep 19 09:30:56 <ebassi>	muhannad__: Generally, the "preferred" build system is autotools, but people use whatever editor/IDE they want.
Sep 19 09:31:05 <ebassi>	Meson is getting traction
Sep 19 09:31:22 <Company>	isn't EDE just an IDE?
Sep 19 09:31:37 <muhannad__>	u can say that 
Sep 19 09:31:48 <Company>	so it doesn't matter if anyone uses it
Sep 19 09:31:58 <Company>	because the project's code doesn't look any different
Sep 19 09:32:31 <ebassi>	It depends if it autogenerates stuff that you cannot modify
Sep 19 09:32:52 <ebassi>	Or if it doesn't, and it's just a one-off
Sep 19 09:32:59 <ebassi>	Again, I don't use Emacs
Sep 19 09:33:32 <sadiq>	muhannad__: The GNOME builder have an 'ide' command which can deal with creating the autotools templates and directory structures. users may use any editor.
Sep 19 09:34:05 <muhannad__>	EDE generates autotools configurations ..
Sep 19 09:34:28 <muhannad__>	but the programmer doesn't need to deal with them, EDE take care for the develper 
Sep 19 09:34:31 <csoriano____>	Company, baedert: we should definitely have a more generic way to say "hide with animation" "desotry with animation" or "show with animation"
Sep 19 09:34:42 <csoriano____>	I'm currently wrapping a popover in some class
Sep 19 09:35:21 <csoriano____>	and the widgets using it cannot use gtk_widget_destroy or unref directly because that would destroy the entire hierarchy directly, and if they want animations they have to access to the private widget :/
Sep 19 09:35:25 <muhannad__>	ebassi: By the way what do use to develop ?
Sep 19 09:35:52 *	baedert doesn't know the status-quo when it comes to animation stuff
Sep 19 09:36:01 <baedert>	I somehow remember ebassi saying tweeners are shit?
Sep 19 09:36:16 <Company>	csoriano____: hide/show with animations is always a nasty thing (ie in browsers, games, etc, too)
Sep 19 09:36:51 <csoriano____>	I can guess, but they do it somehow :)
Sep 19 09:37:14 <Company>	(dota still has no proper corpse handling!)
Sep 19 09:37:22 <csoriano____>	hah
Sep 19 09:37:50 <csoriano____>	I don't know I have the feeling we should assume there is always an animation, and use time = 0 for direct hide() show() and destroy() or so
Sep 19 09:38:08 <Company>	thing is: there is never an animation
Sep 19 09:38:13 <Company>	apart from very special cases
Sep 19 09:38:31 <Company>	like the boxes and labels and buttons inside the popover all get destroyed instantly
Sep 19 09:38:37 <Company>	it's just the popover widget that is special
Sep 19 09:39:27 <csoriano____>	Company: currently yes, but let jimmac design a destroy of that popover and I'm pretty sure it would have something moving :)
Sep 19 09:39:58 <Company>	still, i don't expect labels to ever require destroy animations
Sep 19 09:40:08 <csoriano____>	in any case, my point is that I think we should assume animations, because no animations can be a special case with time 0.
Sep 19 09:40:20 <baedert>	but set_label animations!
Sep 19 09:40:25 <csoriano____>	yep
Sep 19 09:40:33 <csoriano____>	I think we don't use animation much now because on how hard it is
Sep 19 09:40:38 <csoriano____>	not because they are not supossed to
Sep 19 09:40:41 <jimmac>	DESTROOOY!
Sep 19 09:40:44 <ebassi>	baedert: Tweenet.js is crap, and in general random tweeners that can operate on random objects are crap
Sep 19 09:41:21 <Company>	(important side note: Clutter contained random tweeners that can operate on random objects)
Sep 19 09:41:28 <ebassi>	Yep
Sep 19 09:41:40 <muhannad__>	ebassi: let say I started develping an app with EDE, and that app is for GNOME Project, is it fine for GNOME app to use EDE ? 
Sep 19 09:41:43 <csoriano____>	ebassi: I guess your proposal would be implicit animations right?
Sep 19 09:42:23 <ebassi>	csoriano____: Implicit animations are fine because, in general, you want to a have a predictable, explicit subset of animatable properties
Sep 19 09:42:41 <ebassi>	csoriano____: Not any random property, depending on its storage type
Sep 19 09:42:52 <csoriano____>	right
Sep 19 09:43:00 <Company>	CSS animations are different than hide/show, too
Sep 19 09:43:05 <csoriano____>	yeah...
Sep 19 09:43:21 <Company>	because they just change a CSS property not the availability of an object
Sep 19 09:43:30 <Company>	which is why hide/show is so complicated
Sep 19 09:43:31 <ebassi>	muhannad__: You can use whatever; if it makes it hard to other people to contribute to your project, you'll either not have any contribution, or you'll get some contribution that removes the EDE stuff and just uses autotools.
Sep 19 09:43:53 <Company>	you call hide() and then you want the thing to be gone - but it isn't, it's still animating
Sep 19 09:43:54 <ebassi>	muhannad__: Remember that there aren't "GNOME projects": only projects hosted on git.gnome.org.
Sep 19 09:44:03 <Company>	it's the same problem when switching in GtKStack
Sep 19 09:44:22 <Company>	while you're transitioning the page, the old one isn't gone
Sep 19 09:44:26 <Company>	and the new one isn't there really
Sep 19 09:44:49 <muhannad__>	ebassi: aha, Okay thank you 
Sep 19 09:46:59 <ebassi>	And that's why you cannot "animate" show()/hide()/destroy(), but you have to animate some logical operation — "add this row", "close this popover".
Sep 19 09:47:15 <csoriano____>	hm...
Sep 19 09:47:17 <ebassi>	Obviously, that gets complicated when you have immediate-mode API and animation API
Sep 19 09:47:32 *	baedert mostly ends up with every single row containing a revealer that contains a stack
Sep 19 09:47:50 <csoriano____>	baedert: exactly :/
Sep 19 09:47:53 <ebassi>	Unless we decide to do implicit animations for everything, and you don't get to mess with it, except set the animation time to 0.
Sep 19 09:48:23 <csoriano____>	ebassi: however we want to animate the hiding of widgets as well
Sep 19 09:48:55 <csoriano____>	I mean, after all, close this popover, remove this row etc are just hide() destroy()
Sep 19 09:48:56 <Company>	how do you animate the hiding of widgets when the size of those widgets influences the layout?
Sep 19 09:49:11 <ebassi>	csoriano____: No, they aren't
Sep 19 09:49:28 <ebassi>	csoriano____: They will eventually lead to those functions being called, *maybe*
Sep 19 09:49:36 <ebassi>	csoriano____: But they are fundamentally different operations
Sep 19 09:50:00 <ebassi>	Which is why you think you wrongly think you need to animate hide() and destroy()
Sep 19 09:51:28 <csoriano____>	ebassi: I understand they are fundamentally different. Invariants rely on those. But I'm thinking that it would be much more convenient if they are the same and could have some tristate, hide, hiding, hided or so.
Sep 19 09:51:31 <ebassi>	remove_row() → create a transition → run the transition → *maybe* call destroy() if the transition wasn't cancelled
Sep 19 09:52:07 <csoriano____>	hm
Sep 19 09:52:16 <ebassi>	csoriano____: You cannot generalize from first principles at a lower level in the stack, because GTK+ does not know enough about what you think you should do
Sep 19 09:52:28 <csoriano____>	ok I see your point
Sep 19 09:53:02 <baedert>	we could totally do a future api for that
Sep 19 09:53:09 <baedert>	widget.hide.and_then(destroy)
Sep 19 09:53:12 <baedert>	:>
Sep 19 09:53:18 <Company>	baedert: we could
Sep 19 09:53:31 <Company>	baedert: but I suspect it's not worth it
Sep 19 09:53:41 <ebassi>	widget.fade(0).and_then().hide().and_then().destroy()
Sep 19 09:54:00 <ebassi>	Would be fun :-)
Sep 19 09:54:14 <baedert>	get yourself a language that doesn't need parens for functions without arguments!
Sep 19 09:54:17 <Company>	baedert: when adding a vbox to an hbox, i don't want to think about the animation that is going to run
Sep 19 09:54:33 *	csoriano____ sees baedert excited with D
Sep 19 09:54:34 <Company>	baedert: nor do i want to think about show() animations when working on GtkBuilder
Sep 19 09:55:05 <Company>	baedert: can I have one that uses spaces instead of dots, too?
Sep 19 09:55:19 <baedert>	of course!
Sep 19 09:55:45 <csoriano____>	ebassi: I'm not sure how to solve the "animate a widget inside a hierarchy when we hide the parent" apart of creating a specific function for that along the whole hierarchy
Sep 19 09:55:46 <rtcm>	csoriano____: careful with double meanings :-)
Sep 19 09:55:49 <Company>	i hope that language can deal with excess spaces at end of lines
Sep 19 09:55:54 <csoriano____>	rtcm: haha
Sep 19 09:56:06 <ebassi>	csoriano____: That's precisely how you'd end up solving it
Sep 19 09:56:16 <baedert>	Company: no, it errors out on trailing whitespace and any tab character
Sep 19 09:56:27 <csoriano____>	ebassi: :(
Sep 19 09:56:39 <ebassi>	csoriano____: Otherwise you need to do what Apple does, and only provide implicit animations for widgets they control, not for out of tree widgets
Sep 19 09:56:45 <Company>	baedert: alex will never be able to code in it then
Sep 19 09:57:37 <baedert>	ebassi: could we do what GtkRevealer does by using a special rendernode that just clips its contents away? (or could every node just do that so GtkRevealer isn't even needed anymore?)
Sep 19 09:57:51 <baedert>	Company: neither will tristan
Sep 19 09:58:42 <Company>	baedert: overflow: hidden?
Sep 19 09:59:13 <ebassi>	baedert: Clipping is implicit because you're rendering on a texture, and anything outside of the bounds is not rendered; if you mean "clipping children nodes" then it gets a bit more complicated, but fundamentally doable
Sep 19 10:00:06 <Company>	the problem is sizing more than rendering
Sep 19 10:00:46 <Company>	because get_preferred_size() needs to do the right thing while an animation is running
Sep 19 10:01:04 <Company>	including queue_resize() calls when the size changed
Sep 19 10:01:52 <ebassi>	Right; down that road lie concepts like having a "presentation" object, which contains the state needed to be drawn, and a "model" object that contains the final state
Sep 19 10:03:08 <Company>	i've not yet understood why that seperation is a good idea
Sep 19 10:03:24 <Company>	it blows up the code of browser engines so much
Sep 19 10:04:02 <baedert>	I've thought about somehow separating the widget from its layout because of the queue_resize in size-allocate problem
Sep 19 10:05:03 <Company>	that problem won't go away though
Sep 19 10:05:17 <Company>	it might become more obvious though
Sep 19 10:06:09 <baedert>	we can just add another g_warning, they are popular
Sep 19 10:06:26 <csoriano____>	baedert: and disable it before a release :)
Sep 19 10:07:23 <Company>	csoriano____: to be fair, that warning is new
Sep 19 10:07:32 <Company>	csoriano____: while the problem has successfully been ignored for 20 years
Sep 19 10:08:57 <ebassi>	Company: It does blow up all the code, indeed; also, it blows up application code because now you get to ask the presentation object to know if a pointer event falls into the widget or not, since you have screen coordinates to test.
Sep 19 10:09:31 <ebassi>	So now all your event handling code has to do: if (widget.presentation.hit_test()) { ... }
Sep 19 10:10:16 <Company>	so why did they do it?
Sep 19 10:10:27 <Company>	it has to have some advantage
Sep 19 10:10:54 <csoriano____>	ebassi: maybe I would be happy with a explicit animate_hide in gtk_widget, that doesn't assure hide() is called, but a cancelled signal is emitted if that happens or so. That will allow subclasses to do their own animation for hiding etc along the hierarchy
Sep 19 10:11:01 <ebassi>	Because the other way to do it is to return different values depending on whether your widget is inside an event handling phase, a rendering phase, or a layout phase
Sep 19 10:12:03 <ebassi>	And that is, apparently, even more confusing
Sep 19 10:14:11 <ebassi>	So, the presentation object is a read-only object that contains the state of the widget as it was when it was painted, and it gets atomically swapped out after the rendering is complete, so you always get a valid state; and the model object always contains the state of the object at the end of all transitions currently in flight
Sep 19 10:14:33 <ebassi>	I honestly haven't seen any other way of doing this in equivalent stacks
Sep 19 10:15:03 <ebassi>	Maybe there are other ways to do it, I don't know
Sep 19 11:21:41 <coolkid87>	Is corner clipping for CSS border-radius property with GtkImage element working ?
Sep 19 11:21:51 <baedert>	no
Sep 19 11:22:33 <coolkid87>	So I guess cairo clip manually is the only way to do it?
Sep 19 11:23:52 <coolkid87>	Wonder why it is disabled by default :O
Sep 19 11:35:52 <coolkid87>	If the image is set as background image of a frame/box, then the clipping works
Sep 19 11:36:52 <ebassi>	The image data is not subject to CSS rules
Sep 19 11:37:15 <ebassi>	If you set it as a background then it becomes a CSS background
Sep 19 11:37:45 <Company>	coolkid87: it's disabled by default because of performance
Sep 19 11:38:08 <Company>	coolkid87: corner clipping makes everything in Cairo slower by a factor of 100-1000
Sep 19 11:38:47 <Company>	(and no, that number is not an exaggeration)
Sep 19 11:39:37 <coolkid87>	Okay :) Then I'll have to make a subclass of it and override render-frame probably for any specific use 
Sep 19 11:40:13 <Company>	coolkid87: i wouldn't object to a patch that implements it for GtkImage
Sep 19 11:40:44 <Company>	though then it'd still fail if you had a rounded button corner containing an image
Sep 19 11:42:23 <coolkid87>	Okay, yes, that's right, the information has to be passed from parent to child ... making it more slow I guess
Sep 19 11:42:38 <Company>	yeah
Sep 19 11:42:42 <Company>	well
Sep 19 11:42:52 <Company>	it's also the way how cairo handles clipping
Sep 19 11:43:21 <Company>	it doesn't work with CSS backgrounds either: if you border-radius the parent and add a background to the child, it will still overdraw
Sep 19 11:43:58 <Company>	we only have code that looks at the current widget's border-radius
Sep 19 11:44:21 <Company>	which is what you want in 99% of cases
Sep 19 11:44:48 <Company>	in 99% of background-drawing cases
Sep 19 11:45:11 <Company>	ebassi: have you spent time thinking of how to do border-radius clipping in GSK?
Sep 19 11:45:21 <coolkid87>	Yes, that problem can sometimes be avoided by manually setting child widget radius from css child selectors i think
Sep 19 11:46:06 <Company>	i actually don't even know if children get clipped
Sep 19 11:46:08 *	Company tries
Sep 19 11:47:28 <Company>	actually, it's not
Sep 19 11:48:46 <coolkid87>	Yes I saw. Trying to make an overlay toolbar which clips according to its parent frame
Sep 19 11:49:15 <coolkid87>	but it did not clip
Sep 19 11:51:31 <coolkid87>	:) Is GSK maintained in a different repository than Gtk+ ? 
Sep 19 11:51:53 <Company>	coolkid87: GSK is the future of GTK
Sep 19 11:52:05 <Company>	https://jsfiddle.net/LzywLh30/
Sep 19 11:52:15 <Company>	so apparently border-radius does not clip contents in any way
Sep 19 11:52:16 <coolkid87>	yes I read his blog 
Sep 19 11:52:43 <Company>	https://jsfiddle.net/LzywLh30/1/
Sep 19 11:52:53 <Company>	it does clip <img> though
Sep 19 11:53:23 <Company>	I could be convinced to add that to GtkImage
Sep 19 11:54:08 <coolkid87>	For a minute there I thought I've to go through CSS rules again 
Sep 19 11:54:28 <nacho_>	mclasen_afk, hey, missing tag for glib?
Sep 19 11:57:48 <Company>	coolkid87: if you wanna write a patch, adding gtk_render_content_path(); cairo_clip() to gtk_iconhelper_draw() should be enough
Sep 19 11:58:16 <Company>	coolkid87: well, and you need to change gtk_render_content_path() to take a GtkCssStyle argument  instead of a GtkStyleContext
Sep 19 11:58:23 <ebassi>	Company: Shaped clipping means using the stencil buffer
Sep 19 11:58:34 <ebassi>	Company: Which may or may not have great results
Sep 19 11:59:53 <coolkid87>	Okay, if cairo's clip is used and then passed as texture with blend on?
Sep 19 12:00:14 <coolkid87>	too much slow I guess
Sep 19 12:00:20 <Company>	yeah
Sep 19 12:00:28 <Company>	that's the fallback solution in cairo
Sep 19 12:00:56 <coolkid87>	Oh
Sep 19 12:01:00 <Company>	if the clip is a pixel-aligned region, it will compose the clip with the regular path
Sep 19 12:01:40 <Company>	*if the clip is a pixel-aligned region and the operator is constrained by the path
Sep 19 12:02:04 <coolkid87>	okay
Sep 19 12:02:14 <Company>	which is the 100-1000x speedup
Sep 19 12:02:27 <Company>	not having to create that clip texture and blend it
Sep 19 12:03:41 <Company>	i love lapo
Sep 19 12:03:52 <Company>	chartreuse, tomato and rebeccapurple are awesome colors
Sep 19 12:04:09 <Company>	they have crazy names, are very distinct and work really well together
Sep 19 12:04:17 <Company>	so they're excellent choices for writing testcases
Sep 19 12:11:03 <coolkid87>	Company: children has to specify overflow property as hidden to clip according to parent border
Sep 19 12:11:17 <coolkid87>	https://jsfiddle.net/LzywLh30/
Sep 19 12:11:34 <Company>	oh right, overflow
Sep 19 12:12:13 <Company>	is overflow hidden on <img> elements by default?
Sep 19 12:13:08 <Company>	nope
Sep 19 12:13:14 <coolkid87>	Did you directly applied border-radius on <img>?
Sep 19 12:13:15 <Company>	<img> elements seem to always clip
Sep 19 12:13:36 <Company>	coolkid87: in the 2nd test
Sep 19 12:13:46 <Company>	coolkid87: https://jsfiddle.net/LzywLh30/1/
Sep 19 12:15:18 <coolkid87>	Yes, <img> element itself have border-radius and not as children of div
Sep 19 12:15:46 <coolkid87>	Probably that's why it's clipped
Sep 19 12:15:54 <coolkid87>	in the 2nd test
Sep 19 12:15:56 <Company>	even with voerflow: visible!
Sep 19 12:16:46 <coolkid87>	yes, overflow would clip according to parent, but border-radius clip the element itself
Sep 19 12:17:24 <coolkid87>	in 1st test case image is not clipped because it didn't have border radius itself
Sep 19 12:17:37 <Company>	right
Sep 19 12:18:35 <coolkid87>	But overflow is not a valid gtk CSS property, probably
Sep 19 12:18:42 <coolkid87>	Gtk*
Sep 19 12:19:02 <Company>	it isn't, no
Sep 19 12:19:47 <Company>	but overflow doesn't matter: images always get clipped
Sep 19 12:20:35 <coolkid87>	Yes, that's if they have border-radius directly, and in Gtk+ it's a deviation(?) from CSS
Sep 19 12:20:42 <coolkid87>	I guess
Sep 19 12:22:06 <coolkid87>	Oh but ebassi said it's because Image data is not subject to CSS
Sep 19 12:24:02 <Company>	seems it is
Sep 19 12:46:40 <coolkid87>	Company: Is gtk_render_content_path() private function? I'm asking because I don't see it outside gtkrender.c?
Sep 19 12:46:52 <Company>	it's private, yes
Sep 19 12:46:54 <Company>	gtkrenderprivate.h
Sep 19 12:47:36 <coolkid87>	Oh, okay, now I understand why you mentioned "if you wanna write a patch..."
Sep 19 12:48:48 <Company>	yeah, you can't do it externally
Sep 19 12:49:04 <Company>	because you can't even query border-radius properly with public API
Sep 19 12:50:58 <coolkid87>	Well, probably it'd be my first patch, because I've only coded with the public API yet.
Sep 19 13:16:58 <mclasen>	nacho_: thanks, fixed
Sep 19 13:17:18 <nacho_>	np
Sep 19 13:34:47 <ofourdan>	mclasen: so I can push right away? no "wait afer freeze" or anything?
Sep 19 13:57:36 <Company>	so question i started wondering about yesterday
Sep 19 13:58:18 <Company>	if GTK 4 was the perfect toolkit, what would be the biggest difference between it and GTK 3?
Sep 19 13:59:06 <Company>	and i'm talking features, obviously it would be bugfree, ultrafast, fully documented even though it's self-explaining and have super-friendly developers
Sep 19 14:04:18 <tpm>	it'd come with a gstreamer widget, obviously ;)
Sep 19 14:06:37 <Company>	<object type="GtkImage" filename="https://gstreamer.freedesktop.org/data/images/artwork/gstreamer-logo.png" />
Sep 19 14:08:08 <Company>	i am totally a fan of that
Sep 19 14:08:18 <Company>	a widget and an audio playback object
Sep 19 14:11:05 <feaneron>	GNOME 4 will be able to handle voice dialogs
Sep 19 14:12:33 <feaneron>	and GtkEntry will receive input from speech
Sep 19 14:13:50 *	feaneron throws the crumbs
Sep 19 14:15:46 <Company>	"please enter your password"
Sep 19 14:16:08 <Company>	"Sorry, I did not understand. Were you whispering?"
Sep 19 14:17:05 <Company>	I wonder if you'd implement speech as a seperate interface or if you'd just make it be an extension to the keyboard
Sep 19 14:17:21 <feaneron>	people will learn about it when it comes the time
Sep 19 14:18:12 <feaneron>	but it's not a keyboard extension
Sep 19 14:18:26 <Company>	which means you also need a different output
Sep 19 14:18:41 <Company>	ie widgets need to not just render to the screen but also talk to you
Sep 19 14:18:53 <feaneron>	which will be possible as well
Sep 19 14:19:16 <feaneron>	another crumb: s/will/already is/
Sep 19 14:19:22 <Company>	gtk_widget_grab_voice()
Sep 19 14:19:50 <feaneron>	support is optional and will depend on Gtk+ devs
Sep 19 14:20:00 <Company>	ugh
Sep 19 14:20:02 <feaneron>	it's all exposed through DBus
Sep 19 14:20:20 <csoriano>	are we dfining gtk4?
Sep 19 14:20:25 <Company>	"optional" is always equivalent to "usually does not work"
Sep 19 14:20:53 <coolkid87>	:D
Sep 19 14:21:03 <djb>	behold.... the future... GtkFooterBar
Sep 19 14:21:15 <feaneron>	obviously, I'll integrate it in Gtk+ - if anyone is willing to have it in the toolkit itself
Sep 19 14:21:23 <Company>	djb: GTK1 had that as a very prominent thing
Sep 19 14:21:30 <Company>	djb: we called it GtkStatusbar though
Sep 19 14:21:36 <djb>	it's how GTK+4 will sneak back in the hundreds and hundreds of toolbar and menu items people miss so much :P
Sep 19 14:21:57 <Company>	feaneron: if i can tell GTK what i want to do and gtk does what i tell it to, i want that in gtk
Sep 19 14:22:13 <Company>	feaneron: we can then get rid of the UI
Sep 19 14:22:15 <djb>	lol yeah, the other widget where people dump other widgets they can't find a real place for
Sep 19 14:22:30 <feaneron>	so we have a deal
Sep 19 14:22:46 <djb>	see, this is what i'm always saying: why can't computers just read my mind and do my bidding
Sep 19 14:22:51 <djb>	there's no way this could possibly go wrong
Sep 19 14:23:06 <djb>	we don't even need a voice interface, just use GtkMindProbe
Sep 19 14:23:18 <Company>	feaneron: but if your voice stuff works like https://www.youtube.com/watch?v=hShY6xZWVGE i'm not gonna be a fan
Sep 19 14:23:48 <Company>	djb: should it read your subconscious or your conscious mind?
Sep 19 14:24:03 <djb>	I'd ask for an option for both, but... :D
Sep 19 14:24:33 *	feaneron imagines GtkMindSanityzer
Sep 19 14:24:44 <grim>	djb: i think that'd be better off in GIO :)
Sep 19 14:25:10 <djb>	feaneron: ah yes, the much delayed GtkNeuralyser
Sep 19 14:25:30 <Company>	totem mind://djb/subconscious
Sep 19 14:25:40 <feaneron>	GMindFactory
Sep 19 14:26:06 <djb>	Company: gonna need subtitles for that one
Sep 19 14:26:35 *	feaneron finally foresees how he'll be able to create clones of himself and perpetrate his mind
Sep 19 14:26:36 *	benzea wonders whether Gtk+ 4 will have gtk_back_to_the_future finally
Sep 19 14:26:37 <Company>	we can hook those up to feaneron's speech stuff, so no problem
Sep 19 14:26:53 <coolkid87>	I added some border to a Gtk::Image from CSS provider and from its draw signal handler called Gtk::StyleContext::get_style_property_value for GTK_STYLE_PROPERTY_BORDER_WIDTH, but it warns as "widget class 'gtkmm__GtkImage' has no style property named 'border-width'" upon execution
Sep 19 14:26:59 <djb>	It's all coming together
Sep 19 14:27:31 <Company>	coolkid87: that's because there's a difference between css properties and style properties
Sep 19 14:27:36 <djb>	benzea: GtkFluxCapacitor::property-jiggawatts
Sep 19 14:28:32 <coolkid87>	okay, the macro is meant for different query function?
Sep 19 14:28:35 <feaneron>	i remember we have an open bug for that, don't we?
Sep 19 14:29:03 <Company>	coolkid87: yes
Sep 19 14:29:09 <Company>	coolkid87: all of them are deprecated, too
Sep 19 14:29:28 <coolkid87>	oops
Sep 19 14:30:11 <feaneron>	ah, found it
Sep 19 14:30:15 <feaneron>	bug 171940
Sep 19 14:30:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=171940 .General, enhancement, gtk-bugs, REOPENED , Add a time machine to GTK+
Sep 19 14:30:27 <coolkid87>	:D
Sep 19 14:31:27 <feaneron>	mclasen opened that bug 11 years ago, and it's still there
Sep 19 14:31:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=11 was not found.
Sep 19 14:31:44 <feaneron>	shut up, bugbot: 
Sep 19 14:33:06 <djb>	He's actually fixed it in the future, but that meant he ended up in an unreachable parallel universe
Sep 19 14:33:18 <djb>	and he took GTK+4 with him
Sep 19 14:34:55 <djb>	GTK+5 was released in 1992, solely for CP/M 48.0
Sep 19 14:36:28 <feaneron>	the only one that can confirm that is mclasen himself
Sep 19 14:39:27 <coolkid87>	The `gtk_style_context_get_property ()` docs say "GTK+ defines macros for a number of properties that can be used with this function." I assumed that macro is for this function
Sep 19 14:39:51 <Company>	feaneron: the mclasen from this timeline or the one from another timeline?
Sep 19 14:40:08 <feaneron>	the one that we'll never be able to reach :)
Sep 19 14:43:30 <djb>	hergertme: I'm giving Builder a go - great stuff - just wondering what i'm doing wrong as the gtkmm docs show up in the sidebar but don't load (e.g. if it's the 1st doc i open, i get a blank screen, or if i've viewed something else previously, that stays on the screen). I've got the docs installed locally but presumably something's getting in the way - any ideas?
Sep 19 14:44:53 <coolkid87>	GTK_STYLE_PROPERTY_BORDER_WIDTH is defined a "border-width" which is a CSS property. Am I viewing deprecated functions and macros? 
Sep 19 14:45:21 <coolkid87>	Because it has style-property in its name but defined as CSS property
Sep 19 14:46:25 <hergertme>	djb: hrmm, we just hook into devhelp a couple places, so not sure what we would be doing wrong
Sep 19 14:46:48 <djb>	hergertme: i'll check if it works there
Sep 19 14:47:21 <djb>	hmm, on 1st double click i get "Error opening the requested link", then nothing on subsequent tries
Sep 19 14:47:44 <djb>	so it's the same there (except the message) - the tree is shown, but the docs can't be loaded
Sep 19 14:48:22 <hergertme>	maybe its a bug in generating the gtk-doc or something then?
Sep 19 14:48:34 <djb>	btw, i'm guessing someone's mentioned the rounded window corners in fullscreen mode :P
Sep 19 14:48:44 <djb>	afaik that's a common thing with custom styles
Sep 19 14:48:51 <djb>	(doesn't bother me at all really)
Sep 19 14:49:13 <hergertme>	we don't have a fullscreen mode in Builder yet?
Sep 19 14:49:23 <djb>	oh sorry, i just meant maximised
Sep 19 14:49:30 <djb>	liking the "yet" though :D
Sep 19 14:50:19 <djb>	reinstalling the docs with apt made no difference :/
Sep 19 14:50:54 <hergertme>	years ago i did a hack to do "distraction free mode" for gtksourceview, and gedit has something like that now. it will look something like that eventually.
Sep 19 14:51:09 <djb>	possibly related: https://bugs.launchpad.net/ubuntu/+source/gtkmm3.0/+bug/886705
Sep 19 14:51:18 <djb>	^cool!
Sep 19 14:51:56 <hergertme>	ugh fun
Sep 19 14:52:10 <hergertme>	we need to come up with a way for devhelp to look at other directories eventually so that we can integrate with flatpak runtimes
Sep 19 14:52:20 <hergertme>	that way we can get the docs for a particular SDK
Sep 19 14:52:50 <Company>	coolkid87: what are you trying to do?
Sep 19 14:53:11 <djb>	hergertme: are the window corners something to bug lapo about? trivial but will probably keep popping back up as a consistency thing (i probably sound like they really offend me, but they don't, honest -haha)
Sep 19 14:53:58 <coolkid87>	Company: query the border width with StyleContext::get_propety
Sep 19 14:54:46 <hergertme>	djb: im not sure what is causing it, but possibly just because we have GtkStack with GtkHeaderBar in it?
Sep 19 14:55:17 <coolkid87>	Company: is that function deprecated ?
Sep 19 14:55:44 <coolkid87>	gtk_style_context_get_property()
Sep 19 14:55:48 <Company>	coolkid87: nobody would ever do that
Sep 19 14:55:58 <Company>	coolkid87: so I'm wondering what you find so appealing about it
Sep 19 14:57:21 <coolkid87>	okay, I'm trying to query the border parameters, so I can clip the image
Sep 19 14:57:42 <mclasen>	ofourdan: please do, or I will when I push the release
Sep 19 14:57:46 <Company>	coolkid87: inside GTK or outside GTK?
Sep 19 14:58:05 <Company>	ie using private API or using public API
Sep 19 14:58:18 <coolkid87>	The public API
Sep 19 14:58:24 <djb>	hergertme: yeah, it's probably to do with the css hierarchy
Sep 19 14:58:49 <baedert>	gtk_style_context_get should do that, no?
Sep 19 14:58:59 <djb>	hergertme: i can't recall whether the default rule is permissive of lots of different permutations of widgets, but i've seen a couple programs that it misses, so i'm guessing not very
Sep 19 14:59:07 <Company>	coolkid87: with public API you'd use gtk_style_context_get_margin/border/padding()
Sep 19 15:00:51 <Company>	coolkid87: but public API only gives you one value for border-radius (via gtk_style_context_get("border-radius", &some_int)) that is I think the horizontal part of top-left-border-radius assuming 100px width for a percentage
Sep 19 15:01:18 <Company>	coolkid87: TL;DR: Don't do that, there's only pain that way
Sep 19 15:02:03 <coolkid87>	okay :D
Sep 19 15:02:35 <Company>	all the magic that css can do is in private APIs
Sep 19 15:02:35 <coolkid87>	that function and macro looked right
Sep 19 15:02:53 <Company>	it might have been right in GTK3.0
Sep 19 15:03:14 <Company>	back when GTK's CSS support was still - let's say it nicely - rudimentary
Sep 19 15:03:19 <Black_Prince>	Can someone please tag g-i for 3.22, so I can start building right away :D it's the second package I usually install when building gnome stack (glib is first, obviously) kthx
Sep 19 15:03:54 <Black_Prince>	ha, how to trigger a whole country
Sep 19 15:03:56 <Black_Prince>	* Translation updates:
Sep 19 15:03:56 <Black_Prince>	  - British English
Sep 19 15:11:05 <djb>	hergertme: have poked the mailing list about the nonfunctional gtkmm/glibmm docs, fwiw. not sure if it's just me that has this problem
Sep 19 15:12:07 <djb>	(the gtkmm list, that is)
Sep 19 15:13:35 <mclasen>	Company: halfline pointed this out: http://blog.ometer.com/2016/09/17/layout-apis-dont-have-to-be-terrible-lessons-from-bokeh/
Sep 19 15:13:43 <hergertme>	would be good to know if its upstream or distro issue with docs
Sep 19 15:16:54 <djb>	yeah for sure
Sep 19 15:18:36 <Company>	mclasen: hrm
Sep 19 15:19:01 <Company>	mclasen: I can see that working for a bunch of plots, but not for apps or websites in general
Sep 19 15:19:57 <mclasen>	not saying its a generic solution, but it is a good read
Sep 19 15:20:46 <Company>	also, i have too little knowledge about design to give useful input
Sep 19 15:21:52 <Company>	and constraints system have this tendency to be magic
Sep 19 15:21:57 <djb>	SizeGroup ftw, that's the most I'm qualified to say
Sep 19 15:22:11 <Company>	and when they don't work everybody just scratches their head and pokes around until it usually doesn't break too much
Sep 19 15:22:24 <Company>	djb: size group is a disaster
Sep 19 15:22:47 <djb>	i seem to like everything you hate
Sep 19 15:22:56 <coolkid87>	:D
Sep 19 15:23:28 <Company>	djb: size groups look nice on the outside
Sep 19 15:23:43 <Company>	djb: but they break once you start thinking too much about them
Sep 19 15:24:02 <Company>	djb: for example size groups don't make sure stuff is the same size, they just make sure stuff requests the same size
Sep 19 15:24:18 <djb>	yeah probably, (thankfully) i've only ever needed them for bog-standard stuff, where (perhaps by sheer luck!) they seemed to work fine
Sep 19 15:25:06 <Company>	the obvious example is this one:
Sep 19 15:25:19 <Company>	take a GtkPaned, put a label saying "Hello World" on each side
Sep 19 15:25:42 <bugbot>	ofourdan@redhat.com changed the Status on bug 771561 from NEW --- to RESOLVED FIXED.
Sep 19 15:25:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771561 Backend: Wayland, major, gtk-bugs, RESOLVED FIXED, Epiphany application mode on Wayland broken with WebKit 2.13.92
Sep 19 15:25:43 <Company>	here's the goal: make them either wrap both or neither
Sep 19 15:26:05 <Company>	ie if you move the handle of the paned too far to the left, the left label wraps, but the right one doesn't
Sep 19 15:26:08 <Company>	and vice versa
Sep 19 15:26:11 <ofourdan>	mclasen, done, thanks!
Sep 19 15:26:18 <Company>	i want them both to wrap when one of them does
Sep 19 15:26:27 *	ofourdan <= on his way to xdc2016
Sep 19 15:26:33 <Company>	everybody would say "I know! That's a job for size groups!"
Sep 19 15:26:59 <ofourdan>	(well, tomorrow morning, now... ZzZz)
Sep 19 15:27:25 <Company>	of course, size groups have nothing at all to do with that job
Sep 19 15:27:47 <Company>	(I think you can't solve that problem with GTK at all in fact)
Sep 19 15:28:14 <djb>	Company: because SizeGroup can't force a downsize, right?
Sep 19 15:28:38 <Company>	yes
Sep 19 15:28:42 <djb>	yeah, i was trying to think of ways you could do that, and none came to mind (that weren't abominable hacks deserving of infinite scorn and derision)
Sep 19 15:29:21 <Company>	and then there's the thing that we allow size groups to work for only one dimension
Sep 19 15:29:26 <djb>	to be fair i wouldn't have thought of SizeGroup for that job, as i understood it was about requests, not requirements :D
Sep 19 15:29:58 <Company>	via GTK_SIZE_GROUP_HORIZONTAL
Sep 19 15:30:03 <Company>	for example
Sep 19 15:30:19 <Company>	but if you use that, things go completely haywire
Sep 19 15:30:37 <Company>	actually, let's use a vertical-only size group as an example
Sep 19 15:30:43 <Company>	again, 2 labels
Sep 19 15:30:55 <Company>	"Hi" and "Hello\nWorld"
Sep 19 15:31:10 <Company>	the first one being 2x1 chars, the other 5x2
Sep 19 15:31:26 <Company>	now we query the width of the first label => 2 chars
Sep 19 15:31:44 <Company>	then we query the height for width
Sep 19 15:32:14 <Company>	dear 2nd label that needs to be at least 5 chars wide, what is your height request for 2 chars?
Sep 19 15:32:45 *	djb feels like Company should have a vlog series where he methodically denounces his most disliked GTK+ antipatterns
Sep 19 15:32:54 <Company>	is it (a) 2 rows, (b) undefined, (c) SEGV or (d) what kind of stupid question is this?
Sep 19 15:33:04 <djb>	haha yup
Sep 19 15:33:43 <Company>	the correct answer of course is (d)
Sep 19 15:33:44 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Mon Sep 19 15:33:44 2016

**** BEGIN LOGGING AT Mon Sep 19 16:09:17 2016

Sep 19 16:09:17 *	Now talking on #gtk+
Sep 19 16:09:17 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 19 16:09:17 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 19 16:09:33 <djb>	in Dark the with-marks/pointed buttons almost look insensitive. i recall lapo saying this was something he knew about and would do "later in the cycle", fwiw :D
Sep 19 16:10:20 <jimmac>	right, the circles are css styled, the pointy ones are svg
Sep 19 16:11:16 <djb>	ahh yep, i think he mentioned that was the reason
Sep 19 16:11:54 <jimmac>	alright, you've reached out in the best of times
Sep 19 16:11:56 *	jimmac dives in
Sep 19 16:12:10 <djb>	jimmac: oh great, thanks a ton!
Sep 19 16:12:31 <djb>	must be a rainy day where you are :D
Sep 19 16:49:36 <djb>	\o/ https://git.gnome.org/browse/gtk+/commit/?id=d8776ae7564f3f1821895d7b4e13f32e2786dec5
Sep 19 17:35:33 <dv_>	hi
Sep 19 17:36:57 <dv_>	I want to integrate the agent++ library with a glib mainloop. I will apparently have to run the agent++ processing in its own loop in a separate thread. see this part of an example code starting at line 192: https://github.com/hoxnox/snmp-agent-example/blob/master/src/snmp-agent.cpp#L192
Sep 19 17:37:45 <dv_>	what I'd like to know is if it is somehow possible to send notifications from another thread to a mainloop, so that something that is attached to the mainloop is notified
Sep 19 17:37:57 <dv_>	this way, the message is processed in the mainloop's thread
Sep 19 17:38:17 <dv_>	I guess I need some form of gsource ... but I am unsure which one
Sep 19 17:38:57 <benzea>	why not just use g_idle_add?
Sep 19 17:39:53 <feaneron>	maybe replacing the custom "while (events) pool();" with GMainLoop ?
Sep 19 17:40:27 <dv_>	the problem is the reqList.receive() call, which is blocking
Sep 19 17:40:35 <dv_>	benzea: yeah, that might work
Sep 19 17:41:54 <benzea>	dv_: i think it is thread safe
**** BEGIN LOGGING AT Tue Sep 20 10:25:30 2016

Sep 20 10:25:30 *	Now talking on #gtk+
Sep 20 10:25:30 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 20 10:25:30 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 20 13:29:04 <bagage>	is help overlay (https://wiki.gnome.org/Initiatives/GnomeGoals/ShortcutWindows) UI file manually written? It seems that glade does not support it, is there any other way to write it not manually?
Sep 20 13:37:45 <bitlord>	probably not place to ask but maybe you can help with pointing me into right direction. I'm trying to build latest liferea code (could related to gnome/gtk+/glib?)  http://paste.fedoraproject.org/431600/92971147/raw/    example: auth.c:30: Error: Liferea: Skipping invalid GTK-Doc comment block     a lot of lines like this
Sep 20 13:38:29 <bitlord>	I'm on fedora 24 so gnome/gtk 3.21.x, code builds fine on older system with gnome/gtk 3.20.x 
Sep 20 13:41:26 <baedert>	bagage: no, you have to write it manually
Sep 20 14:13:37 <baedert>	mclasen: hey, the allocation warning still shows up everyhere since G_ENABLE_DEBUG is on by default anyway... want to change that to a G_ENABLE_CONSISTENCY_CHECKS?
Sep 20 14:15:14 <mclasen>	is that something that exists ? or a new define ?
Sep 20 14:15:28 <baedert>	it exists already
Sep 20 14:22:01 <mclasen>	hmm
Sep 20 14:22:08 <mclasen>	but is anything actually using this ?
Sep 20 14:23:02 <baedert>	the pop_variants/push_variants stuff in gtkwidget.c is
Sep 20 14:23:11 <baedert>	I've only ever seen it in gtkwidget.c
Sep 20 14:24:35 <mclasen>	so this is set only when --enable-debug=yes
Sep 20 14:24:38 <mclasen>	seems fine then
Sep 20 14:37:03 <bagage>	thanks baedert, too bad!
Sep 20 14:37:25 <baedert>	Where the heck does GDK_COLORSPACE_* even come from?!
Sep 20 14:44:41 <baedert>	.... GdkPixbuf
Sep 20 14:45:02 <mclasen>	baedert: gdk-pixbuf ?
Sep 20 14:47:34 <baedert>	mclasen: yeah I saw
Sep 20 14:47:45 <baedert>	the gtktypefuncs.c stuff is crazy
Sep 20 14:48:22 <Black_Prince>	anyone knows what provides GEpub gir bindings?
Sep 20 14:49:09 <Black_Prince>	found it http://ftp.acc.umu.se/pub/gnome/sources/libgepub/
Sep 20 15:14:21 <bugbot>	New gtk+ bug 771739 filed by josh@joshtriplett.org.
Sep 20 15:14:21 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771739 .General, major, gtk-bugs, NEW , GTK+ 3.21.6 causes rendering issues with gnome-boxes and many other applications
Sep 20 15:27:20 <mclasen>	Company: you've been preparing some work to merge once we go 3.90.x ?
Sep 20 17:07:16 <benwaffle>	can glib developers please comment? https://mail.gnome.org/archives/gtk-devel-list/2016-September/msg00011.html
Sep 20 17:48:26 <rluzynski>	Question: this CSS selector: "GtkListBoxRow { padding : 12px; }" is deprecated, isn't it? So what is the currently correct selector?
Sep 20 17:48:47 <feaneron>	rluzynski: "row {padding: 12px;}"
Sep 20 17:49:44 <feaneron>	rluzynski: now that Gtk stabilized the CSS engine, you can find the CSS names at the documentation itself :)
Sep 20 17:49:50 <feaneron>	rluzynski: e.g. https://developer.gnome.org/gtk3/3.22/GtkListBox.html
Sep 20 17:52:15 <rluzynski>	feaneron: thank you! Now an additional question: since when is this deprecated? Since 3.20?
Sep 20 17:53:22 <feaneron>	rluzynski: yes. Starting from 3.20, Gtk+ uses these standard CSS names only
Sep 20 17:53:37 <rluzynski>	feaneron: thanks!
Sep 20 17:53:47 <feaneron>	glad to help :)
Sep 20 17:54:10 <rluzynski>	While at this, I find the documentation not quite clear: "GtkListBox uses a single CSS node with name list."
Sep 20 17:55:03 <rluzynski>	I had to read this triple before I understood that it's not about "a name list" (list of names?) but that "list" is the name of the CSS node.
Sep 20 17:55:15 <feaneron>	seems like it's missing the correct theme
Sep 20 17:55:36 <rluzynski>	Maybe it should be: wit name "list" or a different formatting.
Sep 20 17:55:37 <feaneron>	it was supposed to be 'a name <different theme> list </>'
Sep 20 17:55:49 <rluzynski>	yes, indeed.
Sep 20 18:00:56 <feaneron>	rluzynski: also, seems like the GtkListBox CSS documentation is an exception
Sep 20 18:01:07 <feaneron>	rluzynski: this is a good example - https://developer.gnome.org/gtk3/3.22/GtkFlowBox.html
Sep 20 18:02:18 <rluzynski>	feaneron: why exception? Because of the nice graphics in the flowbox documentation?
Sep 20 18:02:26 <feaneron>	yup :)
Sep 20 18:02:53 <feaneron>	ideally, GtkListBox would have these nice graphs too, and a clear explanation below
Sep 20 18:04:24 <rluzynski>	feaneron: while at this, I can't see anything in sources which would generate something like 'a name <different theme> list </>'. In any class probably.
Sep 20 18:04:45 <feaneron>	then you found a bug
Sep 20 18:09:41 <rluzynski>	feaneron: just to make sure, did you mean there should be some formatting around here? https://git.gnome.org/browse/gtk+/tree/gtk/gtklistbox.c#n66
Sep 20 18:10:16 <feaneron>	rluzynski: yes
Sep 20 18:10:20 <feaneron>	it'd be nice
Sep 20 18:12:12 *	rluzynski knows he should file a bug but is too sleepy atm :-(
Sep 20 18:13:15 <feaneron>	np
Sep 20 18:15:45 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Tue Sep 20 18:15:45 2016

**** BEGIN LOGGING AT Wed Sep 21 10:21:16 2016

Sep 21 10:21:16 *	Now talking on #gtk+
Sep 21 10:21:16 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 21 10:21:16 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 21 10:26:54 <Lapo_>	I can reproduce
Sep 21 10:27:12 <Lapo_>	with circle objects in svg, you told me you had problems with paths as well tho
Sep 21 10:48:55 <Lapo_>	this fixes the issues I'm seeing with our symbolics: http://paste.fedoraproject.org/432065/69304147/
Sep 21 10:49:08 <Lapo_>	can a proper hacker commit please?
Sep 21 10:49:16 <Lapo_>	that app is pretty brutal anyway
Sep 21 10:52:22 <Lapo_>	baedert: if I read that code correctly and I surelly won't the encoder only recolors path and rect objects
Sep 21 10:52:33 <Lapo_>	with my silly patch it acts on circles as well
Sep 21 11:17:13 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 21 11:17:13 2016

**** BEGIN LOGGING AT Wed Sep 21 11:17:26 2016

Sep 21 11:17:26 *	Now talking on #gtk+
Sep 21 11:17:26 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 21 11:17:26 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 21 11:32:45 <baedert>	Lapo_: well push it or ask alex :P
Sep 21 11:42:32 <ebassi>	Lapo_: mclasen released 3.22.0 already, so I think it's safe to push. It'll be in 3.22.1, though.
Sep 21 11:44:12 <mclasen>	yes, should be safe to push
Sep 21 11:44:54 <Lapo_>	k, thanks pushing
Sep 21 11:45:21 <Lapo_>	we'll need an adwaita-icon-theme release depending on gtk+ 3.22.1 too later on
Sep 21 11:51:42 <mclasen>	that can be arranged
Sep 21 12:24:18 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 21 12:24:18 2016

**** BEGIN LOGGING AT Wed Sep 21 12:24:31 2016

Sep 21 12:24:31 *	Now talking on #gtk+
Sep 21 12:24:31 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 21 12:24:31 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 21 12:24:56 <mclasen>	fine with me, certainly
Sep 21 12:28:33 <ricotz>	mclasen, ok, will push it right away
Sep 21 12:32:53 <bugbot>	ricotz@t-online.de changed the Status on bug 771591 from NEW --- to RESOLVED FIXED.
Sep 21 12:32:53 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771591 general, normal, gtkdev, RESOLVED FIXED, Update to Unicode 9.0.0
Sep 21 13:50:16 <GPolonkai>	is anyone here familiar with the GirFFI ruby bindings?
Sep 21 13:52:59 <bugbot>	nacho.resa@gmail.com marked bug 771775 as a duplicate of unknown bug.
Sep 21 13:53:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771775 Backend: Win32, enhancement, gtk-win32-maint, RESOLVED DUPLICATE, GDK Clipboard doesn't check if the clipboard is already opened before open it under w32
Sep 21 14:26:52 <jhandle>	hi, is there a way to add style class properties to a widget class in python (similar to foo = GObject.property() etc..)?  I see Gtk.install_style_class_property is introspected but I'm having trouble figuring out how to use it, at least in testing at a python prompt.
Sep 21 14:44:45 <djb>	widget.get_style_context().add_class("it") ?
Sep 21 14:47:01 <djb>	oh wait, you mean the other type of style properties. didn't Company say those are deprecated?
Sep 21 14:47:14 <jhandle>	not class names, style class properties (Like for instance, Gtk-foo-height: 10px)
Sep 21 14:50:33 <jhandle>	i don't know - i know a lot of existing ones are deprecated, but i see nothing in the unstable docs saying their use in general is
Sep 21 14:51:33 <baedert>	they aren't technically deprecated generally
Sep 21 14:56:06 <djb>	does that mean they are 'philosophically' deprecated?
Sep 21 14:59:07 <baedert>	it means don't use them  but your compiler won't warn you. neither will the docs.
Sep 21 15:00:45 <djb>	that's handy!
Sep 21 15:12:53 <jhandle>	how am i to make a widget that would allow a theme to determine its size then? in cases where it might be appropriate (widgets like progress  bars, controls with handles, etc..)
Sep 21 15:14:01 <jhandle>	granted i'm developing on 3.18 right now.. it doesn't recognize height/width css properties - does 3.20/.22?
Sep 21 15:15:02 <jhandle>	i could hijack some other property i suppose but that seems fairly ugly
Sep 21 15:17:21 <djb>	jhandle: fwiw, here's what was said in recent days to a request that - i think - was similar
Sep 21 15:17:26 <djb>	Company	coolkid87: with public API you'd use gtk_style_context_get_margin/border/padding()
Sep 21 15:17:27 <djb>	coolkid87: but public API only gives you one value for border-radius (via gtk_style_context_get("border-radius", &some_int)) that is I think the horizontal part of top-left-border-radius assuming 100px width for a percentage
Sep 21 15:17:29 <djb>	coolkid87: TL;DR: Don't do that, there's only pain that way
Sep 21 15:19:17 <djb>	i might have this completely backwards, in which case, just ignore me
Sep 21 15:21:13 <jhandle>	it just seems that style class properties are a bit of a "necessary evil," if they're deprecated, what will replace their functionality in core gtk widgets? to say nothing of me adding unique properties to my own class
Sep 21 15:22:33 <djb>	for your own class, i think you'd be set, as he also said "all the magic that css can do is in private APIs". for core widgets, good question, to which i suspect the answer is 'not much'
Sep 21 16:10:41 <benc>	inside the bus callback I'm calling loop.quit()
Sep 21 16:11:00 <benc>	the script just hangs and doesn't exit. what can cause it to hang?
Sep 21 16:11:05 <benc>	relevant part of the code
Sep 21 16:11:05 <benc>	http://pastebin.com/Yd89RTBf
**** BEGIN LOGGING AT Thu Sep 22 09:38:19 2016

Sep 22 09:38:19 *	Now talking on #gtk+
Sep 22 09:38:19 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 22 09:38:19 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 22 11:18:14 <bugbot>	New gtk+ bug 771841 filed by mfvescovi@gmail.com.
Sep 22 11:18:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771841 Backend: Wayland, normal, gtk-bugs, NEW , [Wayland] Drop-down menus are broken in position and size on HiDPI screens
Sep 22 12:04:03 <wander>	I'm trying to use some custom css in my application for a few widgets. For the most part this works great, but there's a toggle button which won't use the custom css
Sep 22 12:04:27 <wander>	however if I'm using the gtk inspector and add the css there it works
Sep 22 12:05:07 <wander>	any idea what might be the problem?
Sep 22 12:05:32 <baedert>	I'd bet my money on "specificity"
Sep 22 13:45:37 <iulianradu>	I tried using GThemedIcon in a template file but I get "Invalid object type 'GThemedIcon'". Am I missing something?
Sep 22 14:01:53 <iulianradu>	baedert: How exactly do I specify the icon to use for a GtkModelButton in a template file?
Sep 22 14:11:39 <feaneron>	will Gtk+ 3.24 receive new widgets?
Sep 22 14:13:11 <baedert>	iulianradu: I guess by icon name? I've never used GtkModelButton directly
Sep 22 14:14:51 <iulianradu>	baedert: It doesn't work "Object with ID zoom-out-symbolic not found"
Sep 22 14:18:53 <Lapo_>	wander: hard to tell w/o looking
Sep 22 14:19:58 <baedert>	iulianradu: ah it's a GIcon, dunno how to create those in a ui file
Sep 22 14:19:59 <Lapo_>	wander: you can try adding a styleclass to the aformentioned button and style that, it should solve specificity problems
Sep 22 14:20:32 <iulianradu>	baedert: Nautilus does this:
Sep 22 14:20:34 <iulianradu>	<object class="GThemedIcon" id="icon_grid">
Sep 22 14:20:36 <iulianradu>	    <property name="name">view-grid-symbolic</property>
Sep 22 14:20:38 <iulianradu>	  </object>
Sep 22 14:20:56 <iulianradu>	baedert: But I get the "Invalid object type 'GThemedIcon'"
Sep 22 14:21:38 <baedert>	what if you g_ensure_type(G_TYPE_THEMED_ICON) before loading the ui file?
Sep 22 14:23:45 <iulianradu>	baedert: "implicit declaration of function ‘g_ensure_type’"
Sep 22 14:24:11 <baedert>	g_type_ensure
Sep 22 14:25:40 <iulianradu>	baedert: It worked
Sep 22 14:31:41 <wander>	Lapo_, I already added a style class to it
Sep 22 14:31:53 <wander>	I also added one for a couple other widgets and there it works just fine
Sep 22 14:32:58 <wander>	and it's weird that it works in the gtk inspector
Sep 22 14:33:23 <wander>	but not in the css file I'm loading to the style context
Sep 22 14:34:09 <Lapo_>	wander: does gtk+ b*tch about something css in the terminal?
Sep 22 14:34:29 <wander>	no, everything is fine there
Sep 22 14:34:38 <Lapo_>	yep, as baedert: said it sounds like a specificity issue
Sep 22 14:34:55 <wander>	what's specificity?
Sep 22 14:35:03 <Lapo_>	css specificity
Sep 22 14:35:11 <Lapo_>	the cascading thing :-)
Sep 22 14:35:11 <wander>	ah ok, need to google that
Sep 22 14:37:23 <wander>	hm, ok this is weird. It doesn't work with other widgets either
Sep 22 14:37:27 <wander>	only with a scrolled window
Sep 22 14:37:34 <wander>	and it's frame
Sep 22 14:38:17 <Lapo_>	uhm, are you sure syntax is ok? commas, brackets
Sep 22 14:38:27 <Lapo_>	semicolons
Sep 22 14:38:44 <wander>	well, I'm using the same as in the frame:
Sep 22 14:38:58 <wander>	.listview-frame { ...}
Sep 22 14:39:21 <Lapo_>	I happen pretty frequently to waste good curses for missing semicolons :-)
Sep 22 14:40:17 <Lapo_>	wander: where did you set the .listview-frame styleclass?
Sep 22 14:40:28 <wander>	in glade
Sep 22 14:40:36 <Lapo_>	I mean on which widget
Sep 22 14:40:43 <wander>	a scrolled window
Sep 22 14:47:10 <Lapo_>	can you paste the css somewhere?
Sep 22 14:56:18 <wander>	Lapo_: sure, http://pastebin.com/RCgKmQ3X
Sep 22 14:58:38 <wander>	and here is a screenshot from gtk inspector: http://i.imgur.com/453Z2Ck.png
Sep 22 14:58:40 <hergertme>	Lapo_! you're back now that summer is over :)
Sep 22 14:59:17 <Lapo_>	hergertme: yeah, unfortunatelly (for me about the summer and for you about well having me back) :-)
Sep 22 14:59:27 <hergertme>	heh
Sep 22 15:02:39 <wander>	and here the inspector screenshot of the listview-frame that's working: http://i.imgur.com/b1vJNG8.png
Sep 22 15:18:16 <Lapo_>	that doesn't tell much
Sep 22 15:44:18 <wander>	Lapo_: fixed it, it was a stupid spelling mistake in glade -.-
Sep 22 16:00:02 <mcatanzaro>	Anyone know the right person to ask to look at https://bugzilla.gnome.org/show_bug.cgi?id=771553?
Sep 22 16:00:03 <bugbot>	Bug 771553: Backend: Wayland, normal, gtk-bugs, NEW , Shrinking window generates a black patch when gl is used
Sep 22 16:00:27 <mcatanzaro>	I feel bad since it's triggered by a last-minute WebKit change, but we don't want to make a revert in WebKit without someone looking into the GTK+ side
Sep 22 16:18:21 <zaitor>	mcatanzaro: to be fair, there are other non webkit related issues with wayland (broken pop-up/right click menus) when in wayland + hidpi - webkit just happed to really really show it :-)
Sep 22 16:19:16 <zaitor>	but the webkit bump also showed the issues on non-hidpi
Sep 22 16:19:25 <zaitor>	and I guess that is the bigger issue
Sep 22 16:24:27 <mcatanzaro>	zaitor: WebKitContextMenu is broken on Wayland+hidpi? I'm not sure we have a bug for that, I didn't know.
Sep 22 16:25:26 <zaitor>	there is, let me dig it out for you, I "nudged" someone else to file it :D
Sep 22 16:26:20 <zaitor>	https://bugzilla.gnome.org/show_bug.cgi?id=771841
Sep 22 16:26:21 <bugbot>	Bug 771841: Backend: Wayland, normal, gtk-bugs, NEW , [Wayland] Drop-down menus are broken in position and size on HiDPI screens
Sep 22 16:28:26 <mcatanzaro>	OK, not a WebKit issue then
Sep 22 16:33:35 <zaitor>	mcatanzaro: oh indeed, that one is present also with "older" webkit
Sep 22 19:08:33 <doomwake>	hi
Sep 22 19:08:34 <doomwake>	irc.gnome.org
Sep 22 19:08:43 <doomwake>	http://pastebin.com/PN6u79yq
Sep 22 19:09:00 <doomwake>	getting gtk with themes was hopeing someone could help
Sep 22 19:09:35 <mcatanzaro>	doomwake: Just change :insensitive to :disabled everywhere in your theme, should be mechanical
Sep 22 19:10:21 <doomwake>	how do I do this?
Sep 22 19:10:30 <doomwake>	wont that disable alot of the theme?
Sep 22 19:17:11 <doomwake>	mcatanzaro : please help im new to linux i dont know what you meant by that
Sep 22 19:23:36 <mcatanzaro>	doomwake: It's a bug for the theme developer to fix
Sep 22 19:23:54 <mcatanzaro>	doomwake: You don't want to bother with it yourself, but you might want to report the bug to whenever you got the theme from
Sep 22 19:24:39 <mcatanzaro>	doomwake: It won't disable anything, it's actually just a selector used to style widgets that are already insensitive/disabled/not selectable
Sep 22 19:26:03 <doomwake>	its an old theme and the guy from devart wont fix it
Sep 22 19:26:21 <doomwake>	it works fine in linux mint but not fedora
Sep 22 19:26:45 <doomwake>	some of it works but like the scroll bar is missing
Sep 22 19:35:15 <doomwake>	will gtk 3.14 work with fedora 24?
Sep 22 19:35:25 <mcatanzaro>	doomwake: No
Sep 22 19:35:31 <mcatanzaro>	It's part of the operating system
Sep 22 19:35:34 <mcatanzaro>	Fedora 24 has GTK+ 3.20
Sep 22 19:36:35 <mcatanzaro>	Unfortunately it broke a lot of old themes and many theme developers are frustrated with that, but many theme developers are happy with it because writing themes is way easier now, and there's a new stability guarantee to prevent themes from breaking in the future (themes have been breaking for a long time)
Sep 22 19:37:33 <doomwake>	so 3.18 wont even work? so with .20 no old themes will work? is there away to go back in gtk so my old themes will work?
Sep 22 19:39:57 <mcatanzaro>	doomwake: Previous to 3.20 you need a theme that exactly matches the GTK+ version
Sep 22 19:40:08 <mcatanzaro>	If your theme was made for 3.14 it could be broken in 3.16 or 3.12
Sep 22 19:40:19 <mcatanzaro>	But 3.20 themes will also work with 3.22
Sep 22 19:40:34 <mcatanzaro>	And all future GTK+ 3 releases (although they'll all have 3.22 version numbers from now on)
Sep 22 19:41:15 <doomwake>	can i go back in gtk on fedora 24?
Sep 22 19:41:21 <mcatanzaro>	doomwake: Themes can install support for different versions of GTK+ at the same time, by splitting it into different files, but sounds like your theme developer didn't do that.
Sep 22 19:41:28 <mcatanzaro>	doomwake: No you can't you'll break tons of apps
Sep 22 19:42:05 <mcatanzaro>	Sorry
Sep 22 19:44:13 <doomwake>	so the only way to get this theme to work is if the dev updates it to 3.20+ ?
Sep 22 19:44:15 <doomwake>	http://killhellokitty.deviantart.com/art/DeLorean-Dark-Theme-3-6-G-vs-2-56-342067457
Sep 22 19:44:19 <mcatanzaro>	Yes
Sep 22 19:44:59 <mcatanzaro>	Sorry :/
Sep 22 19:45:32 <doomwake>	man sucks being the newest becuase there is no good themese out there
Sep 22 19:45:45 <doomwake>	why does my really old 3.6 theme work on the newest mint release?
Sep 22 19:45:56 <mcatanzaro>	Do you not like the default theme? :(
Sep 22 19:47:19 <mcatanzaro>	doomwake: The warnings you found earlier are actually just harmless warnings, but basically everything about themes changed in 3.20, sorry. It might work better with 3.18, which is in Fedora 23, so you could try Fedora 23, but I can't recommend it since it'll hit end-of-life in December, that's not so far away
Sep 22 19:57:20 <doomwake>	mcatanzaro : found a 3.20 theme and it looks good but in appearance it says it wont look right becuase adwaita theme is not isntall but it is
Sep 22 19:57:35 <mcatanzaro>	strange
Sep 22 19:58:27 <doomwake>	i copied over it and restarted the appearance program and its stopped
Sep 22 19:58:30 <doomwake>	its working now
Sep 22 20:14:51 <doomwake>	mcatanzaro: where do i go to learn how to make themes?
Sep 22 20:16:17 <mcatanzaro>	doomwake: I'm not sure if there is easy documentation anywhere
Sep 22 20:16:24 <mcatanzaro>	You need to know CSS for starters
Sep 22 20:16:36 <doomwake>	well shit
Sep 22 20:17:26 <mcatanzaro>	doomwake: It's scattered around the GTK+ documentation
Sep 22 20:17:33 <mcatanzaro>	There's some here: https://developer.gnome.org/gtk3/3.20/GtkCssProvider.html
Sep 22 20:17:42 <mcatanzaro>	Some more here: https://developer.gnome.org/gtk3/3.20/GtkStyleContext.html
Sep 22 20:17:50 <mcatanzaro>	But it's theme developer docs mixed in with programmer docs :(
Sep 22 20:18:36 <mcatanzaro>	Then each widget has its own "CSS nodes" documentation that you need to understand: https://developer.gnome.org/gtk3/3.20/GtkRadioMenuItem.html
Sep 22 20:18:47 <mcatanzaro>	It's not easy but some people enjoy it!
Sep 22 20:19:12 <mcatanzaro>	Hey Lapo_, when you come online tomorrow, do you know a good place to point doomwake for theme docs?
Sep 22 20:21:09 <doomwake>	im back
Sep 22 20:21:14 <doomwake>	sorry wifi here is bad
Sep 22 20:21:32 <mcatanzaro>	mcatanzaro:  doomwake: It's scattered around the GTK+ documentation
Sep 22 20:21:35 <mcatanzaro>	mcatanzaro:  There's some here: https://developer.gnome.org/gtk3/3.20/GtkCssProvider.html
Sep 22 20:21:37 <mcatanzaro>	mcatanzaro:  Some more here: https://developer.gnome.org/gtk3/3.20/GtkStyleContext.html
Sep 22 20:21:39 <mcatanzaro>	mcatanzaro:  But it's theme developer docs mixed in with programmer docs :(
Sep 22 20:21:41 <mcatanzaro>	mcatanzaro:  Then each widget has its own "CSS nodes" documentation that you need to understand: https://developer.gnome.org/gtk3/3.20/GtkRadioMenuItem.html
Sep 22 20:21:43 <mcatanzaro>	mcatanzaro:  It's not easy but some people enjoy it!
Sep 22 20:21:45 <mcatanzaro>	mcatanzaro:  Hey Lapo_, when you come online tomorrow, do you know a good place to point doomwake for theme docs?
Sep 22 20:36:03 <doomwake>	mcatanzaro: is it a huge undertaking if i want to port a theme or could i do it in like a week if i spend few hours every dayo n it?
Sep 22 20:43:52 <mcatanzaro>	doomwake: Yeah you could surely do it in a week
Sep 22 20:44:09 <mcatanzaro>	Just requires some learning/expertise
Sep 22 20:45:39 <doomwake>	when will this Lapo_ guy be back?
Sep 22 20:45:47 <mcatanzaro>	Tomorrow, he's European
Sep 23 06:47:43 <kalev>	ofourdan, hadess: hey, did you guys see https://bugzilla.redhat.com/show_bug.cgi?id=1377741 ? is it something that totem should change or is it just a gtk bug?
Sep 23 06:47:45 <bugbot>	Bug 1377741: gtk3, unspecified, mclasen, NEW , maximized video is shifted in totem after gtk3 update
Sep 23 06:48:47 <hadess>	kalev, totem didn't make any changes
Sep 23 06:49:11 <hadess>	kalev, if there's a breakage caused by gtk+, it should be fixed in clutter-gtk, most likely
Sep 23 06:51:07 <kalev>	ahh
Sep 23 06:54:26 <ofourdan>	seems I fail to reproduce that one though
Sep 23 06:56:15 <nacho>	ebassi, hey
Sep 23 06:56:30 <nacho>	ebassi, do you know about the clipboard stuff internals?
Sep 23 07:11:52 <hadess>	ofourdan, is that one for you? https://bugzilla.gnome.org/show_bug.cgi?id=771873
Sep 23 07:11:53 <bugbot>	Bug 771873: general, normal, mutter-maint, NEW , Handle "remember num-lock" GSettings for X11 as well
Sep 23 07:13:00 <ofourdan>	j~.
Sep 23 07:16:00 <ebassi>	nacho: Nope
Sep 23 07:16:12 <hadess>	ofourdan, end goal would be: https://bugzilla.gnome.org/show_bug.cgi?id=659243
Sep 23 07:16:13 <bugbot>	Bug 659243: general, normal, gnome-shell-maint, NEW , Show num-lock/caps lock/etc. status
Sep 23 07:16:28 <nacho>	ebassi, ok, 'cause we need some help on the windows side to make a decision
Sep 23 07:17:11 <ofourdan>	hadess, not really, I'd rather focus on Wayland :)
Sep 23 07:17:26 <hadess>	ofourdan, so that we can show an OSD, and/or a system status item for devices without LEDs
Sep 23 07:17:31 <ebassi>	nacho: Considering the impedance mismatch between x11, wayland, windows, and macos, I doubt anything I may know about GtkClipboard on X11 is going to help you
Sep 23 07:17:46 *	ebassi has seen the discussion fly by on bugzilla
Sep 23 07:18:24 <hadess>	ofourdan, moving half the functionality to mutter really isn't that good a decision though :/
Sep 23 07:19:00 <ofourdan>	not reallya decision, just a time contraint
Sep 23 07:19:14 <ofourdan>	I am not saying it should not happen, I totally agree
Sep 23 07:19:29 <hadess>	right, this is about finishing that work, don't really care who ends up doing it
Sep 23 07:19:33 <rtcm>	hadess: I can tackle those
Sep 23 07:20:49 <hadess>	rtcm, the end goal is probably more fun than moving the X11 numlock code :)
Sep 23 07:20:51 <hadess>	rtcm, thanks
Sep 23 07:21:23 <ofourdan>	yeah, it requires some surgery in mutter backends, I reckon
Sep 23 07:23:26 <hadess>	desrt, any idea how this would segv? https://bugzilla.redhat.com/show_bug.cgi?id=1280075#c0
Sep 23 07:23:27 <bugbot>	Bug 1280075: control-center, unspecified, control-center-maint, NEW , [abrt] control-center: g_variant_is_trusted(): gnome-control-center killed by SIGSEGV when opening display settings
Sep 23 07:24:00 <hadess>	desrt, the code is at https://git.gnome.org/browse/gnome-control-center/tree/panels/display/cc-display-panel.c#n118
Sep 23 07:27:32 <hadess>	ha, i can reproduce the bug
Sep 23 07:28:23 <ofourdan>	which one? the totem window?
Sep 23 07:28:44 <hadess>	no, the one i was asking desrt about
Sep 23 07:28:52 <ofourdan>	oh
Sep 23 07:29:10 <hadess>	it criticals in g_variant_builder_close() but SEGVs in g_variant_builder_end() as in the bug
Sep 23 07:31:55 <ofourdan>	ebassi: where does clutter-gtk gets the embed window position? I fail to find it in the code
Sep 23 07:34:09 <rtcm>	hadess: how do you reproduce that?
Sep 23 07:34:53 <hadess>	rtcm, i'm guessing there's no xrandr support, so there's nothing in the output_ids hashtable, so nothing gets added to the GVariant builder, and it crashes because it's empty
Sep 23 07:35:22 <hadess>	after a critical
Sep 23 07:35:48 <rtcm>	hadess: ah, might be. I'd expect an empty array to work though
Sep 23 07:36:18 <hadess>	rtcm, gvariant doesn't like it...
Sep 23 07:36:44 <ebassi>	ofourdan: What embed window?
Sep 23 07:37:24 <rtcm>	hadess: oh, the docs actually say "It is an error to call this function in any way that would create an inconsistent value to be constructed (ie: too few values added to the subcontainer)"
Sep 23 07:38:47 <ofourdan>	ebassi: https://bugzilla.redhat.com/show_bug.cgi?id=1377741
Sep 23 07:38:48 <ebassi>	ofourdan: On Wayland, GtkClutterEmbed uses a sub-surface; it calls gdk_window_get_origin() to determine its position
Sep 23 07:38:48 <bugbot>	Bug 1377741: gtk3, unspecified, mclasen, NEW , maximized video is shifted in totem after gtk3 update
Sep 23 07:39:02 <hadess>	rtcm: yeah, so i postpone the init of the builder, and i'm good
Sep 23 07:39:46 <ebassi>	ofourdan: https://git.gnome.org/browse/clutter-gtk/tree/clutter-gtk/gtk-clutter-embed.c#n183
Sep 23 07:40:15 <ofourdan>	ah right thanks
Sep 23 07:41:42 <ebassi>	ofourdan: It updates the origin in size-allocate
Sep 23 08:32:40 <houz>	hi, can i use a GtkDialog as the only (i.e., main) window?
Sep 23 08:41:17 <garnacho_>	houz: that's not recommended, a GtkDialog always has a transient-for
Sep 23 08:41:54 <houz>	thought so :/
Sep 23 08:41:56 <desrt>	hadess: it would help to see the code
Sep 23 08:42:10 <houz>	thanks anyway, i'll build my own tiny window then
Sep 23 08:42:36 <hadess>	desrt, i did link to the code above
Sep 23 08:42:43 <hadess>	desrt, but i've sorted it out already, thanks
Sep 23 08:43:35 <desrt>	hadess: sorry.  was on my phone when i checked the message.  must have missed it
Sep 23 08:43:37 <desrt>	glad to hear, in any case
Sep 23 09:27:08 <aruiz>	desrt, how many beers to get GI support for the dconf API :D
Sep 23 09:27:33 <desrt>	you're asking me to add introspection support to the build system?
Sep 23 09:27:47 <JeanLuc>	is it by now possible to have a scrolledwindow be as big as it's content as long as it fits the parent widget and only start to use scrolling once the content in the viewport gets too big?
Sep 23 09:27:52 <desrt>	iirc, i removed it because it wasn't working with non-libtool projects
Sep 23 09:29:22 <aruiz>	desrt, yeah
Sep 23 09:29:58 <aruiz>	desrt, so I'm currently parsing the output of "dconf read" for the LibreOffice support in Fleet Commander
Sep 23 09:30:05 <desrt>	i guess i could just move back to libtool
Sep 23 09:30:07 <aruiz>	desrt, because all of those keys are schemaless
Sep 23 09:30:13 <desrt>	it's not *quite* as awful as it used to be
Sep 23 09:31:14 <aruiz>	desrt, if you could give it a shot I would really appreciate it
Sep 23 09:31:28 <aruiz>	not a big rush though
Sep 23 09:31:35 <desrt>	i think there should be very little that prevents the client library from being bindable
Sep 23 09:31:42 <desrt>	it's a pretty simple API
Sep 23 09:31:46 <aruiz>	oh yeah
Sep 23 09:32:19 <aruiz>	desrt, I'm using gjs, if I was in Python land I would have used ctypes to get this done instead of this ugly hack
Sep 23 09:38:31 <cruncher>	hi
Sep 23 09:39:29 <cruncher>	i have a question: im trying to make a gtk2 theme, but i cant find where the color is of the "separator" (or rather the space between the window buttons) in the window list
Sep 23 09:41:24 <cruncher>	any ideas how to find out?
Sep 23 09:42:31 <houz>	another question: is there something that destroys all gtk state so i can start over?
Sep 23 09:58:41 <cruncher>	i think its the border of the window button, which is on every theme black/dark
Sep 23 10:10:25 <houz>	or is there any problem with calling gtk_init() several times? would it pick up the options passed to the 2nd invocation?
Sep 23 10:13:40 <ebassi>	houz: No
Sep 23 10:14:12 <ebassi>	It's safe to call multiple times; the first call will remove the options that were consumed during initialization
Sep 23 10:14:41 <ebassi>	To be fair, calling gtk_init() multiple times with different arguments sounds like a programmer error to me
Sep 23 10:15:12 <ebassi>	houz: So, why are you trying to "destroy all gtk state" so you can "start over"?
Sep 23 10:15:19 <ebassi>	What is it that you're trying to achieve?
Sep 23 10:15:46 <houz>	i want to show a dialog early on before the program is initialized far enough for the real gtk_init and then let the rest work later on
Sep 23 10:16:01 <houz>	in an error case
Sep 23 10:16:34 <houz>	i can try to move the gtk_init part to an even earlier place but less work == better :)
Sep 23 10:17:33 <ebassi>	Just call gtk_init() at the very beginning
Sep 23 10:18:06 <ebassi>	Or, better, don't show a parent-less dialog to the user
Sep 23 10:18:21 <ebassi>	Load the main UI and put it into an error state that can be recovered
Sep 23 10:18:24 <houz>	i am not. i am manually creating a regular top level window
Sep 23 11:12:21 <rudrab_>	Hi, though its not directly related to gtk+, but still, how I can a module with autotools?
Sep 23 11:12:33 <rudrab_>	PKG_CHECK_MODULES(EXIFTOOL, [perl-Image-ExifTool]) is what I am trying to do
Sep 23 11:19:57 <rudrab_>	any one please?
Sep 23 14:37:13 <marcool04>	Hi all. I'm having an issue in glib which seems related to 32 vs 64bit while trying to compile OpenVAS, I wonder if anybody could help me out...
Sep 23 14:38:52 <marcool04>	I have pasted the clang output here: http://fpaste.scsys.co.uk/534293
Sep 23 14:39:16 <marcool04>	If anybody is willing to help I'm happy to poste any more info that might be needed...
Sep 23 14:41:43 <xclaesse>	marcool04, what's the sizeof (unsigned long long) on your plateform ?
Sep 23 14:42:20 <marcool04>	ah... well judging from the output above it's different from that of guint64 :P
Sep 23 14:42:23 <marcool04>	let me check, one second
Sep 23 14:45:37 <vrishab>	Hi.
Sep 23 14:50:49 <vrishab>	Is there a way to find the natural width of a gtk button widget without actually rendering it. ( something like pango_layout_get_pixel_size (..) for gtk labels ) 
Sep 23 14:50:53 <marcool04>	Thanks for hanging in there (man my c basics are baaaad!), but I have this: http://fpaste.scsys.co.uk/534295
Sep 23 14:51:20 <marcool04>	so the tl:dr is 8
Sep 23 14:53:30 <xclaesse>	marcool04, and I guess sizeof guint64 is the same? :/
Sep 23 14:54:00 <marcool04>	I'd have to include glib to test that right?
Sep 23 14:54:25 <xclaesse>	yep
Sep 23 14:55:04 <xclaesse>	it would be surpring it's not 8 as well, tbh
Sep 23 14:55:10 <xclaesse>	weird...
Sep 23 14:55:48 <marcool04>	ah, let's see...
Sep 23 15:02:04 <marcool04>	how do I go about testing guint64... trying to include glib.h doesn't seem that simple :/
Sep 23 15:03:12 <xclaesse>	marcool04, add the output of this in your build command: pkg-config --cflags --libs glib-2.0
Sep 23 15:05:42 <marcool04>	Hum... I'm still getting a bunch of compile errors. Seems like glib is missing about half of its symbols
Sep 23 15:06:10 <xclaesse>	dunno...
Sep 23 15:06:20 <marcool04>	http://fpaste.scsys.co.uk/534296
Sep 23 15:06:32 <marcool04>	(thanks for taking the time to help btw! appreciate it)
Sep 23 15:06:35 <marcool04>	:)
Sep 23 15:21:03 <marcool04>	there's a bit of information on this page: https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint32 seems like the compiler can find guint but not guint32 nor guint64 definitions 
Sep 23 15:34:15 <marcool04>	I'm can't find the typedef for guint32 or guint64 anywhere in my glib installation...
Sep 23 15:34:44 <marcool04>	It's a homebrew (mac os x porting project) installation... I'm going to try and compile from a fresh source see what I get
Sep 23 15:34:56 <marcool04>	This is what I get : configure: error: OSX version is too old!
Sep 23 15:34:58 <marcool04>	:)
Sep 23 15:35:05 <marcool04>	Will try a not so fresh version...
Sep 23 15:56:17 <phako>	marcool04: IIRC /usr/$libdir/glib-2.0/include
Sep 23 15:57:42 <marcool04>	http://fpaste.scsys.co.uk/534298
Sep 23 15:58:25 <marcool04>	yeah...
Sep 23 15:58:27 <marcool04>	I see it
Sep 23 15:58:41 <marcool04>	why is the compiler not finding it there? is that not included from glib.h ?
Sep 23 16:01:56 <marcool04>	I'm still getting the same errors even if I #include <glibconfig.h> befor glib.h
Sep 23 16:03:19 <phako>	well maybe on os x unsigned long long just isn't 64 bit *scratches head*
Sep 23 16:03:50 <marcool04>	yeah...
Sep 23 16:05:14 <marcool04>	but something is still wrong, because I am getting the errors saying that guint32 isn't typedef'ed, even when I include glibconfig.h which typedef's it...
Sep 23 16:13:00 <marcool04>	ok, so my test, in the end, shows that sizeof(unsigned long long): 8 - sizeof(guint64_variable): 8
Sep 23 16:13:13 <marcool04>	so... now where am I?!?
Sep 23 16:34:47 <dv_>	I want to add a deadline timeout to the mainloop. so, if some activity is periodically performed within a certain timespan, the timeout should not be triggered.
Sep 23 16:35:05 <dv_>	so far, the only method I found is to remove and reinsert a timeout source every time the activity happens.
Sep 23 16:35:13 <dv_>	is there a better way?
Sep 23 16:37:36 <marcool04>	https://www.reddit.com/r/funny/comments/4ccpm3/i_will_take_a_windows_10_upgrade_and_a_soda/
Sep 23 16:40:01 <marcool04>	(sorry just had to... )
Sep 23 16:48:28 <marcool04>	oh man...
Sep 23 16:48:34 <marcool04>	I give up I think...
Sep 23 16:48:42 <marcool04>	can't seem to get this to compile whatever I do
Sep 23 16:48:52 <marcool04>	it's an architecture issue I just can't figure it out
Sep 23 17:05:40 <polochon>	Hi guys! If I have a GtkToggleButton and want to customize its aspect when it is toggled, what keyword should I use? Like, .button:<keyword> { }?
Sep 23 17:06:32 <polochon>	oh. :checked.
Sep 23 17:06:42 <polochon>	thanks :D
**** ENDING LOGGING AT Fri Sep 23 21:22:23 2016

**** BEGIN LOGGING AT Fri Sep 23 22:35:47 2016

Sep 23 22:35:47 *	Now talking on #gtk+
Sep 23 22:35:47 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 23 22:35:47 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 23 22:42:20 <xor>	Hello. I have this small application, that uses a few Expanders, but after a recent update to gtk3, each time the Expander opens OR closes the window size is increased. I was wondering if anyone knows why that is.
Sep 23 22:42:40 <xor>	You can see here how the Expander is setup: https://github.com/xor/passman/blob/master/passman/dialogs.py#L98
Sep 23 22:52:34 <jadahl>	xor: could it be this? https://bugzilla.gnome.org/show_bug.cgi?id=771112
Sep 23 22:52:36 <bugbot>	Bug 771112: .General, normal, gtk-bugs, NEW , some applications windows to grow on startup (with CSD)
Sep 23 23:02:43 <xor>	jadahl, This started happening as well since the update, so it's probably related, I'm going to read the entire bug report for a possible solution.
Sep 23 23:02:55 <xor>	jadahl, Thanks.
Sep 24 00:39:52 <superkuh>	Hi. I compiled glib-2.50.0 to use for static linking while compiling other programs. The distro I use on this system is rather old (Ubuntu 10.04) and so it's glib is not sufficient for compiling many things. In this case I am trying to compile the IRC client hexchat.
Sep 24 00:40:02 <superkuh>	My problem is that while I did get glib-2.50.0 to compile successfully in what I believe is a way which can be statically linked, I can't actually figure out where the resulting libraries are in the directory structure. I've tried just searching for *.a and *.so but nothing came up.
Sep 24 00:40:17 <superkuh>	Can anyone enlighten me on where in the directory structure I might actually point my other ./configure's for hexchat (and other programs needing new glib) such that they can find it? http://superkuh.com/compile-results.txt has the output of the 'tree' command showing the files and their directories.
Sep 24 00:40:32 <superkuh>	Or alternately, maybe I should have just used a ./configure argument like --prefix to "install" to a non-system directory and just use that? I did not do so initially because I fear make install will mess up my old system/distro glib.
Sep 24 00:44:59 <superkuh>	Oh. gobject/.libs/
Sep 24 00:45:02 <superkuh>	Nevermind.
Sep 24 00:48:25 <pwithnall>	superkuh: note that you would have wanted to use `make install DESTDIR=blah` to install to a custom location, rather than `./configure --prefix=blah`; the latter affects where the configure script looks for dependencies
Sep 24 00:48:34 <pwithnall>	(fyi, not that it matters)
Sep 24 00:48:56 <superkuh>	Appreciated.
Sep 24 00:49:09 <superkuh>	So with DESTDIR set it won't screw up my system libs?
Sep 24 00:59:22 <pwithnall>	shouldn’t do
Sep 24 00:59:39 <pwithnall>	DESTDIR gets prefixed to all the installation paths
Sep 24 01:00:08 <pwithnall>	but just to be sure, don’t run any of the build commands with sudo, so filesystem permissions will stop you overwriting your system libs anyway
Sep 24 01:00:18 <pwithnall>	(there should be no reason at all to run the build commands with sudo in any case)
Sep 24 01:00:45 <superkuh>	Ah, right. I forgot about that. That is a bit of a load off my mind.
Sep 24 01:18:29 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Sat Sep 24 01:18:29 2016

**** BEGIN LOGGING AT Sat Sep 24 01:19:42 2016

Sep 24 01:19:42 *	Now talking on #gtk+
Sep 24 01:19:42 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 24 01:19:42 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** BEGIN LOGGING AT Sat Sep 24 13:01:42 2016

Sep 24 13:01:42 *	Now talking on #gtk+
Sep 24 13:01:42 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 24 13:01:42 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 24 13:10:14 <lapo>	ugh gtk+ not branched yet
Sep 24 13:11:27 *	djb imagines lapo has hundreds of cutting-edge patches just waiting to be pushed
Sep 24 13:12:03 <lapo>	not really
Sep 24 13:12:31 <baedert>	dpi aware adwaita!
Sep 24 13:12:34 <baedert>	:)
Sep 24 13:12:35 <lapo>	djb: I do silly theming stuff, the other guys here are the proper hackers
Sep 24 13:12:51 <lapo>	baedert: gotcha
Sep 24 13:13:03 <baedert>	lapo: you worked on that?
Sep 24 13:13:44 <lapo>	baedert: I'm just on a scalable (wrt font size) adwaita
Sep 24 13:14:20 <TingPing>	bossjones, well its loading the system gobject-introspection because you told it to
Sep 24 13:14:34 <lapo>	no proper svg support tho, so I'm kind of stuck at graphic assets
Sep 24 13:15:18 <TingPing>	bossjones, oh nvm you are specifying jhbuild prefix.. just use `jhbuild run` it tends to do the right thing
Sep 24 13:15:32 <lapo>	Company: idea about how to scale assets welcome
Sep 24 13:15:48 <djb>	lapo: I knew that, but my point remains :D
Sep 24 13:15:55 <bossjones>	ah let me try that now TingPing
Sep 24 13:16:34 <lapo>	hergertme: you're pushing your bugs on gtk! shame on you! :-)
Sep 24 13:17:30 <djb>	ah, lapo, that reminds me: builder has the dreaded rounded corners when maximised :O
Sep 24 13:17:45 <lapo>	djb: exactly that's builder fault
Sep 24 13:17:58 <lapo>	I'm building builder, but it's taking forever
Sep 24 13:18:42 <lapo>	hergertme: why do you have a style rounding the corners on the .titlebar? The theme *should* handle that just fine
Sep 24 13:18:53 <lapo>	hergertme: I wonder wassup if you get rid of that
Sep 24 13:19:44 *	lapo tries with the f24 one in the meantime
Sep 24 13:20:19 <djb>	actually lapo, i was wondering something similar about boxes, and maybe you'll know
Sep 24 13:20:36 <djb>	so first we have this - http://i.imgur.com/gX29MBr.png - and the bottom row is rounded
Sep 24 13:21:00 <djb>	but it gets weirder! click on the top row, and... http://i.imgur.com/N6RaXot.png wtf
Sep 24 13:21:00 <lapo>	ouch, something got broke once again there
Sep 24 13:21:20 <djb>	rounded corners everywhere, and none in the right place :P
Sep 24 13:21:44 <lapo>	I should have a recentish boxes built
Sep 24 13:21:46 *	lapo looks
Sep 24 13:21:59 <djb>	mine is 3.22.0 fwiw
Sep 24 13:23:01 *	djb has the bright idea to run with the Inspector
Sep 24 13:23:18 <lapo>	it's my fault whatever since I wrote the boxes css, which was pretty hacky and fragile, and clearly it broke
Sep 24 13:24:20 <lapo>	3.20 broken as well
Sep 24 13:24:25 <lapo>	WTF
Sep 24 13:24:25 <djb>	so they're boxes with classes vertical and boxes-menu
Sep 24 13:24:32 <baedert>	haha
Sep 24 13:24:52 <baedert>	I don't know that any other way
Sep 24 13:25:02 <lapo>	the ui is not well structured for the wanted style
Sep 24 13:25:18 <lapo>	and I'm not very compatible with zeeshan workflow
Sep 24 13:25:46 <lapo>	in the css I made some pretty fragile assumption which clearly stopped working
Sep 24 13:26:10 <lapo>	guys, I can't leave you alone 2 fscking minutes and you do a mess! :-)
Sep 24 13:27:25 <lapo>	djb: have you got a builder checkout at hand?
Sep 24 13:28:01 <lapo>	djb: ah I think I have a solution for the circle button being ugly, it's just pretty painfull to implement
Sep 24 13:28:43 <lapo>	djb: I need to figure out how to do what I'm thinking about w/o increasing the complexity of adwaita a pair of notches
Sep 24 13:29:28 <djb>	I only have the Debian unstable package for 3.22, so not bang up to date
Sep 24 13:29:39 <lapo>	no probs
Sep 24 13:29:58 <djb>	well, I don't want to give you headaches just for one fairly small shadow!
Sep 24 13:30:45 <lapo>	djb: it's ugly, so it needs fixing :-)
Sep 24 13:30:53 <baedert>	lapo can't *un*see
Sep 24 13:31:02 <lapo>	djb: it that was an usability issue, I wouldn't have cared! :-D
Sep 24 13:31:05 *	lapo runs
Sep 24 13:31:13 <lapo>	baedert: indeed unfortunatelly
Sep 24 13:31:47 <lapo>	can somebody test something for me while my builder is building?
Sep 24 13:31:51 <lapo>	I'm running out of time
Sep 24 13:32:12 <lapo>	I need to get rid of some lines of shipped style a see wassup
Sep 24 13:33:52 <lapo>	https://git.gnome.org/browse/gnome-builder/tree/data/theme/Adwaita-shared.css#n12 <- the 3 selectors here
Sep 24 13:35:25 *	djb has a go
Sep 24 13:35:58 <baedert>	heh i fucked up my gtk+ instal 
Sep 24 13:37:03 <lapo>	good one
Sep 24 13:40:59 <djb>	uh, does Inspector support editing existing CSS styles, or just overriding them with a new one?
Sep 24 13:41:24 <baedert>	just overriding
Sep 24 13:41:46 <djb>	buh
Sep 24 13:43:01 *	djb changes the border-radius to 0
Sep 24 13:43:05 <djb>	it's... beautiful
Sep 24 13:43:38 <djb>	just workbench stack.titlebar seems to be enough
Sep 24 13:44:19 <djb>	I just assumed Builder was missing out on the normal rule due to its widget hierarchy, not deliberately overriding it :P
Sep 24 13:47:56 <djb>	Of course, then it's square in non-maximised mode too... and one can't simply use .maximized because wtf is the widget hierarchy in this thing
Sep 24 13:48:47 *	djb palms face
Sep 24 13:48:55 <djb>	workbench.maximized blah blah { works fine }
Sep 24 13:49:55 <djb>	so, lapo, it seems that's all that's needed
Sep 24 13:51:16 <lapo>	I think the rounding is superfluos I can be wrong tho
Sep 24 13:51:38 <lapo>	I'll check that tomorrow, I need to go, ciao guys
Sep 24 13:52:03 <djb>	lapo: if I overrode all types of workbench, then all windows had square corners
Sep 24 13:52:12 <djb>	and ciao!
Sep 24 13:52:31 <cruncher>	got it
Sep 24 13:52:41 <cruncher>	finally
Sep 24 13:52:48 <cruncher>	bye lapo 
Sep 24 13:52:50 *	djb braces for impact
Sep 24 13:53:20 <cruncher>	i have now my own theme, and volume works, network-manager, etc etc.. all show perfectly now
Sep 24 13:54:00 <djb>	how did you achieve this (literal) black magic
Sep 24 13:54:02 <cruncher>	djb, i extracted the original adwaita gtk3 theme, and using that one it works.
Sep 24 13:54:15 <cruncher>	so indeed, ALL themes are broken :D
Sep 24 13:54:24 <cruncher>	just joking
Sep 24 13:54:32 <djb>	lolwut
Sep 24 13:54:45 <cruncher>	probably due to the new gtk3 or xfce version something got messed up
Sep 24 13:55:08 <cruncher>	fact is, when using a well done gtk.css all works
Sep 24 13:55:31 <cruncher>	so i guess all other themes must be updated to work in the new version
Sep 24 13:55:36 <djb>	sure, but that still indicates a problem in other WMs to honour the user's settings when using non-defaullt themes
Sep 24 13:55:49 <djb>	oh wait, I think we're still talking about 2 different things
Sep 24 13:57:47 <cruncher>	my guess is for the new xfce (or gtk3, not sure which applies), some things (maybe some syntax, or some name changed?) changed, and therefore the themes dont work (anymore)
Sep 24 13:58:19 <bossjones>	TingPing thx for your suggestion about jhbuild run, that worked for me!
Sep 24 13:58:20 <cruncher>	so now extracting that theme, you can add it to your dark gtk2 theme as gtk3 and it will work
Sep 24 13:59:00 <djb>	great to now, seems like a lot of redundant work though!
Sep 24 13:59:09 <djb>	*know
Sep 24 13:59:25 <djb>	2 secs, i'm going to resurrect my XFCE session and relive the old days
Sep 24 13:59:31 <cruncher>	yes, and i can finally use gtk3 stuff normally
Sep 24 13:59:44 <cruncher>	creating my gtk2 theme, and trying to fix the gtk3 i spent like 2days already
Sep 24 14:21:45 <djb>	cruncher: nah, like you, i can't figure out any nice way to win this one
Sep 24 14:22:04 <cruncher>	djb, ??
Sep 24 14:22:11 <cruncher>	i did already :)
Sep 24 14:22:23 <cruncher>	i have now gtk2 dark + gtk3 dark
Sep 24 14:22:48 <djb>	you figured out a very clever way, not necessarily a nice one ;) as we shouldn't have to set up a parallel copy of Adwaita when the WM could just enforce our prefer-dark-theme
Sep 24 14:23:05 <djb>	a few folk in older threads suggested symlinking ~/.config/gtk-3.0 to /usr/share/Adwaita/gtk-3.0, or vice versa... but neither do anything
Sep 24 14:23:13 <cruncher>	ah yes, if its a bug, or newer command instruction set, i dont know
Sep 24 14:23:26 <cruncher>	yes, i read that too, but that ddnt work.
Sep 24 14:23:51 <cruncher>	i guess in this hardcoded adwaita gtk3 theme, they did update some commands for the new gtk version
Sep 24 14:24:10 <djb>	it's bugging me too much - i might ask on #xfce
Sep 24 14:24:18 <cruncher>	it works basically ONLY with the (integrated) adwaita gtk3 theme, so they must have changed something in it
Sep 24 14:24:39 <cruncher>	and maybe even didnt inform people on what to change
Sep 24 14:24:59 <cruncher>	i really dont know the reason why only this works, but im happy that i can build now on this one
Sep 24 14:25:20 <djb>	for sure, great result!
Sep 24 14:25:28 <cruncher>	thanks
Sep 24 14:26:16 <djb>	thanks for letting me/us know!
Sep 24 14:26:23 *	djb goes to bug the xfce folk
Sep 24 14:28:11 <cruncher>	where is that xfce channel?
Sep 24 14:28:27 <cruncher>	resp. "the xfce folk"? :)
Sep 24 14:28:48 <djb>	Freenode #xfce
Sep 24 14:29:04 <baedert>	say hi to killermoehre for me
Sep 24 14:46:53 *	Disconnected (Invalid argument)
**** ENDING LOGGING AT Sat Sep 24 14:46:53 2016

**** BEGIN LOGGING AT Sat Sep 24 14:47:37 2016

Sep 24 14:47:37 *	Now talking on #gtk+
Sep 24 14:47:37 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 24 14:47:37 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 24 14:47:46 <djb>	i think it just wouldn't start at all, because the shortcut would be consumed by the program. idk. i've only ever used the command-line method so am poorly placed to speculate further
Sep 24 14:49:09 <fmuellner>	the app in question is epiphany, fwiw
Sep 24 14:49:31 <djb>	thanks!
Sep 24 14:50:35 <cruncher>	no, i dont run the game epiphany nor the browser
Sep 24 16:01:56 <borschty>	gsettings get org.gtk.Settings.Debug enable-inspector-keybinding
**** BEGIN LOGGING AT Sat Sep 24 16:43:50 2016

Sep 24 16:43:50 *	Now talking on #gtk+
Sep 24 16:43:50 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 24 16:43:50 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 24 16:50:23 <Hussam>	I am glad Gnome doesn't outsource bug tracking. A few months ago, Mozilla hired people from softvision to just close as many bugs as possible without even reading details on how to reproduce those bugs.
Sep 24 17:00:58 <djb>	now that sounds terrible
Sep 24 17:23:21 <aneas>	hi. i've added the hotkey `<Control>a' to an action with gtk_application_set_accels_for_action. this works fine. however, the action is also activated when a GtkEntry has keyboard focus and <Control>a is pressed to select all text. is there a way to only trigger accels if the focused element doesn't handle it by itself?
Sep 24 18:35:08 <cruncher>	how can i know what kind of widget thunar has where the files are listed?
Sep 24 18:36:33 <cruncher>	btw, i found out why gtkinspector didnt start when pressing the shortcut, it does only on gtk3 apps
Sep 24 18:38:52 <The_gull>	cruncher: that’s normal, yes, the inspector has been added during the first releases of gtk3 ; before, there was a out-of-tree plugin for gtk3 (called GtkParasite I think), but it was not known by many people
Sep 24 18:39:18 <The_gull>	cruncher: Thunar is not compiled using gtk3 ?
Sep 24 18:39:27 <The_gull>	for gtk2*
Sep 24 18:39:38 <cruncher>	yes, it is gtk2
Sep 24 18:39:48 <cruncher>	so gtkinsp. doesnt work on it
Sep 24 18:40:14 <The_gull>	then… well… I don’t know if you can do better than looking at the code :·/
Sep 24 18:40:23 <cruncher>	i was wondering why my shortcut didnt work (as i was trying it on gtk2 apps) :)
**** BEGIN LOGGING AT Sun Sep 25 18:47:13 2016

Sep 25 18:47:13 *	Now talking on #gtk+
Sep 25 18:47:13 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 25 18:47:13 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** BEGIN LOGGING AT Mon Sep 26 10:08:30 2016

Sep 26 10:08:30 *	Now talking on #gtk+
Sep 26 10:08:30 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 10:08:30 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 26 10:14:07 <blaphmat>	hello
Sep 26 10:14:22 <blaphmat>	while trying to build nautilus, i get this error:
Sep 26 10:14:23 <blaphmat>	Error during phase configure of gnome-autoar: ########## Error running /home/terminator/jhbuild/checkout/gnome-autoar/autogen.sh --prefix /home/terminator/jhbuild/install --disable-Werror  --disable-static --disable-gtk-doc  *** [18/36]
Sep 26 10:14:32 <blaphmat>	but u have libarchive installed
Sep 26 10:14:39 <blaphmat>	what do i do?
Sep 26 10:48:30 <mclasen>	do we know whats up with this ? http://i.imgur.com/6LF6uzz.png
Sep 26 10:48:41 <mclasen>	seems something causes gl rendering to upside down and mirrored 
Sep 26 10:48:43 <mclasen>	?
Sep 26 10:48:46 <mclasen>	ebassi: ^?
Sep 26 10:48:56 <tpm>	:D
Sep 26 10:53:47 <dj-death>	mclasen: sounds like offscreen rendering ;)
Sep 26 10:54:00 <dj-death>	mclasen: in GL it's Y-flipped
Sep 26 11:12:22 <ebassi>	mclasen: WebKitGtk on Wayland has started using EGL images to render stuff, but I guess they aren't flipping the buffer itself
Sep 26 11:13:15 <mclasen>	so, who's at fault, webkit or us ?
Sep 26 11:25:29 <nacho>	mclasen, hey, could you please have a look at https://bugzilla.gnome.org/show_bug.cgi?id=771775 ?
Sep 26 11:35:09 <kov>	mclasen, o/ tpopela was showing me the problem, we are now using gdk_cairo_draw_from_gl to paint the final rendering to gtk
Sep 26 11:35:23 <kov>	it expects the texture it gets to be y-flipped, so we flip it
Sep 26 11:35:48 <kov>	maybe it is taking a bad codepath inside gdk_cairo_draw_from_gl that is not re-flipping y?
Sep 26 11:36:10 <kov>	I have f25 evo + webkit + gtk here and do not hit the issue fwiw
Sep 26 11:38:45 <kov>	(you can probably work around it by setting WEBKIT_DISABLE_COMPOSITING_MODE=1 btw)
Sep 26 11:46:45 <mclasen>	I'll try that, thanks
Sep 26 11:47:23 <mclasen>	kov: you are right, that works around it
Sep 26 11:48:56 <kov>	mclasen, \o/ if you have some time, it'd be good to know which codepath good (viewer) and bad (composer) are taking inside gdk_cairo_draw_from_gl
Sep 26 12:46:28 <KaL>	is it possible to have a GtkMenuItem for a GAction with boolean state and a target not to be rendered as radio but as check?
Sep 26 12:47:51 <KaL>	something like this https://paste.fedoraproject.org/436091/47490845/ would work for me
Sep 26 13:03:12 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Mon Sep 26 13:03:12 2016

**** BEGIN LOGGING AT Mon Sep 26 13:36:26 2016

Sep 26 13:36:26 *	Now talking on #gtk+
Sep 26 13:36:26 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 13:36:26 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** ENDING LOGGING AT Mon Sep 26 14:01:40 2016

**** BEGIN LOGGING AT Mon Sep 26 15:45:16 2016

Sep 26 15:45:16 *	Now talking on #gtk+
Sep 26 15:45:16 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 15:45:16 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 26 15:54:48 <kov>	mclasen, we have a theory here regarding the upside down thing; we think you may be loading evolution with one version of libwebkit2gtk-4.0-37.so, and the WebProcess is being started with another
Sep 26 15:55:46 <kov>	we have reproduced it on emanuele aina's system and it turned out to be exactly that; it may be using the library from jhbuild for the main process and using the WebProcess from your main system, for instance
Sep 26 16:04:54 <hergertme>	Company, cosimoc: because it broke CSS!
Sep 26 16:05:17 <hergertme>	Company, cosimoc: we got cssnode crashes because some node assertions happened 
Sep 26 16:05:25 <cosimoc>	hergertme, dsd wrote a better patch for the same issue that seems to work
Sep 26 16:05:36 <cosimoc>	https://github.com/endlessm/gtk/commit/71435780133ffdcd9fb695b8adc51db78673f2a2
Sep 26 16:06:03 <cosimoc>	I'll attach it to the bug report :)
Sep 26 16:09:49 <csoriano>	cosimoc: just saw you use phabricator over there, is it nice? Seems there is some trend to gitlab instead.
Sep 26 16:10:03 <csoriano>	hm off-topic...
Sep 26 16:12:43 <nacho>	danw, https://git.gnome.org/browse/glib-openssl
Sep 26 16:13:35 <danw>	nacho: README is wrong, it still says to file bugs against glib
Sep 26 16:13:58 <nacho>	danw, right
Sep 26 16:36:13 <cosimoc>	csoriano, yes! it's very nice
Sep 26 16:36:31 <cosimoc>	like any other tool, it takes a while to get used to, but I now prefer it over bugzilla
Sep 26 16:36:37 <csoriano>	cosimoc: cool
Sep 26 16:36:48 <cosimoc>	and it's definitely a huge step up from what we had before (github issues)
Sep 26 16:36:53 <cosimoc>	I have no experience with gitlab
Sep 26 16:36:56 <csoriano>	well, it's not hard to prefer somthing over bugzilla... :) I was more thinking about github/gitlab
Sep 26 16:36:58 <csoriano>	ah ok
Sep 26 16:37:00 <csoriano>	good to know
Sep 26 16:37:08 <cosimoc>	we do not use phabricator for code hosting or code reviews tho
Sep 26 16:37:19 <cosimoc>	just for issue tracking and project management (e.g. kanban boards etc)
Sep 26 16:38:23 <csoriano>	ah. What do you use for code review? I was interested about that, because it has this "arcane" comman line tool similar to git bz, and with some prehooks for autorebase and autopush, which is nice
Sep 26 16:38:43 <Company>	cosimoc: please push that patch (ideally with the original comment about get_Style() invalidating)
Sep 26 16:38:56 <cosimoc>	csoriano, we use github PRs for code review
Sep 26 16:39:12 <cosimoc>	we did not want to self-host git repos
Sep 26 16:39:16 <csoriano>	ah ok
Sep 26 16:39:21 <csoriano>	cosimoc: for visibility?
Sep 26 16:39:23 <cosimoc>	which is what we'd have to do I think, since we're self-hosting phabricator
Sep 26 16:39:37 <cosimoc>	no, for backups etc
Sep 26 16:39:43 <csoriano>	ah right
Sep 26 16:39:47 <cosimoc>	we only have 1.5 sysadmins on the team and they're swamped already
Sep 26 16:40:22 <cosimoc>	Company, ok thanks
Sep 26 16:40:51 <csoriano>	cosimoc: I see. My major concern was visibility, but not sure how helpful in visibility is having GNOME in github...
Sep 26 16:41:05 <csoriano>	or endless repos
Sep 26 16:41:44 <cosimoc>	csoriano, I think github really shines when you use their whole package
Sep 26 16:42:06 <cosimoc>	I don't think that's desirable or feasible for GNOME
Sep 26 16:42:34 <csoriano>	yeah
Sep 26 16:42:49 <bagage_>	that's still a huge showcase ;)
Sep 26 16:42:52 <cosimoc>	but it is a convenience to have it there like it is right now, so that you can easily fork into your personal space/branch/etc even if you don't have a GNOME git account
Sep 26 17:22:52 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Mon Sep 26 17:22:52 2016

**** BEGIN LOGGING AT Mon Sep 26 17:23:05 2016

Sep 26 17:23:05 *	Now talking on #gtk+
Sep 26 17:23:05 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 17:23:05 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 26 18:12:57 <ebassi>	csoriano: Github has gotten better at the code review thing; issues are still a disaster zone, but Phabricator is nice, and integrates with github's API.
Sep 26 18:13:36 *	ebassi is just happy you can now merge with a rebase+fast foward on github's web UI
Sep 26 18:17:36 <hergertme>	cosimoc, ebassi: is there a public flatpak repo for the endless sdk yet?
Sep 26 18:17:50 <hergertme>	curious so that i can test locally with something other than freedesktop/gnome
Sep 26 18:27:55 FiSHLiM plugin unloaded
**** ENDING LOGGING AT Mon Sep 26 18:27:55 2016

**** BEGIN LOGGING AT Mon Sep 26 19:31:34 2016

Sep 26 19:31:34 *	Now talking on #gtk+
Sep 26 19:31:34 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 19:31:34 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** BEGIN LOGGING AT Mon Sep 26 21:38:19 2016

Sep 26 21:38:19 *	Now talking on #gtk+
Sep 26 21:38:19 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 26 21:38:19 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** BEGIN LOGGING AT Tue Sep 27 07:53:47 2016

Sep 27 07:53:47 *	Now talking on #gtk+
Sep 27 07:53:47 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 27 07:53:47 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 27 08:26:12 <Valleriani>	I'm not using GTK+3 using GTK#3, all is well but I do not know how to declare Composite Widget Templates. Generally with glade files I use the Builder class to load it, but when I use a template it will scream "Not expecting to handle a template". Would anyone have an idea on this? I assume maybe you don't use a Builder to declare it. Or something is missing. 
Sep 27 08:32:03 <ebassi>	Valleriani: Unless GTK# supports calling class methods on GtkWidgetClass, then you cannot really use the composite template API
Sep 27 08:32:40 <ebassi>	Valleriani: Usually, language bindings need some additional glue in their own implementation to allow using templates
Sep 27 08:33:08 <Valleriani>	Ah, alright, thanks mate.
Sep 27 08:33:31 <Valleriani>	I assume that's why I can't declare it nicely then. I don't see anything to do with the widget class.
Sep 27 08:38:37 <oholy>	Hey! GLib has g_unix_mount_at (mount_path), would it be acceptable to add e.g. g_unix_mount_for (whatever_path)? glocalfile.c contains already private code for such task. We need it in GVfs and I would like to avoid copy-and-pasting... see Bug 771431.
Sep 27 08:38:44 <oholy>	mclasen: ^
Sep 27 08:47:20 <mclasen>	it would be a bit ugly to have GUnixMountEntry appear in the public GFile api...
Sep 27 08:47:33 <mclasen>	other than that, no objections
Sep 27 09:00:47 <oholy>	mclasen: ok, thanks, I don't think we need GUnixMountEntry in public GFile api for it...
Sep 27 09:01:17 <oholy>	mclasen: can you please also take a look at Bug 769378?
Sep 27 09:09:24 <mclasen>	clever to have a replacement script like that
Sep 27 09:09:27 <mclasen>	I like it
Sep 27 09:10:49 <oholy>	mclasen: thanks
Sep 27 09:25:32 <bagage_>	can someone fix the wiki page https://developer.gnome.org/gtk3/unstable/GtkShortcutsWindow.html please? in "An example with multiple sections:" the UI URL is invalid
Sep 27 09:31:39 <baedert>	works here
Sep 27 09:34:11 <bagage_>	the url (https://git.gnome.org/browse/gtk+/tree/demos/gtk-demo/shortcuts-clocks.ui) is the same as the example above
Sep 27 09:35:38 <baedert>	ah
Sep 27 09:35:57 <baedert>	luckily that's generated from the gtkshortcutswindow.c so you can change it \o/
Sep 27 09:37:39 <bagage_>	i'd love to but the associated .ui file seems not present in gtk+ git repository
Sep 27 09:38:21 <eyelash>	I want to change the mouse cursor when hovering my custom widget. is using a child GdkWindow like GtkEntry and GtkTextView the recommended way to do this?
Sep 27 09:39:26 <baedert>	bagage_: looks like it's just shortcuts-builder.ui in the same directory?
Sep 27 09:41:35 <bagage_>	yeah was on 3.16.X branch, my bad :)
Sep 27 11:53:59 <lapo>	hergertme: pingity
**** BEGIN LOGGING AT Tue Sep 27 13:07:33 2016

Sep 27 13:07:33 *	Now talking on #gtk+
Sep 27 13:07:33 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 27 13:07:33 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** ENDING LOGGING AT Tue Sep 27 14:00:00 2016

**** BEGIN LOGGING AT Tue Sep 27 15:23:38 2016

Sep 27 15:23:38 *	Now talking on #gtk+
Sep 27 15:23:38 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 27 15:23:38 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** ENDING LOGGING AT Tue Sep 27 15:42:34 2016

**** BEGIN LOGGING AT Tue Sep 27 16:03:40 2016

Sep 27 16:03:40 *	Now talking on #gtk+
Sep 27 16:03:40 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 27 16:03:40 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
**** ENDING LOGGING AT Tue Sep 27 17:04:21 2016

**** BEGIN LOGGING AT Wed Sep 28 10:32:02 2016

Sep 28 10:32:02 *	Now talking on #gtk+
Sep 28 10:32:02 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 28 10:32:02 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 28 10:47:29 <Company>	hrm, poll:
Sep 28 10:47:47 <Company>	Do we create a pango context from a GdkDisplay or from a GtkSettings object?
Sep 28 10:48:11 <Company>	ie gtk_pango_context_new(display) or gtk_pango_context_new(settings) ?
Sep 28 10:48:54 <Company>	ebassi: would your GSK work add any GDK dependencies for font rendering?
Sep 28 10:49:15 *	Company better asks that question before he moves Pango away from GDK
Sep 28 11:17:49 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 28 11:17:49 2016

**** BEGIN LOGGING AT Wed Sep 28 11:18:02 2016

Sep 28 11:18:02 *	Now talking on #gtk+
Sep 28 11:18:02 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 28 11:18:02 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 28 11:18:12 <Company>	ebassi: that function is independant of GDK - it only looks up properties on GdkScreen and those are duplicated there from GtkSettings
Sep 28 11:18:41 <Company>	ebassi: so GDK is actually not involved at all in pango context creation which made me think I could move it to GTK
Sep 28 11:19:40 <bugbot>	william@attente.ca changed the Status on bug 769554 from NEW --- to RESOLVED FIXED.
Sep 28 11:19:40 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=769554 Backend: Mir, normal, gtk-bugs, RESOLVED FIXED, [Mir] Touchpad scrolling not as smooth as it should be
Sep 28 11:20:20 <ebassi>	Company: Sounds okay to me; we may need to create a PangoContext with a special renderer for caching glyphs, but then GTK would calls GSK API for that, not GDK.
Sep 28 11:21:44 <Company>	ebassi, mclasen: do you know any application that would call gdk_pango_context_get_for_screen() instead of gtk_widget_create_pango_context() ?
Sep 28 11:21:58 <Company>	because I could just remove that function...
Sep 28 11:26:25 <Company>	next question:
Sep 28 11:26:36 <mclasen>	try codesearch ? doesn't debian still have that ?
Sep 28 11:26:45 <Company>	mclasen: do we want to keep GtkSocket/GtkPlug?
Sep 28 11:27:07 <Company>	debian codesearch only finds 10 pages of bindings
Sep 28 11:27:28 <Company>	and i'm not interested in knowing that the fuction is bound in haskell :/
Sep 28 11:27:38 <baedert>	vte has one call
Sep 28 11:30:40 <Company>	which is a bullshit call though
Sep 28 11:31:07 <Company>	because it should call gtk_widget_create_cairo_context() instead
Sep 28 11:31:56 <Company>	actually
Sep 28 11:32:04 <Company>	i'm not even sure what that function wants
Sep 28 11:32:28 <Company>	does it want the widget's font options or the settings' font options
Sep 28 11:33:24 <Company>	it's code written by krh on Christmas 2009
Sep 28 11:37:57 <Company>	chpe: do you know off-hand if there's a reason to not call gtk_widget_create_pango_context() in font_info_create_for_widget() ?
Sep 28 11:40:23 <chpe>	probably only for historical reason, like when it was written we didn't have a widget available...
Sep 28 11:41:43 <Company>	yay!
Sep 28 11:42:22 <Company>	i mean, we could also add gtk_settings_get_font_options() if people want that
Sep 28 11:43:13 <Company>	of coruse, those wouldn't affect font options set via gtk_widget_set_font_options()
Sep 28 11:43:52 <mclasen>	don't we already have too many font option apis >
Sep 28 11:43:54 <mclasen>	?
Sep 28 11:46:18 <Company>	not really
Sep 28 11:46:27 <Company>	we just have settings and widget
Sep 28 11:46:29 <Company>	afaics
Sep 28 11:46:44 <Company>	we just make them more complicated by storing the settings options in the GdkScreen
Sep 28 11:46:58 <Company>	i don't think CSS does font options
Sep 28 11:47:24 <grawity>	you mean like 'font-feature-settings'?
Sep 28 11:54:17 <mclasen>	cairo has some, pango has some...
Sep 28 11:55:51 <mclasen>	we have text-decoration in css, but that gets translated into pango attributes, not font settings
Sep 28 12:04:48 <alex>	Company: possibly its on the screen so we could back the font setting on some window system native setting?
Sep 28 12:05:00 <alex>	i.e. read win32 defaults, etc
Sep 28 12:05:21 <alex>	That said, these days we just add win32 ifdefs to the gtk side
Sep 28 12:05:28 <Company>	alex: i suspect it's from the pre-cairo days
Sep 28 12:05:37 <alex>	could be
Sep 28 12:05:50 <Company>	alex: and all the window-system specific stuff is sent to GtkSettings via GdkSettings
Sep 28 12:06:59 <Company>	so if we decided to stop using GtkSettings, we'd move that stuff back to GdkDisplay
Sep 28 12:07:13 <Company>	but then we'd need to decide to stop using GtkSettings
Sep 28 12:09:21 <alex>	Company: do you have your gtk4 work on some public branch?
Sep 28 12:09:44 <Company>	no, it wasn't interesting enough to me yet
Sep 28 12:09:52 <Company>	but I can push it if you want me to
Sep 28 12:11:05 <Company>	i'm just removing stuff for now (or figuring out what removing stuff requires or enables)
Sep 28 12:12:47 <Company>	alex: https://git.gnome.org/browse/gtk+/log/?h=wip/otte/gtk4
Sep 28 12:15:21 <mclasen>	oh, a gtk4 branch. thrilling
Sep 28 12:15:53 <alex>	Company: didn't remove GtkStyle yet, eh?
Sep 28 12:15:54 <fmuellner>	"Remove GtkStatusIcon" - even more thrilling!
Sep 28 12:16:48 <Company>	alex: I'm focusing on GDK :p
Sep 28 12:17:11 <alex>	Company: Make it an non-installed helper lib!
Sep 28 12:17:34 <Company>	ewww, touching the build system
Sep 28 12:17:43 <mclasen>	were all things you removed already deprecated ? if not, we should go back and do that
Sep 28 12:19:09 <alex>	Company: i guess the linking part is easy, but not things like gir files, etc
Sep 28 12:19:51 <Company>	mclasen: no
Sep 28 12:20:12 <Company>	mclasen: the screen monitor APIs weren't, for example
Sep 28 12:21:09 <Company>	mclasen: it left the question about how to change code
Sep 28 12:21:42 <Company>	mclasen: do we just add BEGIN/END_IGNORE_DEPRECATIONS or do we actually make things use GdkMonitor?
Sep 28 12:22:53 <mclasen>	either way is ok with me. The BEGIN/END approach seems a bit safer
Sep 28 12:23:31 <Company>	it's safer
Sep 28 12:23:45 <Company>	but it makes GTK3/4 differ quite a bit more
Sep 28 12:23:53 <mclasen>	thats true
Sep 28 12:34:09 <coolkid87>	Cairo::Surface::write_to_png() is sometimes writing 0 byte long PNG, but sometimes it succeeds. I'm using it with an ImageSurface with a buffer allocated by the application. The buffer isn't destroyed before the call to write_to_png() call. 
Sep 28 12:36:22 <coolkid87>	Will I need to call Surface::finish() manually after write_to_png()?
Sep 28 12:41:42 <bugbot>	mclasen@redhat.com changed the Status on bug 771959 from NEW --- to RESOLVED FIXED.
Sep 28 12:41:42 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771959 .General, normal, gtk-bugs, RESOLVED FIXED, gtk_init_with_args fails when no display is found / does not comply with its documentation
Sep 28 12:46:21 <mclasen>	garnacho: a popover crash: bug 771812
Sep 28 12:46:22 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771812 Widget: GtkPopover, major, gtk-bugs, NEW , Crash when reparenting a popover with a non-null parent_scrollable
Sep 28 12:48:58 <garnacho>	mclasen: oh right, started looking into it while at xdc
Sep 28 13:07:52 *	Disconnected (Connection timed out)
**** ENDING LOGGING AT Wed Sep 28 13:07:52 2016

**** BEGIN LOGGING AT Wed Sep 28 13:08:05 2016

Sep 28 13:08:05 *	Now talking on #gtk+
Sep 28 13:08:05 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Sep 28 13:08:05 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Sep 28 13:08:23 <LRN>	m-kay
Sep 28 13:08:48 <mclasen>	maybe because thats the only place where we use G_DECLARE inside gtk+ ?
Sep 28 13:10:10 <lapo>	LRN: what you see on gtk3-demo is our shadow
Sep 28 13:10:24 <lapo>	LRN: here's a snippet for your inspector pleasure messagedialog.csd decoration { box-shadow: 0 5px 0 5px red; }
Sep 28 13:10:34 <aday>	mclasen: so fair to say it's a bit more complex in terms of knowing which version goes with what
Sep 28 13:10:42 <lapo>	LRN: you *should* figure out if there's a shadow with that snipped :-)
Sep 28 13:10:49 <chpe>	the same also happens in other places with other MAX_ALLOWED values, e.g. bug 747027
Sep 28 13:10:51 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=747027 general, normal, gtkdev, NEW , autocleanup generates deprecated warning in C++ with MAX_ALLOWED < 2.44
Sep 28 13:11:42 <lapo>	LRN: if you s/messagedialog.csd// that will add the "pretty visible" shadow anywhere
Sep 28 13:12:02 <LRN>	lapo, i see dead people (stroked out) red shadow
Sep 28 13:12:11 <LRN>	on a message dialog
Sep 28 13:12:29 <lapo>	yup, intended, is it noticiable enough? :-)
Sep 28 13:13:16 <lapo>	here I don't see any other shadow but that red "beauty" so the wm is not drawing one
Sep 28 13:13:27 <LRN>	lapo, is it possible to just change *existing* shadow to red, without changing its size?
Sep 28 13:14:28 <lapo>	LRN: nope
Sep 28 13:14:55 <lapo>	LRN: IIRC box-shadow is not a shorthand but a full prop, so you need to change the whole shadow
Sep 28 13:15:01 <LRN>	For now, AFAICS, the message dialog shadow is super-thin, barely 4 pixels on left/right border, and around 9 pixels at the bottom border
Sep 28 13:15:04 <lapo>	I mean redefine it
Sep 28 13:15:16 <LRN>	normal window shadow is much larger
Sep 28 13:15:21 <lapo>	yup
Sep 28 13:15:39 <lapo>	I think we can increase that
Sep 28 13:16:08 <lapo>	it's that way since usually the parent app window is bigger than the dialog
Sep 28 13:16:51 <LRN>	also, when i'm not using your CSS override, the shadow is absolutely invisible/transparent (on Windows), and the way cursor changes when it is leaving the message dialog is consistent with shadow being nonexisting
Sep 28 13:17:46 <LRN>	of course, i can't look at its current CSS properties, because it's modal, and GTK Inspector on Windows is not an independent window
Sep 28 13:17:47 <lapo>	don't we have a window theme?
Sep 28 13:18:57 <lapo>	LRN: the border shadow should be visible anyway, no?
Sep 28 13:19:08 <lapo>	LRN: can you take a screenshot?
Sep 28 13:19:46 <ebassi>	mclasen: Mmh; it seems it's calling the get_type() function inside the inlined functions
Sep 28 13:20:16 <mclasen>	yep
Sep 28 13:20:18 <ebassi>	Mmh
Sep 28 13:20:28 <mclasen>	and apparently c++ is relevant insofar that the pragmas don't work ?
Sep 28 13:20:41 <lapo>	apropos dialog, has anybody tried to use libreoffice on f24?
Sep 28 13:20:50 <lapo>	it's pretty much unusable
Sep 28 13:21:07 <ebassi>	We cannot call G_GNUC_BEGIN_IGNORE_DEPRECATIONS inside the G_DECLARE_* macros because they are macros themselves
Sep 28 13:21:08 <LRN>	lapo, dunno, this is what i see: http://lrn.no-ip.info/other/gtk_message_dialog_shadow.png
Sep 28 13:21:16 <ebassi>	We may be able to use _Pragma though
Sep 28 13:22:08 <lapo>	LRN: oh, here the dialog is "locked" on the parent and the parent is darkened, so the thin shadow makes sense
Sep 28 13:22:25 <lapo>	LRN: there the message dialog needs a full blown shadow
Sep 28 13:22:37 <ebassi>	Or maybe not, and it's just the C++ version being used being arse
Sep 28 13:23:17 <lapo>	LRN: no idea how to achieve that though, I'd need to special case the window stuff
Sep 28 13:23:54 <lapo>	LRN: it's not just about message dialog but any modal dialog I think
Sep 28 13:26:18 <LRN>	lapo, well, i can do changes in GTK and GDK, but i can't do anything about Adwaita, so i just wanted to know whether it's caused primarily by Adwaita or by GTK
Sep 28 13:26:30 <lapo>	LRN: this is what you get on gnome https://dl.dropboxusercontent.com/u/208474/message-dialog.png
Sep 28 13:26:52 <lapo>	LRN: it's adwaita's fault totally, but the things are different here
Sep 28 13:27:04 <LRN>	yes, because Gnome WM does darkout
Sep 28 13:27:18 <LRN>	Windows WM does not, and my attempts to emulate it in GDK didn't go too well
Sep 28 13:27:19 <lapo>	ok
Sep 28 13:28:30 <lapo>	uhm
Sep 28 13:28:59 <LRN>	two options here: 1) give shadows to modal dialogs (even if WM uses darkout) in Adwaita. This might look OK enough for Gnome people not to care. 2) give shadows to all dialogs (including modal ones) in Adwaita, but make GTK hide it for modal dialogs (after asking GDK what kind of darkout is supported by the WM)
Sep 28 13:29:16 <LRN>	3) Do nothing, modals on Windows will continue to suck
Sep 28 13:33:00 <lapo>	LRN: 4) have a proper window theme
Sep 28 13:33:15 <lapo>	LRN: Company worked on 4 IIRC
Sep 28 13:34:30 <LRN>	lapo, define "proper"
Sep 28 13:34:38 <LRN>	Adwaita is fine, IMO
Sep 28 13:34:41 <lapo>	that's a good question
Sep 28 13:35:05 <lapo>	LRN: no idea never tried it
Sep 28 13:35:33 <lapo>	Company: ?
Sep 28 13:38:18 <Company>	lapo: I gave up
Sep 28 13:38:36 <Company>	lapo: because somebody decided that a GtkSwitch widget was a nice idea
Sep 28 13:38:49 <Company>	lapo: and windows has noi way to style such a thing natively
Sep 28 13:39:13 <Company>	lapo: right after that somebody decided that having a GtkHeaderBar instead of proper window decorations would be cool
Sep 28 13:39:23 <Company>	lapo: and windows has noi way to style such a thing natively
Sep 28 13:39:28 <Company>	lapo: and then something else
Sep 28 13:39:37 <Company>	lapo: and windows has no way to...
Sep 28 13:39:44 <Company>	you can see where this is going...
Sep 28 13:40:05 <lapo>	Company: so doing anything different from windows is a bad idea in your humble opinion?
Sep 28 13:40:14 <lapo>	not sure we're on the same page eh
Sep 28 13:40:33 <lapo>	Company: anyway, windows 10 has both switches and "headerbars"
Sep 28 13:40:35 <Company>	lapo: yes, on the condition that you want to look like windows
Sep 28 13:41:11 <lapo>	Company: you could ask a designer (this one included) how to draw those with windows bits and pieces
Sep 28 13:41:50 <LRN>	You can't look *exactly* like Windows (some widgets don't work the same way their Windows couterparts do)
Sep 28 13:41:55 <Company>	lapo: yeah, but at that point we don't need a windows theme, we need a designer to make a css theme that looks like windows
Sep 28 13:42:21 <LRN>	You can look *somewhat* like Windows, with CSS, but it will be just CSS - i won't match your Windows theme
Sep 28 13:42:24 <lapo>	well, taking care of 2 widgets is not exactly the same then having a full blown theme
Sep 28 13:42:55 <LRN>	You can look *not very much* like Windows, with CSS+Windows Theme Parts API, but it looks like crap and was never updated for newer Windowses
Sep 28 13:43:12 <Company>	lapo: you end up doing a full blown theme
Sep 28 13:43:24 <LRN>	And you can never do Vista/7 glass effects (CSS or no CSS)
Sep 28 13:43:25 <Company>	lapo: at least that was my impression when i tried
Sep 28 13:43:47 <lapo>	LRN: we can do pretty much anything win10 does
Sep 28 13:43:54 <lapo>	problem is taking care of the theme
Sep 28 13:44:16 <lapo>	that's why I thought Company's effort was a brilliant idea
Sep 28 13:44:20 <LRN>	yes, that's what i meant by the "somewhat like Windows, with CSS"
Sep 28 13:45:06 <Company>	lapo: the windows theming API can only style things that are exactly like windows
Sep 28 13:45:24 <Company>	lapo: so the moment you introduce something else, you have to style it manually
Sep 28 13:45:39 <Company>	lapo: like a notebook with tabs not at the top
Sep 28 13:46:15 <Company>	windows has a notebook, and windows has ways to style that notebook, but tabs are always at the top
Sep 28 13:47:00 <LRN>	I think that lapo mean that someone could just write a pure CSS theme that doesn't use Windows Theme API and draws Windows lookalike widgets all by itself
Sep 28 13:47:08 <LRN>	s/mean/meant/
Sep 28 13:47:17 <Company>	i don't even remember if windows insisted that all tabs are always visible (and stacked in multiple rows) - which would have made gnome-terminal or epiphany style apps with arrows on tab overflow require manual styling
Sep 28 13:47:24 <Company>	yes
Sep 28 13:47:29 <Company>	you could do that
Sep 28 13:47:33 <Company>	a WIndows theme
Sep 28 13:47:36 <Company>	and a WIndows XP theme
Sep 28 13:47:40 <Company>	and a Windows Aero theme
Sep 28 13:47:44 <Company>	and a Windows Vista theme
Sep 28 13:47:48 <Company>	and a Windows 7 theme
Sep 28 13:47:51 <Company>	and a WIndows 8 theme
Sep 28 13:47:54 <Company>	and a Windows 10 theme
Sep 28 13:47:59 <LRN>	yes, exactly
Sep 28 13:49:18 <baedert>	good news: xp isn't supported \o/
Sep 28 13:49:37 <Company>	of course
Sep 28 13:49:43 <Company>	all of that is still very hard
Sep 28 13:49:54 <Company>	because Windows apps have ribbons
Sep 28 13:49:59 <Company>	so they look like they have ribbons
Sep 28 13:50:15 <Company>	and it's very hard to make Gnome apps look like they have ribbons
Sep 28 13:52:02 <lapo>	LRN: nope I mean using the theming api
Sep 28 13:52:15 <baedert>	all I want is a g_print_stack_trace so gdb doesn't stop 400 times before I even see a window
Sep 28 13:52:32 <Company>	baedert: we had that
Sep 28 13:52:47 <LRN>	lapo, Windows Theming API is crap
Sep 28 13:52:51 <Company>	baedert: using glibc's stack trace printing API
Sep 28 13:52:56 <Company>	baedert: but it didn't work reliably
Sep 28 13:53:17 <lapo>	LRN: I trust your judgment, but you'll have the windows look "for free"
Sep 28 13:53:34 <Company>	lapo: I did that - pretty much all you can do with it is in git, somebody just needs to add the rest
Sep 28 13:53:43 <Company>	lapo: and not throw up when looking at the css files
Sep 28 13:53:43 <lapo>	[free my a*s, but yeah, you got what I mean]
Sep 28 13:53:46 <LRN>	Windows Theming API does not provide the "Windows look" these days
Sep 28 13:54:01 <LRN>	that's why i said it's crap
Sep 28 13:54:17 <LRN>	(also, see what Company said about styling non-native widgets)
Sep 28 13:54:36 <tpm>	baedert, for?
Sep 28 13:55:00 <lapo>	Company: but can't you grab bits and pieces and stich them together for drawing non native widgets?
Sep 28 13:55:40 <Company>	lapo: it's all gradients + borders stitched together
Sep 28 13:55:48 <Company>	lapo: it's easier to just specify the gradient that you want
Sep 28 13:55:53 <baedert>	tpm: I have a g_critical already at the point I want gdb to stop and now I want to get the stack trace of the last call to function foobar before that
Sep 28 13:56:08 <lapo>	Company: but that would change when they change things
Sep 28 13:56:34 <lapo>	Company: and you'd need aero/win10/classic versions at least
Sep 28 13:56:59 <Company>	lapo: true
Sep 28 13:57:00 <lapo>	since stylewise you can't have one fitting all since window10 is totally flat for example
Sep 28 13:57:08 <Company>	lapo: but you don't need to add hacks everywhere
Sep 28 13:58:28 <tpm>	baedert, could you do that with gdb scripting? (break on foobar run script that does bt + continue)
Sep 28 13:59:00 <lapo>	Company: no idea
Sep 28 14:00:20 <lapo>	LRN: can you paste a screenshot of Company's windows theme in action tho?
Sep 28 14:00:30 <baedert>	tpm: no clue, I've never done that before
Sep 28 14:00:36 <Company>	lapo: here's a fun example:
Sep 28 14:01:08 <Company>	lapo: windows buttons have 4 states: normal, hover, pressed and disabled
Sep 28 14:01:46 <lapo>	no pressed disabled
Sep 28 14:02:13 <lapo>	[which could be skipped tho]
Sep 28 14:02:22 <tpm>	baedert, sth like "break foobar"  which gives you a breakpoint number, then command NUM<enter>backtrace<enter>continue<enter>end<enter> 
Sep 28 14:02:28 <Company>	lapo: windows doesn't have togglebuttons
Sep 28 14:02:45 <Company>	lapo: so now do a pressed disabled togglebutton
Sep 28 14:02:56 <Company>	lapo: and once you're done with that, do suggested-action
Sep 28 14:02:57 <lapo>	just draw a disabled button
Sep 28 14:03:22 <Company>	lapo: stack switchers won't like that
Sep 28 14:03:39 <lapo>	a disabled stack switcher?
Sep 28 14:04:22 <lapo>	 I'm more afraid of linked widgets than that
Sep 28 14:04:43 <lapo>	but that's doable anyway, don't like and add a little gap
Sep 28 14:04:48 <lapo>	s/like/link/
Sep 28 14:06:41 <baedert>	tpm: hm it stops after every bt to let me press return twice so I see the entire backtrace :)
Sep 28 14:06:50 <lapo>	I *could* write a win10 theme, it will bitrot tho
Sep 28 14:07:14 <baedert>	upload it to gnome-look.org!
Sep 28 14:07:16 *	baedert hides
Sep 28 14:07:20 <lapo>	being cool on windows would be a huge selling point
Sep 28 14:08:11 <lapo>	how does qt handles that tho?
Sep 28 14:08:27 <lapo>	do they have windows specific themes?
Sep 28 14:08:49 <baedert>	according to a guadec talk you have to implement some QtPlatform or whatever that defines lots of the platform specific stuff
Sep 28 14:09:43 <lapo>	platform specific or not, do they use window theming api or not, any idea?
Sep 28 14:11:33 <tpm>	baedert, ah, maybe do 'backtrace 10' or disable paging then (don't ask me how)
Sep 28 14:11:55 <tpm>	set something something
Sep 28 14:12:23 <baedert>	set pagination off
Sep 28 14:12:29 <baedert>	thanks SO
Sep 28 14:13:37 <baedert>	tpm: yeah that works, thanks
Sep 28 14:26:11 <feaneron>	hey, I'm trying to run a very very simple app (with only one empty window atm) and i'm getting this odd error:
Sep 28 14:26:13 <feaneron>	Gtk-CRITICAL **: _gtk_css_lookup_resolve: assertion '(((__extension__ ({ GTypeInstance *__inst = (GTypeInstance*) ((provider)); GType __t = ((_gtk_style_provider_private_get_type ())); gboolean __r; if (!__inst) __r = (0); else if (__inst->g_class && __inst->g_class->g_type == __t) __r = (!(0)); else __r = g_type_check_instance_is_a (__inst, __t); __r; }))))' failed
Sep 28 14:26:32 <feaneron>	Company, baedert: ^ any ideas?
Sep 28 14:27:29 <feaneron>	also:
Sep 28 14:27:31 <feaneron>	Gtk-ERROR **: Can't create a GtkStyleContext without a display connection
Sep 28 14:28:36 <Company>	feaneron: I think you need a display connection :)
Sep 28 14:28:48 <feaneron>	and........ how do I do that?
Sep 28 14:29:07 <Company>	feaneron: you call gtk_init() ?
Sep 28 14:29:48 <Company>	display connection is just an elated way to say "gdk_display_get_default() returned NULL"
Sep 28 14:30:13 <feaneron>	Company: I'm running it from a GtkApplication, which should init Gtk+, doesn't it?
Sep 28 14:32:51 <Company>	feaneron: no idea - call gdk_display_get_default() to see if it's fine
Sep 28 14:33:29 <feaneron>	AHA!
Sep 28 14:33:46 <feaneron>	I was creating the window instance at ::startup
Sep 28 14:33:53 <feaneron>	moving to ::activate fixes the issue
Sep 28 14:35:20 <feaneron>	seems like gtk_init() is called in the default handler of ::startup, so creating the window ~after~ chaining up also fixes that
Sep 28 14:35:27 <feaneron>	docs should be very clear about that
Sep 28 14:35:31 *	feaneron cooks a patch
Sep 28 14:36:03 <feaneron>	oh
Sep 28 14:36:08 <feaneron>	docs are clear
Sep 28 14:36:18 <feaneron>	this is just me not rtfm'ing
Sep 28 14:41:42 <RudyValencia>	So I'm developing an app that draws directly in the window, I want to make the window a specific size, accounting for the menubar. How do I get the menubar height?
Sep 28 14:42:23 <baedert>	look at gtkapplicationwindow.c, it already fucks around with that
Sep 28 14:42:42 <baedert>	Company: a GtkStyleCascade is a cascade of  style providers?
Sep 28 14:45:35 <RudyValencia>	baedert: is that in the GTK+ source or is it an example?
Sep 28 14:46:41 <baedert>	Which one?
Sep 28 14:46:54 <RudyValencia>	gtkapplicationwindow.c
Sep 28 14:47:12 <baedert>	that's in gtk+
Sep 28 14:48:01 <RudyValencia>	baedert: where is it adjusting the window height for the menubar in that file?
Sep 28 14:50:30 <baedert>	gtk_application_window_real_size_allocate screws around with the child allocation, the get_preferred_foo impls do the same hackery
Sep 28 15:00:41 <baedert>	tpm: Any idea if I can have the bt unconditionally but the continue only depending on a condition on one of the parameters of the function?
Sep 28 15:03:06 <tpm>	maybe two separate breakpoints, one condition on a parameter, one unconditional?
Sep 28 15:04:00 <tpm>	wait, that makes no sense, nevermind ;)
Sep 28 15:05:43 <tpm>	or does it?  break foobar if para==10   +  break foobar if para != 10
Sep 28 15:14:43 <Company>	baedert: yes
Sep 28 15:15:19 <Company>	baedert: with the added complexity of potentially having a parent cascade and having to mix the cascades
Sep 28 16:21:14 <RudyValencia>	baedert: sorry for the delay, I checked my code and GTK isn't resizing the window to add the menubar in.
Sep 28 16:35:12 <LRN>	lapo, AFAICS, Qt 4.8.6 does what GTK2 used to do (have its own Windows theme where they draw everything themselves; although their rendering is so close to native Windows in some cases, that i suspect that they also do what GTK3 tried to do - use Windows theming API)
Sep 28 16:36:34 <LRN>	OTOH, as i have said, some of the widgets they draw do not look completely Windowsly. Comboboxes have different-looking dropdown buttons (a "V" in Windows, a filled triangle in Qt), spinbuttons (Windows version is somewhat more sparse, and gets blue border when focused; Qt version is more tightly-packed, and its border remains black)
Sep 28 16:37:04 <hergertme>	is it feasible to just pay someone to write a really good CSS theme for windows?
Sep 28 16:37:20 <RudyValencia>	How do I get the height of a GTK3 MenuBar?
Sep 28 16:37:23 <hergertme>	obviously it would bitrot with time when not using the windows apis, but do they change that much?
Sep 28 16:37:32 <LRN>	it's feasible that they just have a Windows Theme engine that combines custom drawing and Windows Theming API calls
Sep 28 16:37:40 <hergertme>	RudyValencia, gtk_widget_get_allocation(menubar, &alloc)
Sep 28 16:37:59 <hergertme>	RudyValencia, or do you mean the requested size? gtk_widget_get_preferred_height(menubar, &min_height, &natural_height)
Sep 28 16:38:24 <RudyValencia>	hergertme: gtk_widget_get_allocation just gives me all zeros
Sep 28 16:38:41 <LRN>	i don't have a Qt5 app at hand, nor do i have Qt equivalent of Widget Factory to see how well all of their widgets match Windows and/or GTK
Sep 28 16:39:18 <LRN>	the app that i do have uses only standard widgets, mostly - entries, checkboxes, a notebook, buttons, spinbuttons
Sep 28 16:39:24 <LRN>	and comboboxes
Sep 28 16:39:41 <RudyValencia>	hergertme: I also get 0 and 0 from gtk_widget_get_preferred_height
Sep 28 16:40:39 <RudyValencia>	I'm expecting something around 35 for the theme I have
Sep 28 16:41:37 <RudyValencia>	I'm trying to adjust window height to include the menubar's height.
Sep 28 16:41:51 <hergertme>	RudyValencia, is it empty? if there is nothing in it, im not sure what id expect. i dont use menubars so i haven't happen to try any of this :)
Sep 28 16:42:04 <RudyValencia>	The menubar has menus in it
Sep 28 16:42:53 <hergertme>	well getting the preferred height works recursively, so why would gtk_widget_get_preferred_height(window, ...) not work?
Sep 28 16:52:00 <RudyValencia>	I found the problen
Sep 28 16:52:04 <RudyValencia>	*problem
Sep 28 16:52:58 <RudyValencia>	I didn't gtk_widget_set_size_request on the content
Sep 28 16:57:49 <hergertme>	if you've implemented natural/min sizing correctly, none of this should be necessary 
Sep 28 17:03:46 <bugbot>	New gtk+ bug 772146 filed by andrej@kacian.sk.
Sep 28 17:03:46 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772146 Backend: Win32, normal, gtk-win32-maint, NEW , Standalone GtkMenu doesn't disappear when clicking outside of it
Sep 28 17:04:02 <benwaffle>	\o/ gtk4 branch
Sep 28 17:12:43 <RudyValencia>	OK so now I'm porting some older GTK2 code that relies on the deprecated gdk_draw_indexed_image function. Is there a newer alternative that accomplishes the same thing?
Sep 28 17:28:04 <hergertme>	RudyValencia, you probably just want to create a cairo_surface_t for the image content and render with cairo using cairo_set_source_surface(), cairo_rectangle(), cairo_fill()
Sep 28 17:28:22 <hergertme>	in the from the draw vfunc
Sep 28 17:28:45 <hergertme>	s/in the//
Sep 28 17:29:29 <hergertme>	if you rely on dithering in that func, you might need cairo_pattern_set_filter()
Sep 28 19:20:39 <bugbot>	pyzahl@ymail.com changed the Resolution on bug 771968 from NOTABUG to INCOMPLETE.
Sep 28 19:20:41 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771968 gsettings, normal, desrt, RESOLVED INCOMPLETE, Problem specifying a gschema key/type for a dictionary with variant (array) data.
Sep 29 04:39:00 <bugbot>	oholy@redhat.com changed the Status on bug 662946 from NEW --- to RESOLVED FIXED.
Sep 29 04:39:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=662946 gio, major, gtkdev, RESOLVED FIXED, gunixmounts monitoring doesn't work correctly with libmount
Sep 29 05:34:48 <bugbot>	oholy@redhat.com marked bug 772092 as a duplicate of unknown bug.
Sep 29 05:34:48 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772092 gio, normal, gtkdev, RESOLVED DUPLICATE, GUnixMountMonitor's mounts-changed signal no longer activates
Sep 29 05:50:45 <bugbot>	oholy@redhat.com changed the Status on bug 747540 from NEW --- to RESOLVED OBSOLETE.
Sep 29 05:50:45 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=747540 gio, normal, gtkdev, RESOLVED OBSOLETE, g_unix_mounts_get() ignores btrfs subvolumes
Sep 29 05:56:16 <bugbot>	New glib bug 772160 filed by oholy@redhat.com.
Sep 29 05:56:16 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772160 gio, enhancement, gtkdev, NEW , Add g_unix_mount_for() support
Sep 29 06:49:34 <bugbot>	carlosg@gnome.org changed the Status on bug 771812 from NEW --- to RESOLVED FIXED.
Sep 29 06:49:34 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771812 Widget: GtkPopover, major, gtk-bugs, RESOLVED FIXED, Crash when reparenting a popover with a non-null parent_scrollable
Sep 29 07:10:13 <lapo>	hergertme: it's not really about writing the theme(s), but maintaining them
Sep 29 07:51:39 <heftig>	is there already a known bug about popups (menus, tooltips et cetera) in gtk 3.22 being constrained to the top-left quadrant? (setup uses scale=2)
Sep 29 07:53:03 <baedert>	there is one about them being misplaced
Sep 29 08:19:49 <bugbot>	mcrha@redhat.com changed the Component on bug 772078 from general to .General.
Sep 29 08:19:49 <bugbot>	mcrha@redhat.com changed the Product on bug 772078 from evolution to gtk+.
Sep 29 08:19:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772078 .General, major, gtk-bugs, NEW , [regression] Hang under gdk_display_manager_get() on start
Sep 29 10:20:00 <pstetka>	Hi guys, I do on new GNOME-usage. What is best option for drawing graphs in gtk? 
Sep 29 10:20:17 <pstetka>	I believe it would be best to draw graphs manually using cairo, since I have not found any useful library for drawing graphs.
Sep 29 10:31:25 <pwithnall>	pstetka: what kind of graphs? Graphs as in charts, or graphs as in nodes and connections between them?
Sep 29 10:31:35 <pwithnall>	Although in both cases the answer is probably Cairo, yes
Sep 29 10:34:03 <pstetka>	pwithnall: I need to draw a curve load CPU and the like. Thus graphs must be real time.
Sep 29 10:34:31 <slaf>	then use rg-graph from builder
Sep 29 10:34:31 <pwithnall>	pstetka: you should look at the widgets in gnome-system-monitor for drawing graphs
Sep 29 10:34:35 <pwithnall>	or that
Sep 29 10:35:13 <slaf>	https://git.gnome.org/browse/gnome-builder/tree/contrib/rg
Sep 29 10:36:12 <ebassi>	You should probably avoid gnome-system-monitor's graph, if you don't want your CPU graph to make your CPU measurably spike while rendering ;-)
Sep 29 10:36:34 <ebassi>	the graph widget from gnome-builder is a better implementation
Sep 29 10:38:50 <pstetka>	ebassi: pwithnall: Thanks I will study used a graph widget in gnome-builder
Sep 29 10:39:15 <pwithnall>	ebassi: I thought the gnome-system-monitor widget had been fixed to be super-efficient a few years ago?
Sep 29 10:39:21 *	pwithnall worries he is out of date
Sep 29 10:40:48 <ebassi>	Not that I know of
Sep 29 10:41:10 *	pwithnall is out of date :(
Sep 29 10:43:35 <ebassi>	pwithnall: It's just been updated to use GTK3 and Cairo a bit better, but it's still the same code, AFAIU
Sep 29 10:44:47 <mclasen>	hergertme just added some graphs in sysprof
Sep 29 10:44:56 <mclasen>	might be worth checking out
Sep 29 10:45:57 <baedert>	I have some recollection of someone posting a link to a gtk3 graph lib just a few days ago on a mailing list
Sep 29 10:46:01 *	baedert scratches head
Sep 29 10:46:47 <baedert>	https://github.com/elvismt/slope
Sep 29 10:46:49 <baedert>	ha.
Sep 29 11:58:27 <bugbot>	mclasen@redhat.com changed the Status on bug 771963 from NEW --- to RESOLVED FIXED.
Sep 29 11:58:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771963 .General, normal, gtk-bugs, RESOLVED FIXED, GtkPaned warning in gtk_paned_realize
Sep 29 12:26:16 <bugbot>	richard@hughsie.com changed the Status on bug 772120 from ASSIGNED --- to RESOLVED FIXED.
Sep 29 12:26:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772120 .General, enhancement, gtk-bugs, RESOLVED FIXED, Please add GDK_AVAILABLE_IN_3_24
Sep 29 12:28:13 <hughsie>	mclasen, for https://bugzilla.gnome.org/show_bug.cgi?id=772121#c1 -- which naming do you like?
Sep 29 12:28:14 <bugbot>	Bug 772121: Widget: Other, enhancement, gtk-bugs, NEW , add ability to change the delay timeout in GtkSearchEntry
Sep 29 12:28:27 <hughsie>	i agree it's not awesome they're different
Sep 29 12:35:19 <mclasen>	dunno. just call it delay ?
Sep 29 12:37:11 <Company>	meeeeehhhhh
Sep 29 12:37:16 <Company>	i need a good idea
Sep 29 12:37:25 <Company>	I've been looking into getting rid of root windows
Sep 29 12:37:40 <Company>	and root windows are required in gdk_window_new() currently
Sep 29 12:37:47 <Company>	which made me look at that function
Sep 29 12:37:54 <Company>	and it's a mess
Sep 29 12:38:00 <Company>	so what do i do with it?
Sep 29 12:39:20 <Company>	also, about foreign windows:
Sep 29 12:39:26 <Company>	can i delete GtkPlug/GtkSocket?
Sep 29 12:40:10 <Company>	i've also had another thought that I wanted to throw at alex 
Sep 29 12:40:39 <Company>	alex: what's speaking against being able to "show" any widget?
Sep 29 12:41:51 <Company>	alex: ie being able to show(), size_allocate(), map() a widget without a toplevel (which would allow you to draw it manually, which glade might find interesting)
Sep 29 12:42:30 <mclasen>	Company: add a new constructor for toplevels that doesn't take a parent ?
Sep 29 12:43:05 <Company>	mclasen: I could - but if I did that, I could just split it into 2 or 3 separate constructors
Sep 29 12:43:31 <mclasen>	doesn't thatmake sense ?
Sep 29 12:43:35 <Company>	one for toplevels, one for override_redirect, one for child windows and one wayland-specific one for subsurfaces?
Sep 29 12:43:56 <Company>	dunno
Sep 29 12:44:07 <Company>	would i handle those constructors separately?
Sep 29 12:44:26 <Company>	or would i make them all call the current gdk_window_new()?
Sep 29 12:45:04 <mclasen>	whatever is the most practical
Sep 29 12:45:31 <Company>	the most practical right now is just adding a GdkDisplay* argument to gdk_window_new()
Sep 29 12:45:39 <Company>	it's also the most stupid solution ;)
Sep 29 12:46:28 <Company>	mclasen: Also, can I remove https://git.gnome.org/browse/gtk+/tree/gtk/gtkwindow.c#n2394
Sep 29 12:46:54 <Company>	mclasen: the docs say "Do not use this function" - but there might be some old thing that needs it?
Sep 29 12:47:22 <Company>	asking because that's 2 arguments of GdkWindowAttr I could get rid of
Sep 29 12:48:35 <mclasen>	if we want to keep those at all, they belong in the x11 backend api
Sep 29 12:49:02 <Company>	true
Sep 29 12:49:33 <Company>	I could just add a gdk_x11_window_new_full() that takes those and a Visual
Sep 29 12:50:40 <Company>	that would kinda require making toplevel creation call into backends though
Sep 29 12:50:49 <Company>	hrm...
Sep 29 12:50:55 <Company>	oh, also
Sep 29 12:51:14 <Company>	mclasen, alex, ebassi: Can I remove gdk_window_ensure_native() from the public API?
Sep 29 12:52:55 <mclasen>	looks like we're still calling it in a few plaes ?
Sep 29 12:53:04 <Company>	inside GDK, yes
Sep 29 12:53:11 <Company>	but no calls from GTK
Sep 29 12:53:19 <mclasen>	hmm, true
Sep 29 12:54:01 <Company>	i'm also not sure why we insist on calling ensure_native() on selections
Sep 29 12:54:06 <Company>	that feels very bad
Sep 29 12:54:37 <mclasen>	because X needs window ids for selection owners, I guess ?
Sep 29 12:55:19 <Company>	yes
Sep 29 12:55:38 <Company>	but does that mean we make random windows native once you press ctrl-c ?
Sep 29 12:58:50 <ricotz>	hmm, better to branch gtk+ before adding 3.90 stuff ;)
Sep 29 12:59:10 <Company>	we do make random widgets native
Sep 29 12:59:32 <Company>	but we take care in GTK code that those random widgets are GtkWindows that we create for just those operations
Sep 29 13:00:13 <ricotz>	https://git.gnome.org/browse/gtk+/commit/?id=13e00b70c08d85750784ea014080d1ce52604dac
Sep 29 13:01:06 <Company>	do we even want GDK_AVAILABLE_IN_3_90 ?
Sep 29 13:01:17 <Company>	shouldn't that be GDK_AVAILABLE_IN_4_0 ?
Sep 29 13:01:47 <ricotz>	better branch and change the library name at first
Sep 29 13:02:20 <Company>	no idea why hughsie added that
Sep 29 13:02:32 <Company>	he certainly didn't seem to need it
Sep 29 13:04:17 <Company>	oh wow
Sep 29 13:04:29 <Company>	those wmclass properties aren't even construct properties
Sep 29 13:04:37 <Company>	anyone can just call XSetClassHint() manually
Sep 29 13:04:41 <mclasen>	Company: if we do .90, .92, etc. then having version markers to go along with that seemed to make sense to me ?
Sep 29 13:15:40 <ricotz>	mclasen, hi, does this mean there will be no hard cut to transition to a new library name?
Sep 29 13:17:17 <bugbot>	gpoo@gnome.org changed the Component on bug 766457 from general to Class: GtkApplication.
Sep 29 13:17:18 <bugbot>	gpoo@gnome.org changed the Product on bug 766457 from evince to gtk+.
Sep 29 13:17:18 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=766457 Class: GtkApplication, normal, gtkdev, NEW , Ctrl+F1 accel doesn't work
Sep 29 13:42:26 <Company>	mclasen: dunno, they're not parallel installable and we break API
Sep 29 13:43:02 <Company>	mclasen: so if you run against 3.92 it doesn't matter if something was introduced in 3.90 because we might have changed the function prototype in 3.92
Sep 29 13:44:16 <mclasen>	hmm
Sep 29 13:45:07 <Company>	to be clear: i don't have a strong opinion, but I suspect the differentiation isn't worth it
Sep 29 13:45:27 <Company>	there is (hopefully) nobody going "lemme try to develop a 3.90 app against 3.92"
Sep 29 13:52:10 <mclasen>	thats true
Sep 29 13:58:22 <heftig>	i see the monitor/window scale factor code was touched recently
Sep 29 13:58:45 <heftig>	i think i'm seeing firefox misplace windows because of this (they act as if the top-left quadrant is the entire screen)
Sep 29 14:02:17 <heftig>	fiddling with xrandr (say by using --reflect x then --reflect normal) while firefox is running is enough to trigger the bug
Sep 29 14:02:35 <heftig>	should i first post this in the gnome or the mozilla bugtracker?
Sep 29 14:04:07 <Company>	heftig: i've heard more people complain, so i suspect it's a gtk bug
Sep 29 14:04:29 <Company>	heftig: but you better poke the person that did touch the code
Sep 29 14:05:42 <heftig>	mclasen just quit :)
Sep 29 14:05:44 <heftig>	since i can reliably reproduce it now it might be bisection time
Sep 29 14:13:26 <heftig>	Company: were the complaints all about firefox?
Sep 29 14:15:03 <Company>	heftig: i just saw them scroll by in here and don't remember details
Sep 29 14:41:14 <bugbot>	New gtk+ bug 772198 filed by bloop93@gmail.com.
Sep 29 14:41:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772198 Accessibility, normal, gtk-bugs, NEW , toggle switch (on/off) widget not accessible without a pointer device
Sep 29 14:53:10 <heftig>	oh, I think I got it
Sep 29 14:53:37 <muhannad_>	Hi, I just finished learning GObject, but I don't have clear idea about _dispose and _finalize 
Sep 29 14:53:38 <heftig>	gdk_screen_width is half of what it should be
Sep 29 14:56:03 <muhannad_>	_finalize seems clear a bit , it's for freeing Objects that have been created by g_object_new()
Sep 29 14:56:30 <muhannad_>	but  _dispose a bit confusing me 
Sep 29 14:58:30 <djb>	muhannad_: i presume you've read this https://developer.gnome.org/gobject/stable/howto-gobject-destruction.html so it would help if you explained what you don't understand about it, i.e. that the 2 phases are mostly useful to break ref-counting cycles
Sep 29 14:59:25 <muhannad_>	I read _dispose is for unref the member objects 
Sep 29 14:59:51 <muhannad_>	but in the example here :
Sep 29 14:59:59 <muhannad_>	https://paste.gnome.org/phmlhtzpf
Sep 29 15:01:33 <muhannad_>	viewer_file_dispose() .. cleard priv->input_stream 
Sep 29 15:01:56 <halfline>	g_clear_object does an unref followed by setting the pointer to NULL
Sep 29 15:02:08 <heftig>	Company: got this now: https://paste.xinu.at/WaRR/
Sep 29 15:02:34 <muhannad_>	why we didn't set filename to null ?
Sep 29 15:02:39 <muhannad_>	NULL*
Sep 29 15:03:44 <halfline>	muhannad_: that would have been fine.  could have put g_clear_pointer (&priv->filename, g_free);
Sep 29 15:04:29 <heftig>	wtf; with GDK_SCALE=1 it works, with GDK_SCALE=anythingelse it's consistently wrong, even before the xrandr
Sep 29 15:04:34 <halfline>	could also have put everything in finalize tbh
Sep 29 15:04:45 <muhannad_>	so my undrstand about _dispose is fine ?
Sep 29 15:04:55 <halfline>	you really only have to use dispose if there's the risk of ref cycles (like one object refing another object and that object refing the first)
Sep 29 15:05:41 <muhannad_>	good
Sep 29 15:05:50 <muhannad_>	it's more clear now
Sep 29 15:06:44 <muhannad_>	but is it fine if we write the function _dispose() and didn't write _finalize() ?
Sep 29 15:07:02 <halfline>	yup
Sep 29 15:07:16 <muhannad_>	aha 
Sep 29 15:07:23 <muhannad_>	when we do that ?
Sep 29 15:07:31 <muhannad_>	if there is no object to free ?
Sep 29 15:07:58 <muhannad_>	member object*
Sep 29 15:08:17 <halfline>	if you have no objects to free then finalize is probably marginally better
Sep 29 15:08:18 <heftig>	dispose might be called before the refcount is actually zero (and then again once it drops to zero)
Sep 29 15:08:25 <bugbot>	bloop93@gmail.com changed the Status on bug 772198 from NEW --- to RESOLVED NOTABUG.
Sep 29 15:08:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772198 Accessibility, normal, gtk-bugs, RESOLVED NOTABUG, toggle switch (on/off) widget not accessible without a pointer device
Sep 29 15:08:36 <halfline>	because of what heftig just said
Sep 29 15:08:47 <halfline>	dispose has the gotcha that it can be called more than once
Sep 29 15:08:57 <halfline>	so if you free you have to nullify too
Sep 29 15:09:18 <muhannad_>	thank you , you make things clear now :D
Sep 29 15:09:36 <heftig>	g_clear_pointer and g_clear_object ensure you won't free things twice
Sep 29 15:10:58 <bugbot>	db0451@gmail.com changed the Resolution on bug 772198 from NOTABUG to FIXED.
Sep 29 15:11:13 <djb>	wut
Sep 29 15:11:28 <bugbot>	db0451@gmail.com changed the Resolution on bug 772198 from FIXED to NOTABUG.
Sep 29 15:11:28 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772198 Accessibility, normal, gtk-bugs, RESOLVED NOTABUG, toggle switch (on/off) widget not accessible without a pointer device
Sep 29 15:12:25 <djb>	nice to see bugbot back to full health though :D
Sep 29 15:19:58 <bugbot>	bloop93@gmail.com marked bug 772198 as a duplicate of unknown bug.
Sep 29 15:19:58 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772198 Accessibility, normal, gtk-bugs, RESOLVED DUPLICATE, toggle switch (on/off) widget not accessible without a pointer device
Sep 29 15:38:17 <Hussam>	https://git.gnome.org/browse/gtk+/commit/?id=13e00b70c08d85750784ea014080d1ce52604dac shouldn't 3.22 branch first?
Sep 29 15:50:25 <djb>	should a GtkButton with just a text label always contain a Label child? it should, right?
Sep 29 15:51:51 <baedert>	yes
Sep 29 15:52:39 <djb>	hmm, the famous blank IRC network button in Empathy and g-o-a only shows a gesture child in the inspector
Sep 29 15:52:57 <djb>	the label property is set but not shown
Sep 29 15:54:15 <heftig>	egads
Sep 29 15:54:23 <djb>	but gtk_button_set_label() should create everything required via construct_child() if it's not already there
Sep 29 15:54:42 <heftig>	shouldn't the geometry of a monitor be prescaled?
Sep 29 15:55:17 <heftig>	i.e. I'd expect on a scale=2 monitor to get half the width it actually has
Sep 29 15:58:57 <halfline>	if a monitor is hidpi, certain elements get pixel doubled, but other things shouldn't (for instance images)
Sep 29 16:01:57 <Company>	heftig: you mean a 4k monitor should report itself as 1920x1080 when hidpi is set?
Sep 29 16:02:32 <hergertme>	mine certainly doesn't
Sep 29 16:03:10 <Company>	i think that'd be tricky
Sep 29 16:03:20 <hergertme>	oh wait, but mine isn't "hidpi", because its a tv
Sep 29 16:03:30 <Company>	though the docs seem to indicate that it indeed should be the case
Sep 29 16:03:53 <Company>	but you want screen coordinates for the geometry
Sep 29 16:04:25 <Company>	ie if i have 2 monitors, the hidpi one at 0x0x3840x2160
Sep 29 16:04:37 <Company>	and the normal one at 3840x0x1920x1080
Sep 29 16:05:03 <Company>	wouldn't you want the first one to return 0x0x3840x2160 instead of 0x0x1920x1080 ?
Sep 29 16:07:40 <Company>	actually, no, you wouldn't
Sep 29 16:09:04 <Company>	though it gets really confusing if the monitors are the other way
Sep 29 16:09:24 <Company>	you'll get one with 0x0x1920x1080
Sep 29 16:09:30 <Company>	and one with 960x0x1920x1080
Sep 29 16:09:45 <Company>	and they don't overlap
Sep 29 16:10:06 <Company>	¯\_(ツ)_/¯ 
Sep 29 16:30:15 <bugbot>	New gtk+ bug 772202 filed by jan.steffens@gmail.com.
Sep 29 16:30:15 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772202 .General, major, gtk-bugs, NEW , Handling of scaled monitors is broken
Sep 29 16:30:59 <Company>	garnacho: do you know if the unconditional call to gdk_window_set_cursor() in gdk_window_new() is necessary - or could we just omit it if the cursor isn't set?
Sep 29 16:31:31 <Company>	it does some per-seat cursor stuff, and I'm not sure if it's required to do that upon creating a window
Sep 29 16:32:01 <heftig>	Company: I wrote a bug (see above)
Sep 29 16:32:21 <heftig>	I'm just following the docs, which say gdk_monitor_get_geometry is supposed to be in "app pixels"
Sep 29 16:33:10 <Company>	yup, app pixels is weird if you compare monitors (because different scale will lead to nonsensical coordinate comparisons)
Sep 29 16:33:22 <heftig>	why?
Sep 29 16:33:28 <Company>	but it's the right thing if you actually care about the monitor when placing windows
Sep 29 16:33:50 <Company>	heftig: put a normal monitor left of a 4k monitor with hidpi
Sep 29 16:34:02 <Company>	heftig: normal monitor is 0x0x1920x1080
Sep 29 16:34:05 <heftig>	so, you have one at 1920x1080+0+0
Sep 29 16:34:09 <Company>	heftig: hidpi monitor is 960x0x1920x1080
Sep 29 16:34:19 <heftig>	and one at 1920+1080+1920+0
Sep 29 16:34:32 <Company>	no, it's 960
Sep 29 16:34:36 <Company>	not 1920
Sep 29 16:34:42 <Company>	for the X coordinate
Sep 29 16:34:45 <heftig>	no, we're in app pixels
Sep 29 16:35:06 <Company>	exactly, it's scaled down by a factor of 2
Sep 29 16:35:18 <Company>	device pixels is 1920x0x3840x2160
Sep 29 16:35:35 <heftig>	hm
Sep 29 16:35:45 <heftig>	one reason i guess wayland doesn't have global coords
Sep 29 16:36:16 <Company>	it gets really funky if you create a window that spans monitors ;)
Sep 29 16:36:32 <Company>	I think GdkMonitor shouldn't have advertised x/y coordinates in the first place
Sep 29 16:37:02 <Company>	though GTK3 needs that feature because GTK3 thinks you can gdk_window_move() toplevels
Sep 29 16:37:42 <Company>	i wonder what happens if you gdk_window_move(960,0) in my example
Sep 29 16:39:25 <Company>	this is actually complete bullshit
Sep 29 16:39:48 <Company>	in GTK3
Sep 29 16:40:11 <Company>	even if you gdk_window_get_position()
Sep 29 16:40:28 <Company>	if it tells you 1000,0 - what monitor are you on?
Sep 29 16:41:00 <garnacho>	Company: yeah, the call could probably be avoided if there is no cursor set
Sep 29 16:41:04 <heftig>	Company: gdk wayland doesn't scale the coordinates at all
Sep 29 16:41:15 <heftig>	or the sizes, for that matter
Sep 29 16:41:34 <Company>	heftig: that's definitely wrong
Sep 29 16:41:36 <hergertme>	if i set GtkScrolledWindow:hscrollbar-policy to EXTERNAL and have a pan gesture on the viewport, should that be something that works? :)
Sep 29 16:41:42 <heftig>	i.e. a 3840x2160 scale 2 monitor has 3840x2160 app pixels
Sep 29 16:42:09 <Company>	heftig: its especially wrong because X11 and Wayland do different things...
Sep 29 16:42:25 <heftig>	well, look at the bug for the terrible details
Sep 29 16:46:07 <Company>	I also wonder what's going on with the workarea
Sep 29 16:46:34 <Company>	oh right, we're halving the value twice, so we get rounding issues only because we're buggy
Sep 29 16:46:47 <Company>	hrm no, actually not
Sep 29 16:46:57 <Company>	we're rounding 55 => 27
Sep 29 16:48:08 <Company>	heftig: why is the panel 55px, is the panel not hidpi?
Sep 29 16:48:21 <Company>	or does gnome-shell fuck up panel size on hidpi?
Sep 29 16:52:51 <heftig>	Company: the panel looks fine
Sep 29 16:53:12 <Company>	heftig: is the panel hidpi?
Sep 29 16:53:16 <heftig>	yes, it is
Sep 29 16:53:28 <Company>	heftig: why does it report 27.5 pixels height?
Sep 29 16:53:53 <Company>	55 device pixels = 27.5 hidpi/panel pixels
Sep 29 16:54:37 <Company>	do we blame fmuellner here? ofourdan? Or who'd doing that work in gnome-shell?
Sep 29 16:54:44 *	Company no idea about gnome-shell maintenance
Sep 29 16:54:45 <heftig>	Company: 55 device pixels is accurate
Sep 29 16:54:55 <Company>	heftig: it's not
Sep 29 16:55:05 <Company>	heftig: on hidpi everything should be divisible by 2
Sep 29 16:55:08 <heftig>	well, i mean i just took a screenshot and measured it
Sep 29 16:55:33 <Company>	so the shell should probably do something abnout it
Sep 29 17:21:35 <muelli>	I'm confused with the HeaderBar. Can I set it via glade for my applicationwindow or do I have to call set_titlebar?
Sep 29 17:22:01 <djb>	set_titlebar just sets property "titlebar", so glade should be able to do it fine
Sep 29 17:22:13 <baedert>	you'd be surprised
Sep 29 17:22:26 <djb>	do tell!
Sep 29 17:23:45 <muelli>	hrm
Sep 29 17:24:17 <djb>	oh, maybe you need to add it via     <child type="titlebar">
Sep 29 17:24:30 <muelli>	hrm.
Sep 29 17:24:40 <muelli>	does Glade expose that somehow?
Sep 29 17:25:06 <muelli>	currently, I can add the headerbar to any container, it seems. And that produces strange results...
Sep 29 17:25:25 <djb>	yes, it's just another widget in reality
Sep 29 17:25:47 <djb>	i think the other uses are quite limited but they do exist, e.g. for overlay controls in totem fullscreen mode
Sep 29 17:26:30 <djb>	(albeit with pesky rounded corners that show the video underneath)
Sep 29 17:29:44 <muelli>	ah. I could cut and paste the headerbar now.  weird. that didn't work before...
Sep 29 17:30:07 <djb>	so far i can get glade to show the child type="titlebar" attribute but haven't seen how to add it
Sep 29 17:36:00 <muelli>	djb: With a headerbar-less window, I put the headerbar in some random box, then cut it, select the window in the widget tree in the upper right, and paste.
Sep 29 17:36:36 <djb>	yeah, i can do that, but then it just gets added as a regular child widget
Sep 29 17:38:11 <djb>	anyway, i was wrong, GtkWindow does not have a property_titlebar
Sep 29 18:34:05 <bugbot>	New gtk+ bug 772215 filed by bugzilla@victortoso.com.
Sep 29 18:34:05 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772215 .General, normal, gtk-bugs, NEW , icon-theme: Fix leaks on error
Sep 29 20:40:42 <Company>	fun fact: almost nom widget handles cursors correctly
Sep 29 20:40:55 *	Company fixing up cursor code
Sep 29 20:44:25 <LRN>	om-nom-nom widget?
Sep 29 20:44:46 <Company>	nah
Sep 29 20:45:04 <Company>	just getting rid of GdkWIndowAttributesType
Sep 29 20:45:14 <Company>	trying to at least
Sep 29 20:46:09 <Company>	and one of the things that can go away is GDK_WA_CURSOR
Sep 29 20:48:40 <Company>	man, gdk_window_new() is a function that exemplifies the 1980s
Sep 29 20:50:30 <Company>	we only have 4 or 5 widgets that actually change the cursor
Sep 29 20:51:03 <Company>	entry, textview, label, paned and gtkwindow for the decoration windows
Sep 29 20:51:39 <hergertme>	treeview
Sep 29 20:52:10 <hergertme>	scrolledwindow of course
Sep 29 20:52:21 <hergertme>	(treeviewcolumn)
Sep 29 20:54:44 <Company>	right, treeview
Sep 29 20:54:48 <Company>	but not scrolledwindow
Sep 29 20:55:27 <Company>	or rather: not by default
Sep 29 20:55:43 <Company>	you get an indicator if you start an action, but no change on hover
Sep 29 20:55:49 <hergertme>	install_scroll_cursor()
Sep 29 20:55:55 <Company>	which is what setting the cursor in gdk_window_new() is about
Sep 29 20:56:02 <hergertme>	yeah
Sep 29 20:59:19 <Company>	seriously...
Sep 29 21:00:56 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/x11/gdkwindow-x11.c#n793
Sep 29 21:01:31 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/win32/gdkwindow-win32.c#n502
Sep 29 21:02:04 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/quartz/gdkwindow-quartz.c#n459
Sep 29 21:02:44 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/wayland/gdkwindow-wayland.c#n397
Sep 29 21:03:06 <hergertme>	fun
Sep 29 21:03:35 <Company>	https://git.gnome.org/browse/gtk+/tree/gdk/mir/gdkmirwindowimpl.c#n157
Sep 29 21:04:02 <Company>	only broadway doesn't care
Sep 29 21:08:05 <Company>	zxdg_toplevel_v6_set_title()
Sep 29 21:08:39 <Company>	wayland is shooting itself with unreadable function names
Sep 29 21:09:37 <hergertme>	exciting 
Sep 29 21:09:49 <hergertme>	that's got to be a real word in german
Sep 29 21:11:37 <Company>	german doesn't use underscores
Sep 29 21:11:39 <Company>	!
Sep 29 21:11:47 <hergertme>	yet
Sep 29 21:11:48 <Company>	wewriteeverythingtogetherwithoutcapsoranything
Sep 29 21:12:18 <Company>	https://twitter.com/GeorgeTakei/status/781223088113520640
Sep 29 21:15:49 <hergertme>	hah
Sep 29 23:21:02 <Company>	aaaaaaarrrrggh
Sep 29 23:21:07 <Company>	sooooo
Sep 29 23:21:35 <Company>	how's the scale factor on a GdkWindow determined?
Sep 29 23:23:08 <Company>	because there's 100s of proeprties involved that all override each other
Sep 29 23:25:30 <jadahl>	Company: at least on wayland its 'max (scales of outputs the surface is viewed on)'
Sep 29 23:26:04 <Company>	but that's just because wayland doesn't support GDK_SCALE
Sep 29 23:26:15 <Company>	and has no WaylandSettings object
Sep 29 23:26:20 <jadahl>	whats GDK_SCALE?
Sep 29 23:26:36 <jadahl>	some kind of override thing?
Sep 29 23:26:36 <Company>	an env var to override the system scale
Sep 29 23:26:47 <Company>	yeah, so you can test hidpi on a regular monitor
Sep 29 23:26:49 <jadahl>	well, no reason for such a thing to exist on wayland
Sep 29 23:27:20 <jadahl>	I can that, but I start a nested wayland compositor with fake scale set
Sep 29 23:27:20 <Company>	unless you want it for testing
Sep 29 23:27:37 <jadahl>	then i start the gtk app in that
Sep 29 23:27:46 <Company>	ah, so you have a command line arg instead of an env var
Sep 29 23:28:14 <jadahl>	no, I have a mode the compositor can run in to test things
Sep 29 23:28:21 <jadahl>	it can fake a scale = 2 environment
Sep 29 23:28:44 <jadahl>	if I start the gtk app to run on that display server, it'll be drawn with scale I configured the nested compositor to fake
Sep 29 23:29:00 <jadahl>	meaning no special override path needed in gtk/gdk
Sep 29 23:29:11 <Company>	yeah
Sep 29 23:29:44 <Company>	the problem with GTK is that people always go "i don't understand what should happen, so I'll add another way to do it"
Sep 29 23:29:47 <Company>	:/
Sep 29 23:29:52 <jadahl>	\o/
Sep 29 23:30:11 <Company>	font sizes are fun
Sep 29 23:30:29 <Company>	because first you need to understand scale
Sep 29 23:30:36 <Company>	then you need to add dpi to that
Sep 29 23:30:43 <jadahl>	yea
Sep 29 23:31:04 <jadahl>	then some people want different font sizes depending on what output the window is on
Sep 29 23:31:04 <Company>	which can be set in pango, cairo, GtkSettings, xsettings and via env var
Sep 29 23:31:17 <Company>	and then there's stuff like GDK_DPI_SCALE to unbreak GTK2 apps
Sep 29 23:31:43 <Company>	we don't have that yet
Sep 29 23:32:01 <Company>	mostly because we don't have API to query what output a window is on
Sep 29 23:32:26 <Company>	well, we do have the API, but it looks at window.x/y and output.x/y, so...
Sep 29 23:32:46 <jadahl>	the api is on the wrong level so to speak
Sep 29 23:33:10 <Company>	yeah, it's generic and should be per-backend
Sep 29 23:33:22 <Company>	but to do such things right, it'd also handle notification
Sep 29 23:33:29 <Company>	*need to handle
Sep 29 23:33:40 <Company>	so we can queue a resize once the output changes
Sep 29 23:33:45 <jadahl>	it should be higher level as in gdk_window_where_on_earth_am_i()
Sep 29 23:34:10 <Company>	there should just be a Window::monitor property
Sep 29 23:34:40 <jadahl>	what if its half half on two monitors?
Sep 29 23:34:52 <Company>	then the windowing system figures it out
Sep 29 23:35:34 <jadahl>	what if it cant? its two 1920 wide monitors. the window is maximized to cover both. they are exactly the same amount of "on" on both
Sep 29 23:35:42 <Company>	in particular, the windowing system not just figures it out, it also tells us when it changes
Sep 29 23:36:09 <Company>	then the windowing system figures it out
Sep 29 23:36:37 <jadahl>	either rand() or "whatever came first" then I suppose
Sep 29 23:36:45 <Company>	yeah, probably
Sep 29 23:37:42 <Company>	if we need a "this window belongs on output" property for ie scale or dpi, then the windowing system will need to make sure one exists
Sep 29 23:38:22 <jadahl>	well, there are two things about outputs we might care about. scale for choosing buffer scale, and scale for choosing font size
Sep 29 23:38:47 <jadahl>	those may be different. one is "output with highest scale" and the other is more likely "output which window is mostly on"
Sep 29 23:38:51 <Company>	there's also stuff WMs care about, like fullscreening behavior
Sep 29 23:48:50 <bugbot>	New glib bug 772221 filed by piotrdrag@gmail.com.
Sep 29 23:48:50 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772221 general, normal, gtkdev, NEW , Take advantage of Unicode
Sep 30 01:04:01 <baedert>	jadahl: *nobody* knows how to test different scale factors in wayland, I've never heard about that before and it happend a few times that people in here asked and we didn't have a real answer :P
Sep 30 01:39:38 <wozgeass_>	quit
Sep 30 01:47:17 <bugbot>	New gtk+ bug 772225 filed by jadahl@gmail.com.
Sep 30 01:47:17 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772225 Backend: Wayland, normal, gtk-bugs, NEW , GtkOverlay above a GtkClutterEmbed broken on Wayland
Sep 30 02:12:08 <jadahl>	baedert: yea, it could be better documented. it requires starting mutter with magic environment variables set
Sep 30 02:12:53 <jadahl>	*nested* mutter, that is
Sep 30 02:24:40 <schaeferpp>	hey there! i'm trying to give an GObject a date property, but neither GDate nor GDateTime inherit GObject. Do you have a solution for defining datetime properties?
Sep 30 02:28:53 <baedert>	jadahl: can you write it down for mee somewhere?
Sep 30 02:48:00 <bugbot>	New gtk+ bug 772226 filed by jake.anq@gmail.com.
Sep 30 02:48:00 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772226 .General, normal, gtk-bugs, NEW , GDK Assertion Fail with Logitech G300 mouse
Sep 30 02:51:06 <jadahl>	baedert: any suggestion where?
Sep 30 02:51:18 <jadahl>	I can add it to some wiki page for example, if you'd tell me which one
Sep 30 02:56:26 <baedert>	jadahl: I'd have written a simple howdoi page later
Sep 30 02:56:44 <baedert>	aas soon as this doctor releases me
Sep 30 02:57:18 <TingPing>	schaeferpp, either use a boxed type or just a 64bit time_t
Sep 30 02:58:21 <schaeferpp>	TingPing: ah, didnt know about g_value_*_boxed, thank you!!
Sep 30 03:04:49 <jadahl>	baedert: where do I do that?
Sep 30 03:06:46 <baedert>	wiki.gnome.org/HowDoI
Sep 30 03:06:51 <baedert>	I think
Sep 30 03:16:32 <jadahl>	baedert: https://wiki.gnome.org/HowDoI/HiDpi
Sep 30 03:21:24 <baedert>	jadahl: cool, thanks
Sep 30 05:23:46 <mclasen>	ofourdan: where do we stand with those content positioning issues - still a problem, or fixed ?
Sep 30 05:27:08 <ofourdan>	mclasen: I reckon it's been fixed
Sep 30 05:27:35 <ofourdan>	at least the regression introduced by my patch for the min/max issue
Sep 30 05:27:46 <ofourdan>	might be others, but those are unrelated
Sep 30 05:27:52 <mclasen>	great, I'll do a .1 release today
Sep 30 05:28:59 <baedert>	mclasen: Can you include the last patch in https://bugzilla.gnome.org/show_bug.cgi?id=770388 ?
Sep 30 05:29:00 <bugbot>	Bug 770388: .General, normal, gtk-bugs, REOPENED , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Sep 30 05:35:29 <mclasen>	you mean christoph's patch ?
Sep 30 05:35:51 <baedert>	yes
Sep 30 05:51:42 <jadahl>	mclasen: another menu placement fix https://bugzilla.gnome.org/show_bug.cgi?id=771516 (harder to reproduce)
Sep 30 05:51:43 <bugbot>	Bug 771516: Backend: Wayland, normal, gtk-bugs, NEW , wayland: Only 'moved-to-rect' if move_to_rect() was used
Sep 30 05:57:42 <mclasen>	baedert: do underallocation warnings happen that much due to our own fault ?
Sep 30 05:58:07 <mclasen>	I thought those are generally useful to point out actual application bugs
Sep 30 06:00:07 <baedert>	mclasen: not that I know of, I know a few places
Sep 30 06:00:23 <baedert>	but treeview columns doing that everywhere shows up a lot if the app uses that I guess
Sep 30 06:01:34 <mclasen>	I see
Sep 30 06:01:56 <mclasen>	in that case, the underallocation is kinda intentional
Sep 30 06:29:43 <heftig>	mclasen: is monitor geometry supposed to be in device pixels or in scaled pixels?
Sep 30 06:31:08 <mclasen>	what do the docs say ?
Sep 30 06:41:03 <bugbot>	mclasen@redhat.com changed the Status on bug 771516 from NEW --- to RESOLVED FIXED.
Sep 30 06:41:03 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771516 Backend: Wayland, normal, gtk-bugs, RESOLVED FIXED, wayland: Only 'moved-to-rect' if move_to_rect() was used
Sep 30 08:18:10 <sphalerite>	Is it possible to use async things like lookup_records_async from GResolver through GI in python?
Sep 30 08:18:28 <sphalerite>	I tried just passing a python function as a callback, but that segfaulted :)
Sep 30 08:20:54 <pwithnall>	sphalerite: should be possible; can you paste your code somewhere, plus the backtrace?
Sep 30 08:21:54 <sphalerite>	Oh, actually maybe it's because I was doing it in an interactive shell and hadn't initialised GObject/started a main loop or anything
Sep 30 08:22:42 <pwithnall>	sphalerite: you would need a main loop to get the async result back, but it shouldn’t be crashing
Sep 30 08:26:10 <sphalerite>	pwithnall: https://paste.debian.net/847728/ I'll run it in a debugger now
Sep 30 08:27:20 <sphalerite>	it seems to be calling a null function pointer
Sep 30 08:27:30 <sphalerite>	in g_resolver_lookup_service_async
Sep 30 08:27:50 <pwithnall>	sphalerite: I don’t know if lambdas are supported for it
Sep 30 08:27:59 <pwithnall>	Try a normal function/method
Sep 30 08:28:28 <pwithnall>	You may also want to ask on #python on this server; people there know more about PyGObject than me :)
Sep 30 08:29:05 <sphalerite>	I was using a named function earlier when I noticed this, I just used a lambda to have a minimal test case
Sep 30 08:29:15 <sphalerite>	and even if lambdas aren't supported, it should complain rather than segfaulting, no? :)
Sep 30 08:29:22 <pwithnall>	yup
Sep 30 08:30:26 <TingPing>	lambdas behave the same as functions btw
Sep 30 08:30:31 <sphalerite>	This is a fairly old version of GLib I'm using, 2.42.1 (in debian stable), so it might be fixed by now
Sep 30 08:30:40 <TingPing>	sphalerite, i can repro with the latest of everything
Sep 30 08:31:10 <sphalerite>	ok
Sep 30 08:31:30 <sphalerite>	gdb says it's on this line https://git.gnome.org/browse/glib/tree/gio/gresolver.c?h=2.42.1#n729
Sep 30 08:32:16 <sphalerite>	it then segfaults on jumping to 0x0
Sep 30 08:32:21 <pwithnall>	aah
Sep 30 08:32:29 <pwithnall>	sphalerite: you need to use the default resolver
Sep 30 08:32:37 <TingPing>	yea, Gio.Resolver.get_default()
Sep 30 08:32:54 <sphalerite>	ooh, ok
Sep 30 08:34:10 <pwithnall>	I wonder why GResolver isn’t defined as abstract
Sep 30 08:49:27 <sphalerite>	are there any cases where one wouldn't want to get the default resolver?
Sep 30 08:50:17 <pwithnall>	typically no
Sep 30 08:50:32 <sphalerite>	Proxies come to mind, but I'm guessing that would usually be handled at a lower level
Sep 30 09:21:32 <bugbot>	New glib bug 772255 filed by bugzilla@tecnocode.co.uk.
Sep 30 09:21:33 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772255 network, normal, gtkdev, NEW , gresolver: Mark GResolver as an abstract class
Sep 30 09:34:15 <baedert>	Hmm so I have this case where I call gtk_widget_destroy on a GtkApplicationWindow and apparently it gets immediately unrealized, so when the child widgets get unrealized, a call to gtk_widget_get_frame_clock accesses an unrealized toplevel window and later an assertion (window != NULL) fails.
Sep 30 09:34:41 <baedert>	The widget it fails for is a custom widget impl, but it doesn't override realize() or unrealize() and has no window
Sep 30 09:34:59 <baedert>	Does anyone know what's going on?
Sep 30 10:37:14 <Company>	baedert: it's probably an ordering problem in GTK
Sep 30 10:37:38 <Company>	baedert: generally widgets should (1) destroy their children and then (2) destroy themselves
Sep 30 10:38:11 <Company>	baedert: but lots of widgets don't do that and instead rely on gtk_container_destroy() which they only chain up to after they destroyed themselves
Sep 30 10:38:42 <Company>	if you combine that with unrealize() and hide() doing similar things...
Sep 30 11:36:27 <Company>	owen: do you remember what https://bugzilla.gnome.org/show_bug.cgi?id=733076 and https://git.gnome.org/browse/gtk+/tree/gdk/x11/xsettings-client.c#n472 were about?
Sep 30 11:36:28 <bugbot>	Bug 733076: Backend: X11, normal, gtk-bugs, RESOLVED FIXED, Handle resolution changes in the GDK backend code
Sep 30 11:37:03 *	Company grepped mutter source and it doesn't seem to call gdk_screen_get_resolution(), so there's no obvious cause
Sep 30 11:38:06 <Company>	context: I'm trying to remove gdk_screen_get_resolution() in favor of just using GtkSettings directly
Sep 30 11:38:59 <owen>	Well, the problem that the resolution won't be right until the main loop runs will persist...
Sep 30 11:39:36 <owen>	I don't know everything that has gone on since with the mutter resolution code
Sep 30 11:40:57 <Company>	yeah, it sounds like a problem that would be resurrected by moving to GTK
Sep 30 11:41:28 <Company>	but I suppose it requires knowledge about mutter and my mutter knowledge is very nonexistent
Sep 30 11:44:13 <Company>	owen: is there a better person to poke about this?
Sep 30 11:45:18 <owen>	Company: jadahl (.tw time) is the expert in mutter resolution handling these days
Sep 30 11:45:18 <Company>	owen: and while you're here: I figured out yesterday that gnome-shell creates a 55 device pixels high panel on hidpi, which seems unfortunate (as it's 27.5px in user coordinates) - who's be the right person to poke about that?
Sep 30 11:45:51 <owen>	Company: panel seems right here on a hi-dpi display - but again, jadahl
Sep 30 11:46:41 <Company>	owen: it's not wrong that it's doing that - it's just that things go weird if a maximized hidpi window is 1052.5px high
Sep 30 11:47:03 <Company>	s/go weird/may go weird/
Sep 30 11:48:11 <Company>	and then lapo shouts at me because we have a line somewhere that shouldn't be there
Sep 30 12:17:43 <mclasen>	garnacho: is bug 772226 about a mouse that looks like a keyboard ?
Sep 30 12:17:44 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772226 .General, normal, gtk-bugs, NEW , GDK Assertion Fail with Logitech G300 mouse
Sep 30 12:18:43 <owen>	Company: Oh, ah, so the problem is that it's an odd height - yeah, it would be better if it limed up to be an exact number of logical pixels
Sep 30 12:19:31 <garnacho>	mclasen: yeah, fishy...
Sep 30 12:20:59 <owen>	Company: fmuellner is probably the person to poke about that. Or it may be fixable at the jimmac level of what's in the gnome-shell css
Sep 30 12:22:30 <garnacho>	mclasen: I think the driver itself is confused somehow
Sep 30 12:40:25 <Company>	mclasen: I need another idea: What do we do with gdk_screen_get_setting() ?
Sep 30 12:41:28 <Company>	there's a few problems here: (1) nobody knows which settings exist (2) do we want to turn those settings into real getter functions or just keep get_settings and (3) do we put settings on a separate object or add them all to GdkDisplay?
Sep 30 12:41:56 <Company>	note that (4) GTK allows overriding them all by layering GtkSettings on top
Sep 30 13:07:57 <mclasen>	Company: merge the sos and make it private ?
Sep 30 13:08:34 <Company>	mclasen: hrm
Sep 30 13:08:59 <Company>	mclasen: that doesn't solve the "what does a backend need to provide" question
Sep 30 13:09:12 <Company>	we could certainly move GtkSettings to GDK
Sep 30 13:09:25 <Company>	we'd avoid GdkSettingsEvent and all that mess
Sep 30 13:10:45 <mclasen>	whats the particular problem with 'nobody knows which settings exist'  ? the only people who need to know are gdk backend writers ?
Sep 30 13:11:05 <Company>	mclasen: they are the most important
Sep 30 13:11:23 <Company>	mclasen: but also actual people that want to use gdk_screen_get_setting()
Sep 30 13:11:37 <Company>	mclasen: which would probably be mostly things like inspector, glade or builder
Sep 30 13:11:38 <mclasen>	I doubt those exist
Sep 30 13:12:36 <Company>	i mostly started thinking about that because of the FIXME in https://developer.gnome.org/gdk3/stable/GdkScreen.html#gdk-screen-get-setting
Sep 30 13:13:22 <mclasen>	avoiding events for settings would be nice
Sep 30 13:14:57 <Company>	we'd get notify signals instead
Sep 30 13:15:05 <Company>	and they'd be immediate
Sep 30 13:15:19 <Company>	not sure what kind of fun bugs we'd get from that
Sep 30 13:18:01 <Company>	it's also weird to debug code that does all this string comparison stuff for properties
Sep 30 13:18:27 <Company>	ie figuring out if and how backends handle the "gtk-xft-dpi" setting is harder than I thought
Sep 30 13:19:56 <Company>	I think win32 and quartz do not allow querying gtk-xft-dpi for example
Sep 30 13:20:16 <Company>	they just gdk_screen_set_resolution() in screen_init()
Sep 30 13:33:19 <sphalerite>	Would this be the place to ask about jh-build/compiling GNOME or parts of it?
Sep 30 13:35:57 <sphalerite>	I'll just go ahead and ask: I'm trying to build pango (end goal being building empathy) through jh-build from the moduleset gnome-apps-3.8, on debian stable. It's failing because it can't find hb-glib.h even though it's right there in /usr/include/harfbuzz.
Sep 30 13:38:18 <Company>	sphalerite: I suspect you'll be on your own on that one
Sep 30 13:38:43 <Company>	sphalerite: people tend to use jhbuild to build current software, not stuff that's 3.5 years old
Sep 30 13:49:01 <sphalerite>	wait, gnome-apps-3.8 is 3.5 years old?
Sep 30 13:49:13 <sphalerite>	ooooh. oops :)
Sep 30 13:49:27 <sphalerite>	I wanted to build the latest and that was the latest I could find in the jhbuild repo
Sep 30 13:50:10 <sphalerite>	silly character-wise sort...
Sep 30 13:53:52 <LiamW>	getting stderr-spammed with messages along these lines:
Sep 30 13:53:54 <LiamW>	gtk_widget_size_allocate(): attempt to underallocate SPButton's child GtkImage 0x42b8700.
Sep 30 13:54:25 <LiamW>	so I changed the get_preferred_height/get_preferred_width functions of SPButton to return 1 greater
Sep 30 13:54:29 <LiamW>	and it shuts it up
Sep 30 13:55:23 <LiamW>	the question is, why was this not a problem before and given a function like this what avoids the "magic number" (because it's not always 1) https://gist.github.com/liamwhite/79240459c494c65ed9d131e95c35bc74
Sep 30 13:59:33 <LiamW>	https://git.gnome.org/browse/gtk+/tree/gtk/gtkbin.c#n183 doesn't look too different…
Sep 30 14:00:32 <baedert>	What's that padding and border stuff doing there?
Sep 30 14:01:42 <LiamW>	actually if I just take those methods out of the vtable it seems to work fine
Sep 30 14:02:45 <sphalerite>	Company: now trying with gnome-apps-3.24, same problem
Sep 30 14:10:05 *	LiamW grumbles about debian sid
Sep 30 14:20:47 <bugbot>	mclasen@redhat.com changed the Status on bug 772215 from NEW --- to RESOLVED FIXED.
Sep 30 14:20:47 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=772215 .General, normal, gtk-bugs, RESOLVED FIXED, icon-theme: Fix leaks on error
Sep 30 14:22:19 <mclasen>	Company: do you have an opinion on neutering underallocation warnings ?
Sep 30 14:23:26 <mclasen>	ie the last patch in bug 770388
Sep 30 14:23:27 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, REOPENED , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Sep 30 14:37:06 <Company>	mclasen: I'd put it in stable releases, but not in amster
Sep 30 14:37:17 <mclasen>	hamster ?
Sep 30 14:38:13 <Company>	h↶
Sep 30 14:38:19 <mclasen>	ok, we can bring it back once we branch
Sep 30 14:38:29 <Company>	yeah, that sounds fine to me
Sep 30 14:39:21 <Company>	why do we have so many of those anyway? Did we only enable them for 3.22?
Sep 30 14:39:27 <Company>	I don't remember those warnings from 3.20
Sep 30 14:40:16 <baedert>	we already do a gtk_minor_version%2==0 check for setting GLIB_DISABLE_DEPRECATION_WARNINGS btw
Sep 30 14:40:35 <mclasen>	not sure. there was complaints about treeview headers doing it on purpose
Sep 30 14:46:02 <bugbot>	mclasen@redhat.com changed the Status on bug 771560 from NEW --- to RESOLVED WONTFIX.
Sep 30 14:46:02 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=771560 Widget: Other, normal, gtk-bugs, RESOLVED WONTFIX, Support for Icon Theme Specification animation
Sep 30 15:01:01 <Hussam>	hi. is current gtk+ trunk going to turn into 3.22.1 or will patches be cherry picked to 3.22.0 tag for a 3.22.1 release?
Sep 30 15:01:31 <Company>	mclasen: you should also WONTFIX bug 310327
Sep 30 15:01:32 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=310327 Widget: GtkTreeView, normal, gtktreeview-bugs, NEW , GtkCellRenderPixbuf should support animations
Sep 30 15:01:45 <Company>	I think?
Sep 30 15:04:25 <mclasen>	maybe
Sep 30 15:05:11 <bugbot>	mclasen@redhat.com changed the Status on bug 310327 from NEW --- to RESOLVED WONTFIX.
Sep 30 15:05:12 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=310327 Widget: GtkTreeView, normal, gtktreeview-bugs, RESOLVED WONTFIX, GtkCellRenderPixbuf should support animations
Sep 30 15:13:25 <mclasen>	baedert: saw my comment in bug 770388 ?
Sep 30 15:13:25 <bugbot>	Bug https://bugzilla.gnome.org/show_bug.cgi?id=770388 .General, normal, gtk-bugs, REOPENED , GtkTreeView: attempt to underallocate GtkTreeView's child GtkButton
Sep 30 15:14:02 <baedert>	mclasen: hm, what comment?
Sep 30 15:15:16 <mclasen>	err, wrong bug
Sep 30 15:15:29 <mclasen>	I meant the gtkbuilder performance patches
Sep 30 15:15:35 <baedert>	yep
Sep 30 15:15:56 <baedert>	just busy atm, I can look at them tomorrow morning
Sep 30 15:18:30 <mclasen>	no rush
Sep 30 15:40:29 <baedert>	Company: hmm so the container my widget is in is also a custom one and with just a GtkBox, it seems to work fine. but both my container and GtkBox don't do anything special to clean up their children
Sep 30 15:42:11 <Company>	baedert: i've just shot the most common reason I know at you for things go wrong there
Sep 30 15:42:17 <Company>	baedert: it might be something else entirely
Sep 30 16:13:04 <baedert>	So a widget being realized always implies the parent being realized? Or just the toplevel being realized?
Sep 30 16:13:20 *	baedert sees commented-out check in gtk_widget_verify_invariants
Sep 30 16:47:17 <garnacho>	baedert: all parents recursively
Sep 30 16:47:34 <hergertme>	are tooltips broken?
**** ENDING LOGGING AT Fri Sep 30 17:54:22 2016

**** BEGIN LOGGING AT Mon Oct  3 09:15:02 2016

Oct 03 09:15:02 *	Now talking on #gtk+
Oct 03 09:15:02 *	Topic for #gtk+ is: #gtk+ is proud to announce its selection as the official IRC channel of the Toronto 2017 GTK+ Hackfest
Oct 03 09:15:02 *	Topic for #gtk+ set by Company (Fri Aug 19 18:16:57 2016)
Oct 03 09:16:11 <Company>	JeanLuc: GTK's icon machinery implements symbolicness when loading the image
Oct 03 09:16:57 <JeanLuc>	=/ okay, so that means no symbolic-icons from gresource
Oct 03 09:16:59 <Company>	JeanLuc: so you need an SVG to get it to be treated as symbolic
Oct 03 09:17:33 <Company>	JeanLuc: if the gresources are SVGs and you register them to the icon theme: sure
Oct 03 09:18:03 <JeanLuc>	they are svgs, but how would I register them to the icon theme?
Oct 03 09:18:35 <Company>	JeanLuc: https://wiki.gnome.org/HowDoI/ThemedIcons might explain it
Oct 03 09:18:56 <JeanLuc>	thx, I'll take a look :)
Oct 03 09:19:03 <Company>	if not: I know that some gnome apps do it, but I don't know a concrete example
Oct 03 09:20:01 <baedert>	or use symbolic pngs!
Oct 03 09:33:54 <JeanLuc>	Company: works! thank you :) just have to cut out "hicolor" from the icon-path register the resource path to Gtk.IconTheme and then I can load them just like normal icons with from_icon_name
Oct 03 09:53:14 <Company>	JeanLuc: if something needs changes, edit the page. It's a Wiki!
Oct 03 09:54:01 <JeanLuc>	Company: no, I think the page explains it pretty clearly :) One just has to know that it exists
Oct 03 10:40:24 <Company>	sooo
Oct 03 10:41:01 <Company>	let's assume I want to have a vfunc for "dear clipboard user, please hand over your data"
Oct 03 10:41:18 <Company>	do i make the clipboard user give me an inputstream I can read from?
Oct 03 10:41:31 <Company>	or do i hand the clipboard user an outputstream he can write to?
Oct 03 10:41:39 *	Company looks at alex
Oct 03 10:46:05 <alex>	Company: an input stream is better i think, because it lets us block the producer if the destination is slow at reading
Oct 03 10:46:16 <alex>	instead of having to buffer up a lot
Oct 03 10:46:34 <ndufresne>	o
Oct 03 10:46:43 <alex>	well, i guess an output stream can block the writes too
Oct 03 10:47:04 <alex>	but it seems a bit less obvious
Oct 03 10:47:53 <owen>	For almost everyhting you just want a blob - the clipboard provider needs to *snapshot* the data and make it immune to later edits
Oct 03 10:48:49 <Company>	owen: yeah, 99% of cases you just write a buffer and be done with it
Oct 03 10:49:00 <Company>	owen: but you can implement that on top of streams quite easily
Oct 03 10:49:37 <owen>	Company: that woudl argue for an input stream, I think so you could justuse gmemoryinputstream
Oct 03 10:50:08 <owen>	while for an output stream, you'd have to create a gmemoryinputstream, then splice that to the provided output stream
Oct 03 10:51:44 <owen>	Once you have to deal with blocking and make it async, it's not like you can use an outputstream api to simply walk over a data structure and write to the output stream so I don't think it's that useful
