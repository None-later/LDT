T 1497988668 18<ericwill18>	if people break some stuff, just revert :)
T 1497991495 18<akurtakov18>	ericwill: hmm https://git.eclipse.org/r/#/c/76631/38/bundles/org.eclipse.swt/Eclipse+SWT/gtk/org/eclipse/swt/widgets/ColorDialog.java
T 1497991497 18<akurtakov18>	why?
T 1497991536 18<akurtakov18>	I can see later in the code there is different function called for pre 3.4
T 1497991562 18<ericwill18>	akurtakov GdkRGBA support was added in 3.0, but the GtkColorChooserDialog (which uses GdkRGBA instead of GdkColor) was only added in 3.4
T 1497991564 18<ericwill18>	so there is a gap
T 1497991592 18<akurtakov18>	that's not fine
T 1497991623 18<akurtakov18>	can't the guards be adjusted accordingly?
T 1497991647 18<akurtakov18>	I mean gtk_color_chooser_dialog_new  is used only for 3.4+
T 1497991667 18<akurtakov18>	for older versions gtk_color_selection_dialog_new
T 1497991668 18<akurtakov18>	is used
T 1497991694 18<akurtakov18>	so I don't see what the assert is giving us other than breaking 3.0-3.4 range which will use collor selection anyway
T 1497991714 18<ericwill18>	akurtakov it means we will have to use GdkColor Java objects for 3.0 - 3.4, and in GdkColor.java there is a call to GdkColor_sizeof()
T 1497991725 18<ericwill18>	which would crash if this isn't provided on GTK3
T 1497991752 18<akurtakov18>	and why wouldn't it ?
T 1497991767 18<akurtakov18>	I mean it's not fine to just say this api doesn't work for 3.0-3.4 
T 1497991777 18<akurtakov18>	esp when it was owrking previous
T 1497991791 18<ericwill18>	yeah this was something I meant to ask you but forgot
T 1497991806 18<ericwill18>	okay I will fix it
T 1497991833 18<akurtakov18>	ericwill: it's not gonna be big fix , right? 
T 1497991841 18<akurtakov18>	at least I don't think so :)
T 1497991874 18<akurtakov18>	btw, https://git.eclipse.org/r/#/c/76631/38/bundles/org.eclipse.swt/Eclipse+SWT/gtk/org/eclipse/swt/widgets/Combo.java
T 1497991886 18<akurtakov18>	asserts like that make me a bit nervous
T 1497991909 18<akurtakov18>	will the functions not be reached by the other gtk version with your patch
T 1497991930 18<ericwill18>	akurtakov for the ColorDialog thing: no shouldn't be a big fix
T 1497991936 18<akurtakov18>	I assume so by reading but want to be sure
T 1497991944 18<ericwill18>	for the asserts, yes that's correct
T 1497991961 18<ericwill18>	no code should reach any color function that uses GdkRGBA outside of GTK3
T 1497991972 18<akurtakov18>	ok
T 1497991996 18<akurtakov18>	fwiw, I never used runtime asserts 
T 1497992017 18<akurtakov18>	so I'm kind of unsure how they work :)
T 1497992029 18<akurtakov18>	will they just print to syserr ?
T 1497992101 18<ericwill18>	so with assert
T 1497992112 18<ericwill18>	they only have an effect when you run the JVM with assertions enabled
T 1497992130 18<ericwill18>	and then they print a warning in syserr
T 1497992142 18<ericwill18>	by default Eclipse doesn't run with assertions enabled
T 1497992150 18<ericwill18>	but if you run a JUnit test they are
T 1497992202 18<akurtakov18>	ericwill: have you tested it with gtk older than 3.16? so we are sure that we don't end up in this assertion called on older gtk version 
T 1497992317 18<ericwill18>	yes
T 1497992323 18<ericwill18>	I went back as far as 3.10
T 1497992333 18<akurtakov18>	care to explain https://git.eclipse.org/r/#/c/76631/38/bundles/org.eclipse.swt/Eclipse+SWT/gtk/org/eclipse/swt/widgets/DateTime.java to me
T 1497992351 18<akurtakov18>	the Version >= 3.16 becomes  GTK3
T 1497992375 18<akurtakov18>	this is because we now use RGBA everywhere ?
T 1497992404 18<akurtakov18>	I like it just again confirming my reading :)
T 1497992414 18<ericwill18>	yes, with the patch everything on GTK3 uses GdkRGBA
T 1497992422 18<ericwill18>	everything GTK2 runs GdkColor
T 1497992444 18<ericwill18>	also if you want to run anything with assertions enabled, in the launch config under VM arguments, add "-ea"
T 1497992552 18<akurtakov18>	https://git.eclipse.org/r/#/c/76631/38/bundles/org.eclipse.swt/Eclipse+SWT/gtk/org/eclipse/swt/widgets/IME.java
T 1497992560 18<akurtakov18>	there are few todos you added :)
T 1497992597 18<akurtakov18>	I guess either leftovers or guards are really due
T 1497992617 18<ericwill18>	ah, looks like I did
T 1497992619 18<ericwill18>	an easy fix
T 1497992634 18<ericwill18>	just move the new GdkColor() bits into the GTK2 guard
T 1497992659 18*	akurtakov is code reading only now
T 1497992672 18<akurtakov18>	will try it tomorrow, hopefully with your adjustments :)
T 1497992684 18<akurtakov18>	fwiw, proper commit message is due to
T 1497992710 18<ericwill18>	sounds good
T 1497992717 18<ericwill18>	a second set of eyes is very helpful
T 1497992723 18<ericwill18>	especially when having worked on this for so long
T 1497992776 18<akurtakov18>	fwiw, https://bugs.eclipse.org/bugs/show_bug.cgi?id=518532
T 1497992788 18<akurtakov18>	I'm pushing hard for modernization 
T 1497992806 18<ericwill18>	I saw that, removing GDK drawing will make the code a lot simpler
T 1497992811 18<ericwill18>	especially for things like GC
T 1497992812 18<akurtakov18>	it's a step towards gtk2 removal
T 1497992827 18<akurtakov18>	as gtk2 is used by rhel6 only 
T 1497992839 18<akurtakov18>	and others that opt in but I don't really care about them that much :)
T 1497992854 18<ericwill18>	I will be so happy when we remove GTK2 :)
T 1497993069 18<akurtakov18>	I'm pushing as much as I can
T 1497993088 18<akurtakov18>	while trying to not cross the line where people stop listening and just say no :)
T 1497993101 18*	akurtakov feels like a politician lately
T 1497993140 18<akurtakov18>	ericwill: https://git.eclipse.org/r/#/c/76631/38/bundles/org.eclipse.swt/Eclipse+SWT/gtk/org/eclipse/swt/widgets/Widget.java this looks suspicious
T 1497993216 18<ericwill18>	akurtakov I moved it into Control
T 1497993221 18<ericwill18>	line 5020
T 1497993224 18<akurtakov18>	ok
T 1497993243 18<ericwill18>	the foreground machinery is a bit gimped, half of it was implemented in widget, half in Control
T 1497993298 18<akurtakov18>	ericwill: please nuke the sysout https://git.eclipse.org/r/#/c/76631/38/tests/org.eclipse.swt.tests/JUnit+Tests/org/eclipse/swt/tests/junit/Test_org_eclipse_swt_widgets_Control.java
T 1497993315 18<akurtakov18>	done reading :)
T 1497993346 18<ericwill18>	oops
T 1497993347 18<ericwill18>	will do
T 1497993581 18<akurtakov18>	ericwill: btw, there is issue with http://git.eclipse.org/c/platform/eclipse.platform.swt.git/diff/bundles/org.eclipse.swt/Eclipse%20SWT%20PI/gtk/org/eclipse/swt/internal/gtk/OS.java?id=56755d505b2f2ece25e1a012100d096898dafaf7
T 1497993606 18<akurtakov18>	long[] value should be long /*int*/
T 1497993625 18<akurtakov18>	swt tools put errors in my workspace for that
T 1497993637 18<ericwill18>	doh
T 1497993643 18<ericwill18>	sorry about that, forgot to enable that setting
T 1497993645 18<ericwill18>	will fix it now
T 1497993651 18<akurtakov18>	I can do it if you want
T 1497993660 18<ericwill18>	akurtakov okay please do
T 1497993985 18<akurtakov18>	ericwill: done
T 1497993993 18<akurtakov18>	with that I wish you good night :)
T 1497994006 18<ericwill18>	akurtakov thanks, I turned my warnings on. good night :)
T 1498062279 19<akurtakov>	ericwill: lufimtse: please feel free to throw bugs at ipun :)
T 1498062298 18<akurtakov18>	overall, he is tasked with finishing his bugs and helping with the triaging
T 1498062309 20<lufimtse>30	ok
T 1498062318 20<lufimtse>30	:-D
T 1498062320 20<lufimtse>30	ak
T 1498062321 20<lufimtse>30	akurtakov, 
T 1498062331 18*	ericwill loads a bunch of bugs into his hands and throws them at ipun
T 1498062352 18<akurtakov18>	ericwill: few loads please :)
T 1498062420 18<akurtakov18>	btw, who wants GLCanvas ? it is smth I hope one of you will be able to pick up after new year :)
T 1498062432 18<akurtakov18>	the other one get a11y :)
T 1498062439 18<akurtakov18>	but it's ASAP :)
T 1498063150 18<ericwill18>	I don't think anyone wants a11y :P
T 1498063204 18<akurtakov18>	that could only mean - you both get it :)
T 1498063216 18<ericwill18>	haha, I don't mind working on it once the color port is done
T 1498063224 19<ericwill>	lufimtse can have GLCanvas
T 1498063251 18<akurtakov18>	yeah, after being done with webkit2 :)
T 1498063458 18<akurtakov18>	btw, how is the color port going ?
T 1498063470 18<akurtakov18>	have you adjusted Leo's comments ?
T 1498063476 18<ericwill18>	akurtakov good, yes I made them
T 1498063485 18<ericwill18>	was just about to say you can try it out again if you like
T 1498063499 18<akurtakov18>	I tried it today and there was nothing broken I spotted
T 1498063507 18<akurtakov18>	will do thorough test later
T 1498063518 18<ericwill18>	okay
T 1498063520 18<ericwill18>	btw
T 1498063531 18<ericwill18>	on GTK2 Table and Tree bg colors do not work
T 1498063533 18<ericwill18>	on master
T 1498063538 18<ericwill18>	(unrelated to color port)
T 1498063552 18<ericwill18>	maybe something ipun can investigate?
T 1498063557 20<lufimtse>30	akurtakov, I'm working ont this guy atm btw: Bug 465280 â€“ [GTK3] OS.gtk_widget_get_allocation returns (0,0) for invisible controls
T 1498063559 18<akurtakov18>	meh 
T 1498063568 18<akurtakov18>	I don't care about GTK2 :)
T 1498063576 18<akurtakov18>	tbh, I want to remove it
T 1498063589 18<akurtakov18>	don't bother with gtk2 guys
T 1498063599 18<akurtakov18>	unless someone finds it's your patch that broke it :)
T 1498063629 18<ericwill18>	works for me :)
T 1498063664 18<akurtakov18>	now that we don't have to support RHEL 6 it's of no use for us
T 1498063679 19<akurtakov>	lufimtse: btw, good new for you - RHEL 7.4 will have webkit2 :)
T 1498063703 18<akurtakov18>	just in time isn't it :)
T 1498063709 18<akurtakov18>	release is in september :)
T 1498063745 20<lufimtse>30	nice
T 1498063783 19<akurtakov>	lufimtse: are there other things but return js left there ?
T 1498063819 20<lufimtse>30	akurtakov, so far no. But it wouldn't hurt for me to go through the whole browser api to make sure it all works.
T 1498063831 18<akurtakov18>	ok
T 1498076552 18<ericwill18>	akurtakov is 4.7 backport branch open for merging yet?
T 1498076559 18<akurtakov18>	ericwill: not yet
T 1498076651 18<akurtakov18>	this is postponed until 4.7 is out officialy so we can handle the extrme case of rebuild on 4.7 for Oxygen.0 if smth really severe hapens
T 1498076758 18<ericwill18>	okay, np :)
T 1498143161 18<ericwill18>	akurtakov: hey, Leo and I were wondering if this can be merged: https://git.eclipse.org/r/#/c/99534/
T 1498143331 18<akurtakov18>	if you're confident in it
T 1498143370 18<akurtakov18>	I have my principal concerns over such tests 
T 1498143397 18<akurtakov18>	aka how well it will work on different versions systems etc.
T 1498143408 18<akurtakov18>	but if you find it valuable - go oon
T 1498143420 20<lufimtse>30	akurtakov, what you mean over different version sysetms?
T 1498143442 18<akurtakov18>	well, if the test is specific to gtk
T 1498143459 18<akurtakov18>	what hapens if one runs them on e.g. ubuntu/rhel7/mageial...
T 1498143540 18<akurtakov18>	from releng pov they look stable
T 1498143573 20<lufimtse>30	akurtakov, hmmm. But in what way would all test be different to gtk specific tests in such context?
T 1498143581 20<lufimtse>30	both would run into the same problem?
T 1498143624 18<akurtakov18>	yeah, I mean if we have tests that are same for all WS we claim this is the right way and the system is offending
T 1498143656 18<akurtakov18>	if we have ws specific tests - it becomes gray area as it obviously it's not specified behavior of swt
T 1498143671 18<akurtakov18>	anyway, this is just thoughts and you're working more on this so it's your call
T 1498143695 20<lufimtse>30	akurtakov, I see. I think in such a case, a jUnit test can be made more generic to see the common behaviour.
T 1498144192 19<akurtakov>	lufimtse: if we can get your +1 for https://git.eclipse.org/r/#/c/76631/45
T 1498144202 18<akurtakov18>	and Eric can push it
T 1498144235 20<lufimtse>30	akurtakov, Ok. I'll review.
T 1498145134 18<akurtakov18>	ericwill: getting rgba will not magically enable transparent tooltips, will it ?
T 1498145179 18<ericwill18>	akurtakov not the javadoc ones, since they are not really tooltips :)
T 1498145270 18<ericwill18>	the native tooltips (like when you hover over a button on the eclipse workbench toolbar) are already transparent
T 1498148622 19<akurtakov>	lufimtse: are launch groups storable in launch file ?
T 1498148645 18<akurtakov18>	that would be nice
T 1498148702 20<lufimtse>30	akurtakov, what do you mean?
T 1498148714 20<lufimtse>30	whats a launch file?
T 1498148720 19<akurtakov>	lufimtse: you know that you can store launch configuration in a file and store it in git
T 1498148792 19<akurtakov>	lufimtse: like http://git.eclipse.org/c/equinox/rt.equinox.p2.git/tree/bundles/org.eclipse.equinox.frameworkadmin.test/Framework%20Admin%20Test.launch
T 1498148833 20<lufimtse>30	akurtakov, that's new info to me.
T 1498148839 20<lufimtse>30	akurtakov, how do you run such a .launch?
T 1498148855 19<akurtakov>	lufimtse: if you open a project that has such launch file
T 1498148868 18<akurtakov18>	it will be auto added in the launch configurations :)
T 1498148874 18<akurtakov18>	magic is magic :)
T 1498148886 20<lufimtse>30	oh.
T 1498148896 20<lufimtse>30	Interesting. I need to investigate.
T 1498148904 20<lufimtse>30	This could make life a lot easier.
T 1498148947 19<akurtakov>	lufimtse: there is export wizard 
T 1498148962 18<akurtakov18>	so you can get launch file generated from your existing launch
T 1498149018 20<lufimtse>30	akurtakov, ah, that's how to get it. Yea, it seems Launch Group is in there.
T 1498149034 20<lufimtse>30	akurtakov, could potentially be used for ALLTests + platformTest.
T 1498149042 19<akurtakov>	lufimtse: exactly my idea :)
T 1498149048 20<lufimtse>30	with Gtk2/Gtk3 versions.
T 1498149066 18<akurtakov18>	and if hte launch is stored in the platform test bundles voila :)
T 1498149084 20<lufimtse>30	akurtakov, btw, is it possible to have a hudson that also does cocoa/Win32
T 1498149088 20<lufimtse>30	for patch submissions?
T 1498149095 19<akurtakov>	lufimtse: short: no
T 1498149101 20<lufimtse>30	derp.
T 1498149142 18<akurtakov18>	long: technically there are such machines but they are limited as foundation can not expose windows/mac to the general public like that for licencing issues
T 1498149194 19<akurtakov>	lufimtse: btw, it would be nice if export was available from the launch dialog
T 1498149209 18<akurtakov18>	as the export wizard is kind of hidden
T 1498149521 20<lufimtse>30	akurtakov, I agree. Had a simmilar thought.
T 1498149537 19<akurtakov>	lufimtse: feel free to open a bug :)
T 1498149541 20<lufimtse>30	X-D
T 1498149574 18<akurtakov18>	Eclipe is full of these nice things but UX is not the best :)
T 1498149594 18<akurtakov18>	and add me on cc to that bug I'll try to get someone on it :)
T 1498149606 18<akurtakov18>	although it should be fairly trivial 
T 1498149705 20<lufimtse>30	akurtakov, I'm getting a lot of errors from bugzilla: There was an error sending mail from 'bugzilla-daemon@eclipse.org' to 'dirk.fauth@googlemail.com': Can't send data 
T 1498149713 20<lufimtse>30	?
T 1498149724 19<akurtakov>	lufimtse: network issue https://hudson.eclipse.org/platform/job/eclipse.platform.swt-Gerrit/4728/console
T 1498149751 20<lufimtse>30	derp.
T 1498149809 20<lufimtse>30	akurtakov, https://bugs.eclipse.org/bugs/show_bug.cgi?id=518652
T 1498149980 20<lufimtse>30	akurtakov, I'm getting bugzilla error after every single bugzilla opertion. 
T 1498149986 20<lufimtse>30	akurtakov, do you get that also?
T 1498149988 18<akurtakov18>	yes
T 1498149991 20<lufimtse>30	der.p
T 1498150005 18<akurtakov18>	infra is broken
T 1498150801 18<akurtakov18>	done for today, can't wait to remove gdk draw once rgba work is in :)
T 1498150804 18<akurtakov18>	g'night
T 1498156492 18<ericwill18>	ipun if you are looking for a bug to work on, you can take this one from me: https://bugs.eclipse.org/bugs/show_bug.cgi?id=494771
T 1498156534 18<ipun18>	ericwill: sure i can take a look. You want to triage for a bit then?
T 1498156550 18<ericwill18>	ipun I might do triage tomorrow, we'll see
T 1498231566 18<ipun18>	ericwill|afk: man this spinner bug guy is...thurough
T 1498232727 18<ericwill18>	ipun haha I saw
T 1498232732 18<ericwill18>	just one of those types of bugs
T 1498233218 19<ericwill>	lufimtse can we just merge that bug snippet thing and the readme? I want to add some other snippets today
T 1498235154 18<akurtakov18>	ericwill: wow, you spamed swt inbox :)
T 1498235171 18<akurtakov18>	that's so we don't think we are close to being decent :)
T 1498235252 18<ericwill18>	akurtakov haha, I noticed yesterday running the build script that a lot of stuff is deprecated that we don't have bugs for
T 1498235334 18<ericwill18>	a brief glance says most of them are easy fixes
T 1498236652 20<lufimtse>30	hello
T 1498236710 20<lufimtse>30	ericwill, +1 to submitting bug reports. We need to weed out these deprecated functions for gtk4.
T 1498236731 20<lufimtse>30	ericwill, I was having the same thought about the snippet business.
T 1498236750 19<ericwill>	lufimtse okay, I will merge it
T 1498236771 18<ericwill18>	also just uploaded some revised color port stuff, when you have a chance
T 1498236777 20<lufimtse>30	ok,
T 1498247447 19*	Now talking on 22#SWT
T 1498247631 19*	Now talking on 22#SWT
T 1498248316 19<ericwill>	lufimtse I saw your changes on the color port patch, I'll look at it Monday
T 1498248524 18<ericwill18>	have a good weekend everyone!
T 1498364650 20*	Disconnected (20Connection reset by peer)
T 1498364660 19*	Now talking on 22#SWT
T 1498487705 18<ipun18>	akurtakov: what do you think of this guys reasoning for using async in https://bugs.eclipse.org/bugs/show_bug.cgi?id=517633 ?
T 1498487923 18<akurtakov18>	what is the async? java one?
T 1498488035 18<ipun18>	akurtakov: he wanted to call OS.gtk_spin_button_update() on async instead
T 1498488044 20<lufimtse>30	ipun, I think he mentioned async is one possible solution, not the only one.
T 1498488053 20<lufimtse>30	ipun, afaik, we spoke about using a different signal, no?
T 1498488065 19<ipun>	lufimtse: tried it already
T 1498488071 20<lufimtse>30	result?
T 1498488084 18<ipun18>	the other signals are only sent on the widget being actually changed after called by gkt_spin_button_update()
T 1498488086 18<ipun18>	so no, it doesnt work
T 1498488142 19<ipun>	lufimtse: also where did you hear he had mulitple solutions?
T 1498488230 20<lufimtse>30	ipun, let's chat.
T 1498488345 18<akurtakov18>	replied
T 1498488406 19<akurtakov>	lufimtse: the async is a total no -go 
T 1498488421 19<akurtakov>	lufimtse: see my reasoning in the bug
T 1498489082 20<lufimtse>30	akurtakov, that's a good point.
T 1498490213 20*	Disconnected (20Connection timed out)
T 1498492028 19*	Now talking on 22#SWT
T 1498492523 18<ipun18>	akurtakov: im going to see if he has a response, for now ill see ifi can figure out another solution
T 1498493992 20<lufimtse>30	akurtakov, btw, is backport branch open for backports?
T 1498494021 18<akurtakov18>	no, it will happen after Oxygen is officially released
T 1498494032 18<akurtakov18>	there is still the risk of last minute rebuild
T 1498494038 18<akurtakov18>	so backports can not be allowed
T 1498494451 20<lufimtse>30	akurtakov, ah. Ok.
T 1498498805 19<ipun>	ericwill lufimtse anyone that is free, could someone run snippet141 and see if it runs with current gtk and swt versions
T 1498498806 18<ipun18>	?
T 1498498832 18<ericwill18>	ipun sure give me a sec
T 1498498883 18<ipun18>	thanks!
T 1498498892 18<ericwill18>	I get an error
T 1498498898 18<ericwill18>	"There was an error loading the GIF"
T 1498498912 18<ipun18>	hmm okay mine says it cant load the class
T 1498498923 18<ipun18>	im wondering what i should do with this https://bugs.eclipse.org/bugs/show_bug.cgi?id=287477
T 1498501267 18<akurtakov18>	fwiw, swt has it's own gif/jpeg implementations
T 1498501902 18<ericwill18>	akurtakov do you know what is going on here? http://git.eclipse.org/c/platform/eclipse.platform.swt.git/diff/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/widgets/Display.java?h=silenio/Bug389910&id=cd78cc4a8b2e806160de2908244830099a48d3b9
T 1498501911 18<ericwill18>	in the "toGdkColor" method
T 1498502027 18<ericwill18>	seems like some math to convert from HSV to HSL...then back to RGB
T 1498502612 18<akurtakov18>	ericwill: no idea :)
T 1498502616 18<akurtakov18>	was I involved ?
T 1498502713 18<ericwill18>	nope
T 1498502720 18<ericwill18>	akurtakov seems to be conversion with this: https://en.wikipedia.org/wiki/HSL_and_HSV
T 1498503053 18<akurtakov18>	ericwill: so do you think it's no longer needed or smth in it troubles you ?
T 1498503074 18<ericwill18>	akurtakov we still need it, I can't find a suitable replacement
T 1498503084 18<ericwill18>	and Leo pointed out in a patch review that the method makes no sense
T 1498503088 18<ericwill18>	so I am documenting it
T 1498503200 18<akurtakov18>	always good :)
T 1498503951 19<akurtakov>	lufimtse: there were talks about having image decoders based on gdk-pixbuf
T 1498503983 18<akurtakov18>	as this would give support for latest specs and it would give also way more details properly implemented
T 1498503994 18<akurtakov18>	and quite probably speed up too 
T 1498504016 18<akurtakov18>	but this has always been very low in prio list
T 1498505695 18<ericwill18>	akurtakov do you know what IME is and how I can test it
T 1498505704 18<ericwill18>	I don't see any snippets for it
T 1498505933 20<lufimtse>30	akurtakov, hmmm
T 1498570231 19<ericwill>	lufimtse good morning, thank you for the patch review
T 1498570634 18<ericwill18>	akurtakov: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/commit/?id=8f5c12dbbf0d52d77529e8b468c625831e5f4dd0
T 1498570635 18<ericwill18>	:)
T 1498570698 18<akurtakov18>	yay :)
T 1498570713 18<akurtakov18>	one of the most eventfull swt months lately
T 1498570741 18<akurtakov18>	https://projects.eclipse.org/projects/eclipse.platform.swt/who
T 1498570746 18<akurtakov18>	pretty good for June 
T 1498570801 18<ericwill18>	absolutely
T 1498570909 18<ipun18>	cool i see my name!
T 1498570972 18<ericwill18>	akurtakov you can go ahead and remove GDK drawing now :)
T 1498570993 18<akurtakov18>	ericwill: will do it tomorrow
T 1498571016 18<akurtakov18>	still discussing with Lakshmi how to handle xulrunner removal :)
T 1498571021 18<akurtakov18>	and doing it around the world
T 1498571027 18<akurtakov18>	e.g. launcher was today :)
T 1498571039 18<ericwill18>	perfect
T 1498572634 18<ipun18>	akurtakov: is there any historical reasons why some SWT events are sent as post vs send when retreiving from GTK?
T 1498572652 18<akurtakov18>	ipun: no idea :)
T 1498572662 18<akurtakov18>	I gave up on remembering
T 1498572673 18<akurtakov18>	gut feelings + reading for me :)
T 1498574272 20<lufimtse>30	ipun, send is often used if gtkEvents need a return value. post is usually used if they don't.
T 1498574303 20<lufimtse>30	ipun, but if you change post to send now and vice versa, it can break order of events. So it has to be well justified and tested.
T 1498575080 20<lufimtse>30	ipun, Bug 515396 â€“ [Wayland] dragDetect should block till DnD state is known 
T 1498575080 20<lufimtse>30	https://bugs.eclipse.org/bugs/show_bug.cgi?id=515396
T 1498586403 19<ericwill>	lufimtse hello
T 1498586406 18<ericwill18>	do you have a minute?
T 1498588616 20<lufimtse>30	hey
T 1498588617 20<lufimtse>30	ericwill, 
T 1498588620 20<lufimtse>30	sap
T 1498588655 19<ericwill>	lufimtse hey, for the GTK specific JUnits
T 1498588663 18<ericwill18>	I wanted to know if you had naming scheme in mind
T 1498588669 18<ericwill18>	I came up with this so far: https://git.eclipse.org/r/#/c/98569/
T 1498588801 20<lufimtse>30	ericwill, maybe just call it Test_color.java ?
T 1498588805 20<lufimtse>30	or something like that.
T 1498588832 19<ericwill>	lufimtse I thought maybe something in the name of the class would distinguish it from the cross-platform tests
T 1498588834 18<ericwill18>	idk
T 1498588922 20<lufimtse>30	maybe put the color tests into cross-platform test, but tell it not skip on gtk2.
T 1498588932 20<lufimtse>30	but tell it *to* skip on gtk2
T 1498588951 19<ericwill>	lufimtse can we do that?
T 1498588961 18<ericwill18>	I thought the gtk guards are in OS.java only
T 1498588978 20<lufimtse>30	I did something similar for webkit2
T 1498588986 20<lufimtse>30	you don't call os.java
T 1498588989 20<lufimtse>30	instead ...
T 1498589002 20<lufimtse>30	use get system property
T 1498589013 20<lufimtse>30	like: String webkitGtkVersionStr = System.getProperty("org.eclipse.swt.internal.webkitgtk.version")
T 1498589016 20<lufimtse>30	but for gtk
T 1498589019 20<lufimtse>30	lemmeeee see
T 1498589026 19<ericwill>	lufimtse ah yeah
T 1498589031 18<ericwill18>	I know what you are talking about
T 1498589046 20<lufimtse>30	String gtkVersion = System.getProperty("org.eclipse.swt.internal.gtk.version");
T 1498589072 20<lufimtse>30	see Test_*Browser
T 1498589081 20<lufimtse>30	setUp()
T 1498589084 19<ericwill>	lufimtse danke
T 1498589094 20<lufimtse>30	I'm setting up cross platform tests atm
T 1498589115 20<lufimtse>30	one thing I didn't quite anticipate is that running jUnits over ssh is not straight forward.
T 1498589127 20<lufimtse>30	it tries to tunnel them etc...
T 1498589133 20<lufimtse>30	gotta find a more creative approach.
T 1498589171 18<ericwill18>	ah yeah that could be tricky
T 1498589184 18<ericwill18>	maybe do it headless?
T 1498592176 18<ericwill18>	akurtakov how often do the hudson test machines on gerrit get updated?
T 1498592179 18<ericwill18>	every night?
T 1498592199 18<akurtakov18>	ericwill: yes
T 1498592269 18<ericwill18>	okay, cool
T 1498592346 18<akurtakov18>	ericwill: unless there is broken build :)
T 1498592356 18<akurtakov18>	in which case I-build repo will not be updated
T 1498592414 18<ericwill18>	akurtakov I was just wondering when I push the JUnit tests with alpha
T 1498592420 18<ericwill18>	it can wait
T 1498592428 18<akurtakov18>	once you see good build
T 1498592640 18<ericwill18>	akurtakov after removal of GDK drawing, what stands in the way of GTK2 removal?
T 1498592663 18<akurtakov18>	people will :)
T 1498592705 18<ericwill18>	ah yes, the political discussions
T 1498592736 18<akurtakov18>	ericwill: I'm looking to remove rhel6 out of the equation by dropping cairo pre 1.10
T 1498592767 18<akurtakov18>	that would silence many people :)
T 1498593051 18<akurtakov18>	ericwill: I'm not pushing too much now 
T 1498593066 18<akurtakov18>	as there are other changes which require pushing 
T 1498593076 18<akurtakov18>	but gtk2 removal is about time
T 1498593092 18<akurtakov18>	and once we have gtk4 betas we will claim it inevitable
T 1498593131 18<ericwill18>	right, makes sense
T 1498658398 20<lufimtse>30	https://dev.eclipse.org/mhonarc/lists/platform-releng-dev/
T 1498658419 20<lufimtse>30	http://download.eclipse.org/eclipse/downloads/
T 1498658425 20<lufimtse>30	ericwill, builds produced, but not yet linked.
T 1498658449 18<akurtakov18>	I'm working on starting doing 4.7.1 maintenance builds as we speak
T 1498658468 18<akurtakov18>	aiming that all this is fixed by eow
T 1498658524 18<akurtakov18>	after all we have the release today
T 1498658528 18<akurtakov18>	PARTYYY :)
T 1498658591 18<ericwill18>	akurtakov :D
T 1498658599 18<ericwill18>	a good reason to have some beers
T 1498658784 18<ipun18>	oh yeah
T 1498658787 18<ipun18>	todays the day :D
T 1498658797 18<ipun18>	release party on blujeans it is
T 1498744385 18<akurtakov18>	ipun: here ?
T 1498744395 18<ipun18>	akurtakov: hey
T 1498744409 18<akurtakov18>	what are you working on ?
T 1498744476 18<ipun18>	i've been bug triaging this whole week but ive picked up https://bugs.eclipse.org/bugs/show_bug.cgi?id=4745
T 1498744492 18<ipun18>	this one is pretty much done im just trying to see if i can set up a windows VM to test how it looks
T 1498744508 18<ipun18>	im waiting for Leo to test it on OSX but hes not in yet
T 1498744926 18<akurtakov18>	please look at TableDragSourceEffect 
T 1498744937 18<akurtakov18>	or TreeDragSourceEffect
T 1498744948 18<akurtakov18>	drawing is in if GTK3 block
T 1498744956 18<ipun18>	there a bug id for that?
T 1498744960 18<akurtakov18>	but doing cairo drawing should be suitable for all
T 1498744963 18<akurtakov18>	no
T 1498744968 18<akurtakov18>	just saw it
T 1498744974 18<akurtakov18>	while looking at other things
T 1498744997 18<akurtakov18>	I don't know how much porting would be needed
T 1498745005 18<akurtakov18>	probably none for the actual drawing
T 1498745015 18<akurtakov18>	but I would expect some "hooking" fun
T 1498745023 18<akurtakov18>	as it doesn't work out of the box :)
T 1498745270 18<ipun18>	okay i will take a look
T 1498745459 18<akurtakov18>	feel free to open a bug
T 1498745475 18<akurtakov18>	it's just smth I found while looking to remove gdkdraw
T 1498745839 18<ipun18>	akurtakov: so did you want to remove cairo or remove the guard?
T 1498745842 18*	ipun is slightly confused
T 1498745854 18<akurtakov18>	remove the else clause
T 1498745859 18<akurtakov18>	aka not cairo drawing
T 1498746450 18<ipun18>	akurtakov: okay. But still have a solution for GTK2 i assume?
T 1498748621 19<ericwill>	lufimtse color port tests ready to be reviewed once more
T 1498760346 19<akurtakov>	lufimtse: http://download.eclipse.org/eclipse/downloads/
T 1498760356 18<akurtakov18>	4.8 I builds are shown now 
T 1498763653 20<lufimtse>30	akurtakov, ooeee
T 1498763680 19<akurtakov>	lufimtse: 4.7.1 builds should be up by Tue
T 1498763705 18<akurtakov18>	it involved me requesting resources and pde commit rights so I can speed it up in the future
T 1498829430 18<akurtakov18>	ipun: how is the dnd effect stuff going ?
T 1498829934 18<ipun18>	akurtakov: good, i was just about to msg you
T 1498829954 18<ipun18>	i spent a while on #cairo and #gtk to figure this out
T 1498829961 18<akurtakov18>	so sounds doable?
T 1498829990 18<ipun18>	theres a small problem. The way that GTK gives us the drag icon differs in GTK2 vs GTK3
T 1498830013 18<ipun18>	gtk_tree_view_create_row_drag_icon() is not deprecated and is in both versions, but they return different values
T 1498830029 18<ipun18>	in GTK2 a GDKpixmap is returned, while GTK3 returns a cairo surface
T 1498830069 18<ipun18>	they've dropped support for GdkPixmap for Cairo as of GTK3, which makes it difficult as there is no methods in GTK2 that will give us a cairo surface image instead
T 1498830082 18<ipun18>	their fix was basically for GTK3, which kind of screws things up for us 
T 1498830322 18<ipun18>	what do you think?
T 1498830399 18<akurtakov18>	not sure I follow
T 1498830408 18<akurtakov18>	we work dynamically
T 1498830423 18<akurtakov18>	and GdkPixmap is smth we can use with cairo
T 1498830430 18<akurtakov18>	on gtk2 
T 1498830433 18<akurtakov18>	or not?
T 1498830487 18<ipun18>	so basically in Gtk2 a GdkPixmap is returned, which is deprecated
T 1498830493 18<ipun18>	but, we can convert the pixmap to cairo using gdk_cairo_set_source_pixmap
T 1498830499 18<ipun18>	however, that method is removed in GTK3
T 1498830518 18<akurtakov18>	which is fine
T 1498830521 18<ipun18>	so we will still need a (OS.GTK3) conditional
T 1498830525 18<akurtakov18>	ok
T 1498830534 18<ipun18>	are you okay with that?
T 1498830537 18<akurtakov18>	yes
T 1498830543 18<ipun18>	kk
T 1498830550 18<ipun18>	ill come up with something asap
T 1498830553 18<akurtakov18>	having a cairo drawing (even if pixmap based) on gtk2
T 1498830560 18<akurtakov18>	is better than gdkdrawable
T 1498830570 18<akurtakov18>	which was deprecated even before that :)
T 1498830583 18<akurtakov18>	and it allow me nuke all gdkdrawable stuff :)
T 1498830614 18<ipun18>	sounds good, i think this is very possible then :)
T 1498831607 18<akurtakov18>	one hell of a commit coming guys :)
T 1498831965 18<akurtakov18>	https://git.eclipse.org/r/#/c/100472/ 
T 1498831975 18<akurtakov18>	I would appreciate a quick glance
T 1498832203 18<ipun18>	akurtakov: oh my...
T 1498832212 19<ericwill>	lufimtse ^^
T 1498832401 19<ipun>	i dont think lufimtse is here
T 1498832405 18<ipun18>	hes not in the office
T 1498832420 18<ipun18>	he'll show up though I talked to him last night
T 1498832443 18<akurtakov18>	ericwill: btw, mylyn notification background is broken with the latest build
T 1498832520 18<akurtakov18>	ericwill: anyway, I'll push it unless you find issue while I do same surgery to TextLayout :)
T 1498832570 18<ericwill18>	akurtakov screenshot of breakage?
T 1498832582 18<akurtakov18>	ericwill: for mylyn ?
T 1498832585 18<ericwill18>	akurtakov yeah
T 1498832742 18<akurtakov18>	meh, it worked now
T 1498832752 18<akurtakov18>	worst case , doesn't happen everytime
T 1498832767 18<akurtakov18>	ericwill: ok, open preferences
T 1498832798 18<akurtakov18>	do you see the right column being all white background ?
T 1498832831 18<ericwill18>	window -> preferences?
T 1498832835 18<akurtakov18>	I think it's same thing there 
T 1498832837 18<akurtakov18>	yes
T 1498832900 18<ericwill18>	preferences window looks fine to me
T 1498832920 18<ericwill18>	or is this under some specific preference?
T 1498832967 18<akurtakov18>	ericwill: are you unde rwayland ?
T 1498833006 18<ericwill18>	akurtakov no
T 1498833010 18<ericwill18>	are you?
T 1498833158 18<akurtakov18>	yes
T 1498833195 18<ericwill18>	let me try it, brb
T 1498833309 18<ericwill18>	akurtakov still looks fine to me
T 1498833330 18<akurtakov18>	hmm ok
T 1498833335 18<akurtakov18>	please stay on wayland
T 1498833341 18<akurtakov18>	it might come later :)
T 1498833352 18<ericwill18>	will do
T 1498833357 18<akurtakov18>	good idea in general :)
T 1498833391 18<ericwill18>	a wayland only color bug would be weird
T 1498833403 18<akurtakov18>	it is so awkward
T 1498833422 18<akurtakov18>	my swt involvement started with adding all these ifs for gtk3
T 1498833438 18<akurtakov18>	actually with cairo in gtk 2.18 :)
T 1498833451 18<akurtakov18>	feels like closing the loop now by removing the old stuff
T 1498833490 18<ericwill18>	it's come full circle!
T 1498833813 18<akurtakov18>	yeah
T 1498833828 18<akurtakov18>	so fine to push GC stuff ?
T 1498833884 18<ericwill18>	akurtakov I don't see anything bad looking, you know more about it than me :)
T 1498833895 18<akurtakov18>	:)
T 1498833912 18<akurtakov18>	worst part is probably I'm the only one in the project remembering this shit :)
T 1498834767 18<akurtakov18>	ericwill: I had to restart my ide
T 1498834772 18<akurtakov18>	preferences are now fine
T 1498834784 18<akurtakov18>	so there is smth somewhere causing the issues later
T 1498834812 18<ericwill18>	strange
T 1498834828 18<ericwill18>	not re-drawing properly maybe?
T 1498834930 20<lufimtse>30	ericwill, hello'
T 1498835066 19<ericwill>	lufimtse hi, it's okay
T 1498835072 18<ericwill18>	Alex already went ahead and merged
T 1498836009 18<akurtakov18>	if you guys don't notice any change I did good job :)
T 1498836272 18<akurtakov18>	ericwill: ok, so I got the preferences dialog background white again
T 1498836304 18<ericwill18>	akurtakov anything specific to reproduce the issue?
T 1498836317 18<akurtakov18>	ericwill: no, regular coding stuff
T 1498836325 18<akurtakov18>	jump to navigation search for references and etc.
T 1498836335 18<akurtakov18>	after an hour doing so I get it repro
T 1498836363 18<ericwill18>	very weird
T 1498836373 18<ericwill18>	if it happens only on Wayland -- even weirder
T 1498836463 18<ipun18>	akurtakov: so its looking more doable to get this done but i might have to rewrite getSourceImage quite a bit, might take a bit longer than a few lines changed
T 1498836481 18<akurtakov18>	hmm
T 1498836496 18<akurtakov18>	that's unexpected :)
T 1498836560 18<ipun18>	yeah basically i have to do some conversion so that might change the actual logic to it
T 1498836568 18<ipun18>	but it shouldnt be a problem, it just might look different
T 1498836614 18<akurtakov18>	you're off on monday, right?
T 1498836638 18<ipun18>	no im gonna be working on monday
T 1498836654 18<akurtakov18>	ok, I'll look into it on monday and we can talk once you appear
T 1498836658 18<ipun18>	sure
T 1498838588 20<lufimtse>30	facebook launched a "workplace" version. Interesting..
T 1499089754 19*	Now talking on 22#SWT
T 1499177408 18<akurtakov18>	ericwill: hey Eric
T 1499177419 18<akurtakov18>	would you please install ubuntu in a vm and try 
T 1499177432 18<akurtakov18>	my gut feeling is some weird ubuntu theme issue
T 1499177440 18<ericwill18>	akurtakov already in the process of doing so :)
T 1499177447 18<akurtakov18>	cool
T 1499177448 18<ericwill18>	that is what I think as well
T 1499177471 18<akurtakov18>	ericwill: could it be even transparency
T 1499177497 18<akurtakov18>	now that the colors have transparency and adwaita doesn't define it for anything but tooltip
T 1499177519 18<akurtakov18>	if ambience uses heavy transparency I can envision such problems
T 1499177546 18<ericwill18>	akurtakov I will look into it. all his breakages were custom widgets/SwtFixed only widgets
T 1499177555 18<ericwill18>	so transparency could be it
T 1499177846 18<ericwill18>	akurtakov the issue reproduces on Ubuntu unity
T 1499177848 18<ericwill18>	will try with GNOME
T 1499177892 18<akurtakov18>	I don't expect change if gnome uses ambience and not adwaita :)
T 1499177946 18<ericwill18>	akurtakov GNOME with ambiance broken, adwaita works
T 1499177951 18*	ericwill sighs
T 1499177968 18<akurtakov18>	as expected :)
T 1499178013 18<ericwill18>	akurtakov what is the procedure with this, do we fix it?
T 1499178024 18<akurtakov18>	yeah, we would better fix it
T 1499178040 18<akurtakov18>	ubuntu is one of the target environments
T 1499178044 18<akurtakov18>	so it should work out of the box
T 1499178066 18<ericwill18>	okay, I'll look into it
T 1499178078 18<ericwill18>	can't wait for Ubuntu to start using GNOME :)
T 1499178099 18<akurtakov18>	ericwill: well, and Adwaita (ideally)
T 1499178108 18<akurtakov18>	ambience is an abomination :)
T 1499178148 18*	akurtakov can't get people liking the orange color randomly in the UI
T 1499178152 18<akurtakov18>	is it still like that ?
T 1499178158 18<ericwill18>	yes
T 1499178161 18<ericwill18>	it is so ugly
T 1499178163 18<ericwill18>	I can't stand it
T 1499178219 18<akurtakov18>	seeing UI like that being liked makes me believe I can be a world class artist one day :)
T 1499178277 18<ipun|laptop18>	akurtakov: I'd love to see that haha
T 1499178279 18<ericwill18>	I don't who decided on orange, of all colors
T 1499178284 18<ericwill18>	*I don't know
T 1499179085 20<lufimtse>30	akurtakov, so is backport branch open now? Do you know?
T 1499179092 18<akurtakov18>	ipun: if ambience is designer work, I 'm leonardo da vinci :)
T 1499179108 19<akurtakov>	lufimtse: according to sravan , he needs few more hours
T 1499179113 18<akurtakov18>	tbh, I don't know what is he doing 
T 1499179120 20<lufimtse>30	akurtakov, ah, ok.
T 1499180101 18<akurtakov18>	ericwill: it gets better and better :)
T 1499180133 18<ericwill18>	akurtakov I am very curious as the cause of this
T 1499180433 18<ipun18>	akurtakov: i should just call you alex da vinci from now on
T 1499180464 18<akurtakov18>	ericwill: transparency or some color not initialized
T 1499180485 18<akurtakov18>	look in the color tab in control example on ubuntu
T 1499180498 18<akurtakov18>	some constant should be quite weird
T 1499180500 18<akurtakov18>	 :)
T 1499180627 18<ericwill18>	akurtakov that is what I am doing right now haha
T 1499180970 18<akurtakov18>	ericwill: let me know of anything you find
T 1499180997 18<ericwill18>	akurtakov system colors look normal
T 1499182368 18<ericwill18>	akurtakov actually nvm, I was looking at the wrong thing. I found some breakages
T 1499184167 18<akurtakov18>	ericwill: what it is ?
T 1499184411 18<ericwill18>	akurtakov 7 system colors are broken, I am looking into the cause
T 1499184426 18<ericwill18>	doesn't seem to be a transparency issue
T 1499184431 18<akurtakov18>	good
T 1499184440 18<akurtakov18>	that should be easier to fix
T 1499184443 18<ericwill18>	yes
T 1499265735 18<ipun18>	akurtakov: do you know what type of widget this diagram viewer is using? https://bugs.eclipse.org/bugs/show_bug.cgi?id=517671
T 1499265756 18<akurtakov18>	probably canvas
T 1499320200 20*	Disconnected (20Connection reset by peer)
T 1499320210 19*	Now talking on 22#SWT
T 1499352616 20<lufimtse>30	ericwill,  addr: EclipseWin10.local   usr/pass:eclipse/eclipse
T 1499352635 20<lufimtse>30	sorry pass is not 169 letters long like your password.
T 1499353040 18<ericwill18>	lol
T 1499699952 20*	Disconnected (20Connection timed out)
T 1499700865 19*	Now talking on 22#SWT
