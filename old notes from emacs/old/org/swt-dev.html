<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title></title>
<!-- 2015-06-02 Tue 11:28 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Leo Ufimtsev" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">About SWT</a></li>
<li><a href="#orgheadline7">About this document</a>
<ul>
<li><a href="#orgheadline2"><span class="todo nilUNDER_CONSTRUCTION">UNDER_CONSTRUCTION</span> 'under construction' sections like this.</a></li>
<li><a href="#orgheadline3">You will learn</a></li>
<li><a href="#orgheadline4">How to use this docu</a></li>
<li><a href="#orgheadline5">Copying this document</a></li>
<li><a href="#orgheadline6">Comments, Questions &amp; Feedback</a></li>
</ul>
</li>
<li><a href="#orgheadline10">Communication and support</a>
<ul>
<li><a href="#orgheadline8">SWT Community</a></li>
<li><a href="#orgheadline9">Following SWT bugs in bugzilla.</a></li>
</ul>
</li>
<li><a href="#orgheadline11">New &amp; Changes</a></li>
<li><a href="#orgheadline12">Pre-requisites</a></li>
<li><a href="#orgheadline20">SWT Developer setup (Java part of it)</a>
<ul>
<li><a href="#orgheadline13">Running SWT Snippets with jar or source code</a></li>
<li><a href="#orgheadline14">Checking out SWT repos for development</a></li>
<li><a href="#orgheadline15">Configure git for review</a></li>
<li><a href="#orgheadline16">Enable 32/64 bit checking by swt-tools</a>
<ul>
<li><a href="#orgheadline17">About 32/64 bit</a></li>
<li><a href="#orgheadline18">Enable checks of for 32/64 bit with swt tools.</a></li>
</ul>
</li>
<li><a href="#orgheadline19">References</a></li>
</ul>
</li>
<li><a href="#orgheadline27">Build GTK SO files</a>
<ul>
<li><a href="#orgheadline21">About</a></li>
<li><a href="#orgheadline25">Rebuilding SO file</a>
<ul>
<li><a href="#orgheadline22">Pre-requisites</a></li>
<li><a href="#orgheadline23">Step-by-step</a></li>
<li><a href="#orgheadline24">Automating the build-proccess</a></li>
</ul>
</li>
<li><a href="#orgheadline26">References</a></li>
</ul>
</li>
<li><a href="#orgheadline40">SWT code base overview and OS.java</a>
<ul>
<li><a href="#orgheadline28">Learning SWT</a></li>
<li><a href="#orgheadline29">General Widget Hierarchy</a></li>
<li><a href="#orgheadline30">About GtkHandles</a></li>
<li><a href="#orgheadline31">OS.java introduction</a>
<ul>
<li><a href="#orgheadline32">About OS.java</a></li>
<li><a href="#orgheadline33">OS.java compilation to os.h os.c etc..</a></li>
<li><a href="#orgheadline34">Submission of os.h os.c to gerrit</a></li>
</ul>
</li>
<li><a href="#orgheadline38">SWT Code style notes</a>
<ul>
<li><a href="#orgheadline35">Java doc notes</a></li>
<li><a href="#orgheadline36">Method naming</a></li>
<li><a href="#orgheadline37">Method access modifiers</a></li>
</ul>
</li>
<li><a href="#orgheadline39">SWT Bug naming conventions</a></li>
</ul>
</li>
<li><a href="#orgheadline44">SWT Fixed Container</a>
<ul>
<li><a href="#orgheadline41">About</a></li>
<li><a href="#orgheadline42">Every Widget is based on swt fixed</a></li>
<li><a href="#orgheadline43">Technical C Details</a></li>
</ul>
</li>
<li><a href="#orgheadline63">SWT and Gtk Versions</a>
<ul>
<li><a href="#orgheadline45">About Gtk Versions</a></li>
<li><a href="#orgheadline46">SWT's Gtk Version Support</a></li>
<li><a href="#orgheadline47">Switching snippets to run on either GTK2 or GTK3.</a></li>
<li><a href="#orgheadline48">Gtk version on your system</a></li>
<li><a href="#orgheadline49">Getting gtk version programtically in java/SWT</a></li>
<li><a href="#orgheadline50">Getting gtk version versions Eclipse is running on</a></li>
<li><a href="#orgheadline51">Gtk Versions on Fedora/Red Hat</a></li>
<li><a href="#orgheadline52">About</a></li>
<li><a href="#orgheadline53">General testing strategy</a></li>
<li><a href="#orgheadline54">Versions to test on</a></li>
<li><a href="#orgheadline57">Set up for Multiple GtkVersions</a>
<ul>
<li><a href="#orgheadline55">Native Gtk compiling and Gtk in VM's</a></li>
<li><a href="#orgheadline56">Example setup</a></li>
</ul>
</li>
<li><a href="#orgheadline61">Gtk from sources</a>
<ul>
<li><a href="#orgheadline58">Compiling Gtk+</a></li>
<li><a href="#orgheadline59">Copy compiled gtk for re-use</a></li>
<li><a href="#orgheadline60">Tie newly built gtk into SWT</a></li>
</ul>
</li>
<li><a href="#orgheadline62">References</a></li>
</ul>
</li>
<li><a href="#orgheadline71">Adding custom functions to OS.java</a>
<ul>
<li><a href="#orgheadline64">Introduction</a></li>
<li><a href="#orgheadline65">Dynamic methods and <code>os_custom.h</code></a></li>
<li><a href="#orgheadline66">Adding custom Functions to OS.Java</a></li>
<li><a href="#orgheadline67">What does SWT tools do</a></li>
<li><a href="#orgheadline68">Adding custom C enums to OS.java</a></li>
<li><a href="#orgheadline69">Appendix: Special custom bindings</a></li>
<li><a href="#orgheadline70">References</a></li>
</ul>
</li>
<li><a href="#orgheadline79">About Gtk</a>
<ul>
<li><a href="#orgheadline72">About</a></li>
<li><a href="#orgheadline73">Brief overview of Gtk</a></li>
<li><a href="#orgheadline74">Learning Gtk</a></li>
<li><a href="#orgheadline75">Gtk Api documentation</a></li>
<li><a href="#orgheadline76">Getting help</a></li>
<li><a href="#orgheadline78">Gtk Source code</a></li>
</ul>
</li>
<li><a href="#orgheadline85">C/C++ Development in Eclipse</a>
<ul>
<li><a href="#orgheadline80">About</a></li>
<li><a href="#orgheadline81">Getting Started</a></li>
<li><a href="#orgheadline82">A note about Automake/Make file/Executable C projects.</a></li>
<li><a href="#orgheadline83">Useful Eclipse Code Navigation and editing techniques for C</a></li>
<li><a href="#orgheadline84">Before you proceed</a></li>
</ul>
</li>
<li><a href="#orgheadline89">Import Gtk Sources into Eclipse for browsing</a>
<ul>
<li><a href="#orgheadline86">About</a></li>
<li><a href="#orgheadline77">Git repositories to check out for Gtk development.</a></li>
<li><a href="#orgheadline87">Import  projects into Eclipse.</a></li>
<li><a href="#orgheadline88">References</a></li>
</ul>
</li>
<li><a href="#orgheadline98">Writing &amp; Debugging Gtk apps in Eclipse</a>
<ul>
<li><a href="#orgheadline90">Prerequisites</a></li>
<li><a href="#orgheadline91">Cloning my existing repository.</a></li>
<li><a href="#orgheadline92">Manually create a project.</a>
<ul>
<li><a href="#orgheadline93">Header and source code files</a></li>
<li><a href="#orgheadline94">Making a new C Executable project</a></li>
<li><a href="#orgheadline95">Set the indexer to look inside your git repository.</a></li>
</ul>
</li>
<li><a href="#orgheadline96">Debugging Gtk Apps</a></li>
<li><a href="#orgheadline97">gtk Debug flags for apps&#xa0;&#xa0;&#xa0;<span class="tag"><span class="GTK">GTK</span></span></a></li>
</ul>
</li>
<li><a href="#orgheadline103">GtkInspector</a>
<ul>
<li><a href="#orgheadline99">About</a></li>
<li><a href="#orgheadline100">Opening GtkInspector</a></li>
<li><a href="#orgheadline101">Limitation: GtkInspector and reparenting</a></li>
<li><a href="#orgheadline102">References</a></li>
</ul>
</li>
<li><a href="#orgheadline117">Debugging the native 'Gtk' C part of an SWT application.</a>
<ul>
<li><a href="#orgheadline104">About</a></li>
<li><a href="#orgheadline105">Building SWT jni bindings with debug support.</a></li>
<li><a href="#orgheadline106">Rebuilding Gtk with debug support and w/o optimizations.</a></li>
<li><a href="#orgheadline107">Set the SWT widget to use new Gtk</a></li>
<li><a href="#orgheadline108">Debug Gtk bits via attach-proccess</a></li>
<li><a href="#orgheadline113">Debugging swtFixed custom code</a>
<ul>
<li><a href="#orgheadline109">About Source code and binary code locations</a></li>
<li><a href="#orgheadline110">Souce and debug folders</a></li>
<li><a href="#orgheadline111">Creating src/binary projects in Eclipse</a></li>
<li><a href="#orgheadline112">Debugging swt custom</a></li>
</ul>
</li>
<li><a href="#orgheadline115">Troubleshooting</a></li>
<li><a href="#orgheadline116">Gtk Debugging appendix/notes</a></li>
</ul>
</li>
<li><a href="#orgheadline122">Tips for Gtk/swtFixed debugging</a>
<ul>
<li><a href="#orgheadline118">Gtk handles to SWT Handles</a></li>
<li><a href="#orgheadline119">Identify widget by gtkInspector address column &amp; <b>window</b> property.</a></li>
<li><a href="#orgheadline120">Cast to see variable content</a></li>
<li><a href="#orgheadline121">GDB console accepts usual gdb syntax</a></li>
</ul>
</li>
<li><a href="#orgheadline129">Troubleshooting Eclipse</a>
<ul>
<li><a href="#orgheadline126">Start up isssues</a>
<ul>
<li><a href="#orgheadline123">Workspace in use</a></li>
<li><a href="#orgheadline124">General things to try</a></li>
<li><a href="#orgheadline125">Gtk2/Gtk3 flag</a></li>
</ul>
</li>
<li><a href="#orgheadline128">UI issues</a>
<ul>
<li><a href="#orgheadline114">Clear ui layout</a></li>
<li><a href="#orgheadline127">turn off eclipse CSS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline138">Appendix / Random things</a>
<ul>
<li><a href="#orgheadline130">Source code of this document</a></li>
<li><a href="#orgheadline131">Eclipse Release milestones and release canidates</a></li>
<li><a href="#orgheadline132">Mystical ~/.swt folder</a></li>
<li><a href="#orgheadline133">Eclipse CSS</a></li>
<li><a href="#orgheadline134">jhbuild Compiling/Building really new gtk versions on your own system</a></li>
<li><a href="#orgheadline135">About Author</a></li>
<li><a href="#orgheadline136">Hex to decimal and decimal to hex conversion</a></li>
<li><a href="#orgheadline137">SWT commiter access</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">About SWT</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
SWT is the layer between PlatformUI and the underlying Gtk2 or Gtk3 of the system.
</p>

<p>
SWT can be launched to use Gtk2 or Gtk3, but cannot use them both at the same time.
</p>

<p>
Communication from java to Gtk occurs through native calls defined in OS.java.
</p>

<div class="figure">
<p><img src="./img/img_2015_04_20__11_15_12.png" alt="img_2015_04_20__11_15_12.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7">About this document</h2>
<div class="outline-text-2" id="text-orgheadline7">
</div><div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="todo UNDER_CONSTRUCTION">UNDER_CONSTRUCTION</span> 'under construction' sections like this.</h3>
<div class="outline-text-3" id="text-orgheadline2">
<p>
"Under Construction" sections are still either temporary quick notes or unpolished thoughts.
I tidy these once in a while, come back later.
</p>

<p>
But if in a rush, feel free to ping me on <a href="https://twitter.com/LeoUfimtsev">twitter</a> and I'll write things up for you.
</p>

<p>
~Read with caution.
</p>
</div>
</div>
<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">You will learn</h3>
<div class="outline-text-3" id="text-orgheadline3">
<ul class="org-ul">
<li>How to configure your machine (Eclipse/Git) to contribute SWT patches.</li>
<li>Info on building SO images to run snippets with newest SWT Master.</li>
<li>Info on Gtk Versions, compiling various Gtk Versions.</li>
<li>How to add your own gtk_ methods to OS.java.</li>
<li>Tips on SWT Development, how to navigate the code base.</li>
<li>Understanding the underlying glue (aka SwtFixed) between SWT/Java nad Gtk/C.</li>
<li>Learn how to compile various Gtk versions for testing with SWT.</li>
<li>Learn how to make a Gtk application in Eclipse &amp; how to debug it.</li>
<li>Learn to debug Gtk itself.</li>
<li>Learn how to debug the native Gtk(C) part of a running SWT(Java) application.</li>
<li>Learn how to debug the SwtFixed custom C code of a running SWT(java) application.</li>
</ul>

<p>
Upon compleation of this document, hopefully you will know SWT-fu (as in kung-fu).
</p>
</div>
</div>
<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">How to use this docu</h3>
<div class="outline-text-3" id="text-orgheadline4">
<p>
I recommend you first skim-read a section completley before following the step-by-step instructions.
It might even be more beneficial to first skim-read the whole document before going over a section in detail,
this is because I often introduce a concept in one section, and then go over it in more depth in another section, 
or later I provide scripts to automate certain actions so you don't have to do it by hand each time.
</p>

<p>
Also, you should read the document in order, because each section builds on the next one.
</p>
</div>
</div>
<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">Copying this document</h3>
<div class="outline-text-3" id="text-orgheadline5">
<p>
By all means, feel free to fork/copy this document and make use of it in your own tutorials.
</p>

<p>
For example, a good chunk of what I've learned comes from <a href="http://www.vogella.com/tutorials/eclipseide.html">http://www.vogella.com/tutorials/eclipseide.html</a> tutorials
and lots of blog posts from across the web.
</p>
</div>
</div>
<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">Comments, Questions &amp; Feedback</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
As this is a static page, if you have comments, questions / feedback, 
please feel free to post them on the blog-post about this document:
</p>

<p>
<a href="https://coffeeorientedprogramming.wordpress.com/2015/04/20/how-to-be-an-swt-developer-a-comprehensive-guide/">https://coffeeorientedprogramming.wordpress.com/2015/04/20/how-to-be-an-swt-developer-a-comprehensive-guide/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10">Communication and support</h2>
<div class="outline-text-2" id="text-orgheadline10">
</div><div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8">SWT Community</h3>
<div class="outline-text-3" id="text-orgheadline8">
<p>
If you have questions, you should post them to:
</p>
<pre class="example">
platform-swt-inbox@eclipse.org
</pre>
<p>
It's a good idea to sign up for the mailing list. (google this..)
</p>

<p>
There is also an eclipse-dev channel on freenode (IRC). I also hang around on freenode#swt-gtk 
from time to time.
</p>
</div>
</div>
<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9">Following SWT bugs in bugzilla.</h3>
<div class="outline-text-3" id="text-orgheadline9">
<p>
Whenever you work on a project, you should consider following the default assignee of the project
in bugzilla.
This way you find out about new issues and what issues get worked on.
</p>

<p>
To do so, go to bugzilla <a href="https://bugs.eclipse.org/">https://bugs.eclipse.org/</a> -&gt; Preferences -&gt; Email preferences
</p>

<p>
and then add: <code>platform-swt-inbox@eclipse.org</code>
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-2">
<h2 id="orgheadline11">New &amp; Changes</h2>
<div class="outline-text-2" id="text-orgheadline11">
<ul class="org-ul">
<li>V1 Initial implemention</li>
<li>V1.1 2015.05.04 Added Debbugging in Eclipse</li>
<li>V1.2 2015.05.25 Added info on how to debug native code.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline12" class="outline-2">
<h2 id="orgheadline12">Pre-requisites</h2>
<div class="outline-text-2" id="text-orgheadline12">
<dl class="org-dl">
<dt>Solid Java knowledge</dt><dd>From class inheritence to multi-threading.</dd>

<dt>Some C experience</dt><dd><p>
  Know thy pointers and make files. 
</p>

<p>
Gtk background highly recommended but can be learned.
</p>

<p>
You will write small C-Gtk snippets of code, but probably no longer than something like this:
<a href="https://github.com/LeoUfimtsev/LeoGtk3/blob/4_DnD_Overlapping_widgets_457476/main.c">https://github.com/LeoUfimtsev/LeoGtk3/blob/4_DnD_Overlapping_widgets_457476/main.c</a>
</p></dd>

<dt>Eclipse</dt><dd>Knowing how to use Eclipse is quite essential. 
But you don't have to know about JFace/PlatformUI/RCP development internals.</dd>

<dt>Git</dt><dd>For example you should know the difference between merge and rebase. But all git-bits can be learned.</dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline20" class="outline-2">
<h2 id="swtDevSetup"><a id="orgheadline20"></a>SWT Developer setup (Java part of it)</h2>
<div class="outline-text-2" id="text-swtDevSetup">
</div>
<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13">Running SWT Snippets with jar or source code</h3>
<div class="outline-text-3" id="text-orgheadline13">
<p>
When you run SWT snippets, you may want to know which swt it is using.
</p>

<dl class="org-dl">
<dt>SWT User</dt><dd></dd>
</dl>
<p>
You can download the swt 'jar' file, and add it as a library in your project:
<a href="https://www.eclipse.org/swt/">https://www.eclipse.org/swt/</a>.
</p>

<p>
However, when you make changes to the SWT source code, these changes will not be visible.
This is only useful if you develop 'using' swt, but don't touch swt yourself.
</p>


<dl class="org-dl">
<dt>SWT Developer</dt><dd></dd>
</dl>
<p>
But to develop SWT itself, and to test the changes you make, you will 
have to download source code (more below), and add them as a project. Like:
</p>


<div class="figure">
<p><img src="./img/img_2015_05_05__14_28_51.png" alt="img_2015_05_05__14_28_51.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14">Checking out SWT repos for development</h3>
<div class="outline-text-3" id="text-orgheadline14">
<dl class="org-dl">
<dt>Install SWT Developer tools (eclipse plugin)</dt><dd>SWT developer tools automatically builds the custom C code that SWT uses to work with Gtk.
Without the tools, you cannot develop SWT.  
Install the latest from the Eclipse udate site:
<a href="https://www.eclipse.org/swt/updatesite.php">https://www.eclipse.org/swt/updatesite.php</a>
 Remember to re-install these tools if you re-install Eclipse (people tend to forget).</dd>

<dt>Eclipse git</dt><dd><p>
  Eclipse git is used to compare swt files against older versions.
Not strictly necessary, but highly recommended.
</p>
<pre class="example">
sudo dnf install eclipse-git
</pre></dd>

<dt>Check out SWT repos</dt><dd><p>
  Check out the repositories holding the SWT sources and binaries.
I usually do this from inside Eclipse, but you can also clone things from the command line.
</p>

<p>
If you don't have committer rights yet, use the <b>git</b> protocol.
</p>

<p>
e.g
</p>
<pre class="example">
git://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git
git://git.eclipse.org/gitroot/platform/eclipse.platform.swt.binaries.git
</pre>
<p>
#+END<sub>SRC</sub>
When choosing branches, I select just the 'master' branch.
</p>

<p>
<i>E.g my gerrit username: lufimtse@redhat.com</i>
</p></dd>

<dt>Set the class path to be the GTK one </dt><dd><p>
  At first you might get many many errors. You first have to tell the project, 
that you are on Linux/Gtk for things to compile/run properly.
</p>

<p>
The generic (Win32/Cocoa/Gtk) setup is described in detail: <a href="https://www.eclipse.org/swt/git.php">SWT set up guide</a>.
</p>

<p>
Specifically for Gtk, you do as following:
</p>
<ul class="org-ul">
<li>Open 'navigator' view (<b>not package explorer</b>)(View may need to be enabled first)</li>
<li>under 'org.eclipse.swt' look for the .classfile files</li>
<li>rename .classpath<sub>gtk</sub> to .classpath</li>
<li>clean up projects</li>
<li>now run a test snippet or ControlExample.java, it should work.</li>
</ul></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15">Configure git for review</h3>
<div class="outline-text-3" id="text-orgheadline15">
<p>
To contribue back to swt, you need to configure your Repo to be able to push to 'review'.:
</p>

<ol class="org-ol">
<li><p>
Open:
</p>
<pre class="example">
~/git/eclipse.platform.swt/.git/config
</pre></li>

<li>Add review branch: <i>(adjust for your own user name instead of 'lufimtsev')</i></li>
</ol>
<div class="org-src-container">

<pre class="src src-sh">[remote <span style="color: #8b2252;">"review"</span>]
  url = ssh://lufimtsev@git.eclipse.org:29418/platform/eclipse.platform.swt.git
  push = HEAD:refs/for/master
</pre>
</div>

<p>
This is how my <code>.git/config</code> looks like:
</p>
<div class="org-src-container">

<pre class="src src-sh">[core]
        repositoryformatversion = 0
        filemode = true
        logallrefupdates = true
        excludesfile = /home/lufimtse/git/eclipse.platform.swt/tests/org.eclipse.swt.tests/.gitignore
[remote <span style="color: #8b2252;">"origin"</span>]
        url = git://git.eclipse.org/gitroot/platform/eclipse.platform.swt.git
        fetch = +refs/heads/*:refs/remotes/origin/*
[remote <span style="color: #8b2252;">"review"</span>]
        url = ssh://lufimtsev@git.eclipse.org:29418/platform/eclipse.platform.swt.git
        push = HEAD:refs/for/master
[branch <span style="color: #8b2252;">"master"</span>]
        remote = origin
        merge = refs/heads/master
        rebase = true
</pre>
</div>
<ol class="org-ol">
<li>Under existing master, add 'rebase = true' ::</li>
</ol>
<pre class="example">
[branch "master"]
  rebase = true
</pre>

<ol class="org-ol">
<li>Open Eclipse, under git add your user info ::</li>
</ol>
<pre class="example">
[user]
  name = Lev Ufimtsev
  email = lufimtse@redhat.com
</pre>

<ol class="org-ol">
<li><p>
Usage :
</p>

<p>
You can push your changes into a review branch via:
</p>
<pre class="example">
git push review
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><a id="ID-01fa505c-559f-4601-959d-3426c1607b2d"></a>Enable 32/64 bit checking by swt-tools</h3>
<div class="outline-text-3" id="text-orgheadline16">
</div>
<div id="outline-container-orgheadline17" class="outline-4">
<h4 id="orgheadline17">About 32/64 bit</h4>
<div class="outline-text-4" id="text-orgheadline17">
<p>
The java source code has to work on both 32 and 64 bit machines.
</p>

<p>
On 32 bit machines, calls to gtk that use <code>long</code> in the paramater will not compile.
</p>

<p>
All such <code>longs</code> should have an <code>/*int*/</code> annotation after it.
For example:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #b22222;">//</span><span style="color: #b22222;">This will cause a 32 bit build to fail:</span>
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">gtk_css_provider_load_from_css</span> (<span style="color: #228b22;">long</span> <span style="color: #a0522d;">context</span>, <span style="color: #228b22;">String</span> <span style="color: #a0522d;">css</span>)  { .. }
 <span style="color: #b22222;">//                                      </span><span style="color: #b22222;">^ missing /*int*/</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">Every 'long' should followed by a '/*int*/' like so:</span>
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">gtk_css_provider_load_from_css</span> (<span style="color: #228b22;">long</span> <span style="color: #b22222;">/*</span><span style="color: #b22222;">int*/</span> <span style="color: #a0522d;">context</span>, <span style="color: #228b22;">String</span> <span style="color: #a0522d;">css</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline18" class="outline-4">
<h4 id="orgheadline18">Enable checks of for 32/64 bit with swt tools.</h4>
<div class="outline-text-4" id="text-orgheadline18">
<p>
To avoid missing these things by accident, SWT Tools can autmatically check these things and mark them as errors.
</p>

<p>
This functionality must first be enabled thou.
</p>

<p>
By now you should have SWT Developer tools  already installed.
</p>

<ol class="org-ol">
<li>Right click on the 'org.eclipse.swt' project.</li>
</ol>

<div class="figure">
<p><img src="./img/img_2015_03_31__11_34_52.png" alt="img_2015_03_31__11_34_52.png" />
</p>
</div>

<ol class="org-ol">
<li>From the drop down menu, enable 'SWT Tools -&gt; Report 32/64 bit problems'</li>

<li>Now if you don't include the <code>/*int*/</code> a warning will be thrown in your the problem view:</li>
</ol>

<div class="figure">
<p><img src="./img/img_2015_03_31__11_36_36.png" alt="img_2015_03_31__11_36_36.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19">References</h3>
<div class="outline-text-3" id="text-orgheadline19">
<p>
<a href="https://www.eclipse.org/swt/fixbugs.php">https://www.eclipse.org/swt/fixbugs.php</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline27" class="outline-2">
<h2 id="orgheadline27">Build GTK SO files</h2>
<div class="outline-text-2" id="text-orgheadline27">
</div><div id="outline-container-orgheadline21" class="outline-3">
<h3 id="orgheadline21">About</h3>
<div class="outline-text-3" id="text-orgheadline21">
<p>
You checked out two swt repos. SWT &amp; SWT's binaries.
The SWT binaries contiained ready-build SO files, ready to use.
</p>

<p>
Now sometimes swt developers (including yourself) add functions in the OS.java,
after which they re-build SO files.
When this is the case, if you pull the SWT master branch and try to run a snippet, 
you will get an unsatisfied-link error.
</p>

<p>
In this case, you will have to re-build your SO files your self. See below.
</p>
</div>
</div>
<div id="outline-container-orgheadline25" class="outline-3">
<h3 id="rebuildingSoFile"><a id="orgheadline25"></a>Rebuilding SO file</h3>
<div class="outline-text-3" id="text-rebuildingSoFile">
<p>
Now I'm not 100% sure on how it's <b>suppose</b> to be done, but the below is how
I was taught to do it and I shall pass it on:
</p>
</div>
<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22">Pre-requisites</h4>
<div class="outline-text-4" id="text-orgheadline22">
<ul class="org-ul">
<li><p>
<b>SWT Tools</b>
</p>

<p>
Now, for new VMs and for new Eclipse installs, it's common to forget to install
SWT tools when starting this. You won't get told that SWT tools are missing, 
you'll just get weird errors. Double check that they are installed.
</p></li>

<li><p>
<b>Gtk Libs</b>
</p>

<p>
You will need to install the following packages on your system for build.sh below:
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">non-fedora, install these packages:</span>
gtk3-devel gtk2-devel libXtst-devel mesa-libGLU-devel libXt-devel
  //you may also need <span style="color: #8b2252;">"X Software Development"</span>.


<span style="color: #b22222;">#</span><span style="color: #b22222;">On Fedora, you can auto install all libs needed for Gtk2 building via:</span>
sudo dnf builddep gtk2   
sudo dnf builddep gtk3   
sudo dnf groupinstall <span style="color: #8b2252;">"X Software Development"</span>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline23" class="outline-4">
<h4 id="orgheadline23">Step-by-step</h4>
<div class="outline-text-4" id="text-orgheadline23">
<p>
I will explain how it's done in general, then I'll point you to my build scrpit 
which does it for you.
</p>

<p>
The below assumes that you checked things out into 
</p>
<pre class="example">
~/git/
</pre>
<p>
and not another folder.
</p>

<ol class="org-ol">
<li><b>Clean org.eclipse.swt project</b>

<ul class="org-ul">
<li>(Project -&gt; clean). <i>(Try not to forget this step, it often causes issues if you do)</i></li>
</ul></li>

<li><b>Build jars</b>  

<ul class="org-ul">
<li><p>
Inside Eclipse,  run build.xml from <code>org.eclipse.swt.gtk.linux.x86_64/build.xml</code> ,
make sure the following is selected:
</p>
<pre class="example">
build.jars
build_libraries
</pre></li>
<li><p>
The execution will fail. It's ok. You should get something like: <sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>
</p>
<pre class="example">
/home/lufimtse/git/eclipse.platform.swt/bundles/org.eclipse.swt/buildSWT.xml:918: The following error occurred while executing this line:
/home/lufimtse/git/eclipse.platform.swt/bundles/org.eclipse.swt/buildSWT.xml:890: javax.script.ScriptException: ReferenceError: "importClass" is not defined in &lt;eval&gt; at line number 3
</pre></li>
</ul></li>

<li><b>Navigate to library</b>
<ul class="org-ul">
<li><p>
Open terminal, go to library bin dir inside your SWT repository:
</p>
<pre class="example">
cd ~/git/eclipse.platform.swt/bundles/org.eclipse.swt/bin/library/     
</pre></li>
</ul></li>

<li><b>Set ENV Variables</b>

<ul class="org-ul">
<li><p>
Set correct export variables:
(otherwise you get "fatal error: jni.h: No such file or directory")
</p>
<pre class="example">
export JAVA_HOME=/usr/lib/jvm/java/
export GTK_VERSION=2.0
</pre></li>
</ul></li>

<li><p>
<b>Re-build wrapper</b>
</p>

<p>
The below will start the build proccess.
</p>
<pre class="example">
sh ./build.sh   
</pre>

<p>
In case you get a missing file like:
</p>
<pre class="example">
fatal error: X11/extensions/XTest.h: No such file or directory
#include &lt;X11/extensions/XTest.h&gt;
</pre>
<p>
Then you might not have installed all the required packages. (see pre-requires section above).
</p>

<p>
You could also query dnf to find out which package  you need to install for the required file
like so:
</p>
<pre class="example">
dnf whatprovides */XTest.h
</pre>

<p>
You might see some warnings about deprecated functions. 
Ideally we should strive to fix SWT so  that we don't have any of those warnings.
It's a slow and gradual process.
</p></li>

<li><p>
<b>Copy new .so's across:</b>
</p>

<pre class="example">
cp -v ~/git/eclipse.platform.swt/bundles/org.eclipse.swt/bin/library/*.so ~/git/eclipse.platform.swt.binaries/bundles/org.eclipse.swt.gtk.linux.x86_64/   
</pre></li>

<li><p>
<b>Gtk3 build</b>
</p>

<p>
Repeat steps 1-6 (starting with Clean-projects), but in step 4 export gtk3 version instead of v2.
</p>
<pre class="example">
export GTK_VERSION=3.0
</pre>

<p>
The first time you build Gtk2 SO files, the 2nd time around you build Gtk3 Wrappers.
</p>

<p>
Now, if you only intend to run on Gtk2 or Gtk3, then building only one of the above suffices.
</p></li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-4">
<h4 id="orgheadline24">Automating the build-proccess</h4>
<div class="outline-text-4" id="text-orgheadline24">
<p>
I haven't investigated a way to <i>fully</i> automate this, but I've automated <i>part of it</i>.
</p>

<ol class="org-ol">
<li><b>Clean eclipse.platform.swt project</b> (I haven't automated this part yet)</li>

<li><p>
I wrote a build script that does the rest:
(build.xml's, run build script, copy so's across)
</p>

<p>
The most up to date version can be found in my repo, see comment for usage.
Note, the script uses flags <code>-2 -g</code> to set gtk2/debugging (more later).
<a href="https://github.com/LeoUfimtsev/ldts/blob/master/pathscripts/swtjnibuild">https://github.com/LeoUfimtsev/ldts/blob/master/pathscripts/swtjnibuild</a>
</p></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-orgheadline26" class="outline-3">
<h3 id="orgheadline26">References</h3>
<div class="outline-text-3" id="text-orgheadline26">
<p>
<a href="https://www.eclipse.org/swt/jnigen.php">https://www.eclipse.org/swt/jnigen.php</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline40" class="outline-2">
<h2 id="orgheadline40">SWT code base overview and OS.java</h2>
<div class="outline-text-2" id="text-orgheadline40">
</div><div id="outline-container-orgheadline28" class="outline-3">
<h3 id="orgheadline28">Learning SWT</h3>
<div class="outline-text-3" id="text-orgheadline28">
<p>
To learn about SWT, try out a bunch of these snippets: 
<a href="https://www.eclipse.org/swt/snippets/">https://www.eclipse.org/swt/snippets/</a>
</p>

<p>
Note, these are available in the SWT repo, search for "Snippet1.java"
</p>

<p>
org.eclipse.swt.examples project contains lots of examples to try out.
</p>

<p>
There are many many SWT tutorials online. 
E.g <a href="http://zetcode.com/gui/javaswt/">http://zetcode.com/gui/javaswt/</a>
</p>

<p>
You should learn at least:
</p>
<ul class="org-ul">
<li>Set of basic widgets (Button/Label/Table/Tree etc..)</li>
<li>Layouts (Absolute [i.e no layout]/Grid/Row/Column/FormAttach).</li>
<li>Attaching listeners. (Mouse move listeners)</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline29" class="outline-3">
<h3 id="orgheadline29">General Widget Hierarchy</h3>
<div class="outline-text-3" id="text-orgheadline29">
<p>
Widget is the main <b>Widget</b>. Everything else extends Widget. 
</p>

<p>
The most interesting classes are Widget,Control and Composite.
Most widgets fork off of these.
</p>

<p>
As such, it is useful to be aware of fields/methods in parent classes 
and which methods get overriden by children.
</p>

<p>
In Eclipse, you can Ctrl+click on a method to see it's super implementation, 
or derived implementatinos. (very handy).
</p>

<dl class="org-dl">
<dt>Illustration of widget hierarchy</dt><dd><img src="http://eclipse.or.kr/images/8/88/Swt-hiearchy.gif" alt="Swt-hiearchy.gif" /></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline30" class="outline-3">
<h3 id="orgheadline30">About GtkHandles</h3>
<div class="outline-text-3" id="text-orgheadline30">
<p>
Gtk Handles are basically gtk pointers to the widgets.
</p>

<p>
When you first look at a widget, you generally first look at the handles that are
defined in the widget.
I.e, each SWT Widget is often made up out of several GtkWidgets or has pointers to GtkWidgets.
In general <code>createHandle()</code> is a good place to start when you first look at a widget.
</p>

<p>
Also inspect <code>*Handle*()</code> methods of the current widget and the widgets above in the hierarchy.
e.g parentHandle(), fontHandle(), childHandle()&#x2026; These vary in suttle ways.
</p>

<p>
Handles declarations are inherited. But they are allocated and assigned at a specific widget level. 
</p>

<p>
For example Widget declares <b>handle</b>, Control declares <b>fixedHandle</b> but they never allocate them.
Instead for example somewhere down at Combo you might see something like:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #0000ff;">createHandle</span> () {
 ..
 fixedHandle = swt_fixed_new();
 handle = Gtk_combo_box_text_new();
 ..
}
</pre>
</div>

<p>
For example, here is an <b>incomplete</b> diagram of some widgets and their handles.
You may observe that widget has <b>handle</b> defined, and Combo has <b>buttoHandle</b> defined. 
</p>

<div class="figure">
<p><img src="./img/img_2015_03_11__17_33_30.png" alt="img_2015_03_11__17_33_30.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline31" class="outline-3">
<h3 id="orgheadline31"><a id="ID-5df24ddc-8523-4467-a642-c7b0a874cf35"></a>OS.java introduction</h3>
<div class="outline-text-3" id="text-orgheadline31">
</div>
<div id="outline-container-orgheadline32" class="outline-4">
<h4 id="orgheadline32">About OS.java</h4>
<div class="outline-text-4" id="text-orgheadline32">
<p>
All java calls are eventually translated to Gtk to do the actual drawing.
</p>

<p>
The bridge between java and Gtk is in OS.java. OS.java is a file that we write our self (not generated).
It contains many bindings to gtk functions, but not all of them. Sometimes we have to add 
method signatures in there manually for new functions.
</p>

<p>
In my case, it is located here in the package path:
</p>
<pre class="example">
/org.eclipse.swt/Eclipse SWT PI/gtk/org/eclipse/swt/internal/gtk/OS.java
</pre>
<p>
But the easiest way to find it is Ctrl+shift+r, (find resource) and look for OS.java
</p>


<p>
There are several types of code in this file. 
</p>

<dl class="org-dl">
<dt>Method bindings</dt><dd>These are typically wrapped in a lock:</dd>
</dl>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #8b2252;">/** </span><span style="color: #8b2252;">@param</span><span style="color: #8b2252;"> widget cast=(GtkWidget *) */</span>
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #a020f0;">native</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">_gtk_drag_dest_unset</span>(<span style="color: #228b22;">long</span> <span style="color: #b22222;">/*</span><span style="color: #b22222;">int*/</span> <span style="color: #a0522d;">widget</span>);
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">gtk_drag_dest_unset</span>(<span style="color: #228b22;">long</span> <span style="color: #b22222;">/*</span><span style="color: #b22222;">int*/</span> <span style="color: #a0522d;">widget</span>) {
        lock.lock();
        <span style="color: #a020f0;">try</span> {
                _gtk_drag_dest_unset(widget);
        } <span style="color: #a020f0;">finally</span> {
                lock.unlock();
        }
}
</pre>
</div>

<dl class="org-dl">
<dt>Constants and ENUMS</dt><dd><p>
  C constants and C Enums are delcared as plain ints. 
like so:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_SCROLL_STEP_UP</span> = 6;
</pre>
</div>

<p>
Note, if you need to add a C enum to OS.java, C ENUMS (Enumirations) begin at 0.
</p>

<p>
Do note, that the javadoc is parsed by the jni. So be careful about what you put in there.
</p></dd>

<dt>Static Strings translated to C-bytes</dt><dd><p>
  Gtk uses some static strings in things like registring event handlers. 
We translate java strings into C strings like so:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">byte</span>[] <span style="color: #a0522d;">key_press_event</span> = ascii(<span style="color: #8b2252;">"key-press-event"</span>);
</pre>
</div></dd>

<dt>the Gtk Version</dt><dd><p>
  A lot of SWT code is wrapped around the if-checks that make sure code runs only on certain GTK versions.
The version code is defined in OS.java like so: 
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">boolean</span> <span style="color: #a0522d;">GTK3</span> = GTK_VERSION &gt;= VERSION(3, 0, 0);
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline33" class="outline-4">
<h4 id="osjava"><a id="orgheadline33"></a><a id="ID-29f1015d-5807-4933-bc2e-ea0de874c472"></a>OS.java compilation to os.h os.c etc..</h4>
<div class="outline-text-4" id="text-osjava">
<p>
SWT tools compiles OS.java down to a set of files like os.c.
</p>

<dl class="org-dl">
<dt>There are two os<sub>custom.c</sub>'s</dt><dd><p>
  Be attentive, there are two sets of library files like os<sub>custom.c</sub>. This is because one set is 
the source, the second is copied over during compiliation.
</p>

<p>
Source folder is here:
</p>
<pre class="example">
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/Eclipse SWT PI/gtk/library/os_custom.c
</pre>
<p>
This is where you make changes if you want to make changes. 
</p>

<p>
Destination (bin/compiled) folder is here:
</p>
<pre class="example">
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/bin/library/os_custom.c
</pre>
<p>
Don't edit these files, they are auto-generated.
</p>

<p>
It is important to understand the difference because later you will be making changes
in the source folder, but link the debugger to the source code in the destination/bin folder.
</p></dd>

<dt>Auto-auto generated vs manually written</dt><dd>Do note, inside the source folder, some of the files we adjust by hand and some of these are generated.
The content of <code>../library/..</code> is as following:</dd>
<dt>os.c</dt><dd>This file is automatically generated by SWT Tools. It contains native bindings.</dd>
<dt>os.h</dt><dd>This file we adjust manually. It contains special signatures.</dd>
<dt><code>os_stats.*</code></dt><dd>These are auto-generated.</dd>
<dt><code>os_custom.h</code></dt><dd>This file we adjust manually.
We add new function signatures here when we add a new method to OS.java.</dd>
<dt><code>os_custom.c</code></dt><dd>This file we adjust manually. This contains our custom code, such as the SWTFixed container.</dd>
</dl>

<p>
In later parts of this guide, I will explain how to add new methods to OS.java. 
For now keep the above in mind.
</p>
</div>
</div>
<div id="outline-container-orgheadline34" class="outline-4">
<h4 id="orgheadline34">Submission of os.h os.c to gerrit</h4>
<div class="outline-text-4" id="text-orgheadline34">
<p>
When SWT Tools re-generates os.h os.c etc, they may appear in your git staging area.
When submitting a patch, include these in the submission.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline38" class="outline-3">
<h3 id="orgheadline38">SWT Code style notes</h3>
<div class="outline-text-3" id="text-orgheadline38">
</div><div id="outline-container-orgheadline35" class="outline-4">
<h4 id="orgheadline35">Java doc notes</h4>
<div class="outline-text-4" id="text-orgheadline35">
<dl class="org-dl">
<dt>No platform dependent info</dt><dd><p>
  No technical details that are platform-specific go into Java docs. (e.g no gtk-specific items).
</p>

<p>
But putting them in regular non-javaDoc (green) comments is ok.
</p></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36">Method naming</h4>
<div class="outline-text-4" id="text-orgheadline36">
<dl class="org-dl">
<dt>Gtk functions</dt><dd>Any gtk-specific functionality should be <code>gtk_function_name</code>.
Even if it doesn't match one-to-one to a gtk function. (do try to avoid conflicts thou).</dd>
</dl>

<p>
Any other naming should be general enough to be translated to other platforms.
</p>
</div>
</div>
<div id="outline-container-orgheadline37" class="outline-4">
<h4 id="orgheadline37">Method access modifiers</h4>
<div class="outline-text-4" id="text-orgheadline37">
<p>
Methods should in general not have modifiers unless private/public.
</p>

<p>
void myMeth() &#x2026;
</p>

<p>
Avoid 'protected' unless you're sub-classing things.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline39" class="outline-3">
<h3 id="orgheadline39">SWT Bug naming conventions</h3>
<div class="outline-text-3" id="text-orgheadline39">
<dl class="org-dl">
<dt>Cheese</dt><dd>This refers to garbled text or messed up pixels
E.g: 
<a href="https://bugs.eclipse.org/bugs/buglist.cgi?bug_status=RESOLVED&amp;bug_status=VERIFIED&amp;bug_status=CLOSED&amp;classification=Eclipse&amp;component=SWT&amp;f0=OP&amp;f1=OP&amp;f3=CP&amp;f4=CP&amp;j1=OR&amp;list_id=11591590&amp;product=Platform&amp;query_format=advanced&amp;short_desc=cheese&amp;short_desc_type=allwordssubstr">https://bugs.eclipse.org/bugs/buglist.cgi?bug_status=RESOLVED&amp;bug_status=VERIFIED&amp;bug_status=CLOSED&amp;classification=Eclipse&amp;component=SWT&amp;f0=OP&amp;f1=OP&amp;f3=CP&amp;f4=CP&amp;j1=OR&amp;list_id=11591590&amp;product=Platform&amp;query_format=advanced&amp;short_desc=cheese&amp;short_desc_type=allwordssubstr</a></dd>

<dt>DnD</dt><dd>Usually used for Drag and Drop.</dd>

<dt>Win32/Cocoa/Gtk</dt><dd>These you will see as prefixes in bug-titles. Win32 is windows. Cocoa is mac, Gtk is usually linux.</dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-orgheadline44" class="outline-2">
<h2 id="orgheadline44">SWT Fixed Container</h2>
<div class="outline-text-2" id="text-orgheadline44">
</div><div id="outline-container-orgheadline41" class="outline-3">
<h3 id="orgheadline41">About</h3>
<div class="outline-text-3" id="text-orgheadline41">
<p>
SWTFixed is custom C code that we include in SWT. It is a container that allows
us to place SWT Widgets with absolute positioning so that subsequent widgets are drawn beneath each other.
(In GtkFixed container, subsequent widgets are drawn on top of previous once).
This is achieved by using the gtk<sub>widget</sub><sub>show</sub><sub>unraised</sub>() method, (show widget, but do not raise it up).
</p>

<p>
As such, the swt<sub>fixed</sub><sub>forall</sub>() method that traverses the code is a bit different than standard forall() methods.
</p>

<p>
It was introduced in SWT during the Gtk2 to Gtk3 migration, because the old GtkFixed container was removed in Gtk3.
</p>

<p>
SWTFixed is defined in <code>os_custom.h</code> and <code>os_custom.c</code>. In my case they are here:
</p>

<pre class="example">
/home/lufimtse/git/eclipse.platform.swt/bundles/org.eclipse.swt/Eclipse SWT PI/gtk/library/os_custom.c
</pre>
</div>
</div>
<div id="outline-container-orgheadline42" class="outline-3">
<h3 id="orgheadline42">Every Widget is based on swt fixed</h3>
<div class="outline-text-3" id="text-orgheadline42">
<p>
If you inspect a widget, in almost every createHandle() method, you will see the creation and allocation of swt fixed like so:
</p>
<pre class="example">
fixedHandle = OS.g_object_new (display.gtk_fixed_get_type (), 0);
OS.gtk_widget_set_has_window (fixedHandle, true);
</pre>
<p>
This means that SWT is creating a new instance of the SWT Fixed container. 
Normally it then assigns something to the handle variable puts the widgets inside it.
</p>

<p>
Normally in Gtk you create a drawing surface (GdkWindow) [note the 'd'] and draw one or several widgets inside it.
In SWT, we create a new drawing surface (GdkWindow) for every single widget. 
This is very ineffective but gives SWT more control about drawing order and permits easier implementation of 
overlapping widgets.
</p>

<p>
At this point it might be beneficial to understand that a GdkWindow is a drawing surface, where as a 'GtkWindow' [note 't vs d' difference]
is a shell with decorations like 'X', '-' and it interacts with the X drawing system. More will be dissucssed in the Gtk sections that follow.
</p>
</div>
</div>

<div id="outline-container-orgheadline43" class="outline-3">
<h3 id="orgheadline43">Technical C Details</h3>
<div class="outline-text-3" id="text-orgheadline43">
<p>
You might want to read a bit on how to implement a custom widget in GTK.
Then swtFixed will be much easier to understand. It's mostly code copied from other generic containers
with a few tweaks here and there.
</p>

<p>
As a note:
</p>
<ul class="org-ul">
<li>SwtFixed extends GtkContainer, i.e inherit's all it's functions. This can be observed by the swtFixedPrivate struct,
it has a reference to GtkContainer meaning that that is it's parents.</li>

<li>Supports multiple children because the child object is a list.</li>

<li><p>
It overrides some function, this can be observed in the init() function, which 
assigns functions to pointers. E.g
</p>
<pre class="example">
container_class-&gt;forall = swt_fixed_forall;
</pre>

<p>
You should see the swt<sub>fixed</sub><sub>class</sub><sub>init</sub>(..) function for details.
</p></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgheadline63" class="outline-2">
<h2 id="orgheadline63">SWT and Gtk Versions</h2>
<div class="outline-text-2" id="text-orgheadline63">
</div><div id="outline-container-orgheadline45" class="outline-3">
<h3 id="orgheadline45">About Gtk Versions</h3>
<div class="outline-text-3" id="text-orgheadline45">
<p>
In SWT Land, the version of GTK that you're running on can make a big difference in how 
your snippet will behave. This is especially true for all things CSS related because there are many changes in that area.
</p>

<p>
It's not just the difference between Gtk2 &amp; Gtk3, but keep an eye on the differences between:
</p>
<ul class="org-ul">
<li>Gtk3.8 (RHEL7)</li>
<li>Gtk3.10 (CSS Introduced) (many things broke here)</li>
<li>Gtk3.12</li>
<li>Gtk3.14 (Fedora 21)</li>
<li>Gtk3.16 (Fedora 22) (removal of stock icons, things break here) etc&#x2026;</li>
</ul>

<p>
As such, you need to configure a setup where you can run/test on various Gtk Versions.
</p>
</div>
</div>
<div id="outline-container-orgheadline46" class="outline-3">
<h3 id="orgheadline46">SWT's Gtk Version Support</h3>
<div class="outline-text-3" id="text-orgheadline46">
<p>
At time of writing Gtk 2 &amp; 3 are both supported in SWT. 
</p>

<p>
To find out which exact versions are <b>currently</b> supported by SWT, inspect gtk's Display.java:
</p>

<p>
<a href="http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/widgets/Display.java">http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/bundles/org.eclipse.swt/Eclipse%20SWT/gtk/org/eclipse/swt/widgets/Display.java</a>
</p>

<p>
And search for code like this:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #b22222;">/* </span><span style="color: #b22222;">GTK Version */</span>
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK3_MAJOR</span> = 3;
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK3_MINOR</span> = 0;
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK3_MICRO</span> = 0;
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK2_MAJOR</span> = 2;
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK2_MINOR</span> = 18;
<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK2_MICRO</span> = 0;
</pre>
</div>

<p>
This means Gtk3.0.0 onwards and Gtk2.18.0 onwards are supported.
</p>

<p>
Once in a while, you will come across bugs where the version is bumped. Keep an eye on this by following
<code>platform-swt-inbox@eclipse.org</code> in bugzilla. E.g <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=446454">https://bugs.eclipse.org/bugs/show_bug.cgi?id=446454</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline47" class="outline-3">
<h3 id="orgheadline47">Switching snippets to run on either GTK2 or GTK3.</h3>
<div class="outline-text-3" id="text-orgheadline47">
<p>
You often want to test if something occurs only on Gtk3 or if it occurs on Gtk2 also.
</p>

<p>
To do so, launch a snippet. Close it and then edit the run configuration.
Under environmental variables, add: <code>SWT_GTK3=1</code> to run in Gtk3 mode. (or 0 for Gtk2 mode).
</p>

<p>
Similarly, if you want to run your main Eclipse in Gtk3, in bash you can:
</p>
<pre class="example">
export SWT_GTK3=1
eclipse
</pre>
</div>
</div>
<div id="outline-container-orgheadline48" class="outline-3">
<h3 id="orgheadline48"><a id="ID-a5c7fcf0-377b-404c-9de6-52f94f31c1c4"></a>Gtk version on your system</h3>
<div class="outline-text-3" id="text-orgheadline48">
<p>
If you want to find out which version of Gtk is on your system, execute:
</p>
<pre class="example">
pkg-config --modversion gtk+-3.0
</pre>
<p>
(pkg-config needs to be installed if first)
</p>

<p>
E.g:
</p>
<pre class="example">
RHEL7: 3.8.8
f21 : 3.14.9
f22 : 3.16.1 
</pre>
</div>
</div>
<div id="outline-container-orgheadline49" class="outline-3">
<h3 id="orgheadline49">Getting gtk version programtically in java/SWT</h3>
<div class="outline-text-3" id="text-orgheadline49">
<p>
Once you'll compile multiple Gtk versions (Gtk 3.10, Gtk 3.12, Gtk 3.14 etc..), then 
you may want to set the title of your snippet to reflect the gtk version.
</p>

<p>
This is very useful to ensure that your snippet is running a specific version of GTK.
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #b22222;">//</span><span style="color: #b22222;">Print Gtk version.</span>
  System.out.println(<span style="color: #8b2252;">"GTK Version: "</span> + OS.gtk_major_version() + <span style="color: #8b2252;">"."</span>
      + OS.gtk_minor_version() + <span style="color: #8b2252;">"."</span> + OS.gtk_micro_version());


<span style="color: #b22222;">//</span><span style="color: #b22222;">I have a function in my set of test-widgets that get's me the gtk version.</span>
        <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #228b22;">String</span> <span style="color: #0000ff;">getGtkVersion</span> () {
                <span style="color: #a020f0;">return</span> OS.gtk_major_version() + <span style="color: #8b2252;">"."</span> + OS.gtk_minor_version() + <span style="color: #8b2252;">"."</span> + OS.gtk_micro_version();
        }
<span style="color: #b22222;">//</span><span style="color: #b22222;">Normally I set the shell-title to the Gtk version:</span>
shell.setText (ShellTest.getGtkVersion ());
</pre>
</div>
</div>
</div>
<div id="outline-container-orgheadline50" class="outline-3">
<h3 id="orgheadline50">Getting gtk version versions Eclipse is running on</h3>
<div class="outline-text-3" id="text-orgheadline50">
<p>
When you fire up Eclipse, sometimes you want to check which version of Gtk things run on. To do this,
see my blog entry:
<a href="https://coffeeorientedprogramming.wordpress.com/2014/10/27/how-to-tell-if-you-are-running-eclipse-on-gtk2-or-on-gtk3/">https://coffeeorientedprogramming.wordpress.com/2014/10/27/how-to-tell-if-you-are-running-eclipse-on-gtk2-or-on-gtk3/</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline51" class="outline-3">
<h3 id="orgheadline51">Gtk Versions on Fedora/Red Hat</h3>
<div class="outline-text-3" id="text-orgheadline51">
<p>
Sometimes you might have to find out which version of GTK was running on which Fedora/Red Hat.
</p>

<p>
List of GTK versions in general: <a href="http://en.wikipedia.org/wiki/GTK+">http://en.wikipedia.org/wiki/GTK+</a>
</p>

<p>
List of GTK`s in fedora: <a href="http://koji.fedoraproject.org/koji/packageinfo?packageID=10393">http://koji.fedoraproject.org/koji/packageinfo?packageID=10393</a>
</p>

<p>
Red hat equivalent: <a href="https://brewweb.devel.redhat.com/packageinfo?packageID=33894">https://brewweb.devel.redhat.com/packageinfo?packageID=33894</a>
</p>
<ul class="org-ul">
<li>Compiling several gtk versions and testing with them</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline52" class="outline-3">
<h3 id="orgheadline52">About</h3>
<div class="outline-text-3" id="text-orgheadline52">
<p>
Your snippet might work well on Gtk3.14, but might will fail on Gtk3.8. 
Or someone's code will only work/fail only on some specific version of Gtk.
You need to be able to run snippets on specific versions of gtk.
</p>

<p>
You could of course set up 5 VM's with various Fedora/RHEL versions, but it 
would be tedious to test things.
</p>

<p>
This is especially true for CSS &amp; style related changes.
</p>

<p>
To ensure cross-version functionality, you should test on many different versions.
</p>
</div>
</div>
<div id="outline-container-orgheadline53" class="outline-3">
<h3 id="orgheadline53">General testing strategy</h3>
<div class="outline-text-3" id="text-orgheadline53">
<p>
In general, during bugfixing and development, I will test only on Gtk3. 
When I get closer to committing things, I'll give it a quick test on Gtk2 also. 
</p>

<p>
If it's a small patch, then usually testing only on Gtk2/Gtk3 prior to commit is ok.
</p>

<p>
If the patch is significant or has code that has potential to behave differently
in various Gtk versions, I will test on most of the major gtk versions. (Gtk3.8, 3.10, etc..). 
</p>

<p>
For theaming related patches, me (working for Red Hat) also test on a RHEL 7 vm. But this 
is only for some patches.
</p>

<p>
As you can observe, I don't test every patch on every gtk version. But sometimes I do 
reach out and test on many different versions and on different OS's.
</p>
</div>
</div>
<div id="outline-container-orgheadline54" class="outline-3">
<h3 id="orgheadline54">Versions to test on</h3>
<div class="outline-text-3" id="text-orgheadline54">
<p>
In general, you should test on major releases, e.g:
</p>
<div class="org-src-container">

<pre class="src src-sh">Gtk2.24  //latest Gtk2 is ok.
Gtk3.8  //RHEL 7 lives here
Gtk3.10 //Ubuntu 12 lives here. Css was introduced.
Gtk3.12 //This version is not very eventful to be honest.
Gtk3.14 //Fedora 21 lives here
Gtk3.16 //Fedora 22 lives here
</pre>
</div>

<p>
To find out which versions are considered <b>Major</b>, see the Reference manual:
<a href="https://developer.gnome.org/gtk3/">https://developer.gnome.org/gtk3/</a>
</p>

<p>
It might be a good idea to have at least a vague idea of what changed 
in the most recent 3-4 major versions. (read release notes).
</p>
</div>
</div>
<div id="outline-container-orgheadline57" class="outline-3">
<h3 id="orgheadline57">Set up for Multiple GtkVersions</h3>
<div class="outline-text-3" id="text-orgheadline57">
</div><div id="outline-container-orgheadline55" class="outline-4">
<h4 id="orgheadline55">Native Gtk compiling and Gtk in VM's</h4>
<div class="outline-text-4" id="text-orgheadline55">
<p>
You can compile certain gtk versions on your machine, those that are 'close' to 
your current version. (see compiling below).
</p>

<p>
But very old and very new Gtk versions have a lot of dependencies making them hard to build.
I.e, you will get a lot of "missing package/file xyz." messages. E.g on my system (F21) 
I can only build as far as  gtk 3.14 and as low as gtk 3.10.
</p>

<p>
For very old and very new Gtk versions, I use virtual machines with Fedora/RHEL.
</p>

<p>
For VM's, you have to configure the full SWT development setup, including Eclipse, SWT tools and 
the swtjnibuilt2/3 script. 
To ship the patch to the vm's, I usually submit the patch to gerrit but in the patch note
I leave a note saying that it's not ready for review yet. After testing, I amend the patch note.
</p>

<p>
In the patch, I usually leave a note of how I tested the patch. This is useful for people
who review the patch. E.g:  <a href="https://git.eclipse.org/r/#/c/45415/">https://git.eclipse.org/r/#/c/45415/</a>
</p>
<div class="org-src-container">

<pre class="src src-sh">Bug 461616 - [GTK3] Combo improvements<span style="color: #a020f0;"> in</span> background/foreground for gtk3
(fix 2)

- Combox with READ_ONLY now get background as well.
- Menu <span style="color: #8b2252;">'text'</span> gets background. But GtkTreeMenu is inside a private
  struct inside GtkComboBoxText so we can<span style="color: #8b2252;">'t theme it'</span>s background.

Tests:
 - [X] Gtk 3.8
 - [X] Gtk 3.10
 - [X] Gtk 3.12
 - [X] Gtk 3.14
 - [X] Gtk 3.16

Change-Id: Idc315a02dbdb8fbec3f699e39735903709e1ed8c
Signed-off-by: Leo Ufimtsev <a href="mailto:lufimtse%40redhat.com">&lt;lufimtse@redhat.com&gt;</a>
</pre>
</div>

<p>
You may observe I keep my configs and tools in git-hub repos. e.g:
<a href="https://github.com/LeoUfimtsev/ldts">https://github.com/LeoUfimtsev/ldts</a>
this makes it much easier to migrate my setup to multiple VM's or my home machine.
</p>
</div>
</div>

<div id="outline-container-orgheadline56" class="outline-4">
<h4 id="orgheadline56">Example setup</h4>
<div class="outline-text-4" id="text-orgheadline56">
<p>
Currently, I use the following setup:
</p>
<div class="org-src-container">

<pre class="src src-sh">Gtk2.24 -&gt; my machine has this gtk version. I use with <span style="color: #a0522d;">SWT_GTK3</span>=0 flag.

Gtk3.8 -&gt; I have a RHEL 7 VM for testing

Gtk3.10, Gtk3.12 -&gt; I compiled Gtk on Fedora 

Gtk3.14 -&gt; My machine runs this version of Gtk. I use with <span style="color: #a0522d;">SWT_GTK3</span>=1 flag

Gtk3.16 -&gt; I have a Fedora 22 VM for this.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline61" class="outline-3">
<h3 id="orgheadline61">Gtk from sources</h3>
<div class="outline-text-3" id="text-orgheadline61">
</div><div id="outline-container-orgheadline58" class="outline-4">
<h4 id="orgheadline58"><a id="ID-0905c371-9881-4efa-a339-8addf199970a"></a>Compiling Gtk+</h4>
<div class="outline-text-4" id="text-orgheadline58">
<dl class="org-dl">
<dt>Getting dependencies</dt><dd><p>
  First check that you have all the neccessary packages.
</p>

<p>
An easy way of doing this (on Fedora at least)  is using:
</p>
<pre class="example">
sudo dnf builddep gtk+
</pre>

<p>
In addition, you may want to check that the following are insatlled:
</p>
<pre class="example">
sudo dnf install pkg-config glib3 make gcc gdk-pixbuf2 gdk-pixbuf2-devel glib-devel glib2-devel
</pre></dd>

<dt>Getting the source code</dt><dd><p>
  Git hub repo for GTK is in the link below, the clone link is at the bottom:
</p>

<p>
<a href="https://git.gnome.org/browse/gtk+/">https://git.gnome.org/browse/gtk+/</a>
</p>

<p>
The clone link comes in git/https/ssh protocol. I prefer to use https as it's less painful.
</p>
<pre class="example">
cd ~/git
git clone https://git.gnome.org/browse/gtk+
</pre></dd>

<dt>Check out version you're interested in</dt><dd><p>
  Either master or a tag of a version:  (e.g 2.24, 3.10, 3.4, 3.8), E.g:
</p>
<pre class="example">
git checkout gtk-3-10
</pre></dd>

<dt>Build this business</dt><dd><p>
  The first time you might want to run each command one-by-one.
Sometimes you might be missing a package and if so, autogen will usually tell you.
It's useful to look into autogen.sh to get the exact name of the package that you're
missing.
then install it (sudo dnf install Your<sub>package</sub>).
</p>

<div class="org-src-container">

<pre class="src src-shell">./autogen.sh &amp;&amp;
./configure --enable-x11-backend --enable-wayland-backend --enable-debug=yes &amp;&amp;
make <span style="color: #a0522d;">CFLAGS</span>=<span style="color: #8b2252;">"-g3 -ggdb3 -O0"</span> -j4 &amp;&amp;
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"--- all done"</span>
</pre>
</div></dd>

<dt>Note about Theaming</dt><dd><p>
  By default, with the above build, gtk will look very plain. If you would like it to use
your system theame, you can add the <b>&#x2013;prefix=/usr</b> argument:
</p>
<div class="org-src-container">

<pre class="src src-sh">./configure --prefix=/usr --sysconfdir=/etc --enable-broadway-backend  --enable-x11-backend --disable-wayland-backend
</pre>
</div>
<p>
But do note, that older versions of gtk might not work well with the theme on your system.
I only use this for some rare theaming bugs.
</p></dd>

<dt>Note about debugging</dt><dd><p>
  If you intend to debug your gtk later or launch Gtk with debug flags,
you can also add the debug flag:
</p>
<pre class="example">
--enable-debug=yes 
</pre>

<p>
But the above doesn't remove optimizations, so I prefer to hard-code the CFLAGS, adding debugging and 
removing optimization:
</p>
<pre class="example">
make CFLAGS="-g3 -ggdb3 -O0" 
</pre></dd>
</dl>


<dl class="org-dl">
<dt>How to tell if build was good</dt><dd><p>
  In geneal, in shell, if you run:
</p>
<pre class="example">
echo $? 
</pre>
<p>
and if the output is '0', all is well. A higher number is an error of some sort.
</p>

<p>
Example of a successful build:
</p>
<pre class="example">
make
.... &lt;build output&gt;
echo $?
0
</pre>

<p>
In addition, there should be a .libs folder inside:
</p>
<pre class="example">
../gtk+/gtk/.libs
</pre></dd>

<dt>Troubleshooting</dt><dd><ul class="org-ul">
<li>you might get compile errors for missing libraries.  
See getting-dependencies section above.</li>

<li>you might have them installed, but compiler can't find them.</li>
</ul>
<p>
find out where they are installed:
</p>
<pre class="example">
rpm -ql LIBRARY
</pre>

<p>
set compile path to location, e.g:  //Not fully tested.
</p>
<pre class="example">
C_INCLUDE_PATH=/usr/include/glib-2.0/    #LD_LIBRARY_PATH might be better.
</pre>

<ul class="org-ul">
<li>if you can't compile a newer version, try an older version.</li>
</ul></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline59" class="outline-4">
<h4 id="orgheadline59">Copy compiled gtk for re-use</h4>
<div class="outline-text-4" id="text-orgheadline59">
<p>
Once you've compiled a version, it might make sense to copy it to another folder so that
you don't have to re-build it each time.
</p>

<p>
Strictly speaking, you just need the '.libs' folder. But I like to copy the whole gtk+ folder.
</p>

<p>
E.g 
</p>
<pre class="example">
mkdir ~/src   #if src doesn't exist.
cp -r ~/git/gtk+ ~/src/gtk3_10
</pre>
<p>
(it should include the gtk/.libs folder)
</p>
</div>
</div>
<div id="outline-container-orgheadline60" class="outline-4">
<h4 id="orgheadline60">Tie newly built gtk into SWT</h4>
<div class="outline-text-4" id="text-orgheadline60">
<p>
Once above is done, you can change the Eclipse run configuration to
point to the newly compiled gtk.
</p>

<dl class="org-dl">
<dt>Env Var setting</dt><dd><p>
   Open environmental variable section of your run configuration, add something like:
</p>
<pre class="example">
LD_LIBRARY_PATH = ~/src/gtk3_10/gtk/.libs
</pre></dd>
</dl>
<p>
Example:
<img src="./img/img_2015_04_20__13_49_19.png" alt="img_2015_04_20__13_49_19.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline62" class="outline-3">
<h3 id="orgheadline62">References</h3>
<div class="outline-text-3" id="text-orgheadline62">
<p>
//Useful archvwiki:
<a href="http://www.linuxfromscratch.org/blfs/view/svn/x/gtk3.html">http://www.linuxfromscratch.org/blfs/view/svn/x/gtk3.html</a>
</p>

<p>
//official compiling notes:
<a href="https://developer.gnome.org/gtk3/stable/gtk-building.html">https://developer.gnome.org/gtk3/stable/gtk-building.html</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline71" class="outline-2">
<h2 id="orgheadline71">Adding custom functions to OS.java</h2>
<div class="outline-text-2" id="text-orgheadline71">
</div><div id="outline-container-orgheadline64" class="outline-3">
<h3 id="orgheadline64">Introduction</h3>
<div class="outline-text-3" id="text-orgheadline64">
<p>
If you haven't read, first read <a href="#orgheadline31">OS.java introduction.</a> 
</p>

<p>
<b>Note:</b> For java code I referer to "methods". For C code  I refer to "functions".
</p>

<p>
The general process of adding new functions is:
</p>


<div class="figure">
<p><img src="./img/img_2015_04_20__11_40_24.png" alt="img_2015_04_20__11_40_24.png" />
</p>
</div>

<dl class="org-dl">
<dt>Adding new functions</dt><dd>New functions are introduced in Gtk3 and old functions are deprecated.
In these situations we need to manually add these method signatures to OS.java and <code>os_custom.h</code>.</dd>

<dt>Dynamic vs static functions</dt><dd><p>
  Dynamic functions are not build during compile time. They are only called at run time.
This allows us to have Gtk3 functions in a Gtk2 build or run deprecated functions only in 
gtk2 (or some specific gtk* version range).
</p>

<p>
dynamic functions have an annotation <code>@method flag=dynamic</code>
</p></dd>

<dt>Re-building SO-files</dt><dd>After you add new functions to OS.java &amp; os.h,
you will need to rebuild the SO file for Gtk2 &amp; Gtk3.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline65" class="outline-3">
<h3 id="orgheadline65"><a id="ID-4c7ca6e6-243d-49e2-b790-a77321042a1b"></a>Dynamic methods and <code>os_custom.h</code></h3>
<div class="outline-text-3" id="text-orgheadline65">
<p>
Before adding a new function to OS.java, you should understand dynamic functions.
</p>

<dl class="org-dl">
<dt>About dynamic methods/functions</dt><dd><p>
  If you inspect OS.java and look at the javadoc of some of the functions,
you will notice a flag like this:
</p>

<pre class="example">
@method flags=dynamic
</pre>

<p>
This means the command is not compiled, but called dynamically on the fly (runtime).
</p>

<p>
This is useful for functions that are specific to certain versions of gtk.
E.g some functions were only introduced in Gtk3, as such those won't compile
on a gtk2 build. As such you make those dynamic.
Similarly, some gtk2 functions are deprecated in gtk3 and so that we only use
them in gtk2, thus we make them dynamic.
</p>

<p>
Note: not all functions have to be dynamic. You should only make them dynamic 
if there is a need for it. I.e, in general you should only make functions dynamic
<i>if they have to be dynamic</i>; this is because if errors do exist, this post-pones them from 
compile time to run time.
</p></dd>

<dt>Determine if function should be dynamic</dt><dd><p>
   It is important to <b>throughly</b> check if the function that you are about to add
is specific to Gtk2, or Gtk3 or can be included in both.
</p>

<p>
Be attentive, sometimes there are bugs in the documentation,
i.e it might be missing a 'since 3.xyz' flag.
</p>

<p>
The safest way to ensure functionality, is to check <b>both</b> the latest <a href="https://developer.gnome.org/gtk3/stable/">Gtk3</a> and <a href="https://developer.gnome.org/gtk2/stable/">Gtk2</a> 
documentation and  read up about the function in both places.
</p>

<p>
The easiest way to do that, is to find the function, then change the '3' to a '2' in the url
<a href="https://developer.gnome.org/gtk3/stable/GtkWidget.htm">https://developer.gnome.org/gtk3/stable/GtkWidget.htm</a>
<a href="https://developer.gnome.org/gtk2/stable/GtkWidget.ht">https://developer.gnome.org/gtk2/stable/GtkWidget.ht</a>
</p>

<p>
For example, <a href="https://developer.gnome.org/gtk3/stable/GtkWidget.html#gtk-widget-set-halign">wtk<sub>widget</sub><sub>set</sub><sub>halign</sub>()</a> is defined in the Gtk3 documentation and there is no
'since 3.0' flag. However, upon checking of <a href="https://developer.gnome.org/gtk2/stable/GtkWidget.html">GtkWidget in gtk2</a>, I found that the function
doesn't exist there.
</p>

<p>
  Sometimes the function is ok to use in the current stable built, but got deprecated 
in the most recent unstable build. So check unstable documentation prior to adding
the function also. (replace stable with 'unstable' in the url).
</p>

<p>
Another indication of functions not being present in certain gtk versions is that you might
get an 'implicidly defined function' in the build.sh output.
</p>

<p>
Now you should have deterimined if the function should be dynamic or not.
</p></dd>

<dt>Steps to make a function dynamic</dt><dd><ol class="org-ol">
<li>Add the <code>@method flag=dynamic</code> to the javadoc of the function.</li>
<li><p>
Add the signature to <code>os_custom.h</code>. (i.e look at the other signatures, copy &amp; adjust).
</p>

<p>
<b>Caution!</b>, there is a postfix '<sub>LIB</sub>' at the of the function:
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">gtk_widget_get_preferred_size_LIB</span> LIB_GTK
                                       ^-- Notice post fix <span style="color: #8b2252;">"_LIB"</span>
</pre>
</div>

<p>
The 2nd part of the Define 'LIB<sub>GTK</sub>' is a pointer to which library the
function comes from. In this case prefered size comes from LIB<sub>GTK</sub>.
But this can be LIB<sub>GDK</sub> or other libraries. Check the gtk docus to find out where 
the function comes from.
</p></li>

<li>Rebuild So file. Make sure there are no errors/warnings related to that function.</li>
</ol></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline66" class="outline-3">
<h3 id="orgheadline66">Adding custom Functions to OS.Java</h3>
<div class="outline-text-3" id="text-orgheadline66">
<p>
Adding your own method signature.
</p>

<dl class="org-dl">
<dt>Check if the function should be dynamic (see above</dt><dd></dd>


<dt>In OS.java add your signature so that it matches the other signatures</dt><dd><p>
   An easy way is to find a method with similar paramaters and copy its signature.
</p>

<p>
Be attentive to pointers with <b>long</b>. They should have an int cast after them so that
things compile on 32 bit machines.
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #228b22;">long</span> <span style="color: #b22222;">/*</span><span style="color: #b22222;">int*/</span>
</pre>
</div>
<p>
You should <a href="#orgheadline16">Enable 32/64 bit checking by swt-tools</a>
</p></dd>

<dt>Manually edit <code>os_custom.h</code></dt><dd><p>
  If a function is dynamic, manually edit <code>os_custom.h</code>  and add the new method signature in there.
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">gdk_disable_multidevice_LIB</span> LIB_GDK
</pre>
</div>
<p>
If it is not dynamic, this step is not necessary. 
</p></dd>

<dt>Rebuild your so file</dt><dd></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline67" class="outline-3">
<h3 id="orgheadline67">What does SWT tools do</h3>
<div class="outline-text-3" id="text-orgheadline67">
<p>
SWT tools will parse OS.java and generate os.c for you. Note, some files are generated, and
some we edit manually, see <a href="#orgheadline33">OS.java compilation to os.h os.c etc..</a>
</p>

<p>
To force OS.java to be rebuild, clean your projects.
</p>
</div>
</div>

<div id="outline-container-orgheadline68" class="outline-3">
<h3 id="orgheadline68">Adding custom C enums to OS.java</h3>
<div class="outline-text-3" id="text-orgheadline68">
<p>
C Enums are <i>enumirations</i>. I.e,  {Red,Green,Blue} is turned into {0,1,2}.
</p>

<p>
C enums don't map onto Java's enums. Instead, to add an enum like <a href="https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkAlign">GtkAlign</a> to OS.java,
declare some static ints like:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #8b2252;">/**</span>
<span style="color: #8b2252;"> * ## Enums, extracted from OS.java (I once had to add this one in).</span>
<span style="color: #8b2252;"> */</span>
<span style="color: #8b2252;">/** GtkAlign enum */</span>
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_ALIGN_FILL</span> = 0;  <span style="color: #b22222;">//</span><span style="color: #b22222;">Enums start at 0.</span>
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_ALIGN_START</span> = 1;
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_ALIGN_END</span> = 2;
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_ALIGN_CENTER</span> = 3;
<span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">final</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">GTK_ALIGN_BASELINE</span> = 4;
</pre>
</div>

<p>
And when you declare a function, delcare the java-doc paramater cast like this:
</p>
<div class="org-src-container">

<pre class="src src-java"><span style="color: #008b8b;">@param</span> <span style="color: #228b22;">gtkalign</span> <span style="color: #a0522d;">cast</span>=(GtkAlign)    <span style="color: #b22222;">// </span><span style="color: #b22222;">note (GtkAlign) with no pointer, not (GtkAlign *)</span>
</pre>
</div>
<p>
This will allow the native call to understand that the paramater is an enum.
</p>
</div>
</div>
<div id="outline-container-orgheadline69" class="outline-3">
<h3 id="orgheadline69">Appendix: Special custom bindings</h3>
<div class="outline-text-3" id="text-orgheadline69">
<p>
In some <b>rare</b> situations you might have a function that you can't easily make dynamic.
E.g an overloaded function that has structs that are supported only in Gtk2/Gtk3.
In java you can overload a function, but in C you cannot.
</p>

<p>
In such situations, we need to inspect the generated os.c, find the "NO__.." line that
is genreated by swt tools and put it into os.h.
</p>

<p>
Example:  g<sub>object</sub><sub>set</sub>
</p>

<p>
Suppose you have:
<code>_g_object_set(long /*int*/ object, byte[] first_property_name, GdkRGBA data, long /*int*/ terminator);</code>
where <code>GdkRGBA</code> is specific to gtk3. 
</p>

<p>
Add the method signature to OS.java. Clean the project and attempt a build.
You will get a build error about GdkRGBA paramater in g<sub>object</sub><sub>set</sub>.
</p>

<p>
Now search os.c for "NO__ &#x2026;. g object set ", you will find something like:
<code>NO__1g_1object_1set__J_3BLorg_eclipse_swt_internal_gtk_GdkRGBA_2J</code>
</p>

<p>
Then in os.h, near ~ #define NO<sub>GdkRGBA</sub> you would add:
<code>#define NO__1g_1object_1set__J_3BLorg_eclipse_swt_internal_gtk_GdkRGBA_2J</code>
</p>

<p>
Meaning: (not very interesting as this is SWT genreated, but FYI:)
J - long
I - int
3B - byte[]
</p>

<p>
NOTE: if there is a 'J' - long in the signature, you need to add a 2nd line with 'I' ints, like:
</p>
<pre class="example">
#define NO__1g_1object_1set__I_3BLorg_eclipse_swt_internal_gtk_GdkRGBA_2I   //J*-&gt;I
#define NO__1g_1object_1set__J_3BLorg_eclipse_swt_internal_gtk_GdkRGBA_2J
</pre>

<p>
Alexander Kurtakov taught me this business. If you get stuck here, consider getting in touch with 
him for help.
</p>
</div>
</div>
<div id="outline-container-orgheadline70" class="outline-3">
<h3 id="orgheadline70">References</h3>
<div class="outline-text-3" id="text-orgheadline70">
<p>
<a href="https://www.eclipse.org/swt/jnigen.php">https://www.eclipse.org/swt/jnigen.php</a>
<a href="https://www.eclipse.org/swt/jnigen_metadata.php">https://www.eclipse.org/swt/jnigen_metadata.php</a>
<a href="http://homepage.cs.uiowa.edu/~slonnegr/wpj/JNI.pdf">http://homepage.cs.uiowa.edu/~slonnegr/wpj/JNI.pdf</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline79" class="outline-2">
<h2 id="orgheadline79">About Gtk</h2>
<div class="outline-text-2" id="text-orgheadline79">
</div><div id="outline-container-orgheadline72" class="outline-3">
<h3 id="orgheadline72">About</h3>
<div class="outline-text-3" id="text-orgheadline72">
<p>
Often you will run into a situation where you have 
to write native Gtk code to see if the issue is in Gtk or in SWT.
</p>

<p>
You should become comfortable writing and compiling Gtk3 (and maybe gtk2) native code.
</p>
</div>
</div>
<div id="outline-container-orgheadline73" class="outline-3">
<h3 id="orgheadline73">Brief overview of Gtk</h3>
<div class="outline-text-3" id="text-orgheadline73">
<dl class="org-dl">
<dt>Caution : Gtk Vs Gdk</dt><dd><p>
  It's not all "Gtk". Some functions start with gDk and some with gTk. 
Be attentive to the prefix and seek out the relevant documentation.
</p>

<p>
In general, Gtk is build on top of the underlying Gdk.
</p>

<p>
For example for Drag and drop, there are Gdk and Gtk functions like:
</p>

<div class="org-src-container">

<pre class="src src-c">gtk_drag_cancel ()
gdk_drag_abort&#160;()
</pre>
</div>

<p>
<a href="https://developer.gnome.org/gtk3/stable/gtk3-Drag-and-Drop.html">https://developer.gnome.org/gtk3/stable/gtk3-Drag-and-Drop.html</a>
</p>

<p>
<a href="https://developer.gnome.org/gdk3/stable/gdk3-Drag-and-Drop.html">https://developer.gnome.org/gdk3/stable/gdk3-Drag-and-Drop.html</a>
</p></dd>

<dt>General structure of Gtk <sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup></dt><dd><p>
  In fact, Gtk is a composition of multiple libraries.  
But in most cases, Gtk/Gdk/Glib is all you need to know unless you're working on some 
drawing related issue.
</p>
<div class="org-src-container">

<pre class="src src-sh">//Gtk composition:
GKT+
  |-&gt; X11     (Xlib)     //Window manager
  |-&gt; Glib ()
      |-&gt; Glib ()
      |-&gt; GObject ()     //Object-oriented framework
      |-&gt; GModule ()
      |-&gt; GThread ()
      |-&gt; GIO ()
  |-&gt; Cairo   ()         //2-D Vector renderer 
  |-&gt; GDK ()             //wrapper around low-lvl graphics. (fonts/dnd,cursors)

  |-&gt; GdkPixbuf ()       //image manipulation.
  |-&gt; Pango ()           //Text/Font
  |-&gt; ATK ()             //Accessibility toolkit.

//Structural overview
+------------------------------- ----------+
|             Your Application             |
+------------------------------------------+
|                 GtkAda                   |
|              +-----------------+         |
|              |      GTK        |         &lt;&lt;&lt; Useful to know.
|         +----+-----------------+----+    |
|         |           GDK             |     &lt;&lt;&lt; Useful to know.
|    +----+------+         +----------+----+
|    |   Pango   |         |     Cairo     |
+----+-----------+----+----+---------------+
|        GLIB         |   X-Window / Win32  |
+-------- ^ -----------+--------------------+
          |
         Glib has some useful datastructures, e.g lists/hash tables.

//From Gtk to your app:
Xlib &lt;-&gt; GDK &lt;-&gt; GTK &lt;-&gt; Your App //gdk is intermediate
</pre>
</div></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline74" class="outline-3">
<h3 id="orgheadline74">Learning Gtk</h3>
<div class="outline-text-3" id="text-orgheadline74">
<p>
Good places to get you going are:
</p>

<ol class="org-ol">
<li><p>
Quick tutorial:
</p>

<p>
This tutorial might not feel 'satisfying' or might not explain things, but it's a good place to get a general picture: 
<a href="http://zetcode.com/tutorials/gtktutorial/">http://zetcode.com/tutorials/gtktutorial/</a>
</p></li>

<li><p>
The gtk2 book: <i>(Good stuff)</i>
</p>

<p>
The only (decent) book on Gtk at the time of writing covers Gtk2. But it's good to learn about GTK2 and in paralalel look at how things changed in Gtk3.
Gtk2 and Gtk3 are relativley similar. More info here: <a href="http://www.gtkbook.com/">http://www.gtkbook.com/</a>
It's good to read the book and compare the functions/structs to Gtk3. This way you learn both frameworks.
</p></li>

<li><p>
There is also the official Gtk3 Getting-started-guide:
</p>

<p>
However, it is somewhat dry I found. I never read it except for the DnD part:
<a href="https://developer.gnome.org/gtk3/stable/gtk-getting-started.html">https://developer.gnome.org/gtk3/stable/gtk-getting-started.html</a>
</p></li>

<li>There is also a very good book written by Red Hat Labs: 
"GTK+ / Gnome Application Development, Havoc Pennington, Red Hat Advanced Development Labs".
 It is the only book I could find that had good high-level theory on Gdk development 
 and it has some nuggets like implementing a custom widget (which is useful to understand 
 swtFixed container).</li>

<li>There are lots of little papers scattered around the web also. I google around for those.</li>
</ol>
</div>
</div>
<div id="outline-container-orgheadline75" class="outline-3">
<h3 id="orgheadline75">Gtk Api documentation</h3>
<div class="outline-text-3" id="text-orgheadline75">
<dl class="org-dl">
<dt>Gtk2 &amp; Gtk3 Documentation</dt><dd><p>
  There is (Gtk3|Gtk2) &amp;&amp; (Stable|Unstable) documentation, 
to switch between them change 2 -&gt; 3, stable -&gt; unstable. E.g
</p>

<p>
<a href="https://developer.gnome.org/gtk3/stable/GtkWidget.html">https://developer.gnome.org/gtk3/stable/GtkWidget.html</a>
</p>

<p>
<a href="https://developer.gnome.org/gtk3/unstable/GtkWidget.html">https://developer.gnome.org/gtk3/unstable/GtkWidget.html</a>
</p>

<p>
<a href="https://developer.gnome.org/gtk2/stable/GtkWidget.html">https://developer.gnome.org/gtk2/stable/GtkWidget.html</a>
</p></dd>

<dt>Googling Api</dt><dd><p>
  I usually Google with "Gtk" and "ref" in the prefix. This usually get's me to the api.
</p>
<div class="org-src-container">

<pre class="src src-sh">gtk&lt;Version&gt; ref &lt;Key word&gt;

e.g
gtk3 ref gtk_combo_box_text
gtk2 ref gtk_combo_box_text
</pre>
</div></dd>

<dt>Note about unstable api</dt><dd><p>
  You should consider browsing unstable api more often than stable api.
Often you will find that some functions get deprecated in latest versions or
new functions are added to add missing functionality. Or simply the documentation changes.
</p>

<p>
The general rule of thumb is that before adding new method to OS.java, double check the
unstable documentation for that function first.
</p>

<p>
To see a list of available versions, go here and click on the newest:
</p>

<p>
<a href="https://developer.gnome.org/gtk3/">https://developer.gnome.org/gtk3/</a>
</p></dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline76" class="outline-3">
<h3 id="orgheadline76">Getting help</h3>
<div class="outline-text-3" id="text-orgheadline76">
<p>
You will get stuck in GTK land sometimes. 
</p>

<p>
Good places to get help are:
</p>
<dl class="org-dl">
<dt>gtk+ irc channel</dt><dd>Folks are very helpful here. I often got responses very quickly.
Mostly good for quick little bits and general wisdom.</dd>

<dt>gtk+ bugzilla</dt><dd>If you think you have come across a bug, or need some official statment from GTK folks 
about some functionality (e.g if something doesn't work in SWT, have a link to a gtk bug
that explains things). Posting a bug to the GTK bugzilla is the way to go. E.g:
<a href="https://bugzilla.gnome.org/show_bug.cgi?id=747798">https://bugzilla.gnome.org/show_bug.cgi?id=747798</a></dd>

<dt>Mailing list</dt><dd>I didn't get many responses when I asked complex questions, but for small &amp; straight forward
stuff, people respond quite well:
See: <a href="http://www.gtk.org/mailing-lists.php">http://www.gtk.org/mailing-lists.php</a></dd>

<dt>Stack overflow</dt><dd>For your broken snippets. Tag things with gtk+
<a href="http://stackoverflow.com/">http://stackoverflow.com/</a></dd>
</dl>

<p>
See: <a href="http://www.gtk.org/development.php">http://www.gtk.org/development.php</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline78" class="outline-3">
<h3 id="orgheadline78">Gtk Source code</h3>
<div class="outline-text-3" id="text-orgheadline78">
<p>
You should check out the Gtk repository. Often you will look through the Gtk Source
code to find things that are not in their Documentation. 
Usually I look for the macros that cast things e.g <code>GTK_CONTAINER(container)</code> or
I look at <code>*.h</code> files to see how GtkWidgets are made up.
</p>

<p>
See <a href="#orgheadline77">Git repositories to check out for Gtk development.</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline85" class="outline-2">
<h2 id="orgheadline85">C/C++ Development in Eclipse</h2>
<div class="outline-text-2" id="text-orgheadline85">
</div><div id="outline-container-orgheadline80" class="outline-3">
<h3 id="orgheadline80">About</h3>
<div class="outline-text-3" id="text-orgheadline80">
<p>
To write little Gtk Snippets in Eclipse, you can use Eclipse's CDT (C Development Tools).
Before doing so, you should get comfortable doing basic C development in Eclipse.
</p>

<p>
In this section we briefly touch on how to write small C snippets of code in Eclipse.
</p>
</div>
</div>
<div id="outline-container-orgheadline81" class="outline-3">
<h3 id="orgheadline81">Getting Started</h3>
<div class="outline-text-3" id="text-orgheadline81">
<dl class="org-dl">
<dt>Installing</dt><dd><p>
  You need to install the CDT plugin for eclipse.
</p>
<pre class="example">
sudo dnf install eclipse-cdt
</pre>
<p>
Or find an Eclipse version that has CDT build in, or google around on how to install 
it as a plugin.
You can tell if it's installed by creating a new project and seeing if C/C++ project is avaialble.
</p></dd>

<dt>Getting to know CDT</dt><dd><ul class="org-ul">
<li>Try a basic hello-world C project to get a feel for it.</li>
<li>Open Help -&gt; Help Content -&gt; C/C++ Development.</li>
<li>Read the Getting Started guide. It explains how to make new projects.</li>
<li>Make a test C project to play around with. E.g make a hello world program.</li>
<li>Read and try things in this guide:
<a href="https://www3.ntu.edu.sg/home/ehchua/programming/howto/EclipseCpp_HowTo.html">https://www3.ntu.edu.sg/home/ehchua/programming/howto/EclipseCpp_HowTo.html</a></li>
</ul></dd>
</dl>

<p>
You should ideally spent a number of hours getting to know Eclipse with CDT, as you'll 
probably be using this a lot in the future to navigate the Gtk code base.
</p>
</div>
</div>
<div id="outline-container-orgheadline82" class="outline-3">
<h3 id="orgheadline82">A note about Automake/Make file/Executable C projects.</h3>
<div class="outline-text-3" id="text-orgheadline82">
<p>
When you create a new C project, you will have an option of 
several project types.
</p>

<p>
The main types are:
</p>
<dl class="org-dl">
<dt>GNU Autotools</dt><dd>This is often used by large open source projects, e.g Gtk.
It ties making of projects together with developer tools like valgrind.</dd>
<dt>Executable</dt><dd>This is a basic project where the make file is managed for you.
This is good if you just want to write some C code and try it out.</dd>
<dt>Makefile Project</dt><dd><p>
   This is for when you manage your own make file. This is useful for 
existing projects that have make files that you need to manage yourself, 
or for when you want to learn about makefiles. I usually use this 
for my toy projects.
To enable debug in makefile projects, you need to add the debug flag and
remove optimizations:
</p>
<pre class="example">
-g -O0 
</pre></dd>
</dl>


<div class="figure">
<p><img src="./img/img_2015_05_26__12_06_40.png" alt="img_2015_05_26__12_06_40.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline83" class="outline-3">
<h3 id="orgheadline83">Useful Eclipse Code Navigation and editing techniques for C</h3>
<div class="outline-text-3" id="text-orgheadline83">
<p>
You should try all of the above:
</p>

<dl class="org-dl">
<dt>switch between .h and .c files</dt><dd>You acn press Ctrl+Tab to switch between source code and header units.</dd>

<dt>open call hierarchy</dt><dd>I remap this to F1. List all the functions that call this method.
Also works on fields of a struct, show all places that reference this variable.</dd>

<dt>quick outline</dt><dd>(ctrl+o)
See a list of all functions. Search them. 
Use regex like <code>*list*</code> to find get<sub>item</sub><sub>list</sub>().</dd>

<dt>open resource</dt><dd>Navigate menu &gt; open resource or Ctrl+Shift+r.
This is very useful to find or 'jump' to a file. Supports regex like <code>*file.c</code></dd>

<dt>refactor</dt><dd>(shift+alt+r)
Rename variables and functions.</dd>

<dt>build &amp; run</dt><dd><p>
  You can configure a build &amp;  run in one hotkey: 
</p>

<p>
You should create a run configuration (see help-&gt;help content-&gt;C/C++Development
-&gt;getting started &gt; Creating a simple application).
</p>

<p>
Enable 'auto-build'. 
Now tie a hotkey to "run-last-launched" (F12 in my case, but maybe F11 in yours).
</p></dd>

<dt>open element (Ctrl+Shift + t)</dt><dd>Useful for finding functions/structs/unions/enums in the source code base.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline84" class="outline-3">
<h3 id="orgheadline84">Before you proceed</h3>
<div class="outline-text-3" id="text-orgheadline84">
<p>
You should be able to: 
</p>
<ul class="org-ul">
<li>Jump between the function call and the function definition. (call hierarchy).</li>
<li>Search the outline.</li>
<li>Know how to create a run configuration for a C project.</li>
<li>Be able to debug a C application from inside Eclipse, step by step and
see the content of variables.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgheadline89" class="outline-2">
<h2 id="orgheadline89">Import Gtk Sources into Eclipse for browsing</h2>
<div class="outline-text-2" id="text-orgheadline89">
</div><div id="outline-container-orgheadline86" class="outline-3">
<h3 id="orgheadline86">About</h3>
<div class="outline-text-3" id="text-orgheadline86">
<p>
You can pull Gtk sources and tie them into your Eclipse, so that you can navigate/read the source 
code easier.
</p>

<p>
I then use the Gtk source code as a way of reading Gtk api. Compared to the web-documentation, 
reading the source code allows you to quickly jump to struct definitions and see examples
of how/where functions are called via call-hierachy.
</p>

<p>
You also see how certain objects 'relate' to each other, which you sometimes don't see in the w
web-docu. You will often find that many functions are just wrappers around other functions.
</p>

<p>
The most frequent use-case is when I write a Gtk snippet, I can just jump to the function
definition and read the docu without plowing through the web-documents.
</p>
</div>
</div>
<div id="outline-container-orgheadline77" class="outline-3">
<h3 id="orgheadline77"><a id="ID-3dd5acc6-bb25-4f76-8c04-c994a5a00b13"></a>Git repositories to check out for Gtk development.</h3>
<div class="outline-text-3" id="text-orgheadline77">
<p>
Gtk is made up of several libraries, you need to pull all of them onto your system otherwise 
some of the code will be underlined red.
</p>

<ol class="org-ol">
<li><p>
Check out repositories:
</p>

<p>
Checkout the repos below and add them to your eclipse.
For copy &amp; paste convenience: 
</p>
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #483d8b;">cd</span> ~/git   <span style="color: #b22222;">#</span><span style="color: #b22222;">this is where git repos should ideally be placed.</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Gtk (includes gdk)</span>
git clone https://github.com/GNOME/gtk

<span style="color: #b22222;"># </span><span style="color: #b22222;">Glib </span>
git clone https://github.com/GNOME/glib.git

<span style="color: #b22222;"># </span><span style="color: #b22222;">gdk-pixbuf: </span>
git clone https://github.com/dieterv/gdk-pixbuf.git

<span style="color: #b22222;"># </span><span style="color: #b22222;">cairo drawing library:</span>
git clone git://anongit.freedesktop.org/git/cairo
git clone git://anongit.freedesktop.org/git/pixman.git
</pre>
</div></li>

<li>Import git repositories into Eclipse (or clone from within Eclipse). 
(not yet as project, just import the repos)</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline87" class="outline-3">
<h3 id="orgheadline87">Import  projects into Eclipse.</h3>
<div class="outline-text-3" id="text-orgheadline87">
<dl class="org-dl">
<dt>About</dt><dd>I usually import the projects from their git hub-repositories as oppose
to directly from file, because this way I can use the compare-to-previous revision feature
of egit.
I.e, import -&gt; git -&gt; new project etc&#x2026;</dd>

<dt>A note on Autotools projects</dt><dd>You can tell if a project (e.g gtk) is an 'autotools' project by looking into the 
project folder and inspect the existing files.
You may see files like  "configure.ac".
Alternativeley, make a new autotools project, see what it looks like &amp; compare.</dd>

<dt>Importing projects from git to Eclipse</dt><dd><ul class="org-ul">
<li>You should have the repos checked out: (gtk+|glib|gdk-pixbuf|pixman|cairo).</li>

<li>Next right click on each git repository and import from it.</li>

<li>You should import it as "New C project" (and not exiting project).n
<ul class="org-ul">
<li>Project type "GNU Autotools" -&gt; Empty Project"</li>
<li>uncheck 'Use default location' and select location in your git hub. (root of the .git)</li>
</ul></li>
</ul></dd>

<dt>Referencing projects</dt><dd>Referencing projects allows Eclipse to know that projects are related. 
Normally, triggering to build one project triggers a build of other projects. 
It also get the C indexer to read symbols properly.
<ul class="org-ul">
<li>go to the imported  'gtk+' project.</li>
<li>Open 'project properties' -&gt; C/C++ General -&gt; Paths and Symbols -&gt; References</li>
<li>cleck: glib &amp;&amp; gtk-pixbuf &amp;&amp; cairo &amp;&amp; pixman</li>
<li>click on ok.</li>
</ul></dd>

<dt>rebuild the index</dt><dd><ul class="org-ul">
<li>In the project explorer, right click on the 'gtk' project -&gt; index -&gt; rebuild.</li>
<li>Now all errors should be gone. (maybe except one like</li>
</ul>
<p>
("cannot find install-sh, install.sh, or shtool in build-aux "."/build-aux")
(  &#x2013;&gt;&gt; to fix, run "reconfigure from repo, autotools will rebuild the project bits).
</p></dd>
</dl>

<p>
now when you make a Gtk application in Eclipse, you should be able to jump to 
the definition of a function.
</p>

<dl class="org-dl">
<dt>Note about building Gtk in Eclipse</dt><dd>In general it's possible to build Gtk from inside Eclipse with autotools,
but I prefer to do it in the command line as I find it easier to specify neccessary flags 
and chain operations together through scripts.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgheadline88" class="outline-3">
<h3 id="orgheadline88">References</h3>
<div class="outline-text-3" id="text-orgheadline88">
<dl class="org-dl">
<dt>build in help</dt><dd>Eclipse -&gt; help -&gt; help content -&gt; C/C++ development</dd>

<dt>C++ in eclipse post</dt><dd><a href="https://www3.ntu.edu.sg/home/ehchua/programming/howto/EclipseCpp_HowTo.html">https://www3.ntu.edu.sg/home/ehchua/programming/howto/EclipseCpp_HowTo.html</a></dd>

<dt>Gtk source code download page</dt><dd><a href="http://www.gtk.org/download/">http://www.gtk.org/download/</a></dd>

<dt>RGrunber's blog post</dt><dd></dd>
</dl>
<p>
<a href="https://rgrunber.wordpress.com/2012/04/25/adding-header-files-to-your-cc-project/">https://rgrunber.wordpress.com/2012/04/25/adding-header-files-to-your-cc-project/</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline98" class="outline-2">
<h2 id="orgheadline98">Writing &amp; Debugging Gtk apps in Eclipse</h2>
<div class="outline-text-2" id="text-orgheadline98">
</div><div id="outline-container-orgheadline90" class="outline-3">
<h3 id="orgheadline90"><a id="ID-3029ce25-95d4-4ffd-abc9-2db4b36e8e8b"></a>Prerequisites</h3>
<div class="outline-text-3" id="text-orgheadline90">
<ul class="org-ul">
<li>Update Eclipse fully (sudo dnf update eclipse).</li>
<li>install <code>pkg-config</code>, <code>gtk3-devel</code> &amp; <code>gtk2-devel</code> packages if you haven't done so already.</li>

<li>Insatll Eclipse <code>pkg-config</code> plugin from market place (if not installed already). 
<ul class="org-ul">
<li>You might have to install market place first if it's missing from the help menu. -&gt; (install new software, select all sites, search for 'market' install 'Marketplace Client').</li>
<li>Pkg config converts things like 'gtk-3.0' to all the library includes of gtk3</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline91" class="outline-3">
<h3 id="orgheadline91">Cloning my existing repository.</h3>
<div class="outline-text-3" id="text-orgheadline91">
<p>
You can clone my repo if you wish, it has some useful Gtk snippets. Although I would suggest you to manually create a project (see below) and put it into your own git repository.
</p>

<p>
FYI: My repo is here: <a href="https://github.com/LeoUfimtsev/LeoGtk3/tree/master">https://github.com/LeoUfimtsev/LeoGtk3/tree/master</a>
</p>

<p>
You can clone or checkout the master branch.
It has an Eclipse project that you can import into your workspace. 
</p>

<p>
If you already have Gtk/Gdk/pixbuf etc.. imported, then 
the project should be able to compile/run Gtk snippets,
and you should be able to look up referenced functions/types 
in the Gtk source code.
</p>

<p>
Note, this is a make-file project where I manually adjust the makefile.
</p>

<p>
If there are issues with this approach, try the below instead.
</p>
</div>
</div>
<div id="outline-container-orgheadline92" class="outline-3">
<h3 id="orgheadline92">Manually create a project.</h3>
<div class="outline-text-3" id="text-orgheadline92">
<p>
There are a few tricky bits to consider when creating a Gtk project.
</p>
</div>
<div id="outline-container-orgheadline93" class="outline-4">
<h4 id="orgheadline93">Header and source code files</h4>
<div class="outline-text-4" id="text-orgheadline93">
<p>
Normally, if you create a Gtk+ project you include the "<i>usr/include/gtk+" paths.
The problem with that is that "/usr/include/gtk</i>" only contains header files, not the 
.c source code files from the git hub repo. As such you won't be able to see the 
"guts" of gtk, which are often very useful and essential for when you're debugging swt.
</p>

<p>
  If you point your include to the gtk+ git hub repo instead, then it might not compile unless you
  go thourgh the effort to compile the related libs (Glib/pixbuf etc&#x2026;), which is 
  quite a bit of effort. I.e, it's easier to use the gtk that is build in with your system for 
compiliation.
</p>

<p>
The solution (which at least works for me) is to point the compiler to the system 
"<i>usr/include</i>" path (1*) and point the indexer to the gtk+ gitHub repository (2*). 
This way, when you are compiling, all will compile well and when you are writing code 
you easy quick-lookup to the gtk source code without having to compile all of this business.
</p>
</div>
</div>
<div id="outline-container-orgheadline94" class="outline-4">
<h4 id="orgheadline94">Making a new C Executable project</h4>
<div class="outline-text-4" id="text-orgheadline94">
<ul class="org-ul">
<li>Create a new Eclipse C Project (not C++), select  Executable project,
with "Hello World GTK+ Project" template:</li>
</ul>

<div class="figure">
<p><img src="./img/img_2015_05_26__14_21_08.png" alt="img_2015_05_26__14_21_08.png" />
</p>
</div>

<ul class="org-ul">
<li>If this template is missing, you need to install 'pkg-config' plugin into Eclipse first. (see <a href="#orgheadline90">Prerequisites</a>). Also it's missing if you selected 'C++' as it's only available for 'C' projects.</li>

<li>Go to project properties
-&gt; C/C++ Build
-&gt; Settings
-&gt; 'Pkg-config' tab, and select the <code>gtk+-3.0</code> option.</li>
</ul>

<div class="figure">
<p><img src="./img/img_2015_05_26__14_25_04.png" alt="img_2015_05_26__14_25_04.png" />
</p>
</div>


<div class="figure">
<p><img src="./img/img_2015_05_26__14_25_24.png" alt="img_2015_05_26__14_25_24.png" />
</p>
</div>

<p>
Inside src, you should see a .c file that has a hello-world template.
</p>

<p>
Now you should be able to build &amp; run (or debug) the Gtk application.
(Note, before running the first time, you need to build the project).
It should build very quickly. 
</p>

<p>
However, when you look up functions, you won't be able to look into the .c files.
</p>
</div>
</div>
<div id="outline-container-orgheadline95" class="outline-4">
<h4 id="orgheadline95">Set the indexer to look inside your git repository.</h4>
<div class="outline-text-4" id="text-orgheadline95">
<ul class="org-ul">
<li>In your project properties.</li>
<li>Under "C/C++ Build" click on 'Manage Configurations' and add an 'indexer' configurtaion.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_26__15_45_00.png" alt="img_2015_05_26__15_45_00.png" />
</p>
</div>

<ul class="org-ul">
<li>Under "C/C++ General" -&gt; Indexer, click "Enable project specific settings".</li>
<li>Under "Indexing Strategy", select "Use a fixed build configuration" and select 
your newly created 'indexer' configurtaion.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_26__15_46_52.png" alt="img_2015_05_26__15_46_52.png" />
</p>
</div>

<ul class="org-ul">
<li>Under "C/C++ General" -&gt; "Path and Symbols", switch to the 'indexer' configuration, 
and in the "Include" -&gt; "GNU C", add your workspace Gtk/glib/cairo/gtk-pixbuf/pixman 
projects.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_26__15_48_35.png" alt="img_2015_05_26__15_48_35.png" />
</p>
</div>

<ul class="org-ul">
<li>Now click on Ok. Right click on your project -&gt; Indexer -&gt; Rebuild index.</li>
</ul>

<p>
Now you should be able to build the project as usual, but also when you open function 
definitions, you should be able to see the gtk source code from your git hub repo.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline96" class="outline-3">
<h3 id="orgheadline96">Debugging Gtk Apps</h3>
<div class="outline-text-3" id="text-orgheadline96">
<p>
Besides stepping through a Gtk appliction, you also use the GtkInspector,
which can be ran for a Gtk3.14+ application to see real-timie information 
about your running Gtk application. (see below).
</p>
</div>
</div>
<div id="outline-container-orgheadline97" class="outline-3">
<h3 id="orgheadline97">gtk Debug flags for apps&#xa0;&#xa0;&#xa0;<span class="tag"><span class="GTK">GTK</span></span></h3>
<div class="outline-text-3" id="text-orgheadline97">
<p>
You can set launch flags to help debug gtk apps as well as SWT snippets.
</p>

<p>
E.g set global var <code>GTK_DEBUG = geometry</code>  to get detailed frame-sizes.
</p>

<p>
or &#x2013;g-fatal-warnings  will halt the app upon a warning.
See Gtk ref for full list:
<a href="https://developer.gnome.org/gtk3/stable/gtk-running.html">https://developer.gnome.org/gtk3/stable/gtk-running.html</a>
</p>

<p>
I haven't used this much, but the stop-on warnings might 
come in handy if you want to debug warnings.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline103" class="outline-2">
<h2 id="orgheadline103">GtkInspector</h2>
<div class="outline-text-2" id="text-orgheadline103">
</div><div id="outline-container-orgheadline99" class="outline-3">
<h3 id="orgheadline99">About</h3>
<div class="outline-text-3" id="text-orgheadline99">
<p>
Gtk inspector is a good friend when it comes to troubleshooting styles/positioning 
and functionality of Widgets.
</p>

<p>
It can provide information about running Gtk Applications. 
Note, this includes Eclipse or a SWT snippet when they run on Gtk3.14 or above.
</p>

<p>
Things it can do:
</p>
<ul class="org-ul">
<li>Display widget hierarchy</li>
<li>Live tweaking of properties (including CSS styles)</li>
<li>identify widgets by pointing to them</li>
<li>see widget composition (e.g GtkComboBoxText is made of GtkToggleButton, GtkTreeView, GtkEntry etc..)</li>
<li>Change themes on the fly.</li>
<li>And much more.</li>
</ul>

<p>
For example, here I am using GtkInspector to change the color of Entry on the fly with some CSS:
</p>


<div class="figure">
<p><img src="./img/img_2015_04_17__15_16_05.png" alt="img_2015_04_17__15_16_05.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline100" class="outline-3">
<h3 id="orgheadline100">Opening GtkInspector</h3>
<div class="outline-text-3" id="text-orgheadline100">
<dl class="org-dl">
<dt>Manual Launch</dt><dd><p>
  Once a Gtk3.14+ app is open (this include Eclipse), press:
</p>

<p>
Ctrl+Shift+d  / (Ctrl+Shift+i) 
</p>

<p>
NOTE: Sometimes it doesn't open when the mouse is over some contorls like Canvas. 
In this case, just keep trying to open while hovering over other controls until it fires up.
</p></dd>

<dt>Launch on app ran</dt><dd><p>
  You can set an environmental variable to indicate that GtkInspector should launch right away:
</p>

<pre class="example">
export GTK_DEBUG=interactive
</pre>
<p>
However, I found that much of a Gtk application loads dynamically and if GtkInspector
is launched at start-up instead of later on, then sometimes it doesn't show the widget-
hierarchy correctly.
</p></dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline101" class="outline-3">
<h3 id="orgheadline101">Limitation: GtkInspector and reparenting</h3>
<div class="outline-text-3" id="text-orgheadline101">
<p>
As a note, when you re-parent widgets in Gtk/Swt, the hierarchy doesn't get updated in GtkInspector.
This has an impact on widgets that do re-parenting, e.g SWT.Group/SWT Tabfolder.
</p>

<p>
If hierarchy matters, you should doublecheck pointers.
</p>
</div>
</div>
<div id="outline-container-orgheadline102" class="outline-3">
<h3 id="orgheadline102">References</h3>
<div class="outline-text-3" id="text-orgheadline102">
<p>
Upgrade ubuntu`s gtk to use gtkInspector:
<a href="http://www.webupd8.org/2014/10/how-to-install-gnome-314-in-ubuntu.html">http://www.webupd8.org/2014/10/how-to-install-gnome-314-in-ubuntu.html</a>
</p>

<p>
My blog post on it:
<a href="https://coffeeorientedprogramming.wordpress.com/2014/10/27/how-to-tell-if-you-are-running-eclipse-on-gtk2-or-on-gtk3/comment-page-1/#comment-8">https://coffeeorientedprogramming.wordpress.com/2014/10/27/how-to-tell-if-you-are-running-eclipse-on-gtk2-or-on-gtk3/comment-page-1/#comment-8</a>
</p>

<p>
Other:
<a href="http://blogs.gnome.org/mclasen/2014/11/23/gtk-inspector-update/">http://blogs.gnome.org/mclasen/2014/11/23/gtk-inspector-update/</a>
<a href="https://wiki.gnome.org/Projects/GTK+/Inspector">https://wiki.gnome.org/Projects/GTK+/Inspector</a>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline117" class="outline-2">
<h2 id="orgheadline117">Debugging the native 'Gtk' C part of an SWT application.</h2>
<div class="outline-text-2" id="text-orgheadline117">
</div><div id="outline-container-orgheadline104" class="outline-3">
<h3 id="orgheadline104">About</h3>
<div class="outline-text-3" id="text-orgheadline104">
<dl class="org-dl">
<dt>When to debug Gtk/C</dt><dd><p>
  Once in a while when troubleshooting an SWT issue, you will get into a situation, 
where there is a bug in swtFixed container or you need to debug Gtk itself to see what goes wrong.
</p>

<p>
E.g Gtk2 may have one behaviour and Gtk3 may have another for the same native call.
</p></dd>

<dt>How it works</dt><dd><p>
  To debug the 'c' part of a running Java application, you need to 'attach' yourself to 
the Java Virtual Machine (JVM) from inside Eclipse.
</p>

<p>
But before doing so, you need to compile Gtk and Swt bindings with debug flags and 
optimizations turned off.
</p>

<p>
Here is a diagram to illustrate:
<img src="./img/img_2015_05_26__16_43_16.png" alt="img_2015_05_26__16_43_16.png" />
</p></dd>
</dl>
<p>
<a href="kolourpaint ./img/img_2015_05_26__16_43_16.png">edit img</a>
</p>

<p>
Further, since eclipse.platform.swt is a Java project that contains C code, you will
have to create a C project and link to that folder to debug the C code.
As a note, the source and binaries will be in different folders, so you will need to create
a source and a debug C project (more to follow).
</p>
</div>
</div>

<div id="outline-container-orgheadline105" class="outline-3">
<h3 id="orgheadline105">Building SWT jni bindings with debug support.</h3>
<div class="outline-text-3" id="text-orgheadline105">
<p>
You need to rebuild the swt SO files, but with debug support. 
Feel free to use the script I provided in <a href="#orgheadline25">Rebuilding SO file</a> with the debug paramater 'g' :
</p>
<pre class="example">
swtjnibuild -g
</pre>

<p>
This makes the script set some flags and triggers a make manually:
</p>
<pre class="example">
export SWT_PTR_CFLAGS="-O0 -g3 -ggdb3" 
make -f make_linux.mak all  make_cairo
</pre>
<p>
To make this scrpit, I inspected the make file, and extract the last few lines adding the 
flags myself. This also turns off optimizations (-O0).
</p>
</div>
</div>

<div id="outline-container-orgheadline106" class="outline-3">
<h3 id="orgheadline106">Rebuilding Gtk with debug support and w/o optimizations.</h3>
<div class="outline-text-3" id="text-orgheadline106">
<p>
You will need to compile Gtk+ with debugging support and optimizations turned off.
You can find detailed instructions on how to do it in: <a href="#orgheadline58">Compiling Gtk+</a> 
I.e: 
</p>
<pre class="example">
./autogen.sh &amp;&amp;
./configure --enable-x11-backend --enable-wayland-backend --enable-debug=yes &amp;&amp;
make CFLAGS="-g3 -ggdb3 -O0" -j4 &amp;&amp;
</pre>
</div>
</div>
<div id="outline-container-orgheadline107" class="outline-3">
<h3 id="orgheadline107">Set the SWT widget to use new Gtk</h3>
<div class="outline-text-3" id="text-orgheadline107">
<p>
Similar to the Gtk compiliation instructions, you need edit the SWT snippet run configuration
and set the environmental variable to point to the freshly compiled .libs folder. E.g:
</p>
<pre class="example">
LD_LIBRARY_PATH = /home/lufimtse/git/gtk+/gtk/.libs
</pre>

<p>
<b>NOTE</b>:  
You will have to do this for every single widget/SWT snippet that you wish to debug at the 
gtk level.
</p>


<div class="figure">
<p><img src="./img/img_2015_05_27__13_32_29.png" alt="img_2015_05_27__13_32_29.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline108" class="outline-3">
<h3 id="orgheadline108">Debug Gtk bits via attach-proccess</h3>
<div class="outline-text-3" id="text-orgheadline108">
<p>
To debug the Gtk bits, you can attach yourself to the JVM part of the SWT application
while it is running.
</p>

<ul class="org-ul">
<li><p>
Inside the loaded Gtk code base, set a break point somewhere. E.g inside:
</p>
<pre class="example">
gtkmain.c:gtk_main_do_event(GdkEvent *event). 
</pre>
<p>
This will be triggered an almost every Gdk event.
</p></li>

<li>Launch your SWT application.</li>

<li><p>
In terminal execute <code>jps</code> (java proccesses) and identify the pid of your SWT app.
</p>
<pre class="example">
lufimtse@unused-10-15-18-183 pathscripts$ jps
357 Jps
2824 LayoutExample    #&lt;&lt;&lt; this is the SWT snippet.
</pre>

<p>
As a side note, I often set the title of a snippet to the pid of the proccess.
This way I don't have to look for it with <code>jps</code> anymore. To do this in java:
</p>
<pre class="example">
ManagementFactory.getRuntimeMXBean().getName().split("@")[0];
</pre></li>
</ul>


<ul class="org-ul">
<li>In Eclipse, press Ctrl+3, then search for 'Debug Attached Executable'.
(I usually search for 'attached' and it pops up).</li>

<li>Search for 'java'. You should see a list of multiple java proccesses.
Pick the one that has the PID of your snippet.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_27__13_28_34.png" alt="img_2015_05_27__13_28_34.png" />
</p>
</div>

<ul class="org-ul">
<li>If things went well, Eclipse should break inside the file <code>pthread_join.c</code> somewhere 
at the 'wait for child' section.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_27__13_29_35.png" alt="img_2015_05_27__13_29_35.png" />
</p>
</div>

<ul class="org-ul">
<li>Press 'f8' (continue). Then try to move the SWT widget or do something with it.
Eclipse should stop at the <code>gtk_main_do_event(..)</code> function and you should be able  
to step through the code.</li>
</ul>


<div class="figure">
<p><img src="./img/img_2015_05_27__13_36_01.png" alt="img_2015_05_27__13_36_01.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline113" class="outline-3">
<h3 id="orgheadline113">Debugging swtFixed custom code</h3>
<div class="outline-text-3" id="text-orgheadline113">
</div><div id="outline-container-orgheadline109" class="outline-4">
<h4 id="orgheadline109">About Source code and binary code locations</h4>
<div class="outline-text-4" id="text-orgheadline109">
<p>
SWT keeps it's source code in one place, but during a project clean-up &amp; rebuild, 
  SWT Tools will copy the source code from src folder to the binary folder. 
</p>

<p>
As such, to make changes that have an impact on the code, you need to edit code
in the src folder, but to debug you need to open the source code from the binary folder.
</p>

<p>
To make matters more complicated, during a rebuild, SWT tools will erase the whole 
binary folder and re-create it. This means that if you imported the folder as a project, 
the pointer to that folder is lost and the project 'dissapers' from Eclipse. 
However, there is a way to get around it. You can create a project in some other folder
and add a link the SWT binary folder as a source. This way the project survives re-builds.
</p>
</div>
</div>

<div id="outline-container-orgheadline110" class="outline-4">
<h4 id="orgheadline110">Souce and debug folders</h4>
<div class="outline-text-4" id="text-orgheadline110">
<p>
Source code lies here: (e.g for changes to source code):
</p>
<pre class="example">
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/Eclipse SWT PI/gtk/library
</pre>

<p>
SWT Tools then copies code here (for debugging, don't edit as this folder is deleted &amp; recreated):
</p>
<pre class="example">
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/bin/library
</pre>
</div>
</div>

<div id="outline-container-orgheadline111" class="outline-4">
<h4 id="orgheadline111">Creating src/binary projects in Eclipse</h4>
<div class="outline-text-4" id="text-orgheadline111">
<ul class="org-ul">
<li>Create two Eclipse 'C plain makefile' projects and place them anywhere on your system.
e.g ~/eclipseProjects/&lt;your Project&gt;</li>
<li>Name them something like "swtCustomDebug" and "swtCustomSource"</li>

<li><p>
For swtCustomSource
</p>
<ul class="org-ul">
<li>Edits project properties, under Path and Symbols -&gt; Source location, link folder:
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/Eclipse SWT PI/gtk/library</li>
<li>under references tab, link to  (for function-lookup functionality).
<ul class="org-ul">
<li>cairo / glib / gtk+ / gtk-pixbuf /pixman etc..</li>
</ul></li>
<li>rebuild C/C++ index for this project.</li>
</ul>
<p>
This project you will use to make changes to the source code itself. 
But debuggign doesn't work as there is no effect on setting break points.
</p></li>

<li><p>
For swtCustomDebug:
</p>
<ul class="org-ul">
<li>Edits project properties, under Path and Symbols -&gt; Source location, link folder:
~/git/eclipse.platform.swt/bundles/org.eclipse.swt/bin/library</li>
<li>under references tab, link to  (for function-lookup functionality).
<ul class="org-ul">
<li>cairo / glib / gtk+ / gtk-pixbuf /pixman etc..</li>
</ul></li>
<li>rebuild C/C++ index for this project.</li>
</ul>
<p>
In this project, you can set break points and step through code as you debugged gtk.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline112" class="outline-4">
<h4 id="orgheadline112">Debugging swt custom</h4>
<div class="outline-text-4" id="text-orgheadline112">
<ul class="org-ul">
<li>Now in swtCustomDebug, in <code>os_custom.c</code>, set a breakpoint somewhere, e.g <code>swt_fixed_forall(..)</code>.</li>
<li>Open some snippet, e.g DNDExample.java found in org.eclipse.swt.examples.dnd.</li>
<li>set the library path of that snippet to the newly compiled gtk (in section above) &amp; SWT<sub>GTK3</sub>=1.</li>
<li>Now start a C debug session by attaching to the JVM (as done above). Once you stopped
at the <code>join_thread</code> section press F8 to continue.</li>
<li>Now perform some DnD operation in the SWT snippet. Eclipse should stop the snippet in the 
<code>swt_fixed_forall(..)</code> code. E.g screen shot:</li>
</ul>

<div class="figure">
<p><img src="./img/img_2015_05_27__16_14_47.png" alt="img_2015_05_27__16_14_47.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline115" class="outline-3">
<h3 id="orgheadline115">Troubleshooting</h3>
<div class="outline-text-3" id="text-orgheadline115">
<p>
If something doesn't work in Eclipse:
</p>
<ul class="org-ul">
<li>Try native gdb from the command line, you can attach to a proccess via <code>gdb --pid=1234</code>. 
Often if that doesn't work, Eclipse doesn't work either and vice versa.</li>
<li>Try with a simple C snippet first, then attach yourself to a running C snippet, 
then the same with a Gtk Application, then eventually work your way to SWT.</li>
<li>try refresh UI fix. See <a href="#orgheadline114">Clear ui layout</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline116" class="outline-3">
<h3 id="orgheadline116">Gtk Debugging appendix/notes</h3>
<div class="outline-text-3" id="text-orgheadline116">
<dl class="org-dl">
<dt>Don't use Gtk debug info</dt><dd><p>
  In fedora, for almost every package you can install debug-info with which you 
can debug an appliaction.
You can install the debug info for Gtk as well, e.g:
</p>
<pre class="example">
dnf install debug info gtk3 
</pre>
<p>
However,  because Gtk is optimized,  debugging the optimized  code is not very
effective as your code will be jumping around a lot.
Thus I found it better to manually compile Gtk and turn off optimizations.
</p></dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-orgheadline122" class="outline-2">
<h2 id="orgheadline122">Tips for Gtk/swtFixed debugging</h2>
<div class="outline-text-2" id="text-orgheadline122">
</div><div id="outline-container-orgheadline118" class="outline-3">
<h3 id="orgheadline118">Gtk handles to SWT Handles</h3>
<div class="outline-text-3" id="text-orgheadline118">
<p>
Now when you debug Gtk part of SWT, there is a bit of a bridge between SWT and Gtk that
you have to cross. Variable content/identifying widgets etc..
</p>

<p>
Sometimes you want to identify an SWT widget on the Gtk side.
This is sometimes not a trivial task because in Gtk you have GdkWindows with 
many GtkWidgets drawn on top that don't always map onto SWT widgets in the same way.
</p>

<p>
One way to do so, is to look at the GtkHandle on the SWT side and then find
it on the Gtk side.
Gtk handles are displayed as hex. SWT in java shows them as are long ints.
When debugging SWT app, you can print out handles into console. 
When stepping through Gtk, to identify handles, convert it to decimal.
e.g
To convert, e.g gtk hangle: 0x7f60c0623270, paste into website:
<a href="http://www.binaryhexconverter.com/hex-to-decimal-converter">http://www.binaryhexconverter.com/hex-to-decimal-converter</a>
To get: 140053521248880. which should match what is printed via:
System.out.println ("Top Drop handle: " + dropLabel.handle);
</p>

<p>
As note, decimal to hex:
<a href="http://www.rapidtables.com/convert/number/decimal-to-hex.htm">http://www.rapidtables.com/convert/number/decimal-to-hex.htm</a>
</p>

<p>
Programmatically, instead of using the website, in SWT you can convert a long int to hex via:
</p>
<pre class="example">
Long.toHexString (OS.gtk_widget_get_window(control.topHandle ()));
</pre>
</div>
</div>

<div id="outline-container-orgheadline119" class="outline-3">
<h3 id="orgheadline119">Identify widget by gtkInspector address column &amp; <b>window</b> property.</h3>
<div class="outline-text-3" id="text-orgheadline119">
<p>
Another method to identify GdkWindows and GtkWidgets is to see them in GtkInspector.
</p>


<div class="figure">
<p><img src="./img/img_2015_05_27__16_27_53.png" alt="img_2015_05_27__16_27_53.png" />
</p>
</div>

<p>
Notes: 
</p>
<ul class="org-ul">
<li>If the 'Address' column is not visible at first, 
you might have to expand the right expander scrollbar.</li>
<li>the GdkWindow is a property of a GtkWidget.</li>
<li>Note multiple GtkWidgets in a hierarchy e.g (SwtFixed -&gt; GtkFrame -&gt; GtkLabel) 
may be drawn onto a single GdkWindow.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline120" class="outline-3">
<h3 id="orgheadline120">Cast to see variable content</h3>
<div class="outline-text-3" id="text-orgheadline120">
<p>
Sometimes you get a functiont that accepts any widget:
</p>
<pre class="example">
GtkWidget *button 
</pre>
<p>
But you need to access some field specific to a particular widget.
</p>

<p>
In this case, you can cast:
</p>
<pre class="example">
((GtkButton*)button)-&gt;x
</pre>
</div>
</div>
<div id="outline-container-orgheadline121" class="outline-3">
<h3 id="orgheadline121">GDB console accepts usual gdb syntax</h3>
<div class="outline-text-3" id="text-orgheadline121">
<p>
If you are used to using GDB form the command line, during debug you can type commands into 
the console to control GDB.
</p>


<div class="figure">
<p><img src="./img/img_2015_05_27__13_37_36.png" alt="img_2015_05_27__13_37_36.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline129" class="outline-2">
<h2 id="orgheadline129">Troubleshooting Eclipse</h2>
<div class="outline-text-2" id="text-orgheadline129">
</div><div id="outline-container-orgheadline126" class="outline-3">
<h3 id="orgheadline126">Start up isssues</h3>
<div class="outline-text-3" id="text-orgheadline126">
</div><div id="outline-container-orgheadline123" class="outline-4">
<h4 id="orgheadline123">Workspace in use</h4>
<div class="outline-text-4" id="text-orgheadline123">
<p>
to fix:
</p>
<pre class="example">
rm ~/workspace/.metadata/.lock
</pre>
</div>
</div>
<div id="outline-container-orgheadline124" class="outline-4">
<h4 id="orgheadline124">General things to try</h4>
<div class="outline-text-4" id="text-orgheadline124">
<p>
Force Eclipse to rebuild all caches:
</p>
<pre class="example">
eclipse -clean
</pre>
</div>
</div>
<div id="outline-container-orgheadline125" class="outline-4">
<h4 id="orgheadline125">Gtk2/Gtk3 flag</h4>
<div class="outline-text-4" id="text-orgheadline125">
<p>
Try running Eclipse under other gtk version:
</p>
<pre class="example">
export SWT_GtK3=1  #or 0
eclipse
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline128" class="outline-3">
<h3 id="orgheadline128">UI issues</h3>
<div class="outline-text-3" id="text-orgheadline128">
</div><div id="outline-container-orgheadline114" class="outline-4">
<h4 id="orgheadline114"><a id="ID-90f0fec1-947e-486e-8774-547b7da5a02d"></a>Clear ui layout</h4>
<div class="outline-text-4" id="text-orgheadline114">
<p>
Sometimes certain configuration of the UI workspace causes glitches. 
E.g 
</p>
<ul class="org-ul">
<li>my UI once caused GDB debugger not to highlight the currently executed line</li>
<li>doubleclicking variables didn't highlight all instances of that variable.</li>
</ul>

<p>
You can flush your UI settings by starting eclipse with flag:
</p>
<pre class="example">
eclipse -clearPersistedState 
</pre>
</div>
</div>

<div id="outline-container-orgheadline127" class="outline-4">
<h4 id="orgheadline127">turn off eclipse CSS</h4>
<div class="outline-text-4" id="text-orgheadline127">
<p>
start eclipse with flag:
</p>
<pre class="example">
-cssTheme none
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline138" class="outline-2">
<h2 id="orgheadline138">Appendix / Random things</h2>
<div class="outline-text-2" id="text-orgheadline138">
</div><div id="outline-container-orgheadline130" class="outline-3">
<h3 id="orgheadline130">Source code of this document</h3>
<div class="outline-text-3" id="text-orgheadline130">
<p>
I wrote the document in emacs org-mode and exported to html.
</p>

<p>
This is the source repository for the document:
 <a href="https://github.com/LeoUfimtsev/LeoUfimtsev.github.io">https://github.com/LeoUfimtsev/LeoUfimtsev.github.io</a>
(See org &gt; swt-dev.org)
To compile this document, open Emacs, open swt-dev.org, then run: 
</p>
<pre class="example">
org-html-export-to-html
</pre>

<p>
You will also need to get org-html-themes for the dynamic table of content:
</p>
<pre class="example">
cd ~/
mkdir git
cd git
git clone https://github.com/fniessen/org-html-themes
</pre>
</div>
</div>
<div id="outline-container-orgheadline131" class="outline-3">
<h3 id="orgheadline131">Eclipse Release milestones and release canidates</h3>
<div class="outline-text-3" id="text-orgheadline131">
<p>
Eclipse is released in several milestones, then in release canidates.
See: <a href="https://wiki.eclipse.org/Simultaneous_Release">https://wiki.eclipse.org/Simultaneous_Release</a> 
</p>

<p>
Release Canidates should not contain big changes.
</p>
</div>
</div>
<div id="outline-container-orgheadline132" class="outline-3">
<h3 id="orgheadline132">Mystical ~/.swt folder</h3>
<div class="outline-text-3" id="text-orgheadline132">
<p>
Sometimes you may observe a ~/.swt folder in your system.
This folder is generated if you launch an swt application that uses the swt .jar file 
instead of the swt sources. Sometimes this can be instances of Eclipse.
</p>

<p>
On fedora 22, I once had to soft link the content of that folder to where I keep 
the regular compiled os.c files. (See  <a href="#orgheadline33">OS.java </a> ) to make eclipse use the newly compiled swt
instead of the jar version.
</p>
</div>
</div>

<div id="outline-container-orgheadline133" class="outline-3">
<h3 id="orgheadline133">Eclipse CSS</h3>
<div class="outline-text-3" id="text-orgheadline133">
<p>
Gtk CSS differs from Eclipse CSS.
</p>

<p>
Eclipse dark-theme keeps it's css in:
<a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/tree/bundles/org.eclipse.ui.themes/css">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/tree/bundles/org.eclipse.ui.themes/css</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline134" class="outline-3">
<h3 id="orgheadline134">jhbuild Compiling/Building really new gtk versions on your own system</h3>
<div class="outline-text-3" id="text-orgheadline134">
<p>
If you can't build some Gtk version due to missing dependencies, then there is a tool called
<b>jhbuild</b>.
<a href="https://wiki.gnome.org/Projects/Jhbuild">https://wiki.gnome.org/Projects/Jhbuild</a>
</p>

<p>
It automatically downloads and builds dendencies. (e.g Glib &amp; it's dependencies).
</p>

<p>
I never really got it to work properly, I just kept getting circular dependency issues.
I got something along the lines of:
</p>
<pre class="example">
Requested 'glib-2.0 &gt;= 2.43.4' but version of GLib is 2.42.2
Requested 'atk &gt;= 2.15.1' but version of Atk is 2.14.0
</pre>

<p>
Instead I use the VM's with pre-build Gtk's.
</p>

<p>
However, some useful links may be:
</p>

<p>
Getting started:
<a href="https://developer.gnome.org/jhbuild/stable/getting-started.html">https://developer.gnome.org/jhbuild/stable/getting-started.html</a>
</p>

<p>
Example gtk jhbuildrc:
<a href="https://people.gnome.org/~aruiz/gtk+/standard.jhbuildrc">https://people.gnome.org/~aruiz/gtk+/standard.jhbuildrc</a>
</p>

<p>
Maybe useful: (mac config)
<a href="https://github.com/rhult/gtk-osx-build/blob/master/jhbuildrc-gtk-osx-cfw-10.4">https://github.com/rhult/gtk-osx-build/blob/master/jhbuildrc-gtk-osx-cfw-10.4</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline135" class="outline-3">
<h3 id="orgheadline135">About Author</h3>
<div class="outline-text-3" id="text-orgheadline135">
<p>
I'm Leo Ufimtsev. I'm currently (2015.05.27) an Intern at Red Hat doing full time work on SWT.
</p>

<p>
Feel free to follow me on twitter: <a href="https://twitter.com/LeoUfimtsev">https://twitter.com/LeoUfimtsev</a> or check out my blog:
<a href="https://coffeeorientedprogramming.wordpress.com/">https://coffeeorientedprogramming.wordpress.com/</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline136" class="outline-3">
<h3 id="orgheadline136">Hex to decimal and decimal to hex conversion</h3>
<div class="outline-text-3" id="text-orgheadline136">
<p>
These are useful to go between Gtk &amp; SWT handles.
</p>

<p>
Decimal to hex:
<a href="http://www.rapidtables.com/convert/number/decimal-to-hex.htm">http://www.rapidtables.com/convert/number/decimal-to-hex.htm</a>
</p>

<p>
Hex to decimal: (DO NOT USE decimal to hex conversion on that site, it's not accurate):
<a href="http://www.binaryhexconverter.com/hex-to-decimal-converter">http://www.binaryhexconverter.com/hex-to-decimal-converter</a>
</p>
</div>
</div>
<div id="outline-container-orgheadline137" class="outline-3">
<h3 id="orgheadline137">SWT commiter access</h3>
<div class="outline-text-3" id="text-orgheadline137">
<p>
If you becmoe committer, you need to access git via ssh:
</p>
<pre class="example">
Git: git+ssh://lufimtsev@git.eclipse.org/gitroot/repo
Gerrit(if available): ssh://lufimtsev@git.eclipse.org:29418/gitroot/repo
</pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
I never got around figuring out why the build fails. 
My former mentor showed me how to work around this issue and I've been doing so ever since.
If you find a better aproach to doing this, please let me know.
</p></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p class="footpara">
As taken from  <a href="http://www.gtkbook.com/">http://www.gtkbook.com/</a>
</p></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Leo Ufimtsev</p>
<p class="date">Created: 2015-06-02 Tue 11:28</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
